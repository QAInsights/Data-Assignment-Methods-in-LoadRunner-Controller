{
  "log": {
    "version": "1.2",
    "creator": {
      "name": "LoadRunner",
      "version": "12.50.0.0"
    },
    "pages": [
      {
        "startedDateTime": "2017-03-02T23:46:49.830-06:00",
        "id": "page_1",
        "title": "http://localhost:8080/login?from=%2F",
        "pageTimings": {}
      }
    ],
    "entries": [
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.830-06:00",
        "time": 20,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/login?from=%2F",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            }
          ],
          "queryString": [
            {
              "name": "from",
              "value": "%2F"
            }
          ],
          "headersSize": 201,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Expires",
              "value": "Thu, 01 Jan 1970 00:00:00 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "no-cache,no-store,must-revalidate"
            },
            {
              "name": "X-Hudson-Theme",
              "value": "default"
            },
            {
              "name": "Content-Type",
              "value": "text/html;charset=UTF-8"
            },
            {
              "name": "Set-Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg;Path=/;HttpOnly"
            },
            {
              "name": "X-Hudson",
              "value": "1.395"
            },
            {
              "name": "X-Jenkins",
              "value": "2.48"
            },
            {
              "name": "X-Jenkins-Session",
              "value": "e0747a62"
            },
            {
              "name": "X-Frame-Options",
              "value": "sameorigin"
            },
            {
              "name": "X-Instance-Identity",
              "value": "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoIGYwsPLhyTBOxODX1QKxW00xBbqWS5OexGn3sgJfY4JKyQuNZ0wRbrs1toJRzzm+34Y83DCXtRjfgJSxwaEDpx2v8xLr/WSlOZI1ALALa86ShD2okkGYbfcCpXyrvQL+XfED3X/OW4OSJ6f+7xP7siZ61w5gqsOT2lqD8+y+Lez7QCI/mynN6Psnr3dMTsEXfKA+oSSHEIwNw+wMjZ+uT/aHv+EICmeUNNwqoAW815cBd+2g22MmLy6AbqRLQhEQx5ILlWQtr2swfL9oBquHLY2pSyfUsmBwcZufWYZpeV9NvLmc08vzX1RxGDxlIQ1x+KjFXEKaGy4ishHef7L9QIDAQAB"
            },
            {
              "name": "X-SSH-Endpoint",
              "value": "localhost:1058"
            },
            {
              "name": "Content-Length",
              "value": "1828"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 5994,
            "compression": 0,
            "mimeType": "text/html;charset=UTF-8",
            "text": "\n\n\n\n  \n  <!DOCTYPE html><html><head resURL=\"/static/e0747a62\" data-rooturl=\"\" data-resurl=\"/static/e0747a62\">\n    \n\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge\" /><title>Jenkins</title><link rel=\"stylesheet\" href=\"/static/e0747a62/css/layout-common.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/static/e0747a62/css/style.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/static/e0747a62/css/color.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/static/e0747a62/css/responsive-grid.css\" type=\"text/css\" /><link rel=\"shortcut icon\" href=\"/static/e0747a62/favicon.ico\" type=\"image/vnd.microsoft.icon\" /><link color=\"black\" rel=\"mask-icon\" href=\"/images/mask-icon.svg\" /><script>var isRunAsTest=false; var rootURL=\"\"; var resURL=\"/static/e0747a62\";</script><script src=\"/static/e0747a62/scripts/prototype.js\" type=\"text/javascript\"></script><script src=\"/static/e0747a62/scripts/behavior.js\" type=\"text/javascript\"></script><script src='/adjuncts/e0747a62/org/kohsuke/stapler/bind.js' type='text/javascript'></script><script src=\"/static/e0747a62/scripts/yui/yahoo/yahoo-min.js\"></script><script src=\"/static/e0747a62/scripts/yui/dom/dom-min.js\"></script><script src=\"/static/e0747a62/scripts/yui/event/event-min.js\"></script><script src=\"/static/e0747a62/scripts/yui/animation/animation-min.js\"></script><script src=\"/static/e0747a62/scripts/yui/dragdrop/dragdrop-min.js\"></script><script src=\"/static/e0747a62/scripts/yui/container/container-min.js\"></script><script src=\"/static/e0747a62/scripts/yui/connection/connection-min.js\"></script><script src=\"/static/e0747a62/scripts/yui/datasource/datasource-min.js\"></script><script src=\"/static/e0747a62/scripts/yui/autocomplete/autocomplete-min.js\"></script><script src=\"/static/e0747a62/scripts/yui/menu/menu-min.js\"></script><script src=\"/static/e0747a62/scripts/yui/element/element-min.js\"></script><script src=\"/static/e0747a62/scripts/yui/button/button-min.js\"></script><script src=\"/static/e0747a62/scripts/yui/storage/storage-min.js\"></script><script src=\"/static/e0747a62/scripts/hudson-behavior.js\" type=\"text/javascript\"></script><script src=\"/static/e0747a62/scripts/sortable.js\" type=\"text/javascript\"></script><script>crumb.init(\"Jenkins-Crumb\", \"da5d1ec803b80d7327ded0d44a0af36d\");</script><link rel=\"stylesheet\" href=\"/static/e0747a62/scripts/yui/container/assets/container.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/static/e0747a62/scripts/yui/assets/skins/sam/skin.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/static/e0747a62/scripts/yui/container/assets/skins/sam/container.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/static/e0747a62/scripts/yui/button/assets/skins/sam/button.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/static/e0747a62/scripts/yui/menu/assets/skins/sam/menu.css\" type=\"text/css\" /><meta name=\"ROBOTS\" content=\"INDEX,NOFOLLOW\" /><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" /><script src=\"/static/e0747a62/scripts/msie.js\" type=\"text/javascript\"></script><script src=\"/static/e0747a62/jsbundles/page-init.js\" type=\"text/javascript\"></script></head><body data-model-type=\"hudson.model.Hudson\" id=\"jenkins\" class=\"yui-skin-sam jenkins-2.48 two-column\" data-version=\"2.48\"><a href=\"#skip2content\" class=\"skiplink\">Skip to content</a><div id=\"page-head\"><div id=\"header\"><div class=\"logo\"><a id=\"jenkins-home-link\" href=\"/\"><img src=\"/static/e0747a62/images/headshot.png\" alt=\"title\" id=\"jenkins-head-icon\" /><img src=\"/static/e0747a62/images/title.png\" alt=\"title\" width=\"139\" id=\"jenkins-name-icon\" height=\"34\" /></a></div><div class=\"login\">Â <a href=\"/login?from=%2F\"><b>log in</b></a></div><div class=\"searchbox hidden-xs\"><form method=\"get\" name=\"search\" action=\"/search/\" style=\"position:relative;\" class=\"no-json\"><div id=\"search-box-minWidth\"></div><div id=\"search-box-sizer\"></div><div id=\"searchform\"><input name=\"q\" placeholder=\"search\" id=\"search-box\" class=\"has-default-text\" />Â <a href=\"https://jenkins.io/redirect/search-box\"><img src=\"/static/e0747a62/images/16x16/help.png\" style=\"width: 16px; height: 16px; \" class=\"icon-help icon-sm\" /></a><div id=\"search-box-completion\"></div><script>createSearchBox(\"/search/\");</script></div></form></div></div><div id=\"breadcrumbBar\"><tr id=\"top-nav\"><td id=\"left-top-nav\" colspan=\"2\"><link rel='stylesheet' href='/adjuncts/e0747a62/lib/layout/breadcrumbs.css' type='text/css' /><script src='/adjuncts/e0747a62/lib/layout/breadcrumbs.js' type='text/javascript'></script><div class=\"top-sticker noedge\"><div class=\"top-sticker-inner\"><div id=\"right-top-nav\"></div><ul id=\"breadcrumbs\"><li class=\"item\"><a href=\"/\" class=\"model-link inside\">Jenkins</a></li><li href=\"/\" class=\"children\"></li></ul><div id=\"breadcrumb-menu-target\"></div></div></div></td></tr></div></div><div id=\"page-body\" class=\"clear\"><div id=\"side-panel\"></div><div id=\"main-panel\"><a name=\"skip2content\"></a><div style=\"margin: 2em;\"><form method=\"post\" name=\"login\" action=\"j_acegi_security_check\" style=\"text-size:smaller\"><table><tr><td>User:</td><td><input type=\"text\" name=\"j_username\" id=\"j_username\" autocorrect=\"off\" autocapitalize=\"off\" /></td></tr><tr><td>Password:</td><td><input type=\"password\" name=\"j_password\" /></td></tr><tr><td align=\"right\"><input id=\"remember_me\" type=\"checkbox\" name=\"remember_me\" /></td><td><label for=\"remember_me\">Remember me on this computer</label></td></tr></table><input name=\"from\" type=\"hidden\" value=\"/\" /><input name=\"Submit\" type=\"submit\" value=\"log in\" class=\"submit-button primary\" /><script>\n            $('j_username').focus();\n          </script></form></div></div></div><footer><div class=\"container-fluid\"><div class=\"row\"><div class=\"col-md-6\" id=\"footer\"></div><div class=\"col-md-18\"><span class=\"page_generated\">Page generated: Mar 2, 2017 11:46:49 PM CST</span><span class=\"rest_api\"><a href=\"api/\">REST API</a></span><span class=\"jenkins_ver\"><a href=\"https://jenkins.io/\">Jenkins ver. 2.48</a></span></div></div></div></footer></body></html>",
            "encoding": "Raw"
          },
          "redirectURL": "",
          "headersSize": 933,
          "bodySize": 5994
        },
        "cache": {},
        "timings": {
          "send": 1,
          "wait": 4,
          "receive": 17
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27305"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.870-06:00",
        "time": 45,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/css/layout-common.css",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 325,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:34 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "1245"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 2842,
            "compression": 0,
            "mimeType": "text/css",
            "text": "/*\n * The MIT License\n *\n * Copyright (c) 2016, CloudBees, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nhtml {\n  position: relative;\n  min-height: 100%;\n}\n\nbody {\n  margin: 0;\n  padding: 0 0 40px 0;\n}\n\n/* --------------- header --------------- */\n\n#header {\n  background-color: #000000;\n  height: 40px;\n}\n\n#header div {\n  display: inline-block;\n  height: inherit;\n}\n\n#header .logo {\n  margin-left: 16px;\n}\n\n#jenkins-home-link {\n  position: absolute;\n  height: 40px;\n}\n\n#jenkins-head-icon {\n  position: absolute;\n  bottom: 0px;\n}\n\n#jenkins-name-icon {\n  position: absolute;\n  bottom: 3px;\n  left: 32px;\n}\n\n#header .searchbox, #header .login {\n  float: right;\n  padding: 6px 11px;\n}\n\n#breadcrumbBar, #footer-container, .top-sticker-inner {\n  background-color: #f6faf2;\n}\n\n/* -------------------------------------- */\n\n#page-body.clear:after {\n  clear: both;\n  content: \"\";\n  display: table;\n}\n\n#side-panel {\n  padding: 15px 15px 40px 15px;\n  float: left;\n  width: 320px;\n}\n\n#main-panel {\n  padding: 15px 15px 40px 15px;\n}\n\nbody.two-column #main-panel {\n  margin-left: 320px;\n}\n\n@media (max-width: 970px) {\n  body.two-column #side-panel {\n    width: 100%;\n    float: none;\n    padding-bottom: 20px;\n  }\n\n  body.two-column #main-panel {\n    margin-left: 0;\n  }\n}\n\n@media (min-width: 1170px) {\n  body.two-column #side-panel {\n    width: 360px;\n  }\n\n  body.two-column #main-panel {\n    margin-left: 360px;\n  }\n}\n\n/* --------------- footer --------------- */\n\nfooter {\n  padding: 11px 0;\n  background-color: #f6faf2;\n  border-top: 1px solid #d3d7cf;\n  border-bottom: 1px solid #f6faf2;\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  clear: both;\n  font-size: 12px;\n  text-align: right;\n}\n\nfooter span {\n  margin-left: 15px;\n  line-height: 14px;\n}\n\n/* -------------------------------------- */\n",
            "encoding": "Raw"
          },
          "redirectURL": "",
          "headersSize": 298,
          "bodySize": 2842
        },
        "cache": {},
        "timings": {
          "send": 5,
          "wait": 0,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27307"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.870-06:00",
        "time": 130,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/css/style.css",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 317,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:34 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "9010"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 37616,
            "compression": 0,
            "mimeType": "text/css",
            "text": "/*\n * The MIT License\n * \n * Copyright (c) 2004-2010, Sun Microsystems, Inc., Kohsuke Kawaguchi, Daniel Dyer, Stephen Connolly\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/* task */\n\n#tasks {\n  margin-bottom: 20px;\n}\n\n#tasks .task {\n  margin-bottom: 4px;\n  font-size: 14px;\n  white-space: nowrap;\n}\n\n/* buildQueue */\n\n#buildQueue {\n  margin-bottom: 20px;\n}\n\n/* Fonts etc */\n\nbody, table, form, input, td, th, p, textarea, select\n{\n  font-family: Helvetica, Arial, sans-serif;\n  font-size: 13px;\n  line-height:1.4em;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n@media (min-width:1600px){\n  body#jenkins.j-hide-left #main-panel{max-width:75%}\n  body, table, form, input, td, th, p, textarea, select, #tasks .task\n    {font-size:14px;}  \n}\n@media (min-width:2000px){\n  body#jenkins.j-hide-left #main-panel{max-width:85%}\n  body, table, form, input, td, th, p, textarea, select, #tasks .task\n    {font-size:15px;}  \n}\nbody, table, form, td, th, p\n{\n  color: #333;\n}\n\nform {\n  margin: 0;\n}\n\ntd {\n  vertical-align: top;\n}\n\ndt {\n  font-weight: bold;\n}\n\n.fixed-width {\n  font-family: monospace;\n}\n\n.center {\n  text-align: center;\n}\n\n.middle-align td, td.middle-align {\n  vertical-align: middle;\n}\n\n.center-align td, td.center-align {\n  text-align: center;\n}\n\n.no-wrap td, td.no-wrap {\n  white-space: nowrap;\n}\n\n#main-table {\n  padding: 0;\n  border-collapse: collapse;\n}\n\n#top-panel {\n  margin-bottom: 3pt;\n  height: 34px;\n  background: url(../images/topbar.png) repeat-x;\n}\n#top-panel a {\n  text-decoration: none;\n}\n\n.skiplink {\n    position: absolute;\n    left: -20000px;\n}\n\n#shutdown-msg {\n    font-weight: bold;\n    color: white;\n    background-color: #ef2929;\n    text-align: center;\n    margin-left: 2em;\n    margin-right: 2em;\n    margin-bottom: 0.5em;\n    padding: 0.5em;\n    -moz-border-radius: 0.5em;\n}\n\n#header .login {\n  position: relative;\n  top: 6px;\n  color: white;\n  margin-right: 10px;\n}\n\n#header .login a, #header .login a:visited {\n  color: white;\n  text-decoration: none;\n}\n\n#header .login a:hover {\n    text-decoration: underline;\n    color: #ccc;\n}\n\na:link {\n  text-decoration: underline;\n  color: #204A87;\n}\n\na:visited {\n  text-decoration: underline;\n  color: #5c3566;\n}\n\na.lowkey:link {\n  text-decoration: none;\n  color: inherit;\n}\n\na.lowkey:hover {\n  text-decoration: underline;\n  color: inherit;\n}\n\na.lowkey:visited {\n  text-decoration: none;\n  color: inherit;\n}\n\n/* tip - anchors of class info */\na.tip {\n  position:relative;\n  z-index:24;\n  text-decoration: underline;\n}\n\na.tip:hover {\n  z-index:25;\n}\n\na.tip span {\n  display: none\n}\n\na.tip:hover span {\n  display:block;\n  position:absolute;\n  top:2em;\n  left:2em;\n  width:400px;\n  border:1px solid #bbbbbb;\n  background-color:#fffff0;\n  color:#000;\n  text-align: left\n}\n\n.call-to-action {\n  display: inline-block;\n  padding: 10px;\n  background-color: #cdf0f2;\n  border-left: 4px solid #577baa;\n}\n\n.call-to-action a, .call-to-action a:visited {\n  color: #000000;\n  font-weight: bold;\n  font-size: larger;\n}\n\nimg {\n  vertical-align: middle;\n  border: 0;\n}\n\ndiv.disabled {\n    opacity : 0.4;\n    filter: alpha(opacity=40); /* msie */\n    background-color: #000;\n}\n\ntable.tab {\n  border-collapse: collapse;\n}\n\ntd.selected_tab {\n  vertical-align: middle;\n  border: 1px #090 solid;\n  background: #ffffff;\n}\n\ntd.tab_filler {\n  background: #ffffff;\n  border-bottom: 1px #090 solid;\n}\n\ntd.tab {\n  vertical-align: middle;\n  border: 1px #090 solid;\n  background: #f0f0f0;\n}\n\n.dashboard td {\n  padding: 4px 4px 4px 4px;\n}\n\npre {/* see http://users.tkk.fi/tkarvine/pre-wrap-css3-mozilla-opera-ie.html */\n    white-space: pre-wrap;       /* css-3 */\n    white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */\n    white-space: -pre-wrap;      /* Opera 4-6 */\n    white-space: -o-pre-wrap;    /* Opera 7 */\n    word-wrap: break-word;       /* Internet Explorer 5.5+ */\n    margin: 0;\n}\n\npre a {\n    word-wrap: break-word;  \n}\n\npre.console {\n  overflow: auto;\n}\n\n.setting-leftspace {\n  width: 2em;\n}\n\n.setting-name {\n  white-space: nowrap;\n}\n\n.setting-main {\n  width: 100%; /* try to make this column as big as possible. */\n}\n.setting-help {\n  width: 16px;\n  vertical-align: middle;\n}\n.setting-no-help {\n  width: 16px;\n}\n\n.setting-input {\n  width: 100%;\n  border-radius: 3px;\n  border: 1px solid #ccc;\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\n  padding: 6px;\n  box-sizing: border-box;\n  -webkit-box-sizing:border-box;\n  -moz-box-sizing: border-box;\n}\n\n.setting-description {\n  font-size: 0.8em;\n  margin-top: 0;\n  padding-top: 0;\n}\n\n/* tabBar */\n\n.tabBar {\n  overflow: auto;\n  position: relative;\n  top: 1px;\n}\n.tabBar .tab {\n  float: left;\n  margin-left: 3px;\n}\n.tabBar .tab:first-child {\n  margin-left: 15px;\n}\n.tabBar .tab a {\n  position: relative;\n  display: block;\n  border: solid 1px #f0f0f0;\n  border-bottom: none;\n  text-decoration: none;\n  color: #999;\n  padding: 7px 10px;\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n}\n.tabBar .tab a:hover {\n  background: #eee;\n}\n.tabBar .tab a.addTab {\n  font-weight: bold;\n  color: #0460d1;\n  border: 1px solid #d8efff;\n  border-bottom: none;\n}\n.tabBar .tab a.addTab:hover {\n  background: #d8efff;\n}\n.tabBar .tab [type=radio] {\n  display: none;\n}\n.tabBar [type=radio]:checked ~ a {\n  border: solid 1px #f0f0f0;\n  border-bottom: none;\n  background: #eee;\n  color: #000;\n  font-weight: bold;\n  z-index: 2;\n}\n.tabBarBaseline {\n  border-top: 1px solid #f0f0f0;\n  z-index: 1;\n}\n\n.tabBarBaseline {\n  display: none; /* Baseline is hidden by default.  See next rule fo adding visibility. */\n}\n.tabBarFrame.showBaseline .tabBarBaseline {\n  display: block;\n}\n\n/* div that looks like a hyperlink */\n.pseudoLink {\n  cursor: pointer;\n}\n\n.advancedLink {\n  text-align: right;\n}\n\n.advancedBody {\n  display: none;\n}\n\n.scm_info {\n  width: 480px;\n}\n\n.build-keep {\n  font-weight: bold;\n}\n\n.task-header {\n  display: block;\n  border-bottom: 1px #090 solid;\n  font-weight: bold;\n  font-size: 12pt;\n}\n\n#jenkins .task-link {\n    text-decoration: none;\n}\n\n#jenkins .task-link:hover {\n    text-decoration: underline;\n}\n\n.task {\n  white-space: nowrap;\n}\n\n.subtasks {\n  padding-left: 1em;\n}\n\n.main-table {\n}\n\n/* pane */\n\n.pane-frame {\n  border: solid 1px #f0f0f0;\n  border-radius: 4px;\n}\n\n#side-panel .pane-frame:hover, #side-panel .pane-frame.mouseover {\n  border: solid 1px #cecece;\n}\n\n.pane-header, .pane-footer {\n  padding: 8px 0px;\n  background-color: #eee;\n  border: solid 1px #f3f3f3;\n  border-left: none;\n  border-right: none;\n  color: #3b3b3b;\n}\n.pane-header {\n  border-top: none;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n}\n.pane-footer {\n  border-bottom: none;\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n\n.pane td {\n  padding: 4px 4px 3px 4px;\n  vertical-align: middle;\n}\n\ntable.pane {\n  width: 100%;\n  border-collapse: collapse;\n  border: 1px #bbb solid;\n}\n\ntd.pane {\n  padding: 3px 4px 3px 4px;\n  vertical-align: middle;\n}\n\ntable.stripped tr:nth-child(even) {\n  background: #fbfbfb;\n}\ntable.stripped-even tr:nth-child(even) {\n  background: #fbfbfb;\n}\ntable.stripped-odd tr:nth-child(odd) {\n  background: #fbfbfb;\n}\ntable.stripped tr:hover, table.stripped-even tr:hover, table.stripped-odd tr:hover {\n  background: #e8e8e8 !important;\n}\n\ndiv.pane-header {\n  font-weight: bold;\n  padding-right: 24px;\n}\n\ndiv.pane-header .collapse {\n  float: right;\n  margin-left: 3px;\n}\n\nth.pane {\n  font-weight: bold;\n}\n\n/* executors */\n\n#executors th.pane {\n  text-align: left;\n  padding: 12px 5px 5px 5px;\n}\n\n#executors th.pane a {\n  text-decoration: none;\n}\n\n/* bigtable */\n\n.bigtable tr {\n  border: 1px solid #bbb;\n  padding: 3px 4px 3px 4px;\n}\ntable.bigtable.pane > tbody > tr > td:last-child {\n  border-right: none;\n}\n\n.pane-frame table, .pane-frame .bigtable tr {\n  border: none; /* Border will be provided by the pane-frame */\n}\n\n.bigtable th {\n  font-weight: bold;\n  border: none;\n  background-color: #f0f0f0;\n  padding: 6px 4px;\n  white-space: nowrap;\n}\n\n.bigtable td {\n  vertical-align: middle;\n  padding: 3px 4px 3px 4px;\n}\n\n.smallfont {\n  font-size: 9px;\n}\n\n#foldertab {\n  padding: 4px 0;\n  margin-left: 0;\n  border-bottom: 1px solid #090;\n  font: bold 12px Helvetica, Arial, sans-serif;\n}\n\n#foldertab li {\n  list-style: none;\n  margin: 0;\n  display: inline;\n}\n\n#foldertab li a {\n  padding: 4px 0.5em;\n  margin-left: 3px;\n  border: 1px solid #090;\n  border-bottom: none;\n  background: #090;\n  text-decoration: none;\n}\n\n#foldertab li a:link { color: white; }\n#foldertab li a:visited { color: white; }\n\n#foldertab li a:hover {\n  color: white;\n  background: #6c0;\n  border-color: #6c0;\n}\n\n#foldertab li a#current {\n  background: white;\n  border-bottom: 1px solid white;\n  color: black;\n}\n\n.changeset-message {\n  border: 1px solid #ccb;\n  background: #eed;\n  padding: 4px;\n  white-space: normal;\n}\n\n.disabledJob {\n  color: gray;\n}\n\n.spinner {\n  padding-left: 32px;\n  padding-top: 0.5em;\n  padding-bottom: 0.5em;\n  background-image: url(\"../images/spinner.gif\");\n  background-repeat: no-repeat;\n  background-position: left;\n}\n\n.spinner-right {\n  padding-right: 32px;\n  padding-top: 0.5em;\n  padding-bottom: 0.5em;\n  background-image: url(\"../images/spinner.gif\");\n  background-repeat: no-repeat;\n  background-position: right;\n}\n\n#login-field {\n    vertical-align: middle;\n    padding-right: 1em;\n    width:1px;\n}\n\n#login-field SPAN {\n  white-space:nowrap;\n  color: white;\n}\n\n#login-field A {\n    /*\n      link inside login field should be always white.\n      If I set this to inherit, it won't work in IE7\n     */\n    color: white;\n}\n\ndiv.behavior-loading {\n    position: absolute;\n    left:0; right:0;\n    width:100%;\n    height:100%;\n    background-color: #e4e4e4; text-align: center; font-size: 300%;\n    opacity: 0.5;\n    -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";\n    filter: alpha(opacity=50);\n}\n\n.config div.behavior-loading{\n    background: rgba(255,255,255,.85);\n    left: 0;\n    width:100%;\n    right: 0;\n    top: 15px;\n    bottom: 0px;\n    height: 100%;\n    width: auto;\n    min-height: 100%;\n    -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\";\n    filter: alpha(opacity=100);\n    font-size: 1.5em;\n    z-index: 99;\n    opacity: 1;\n    color: #999;\n    text-shadow:#fff 0 0 5px,#fff 0 0 5px,#fff 0 0 5px,#fff 0 0 5px,#fff 0 0 5px\n}\n\n.behavior-loading:before {\n  content:' ';\n  display:block;\n  width: 100px;\n  height: 100px;\n  margin: 200px auto 25px;\n  background-color: rgba(0,0,0,.15);\n  border:5px solid rgba(0,0,0,.33);\n  position:relative;\n  z-index:2;\n  border-radius: 100%;\n  -webkit-animation: sk-scaleout 1.0s infinite ease-in-out;\n  animation: sk-scaleout 1.0s infinite ease-in-out;\n  box-shadow:#fff 0 0 0 10px\n}\n\n@-webkit-keyframes sk-scaleout {\n  0% { -webkit-transform: scale(0) }\n  100% {\n    -webkit-transform: scale(1.0);\n    opacity: 0;\n  }\n}\n\n@keyframes sk-scaleout {\n  0% {\n    -webkit-transform: scale(0);\n    transform: scale(0);\n  } 100% {\n    -webkit-transform: scale(1.0);\n    transform: scale(1.0);\n    opacity: 0;\n  }\n}\n\nLABEL.attach-previous {\n    margin-left: 0.5em;\n}\n\n.bottom-sticker, #bottom-sticker {\n    width:  100%;   /* it needs to occupy the entire width or else the underlying content will see through */\n}\n.bottom-sticker-inner {\n    background: white;\n    padding: 1em 0;\n}\n.bottom-sticker-edge {\n    height:16px;\n    background-image: url(\"../images/bottom-sticker-top-edge.png\");\n    background-repeat: repeat-x;\n}\n\n.top-sticker, #top-sticker {\n    width:  100%;   /* it needs to occupy the entire width or else the underlying content will see through */\n    z-index: 999;\n}\n.top-sticker-inner {\n    padding:1em;\n}\n.top-sticker-edge {\n    height:16px;\n    background-image: url(\"../images/top-sticker-bottom-edge.png\");\n    background-repeat: repeat-x;\n}\n.top-sticker.noedge > .top-sticker-edge {\n    display: none;\n}\n\n.top-sticker.noedge > .top-sticker-inner {\n    padding:0;\n}\n\n\n/* ======================== error/warning message (mainly in the form.) Use them on block elements ======================== */\n.error {\n    color: #CC0000;\n    font-weight: bold;\n    padding-left: 20px;\n    min-height: 16px;\n    line-height: 16px;\n    background-image: url(\"../images/16x16/error.png\");\n    background-position: left center;\n    background-repeat: no-repeat;\n}\n\n.error-inline {\n    color: #CC0000;\n    font-weight: bold;\n}\n\n.warning {\n    color: #C4A000;\n    font-weight: bold;\n    padding-left: 20px;\n    min-height: 16px;\n    line-height: 16px;\n    background-image: url( \"../images/16x16/warning.png\" );\n    background-position: left center;\n    background-repeat: no-repeat;\n}\n\n.warning-inline {\n    color: #C4A000;\n    font-weight: bold;\n}\n\n.info {\n    color: black;\n    font-weight: bold;\n    padding-left: 20px;\n    min-height: 16px;\n    background-image: url( \"../images/16x16/go-next.png\" ); /* TODO: get a better icon */\n    background-position: left center;\n    background-repeat: no-repeat;\n}\n\n.icon16x16 {\n    width: 16px;\n    height: 16px;\n}\n\n.icon24x24 {\n    width: 24px;\n    height: 24px;\n}\n\n.icon32x32 {\n    width: 32px;\n    height: 32px;\n}\n\n/* ====================== help ===================================== */\n\n.help {\n  display: none;  /* hidden until loaded */\n  border: solid #bbb 1px;\n  background-color: #f0f0f0;\n  padding: 1em;\n  margin-bottom: 1em;\n}\n\n.help .from-plugin {\n    text-align: right;\n    color: #666;\n}\n\n.help-area {\n  /* this marker class is used by JavaScript to locate the area to display help text. */\n}\n\n\n/* ====================== project view tab bar ===================================== */\n#viewList {\n  border: none;\n  margin-bottom: 0px;\n  width: 100%;\n  white-space: nowrap;\n}\n#viewList td {\n  padding: 0px;\n}\n#viewList td.inactive {\n  border: solid 1px #ccc;\n  border-bottom-color: #bbb;\n}\n#viewList td.inactive:hover {\n  background-color: #777;\n}\n#viewList td.inactive a {\n  text-decoration: none;\n  color: #444;\n}\n#viewList td.inactive a:hover {\n  color: #f1f1f1;\n}\n#viewList td.noleft {\n  border-left: none;\n}\n#viewList td.noright {\n  border-right: none;\n}\n#viewList td.active {\n  border: solid 1px #bbb;\n  padding: 0.5em;\n  border-bottom: none;\n  vertical-align:middle;\n  background-color: rgb(240,240,240);\n  font-weight: bold;\n  white-space: nowrap;\n}\n#viewList td.filler {\n  border: none;\n  border-bottom: solid 1px #bbb;\n  width: 100%;\n  text-align: right;\n}\n#viewList a {\n  display: block;\n  padding: 0.5em;\n  white-space: nowrap;\n}\n\n#projectstatus .header {\n  border-bottom: 1px solid #ddd;\n}\n#projectstatus th {\n  text-align: left;\n  padding: 7px 0px;\n}\n#projectstatus tbody tr:first-child th:first-child {\n  border-top-left-radius: 4px;\n}\n#projectstatus tbody tr:first-child th:last-child {\n  border-top-right-radius: 4px;\n}\n#projectstatus tbody tr:last-child td:first-child {\n  border-bottom-left-radius: 4px;\n}\n#projectstatus tr:last-child td:last-child {\n  border-bottom-right-radius: 4px;\n}\n\n/* ============================ list view entries ======================== */\ndiv.listview-jobs {\n  max-height:300px;\n  overflow:auto;\n}\n\n/* ============================ parameters form ========================== */\n\ntable.parameters {\n  border-collapse: collapse;\n}\n\ntable.parameters > tbody > tr:first-child > td {\n  padding-top: 4px;\n}\n\ntable.parameters .setting-description {\n  padding-bottom: 4px;\n}\n\ntable.parameters > tbody:hover {\n  background-color: #f0f0f0;\n}\n\n/* ============================ health report hover ========================== */\n\n.healthReport a {\n    text-decoration: none;\n}\n\n.healthReport div.healthReportDetails {\n    display: none;\n}\n\n.healthReport:hover, .healthReport.hover { /* fix IE6 bug with :hover */\n    background: transparent;\n}\n\n.healthReport:hover div.healthReportDetails, .healthReport.hover div.healthReportDetails {\n    display: block;\n    position: absolute;\n    background-color: #ffe;\n    border: 1px solid #bbb;\n    margin-left: 32px; /* move it across a bit */\n    z-index: 26;\n}\n\n.healthReport div.healthReportDetails table {\n    border-collapse: collapse;\n    width: 450px; /* fix IE bug with width */\n}\n\n/* ========================= build history ========================= */\n#buildHistory .healthReport {\n    display: inline;\n    margin-right: 1em;\n}\n\n#buildHistory tr.no-wrap td.middle-align {\n    padding: 0;\n}\n\n#buildHistory .desc {\n  position: relative;\n  padding: 0;\n  margin-top: 5px;\n  white-space: normal;\n  opacity: 0.6;\n}\n\n#buildHistory .build-row-cell {\n  position: relative;\n}\n\n#buildHistory .build-rss-links {\n  float: right;\n}\n\n#buildHistoryPage {\n  position: relative;\n}\n\n#buildHistoryPage .build-search-row td {\n    position: relative;\n}\n#buildHistoryPage .build-search-row .clear {\n    position: absolute;\n    padding: 0px 4px;\n    cursor: pointer;\n    top: 7px;\n    right: 6px;\n    opacity: 0.5;\n}\n#buildHistoryPage .build-search-row .clear:hover {\n    background-color: #d3d3d3;\n    border: 1px solid #bbb;\n    top: 6px;\n    padding-right: 3px;\n    border-top-right-radius: 2px;\n}\n#buildHistoryPage .build-search-row input {\n    width: 100%;\n    padding-left: 5px;\n    padding-right: 20px;\n}\n#buildHistoryPage .build-search-row table {\n    width: 100%;\n}\n#buildHistoryPage .build-search-row .build-search-help {\n    width: 20px;\n}\n#buildHistoryPage .build-search-row .icon-help {\n    position: absolute;\n    cursor: pointer;\n    top: 6px;\n}\n\n#buildHistoryPageNav {\n  position: absolute;\n  right: -21px;\n  top: 41px;\n  border: 1px solid;\n  border-top-right-radius: 4px;\n  border-bottom-right-radius: 4px;\n  visibility: hidden;\n}\n\n#buildHistoryPageNav .nav {\n  width: 16px;\n  height: 16px;\n  background: no-repeat;\n  background-position: center;\n  background-size: 16px 16px;\n  margin: 4px 2px;\n  cursor: pointer;\n}\n\n#buildHistoryPageNav.mouseOverSidePanel {\n  visibility: visible;\n  border-color: #f0f0f0 !important;\n}\n#buildHistoryPageNav.mouseOverSidePanelBuildHistory {\n  border-color: #bbb !important;\n}\n#buildHistoryPageNav:hover {\n  border-color: #bbb !important;\n}\n\n#buildHistoryPageNav .pageOne {\n  background-image: url(../images/16x16/go_top.png);\n}\n#buildHistoryPageNav .pageUp {\n  background-image: url(../images/16x16/go_up.png);\n}\n#buildHistoryPageNav .pageDown {\n  background-image: url(../images/16x16/go_down.png);\n}\n#buildHistoryPageNav .find {\n  background-image: url(../images/16x16/find.png);\n}\n\n.build-row {\n  padding: 3px 4px 3px 4px;\n}\n\n.build-row.model-link-active {\n  background: #e8e8e8 !important;\n}\n\n.build-row-cell {\n  font-size: 12px;\n}\n\n.build-row-cell .pane.build-name {\n  width: 25%;\n  font-weight: bold;\n  vertical-align: top;\n}\n.build-row-cell .pane.build-details {\n  width: 50%;\n}\n.build-row-cell .pane.build-controls {\n  width: 25%;\n  text-align: right;\n}\n.build-row-cell .pane.build-details.block {\n  width: 100%;\n}\n\n.pane.build-name a,\n.pane.build-name a:visited {\n  color: black;\n  text-decoration: underline;\n}\n\n.pane.build-details a,\n.pane.build-details a:visited {\n  color: black;\n  opacity: 0.6;\n  text-decoration: none;\n}\n.pane.build-details a:hover {\n  opacity: 1.0;\n  text-decoration: underline;\n}\n\n.build-row.multi-line .build-row-cell .pane.build-name.block {\n  width: 100%;\n}\n.build-row-cell .pane.build-controls.block {\n  width: 100%;\n}\n\n.build-row-cell .pane.build-name .build-icon,\n.build-row-cell .pane.build-name .display-name {\n  display: inline-block;\n}\n.build-row-cell .pane.build-name .build-icon {\n  position: absolute;\n}\n\n.build-row-cell .build-stop {\n  display: inline-block;\n  width: 30%;\n}\n.build-row-cell .build-badge {\n  display: inline-block;\n  text-align: right;\n  width: 70%;\n  padding: 2px 0;\n}\n.build-row-cell .build-badge > span {\n  display: inline-block;\n  max-width: 256px;\n  padding: 0 1px;\n  overflow: hidden;\n}\n.build-row-cell .build-badge > span + span {\n  margin: 0 0 0 2px !important;\n}\n@media (min-width: 1170px) {\n  .build-row-cell .build-badge > span {\n    max-width: 296px;\n  }\n}\n\n.build-row .build-name-controls .pane.build-name,\n.build-row .build-details-controls .pane.build-details {\n  width: 70%;\n}\n\n.build-row .build-row-cell .pane {\n  padding: 0px 2px; /* Sync changes with func expandControlsTo50Percent in hudson-behavior.js */\n  display: inline-block;\n  overflow: hidden;\n}\n\n.build-row.multi-line .build-row-cell .block {\n  display: block;\n  overflow: auto;\n}\n\n.build-row.multi-line .build-row-cell .indent-multiline {\n  margin-top: 5px;\n}\n\n.build-row.multi-line .build-row-cell .left-bar {\n  position: absolute;\n  top: 19px;\n  bottom: 3px;\n  left: 14px;\n  border-left: 1px solid #cdcdcd;\n}\n\n.build-row-cell .pane.build-name .display-name {\n  margin-left: 20px;\n}\n\n.build-row-cell .indent-multiline {\n  padding-left: 20px !important;  /* Sync changes with func expandControlsTo50Percent in hudson-behavior.js */\n}\n\n.build-row .build-row-cell {\n  /*visibility: hidden;*/\n}\n.build-row.overflow-checked .build-row-cell {\n  visibility: visible;\n}\n\n/* ================ Element overflow calculation helper styles ================ */\n\n.force-wrap, .force-wrap a {\n  white-space: normal !important;\n  overflow: visible !important;\n}\n.force-nowrap, .force-nowrap a {\n  white-space: nowrap !important;\n  overflow: hidden !important;\n}\n\n/* ========================= editable combobox style ========================= */\n.comboBoxList {\n  border: 1px solid #000;\n  overflow: visible;\n  background-color: white;\n  color: black;\n}\n.comboBoxSelectedItem {\n  background-color: Highlight;\n  color: HighlightText;\n}\n.combobox-values {\n  display: none;\n}\n\n\n/* ========================= directory tree ========================= */\n.parentPath {\n  font-size: 1.2em;\n  font-weight: bold;\n}\n\n.dirTree li {\n  list-style: none;\n}\n\n.dirTree .rootIcon {\n  margin-right: 1em;\n}\n\nTABLE.fileList {\n  margin-left: 2em;\n  padding: 0;\n}\n\nTABLE.fileList TD {\n  padding: 0;\n}\n\nTABLE.fileList TD.fileSize {\n  padding-left: 2em;\n  text-align: right;\n  color: #888;\n}\n\n\n\n/* ========================= test result ========================= */\n.result-passed {\n  color: #3465a4;\n}\n\n.result-skipped {\n  color: #ddbb00;\n}\n\n.result-fixed {\n  color: #3465a4;\n  font-weight: bold;\n}\n\n.result-failed {\n  color: #ef2929;\n}\n\n.result-regression {\n  color: #ef2929;\n  font-weight: bold;\n}\n.test-trend-caption {\n  text-align: center;\n  font-size: 1.2em;\n  font-weight: bold;\n}\n\n\n\n/* ========================= sortable table ========================= */\ntable.sortable a.sortheader {\n  text-decoration: none;\n  color: black;\n  display: block;\n}\ntable.sortable span.sortarrow {\n  color: black;\n  text-decoration: none;\n}\n\n\n\n\n/* ========================= fingerprint ========================= */\n.md5sum {\n  text-align: right;\n}\n\n.fingerprint-summary-header {\n  font-size: 1.2em;\n  vertical-align: middle;\n}\n\nTABLE.fingerprint-in-build TD {\n  padding-left: 1em;\n  padding-right: 1em;\n}\n\n\n\n\n/* ========================= plugin manager ========================= */\n#plugins {\n  margin-top: 0;\n  border-top: none;\n}\n\n#pluginsAdv tr:hover {\n  background-color: inherit;\n}\n\n#plugins tr.already-upgraded {\n  background-color: #e8eeee;\n}\n\n#plugins input.uninstall {\n  font-size: 11px;\n  padding: 3px 5px;\n  border-radius: 1px;\n  font-family: Helvetica, Arial, sans-serif;\n  font-weight: bold;\n  background-color: #4b758b;\n  color: #eee;\n  border: 1px solid #5788a1;\n}\n\n#plugins tr.has-dependants input.uninstall {\n  background-color: #e0e0e0;\n  border: 1px solid #cccccc;\n  color: #505050;\n  background-color: white;\n}\n\n#plugins tr.all-dependants-disabled .enable input {\n  pointer-events: auto;\n  opacity: 1.0;\n  visibility: visible;\n}\n\n#plugins tr.has-dependants input, #plugins tr.has-disabled-dependency .enable input {\n  pointer-events: none;\n  opacity: 0.2;\n}\n\n#plugins tr.has-dependants-but-disabled .enable input {\n  pointer-events: auto;\n  opacity: 1.0;\n  visibility: visible;\n}\n\n#plugins tr.has-disabled-dependency .enable input {\n  opacity: 0.4;\n}\n\n#plugins tr.deleted input {\n  visibility: hidden !important;\n}\n\n#plugins .dependant-list, #plugins .dependency-list {\n  display: none;\n}\n\n#plugins .enable-state-info, #plugins .uninstall-state-info {\n    padding: 5px 20px;\n    max-width: 70%;\n    border: solid 1px #f0ad4e;\n    border-radius: 3px;\n    text-align: center;\n}\n\n#plugins .enable-state-info {\n    float: left;\n}\n\n#plugins .uninstall-state-info {\n    float: right;\n}\n\n#plugins .plugin-dependency-info .title, #plugins .plugin-dependency-info .subtitle {\n    opacity: 0.7;\n}\n#plugins .plugin-dependency-info .title {\n    margin-bottom: 5px;\n    font-size: larger;\n    font-weight: bolder;\n}\n\n#plugins .plugin-dependency-info span {\n    margin: 5px 5px 0px 0px;\n    background-color: #337ab7;\n    display: inline-block;\n    padding: .2em .6em .3em;\n    font-size: 75%;\n    font-weight: 700;\n    line-height: 1;\n    color: #fff;\n    text-align: center;\n    white-space: nowrap;\n    vertical-align: baseline;\n    border-radius: .25em;\n}\n\n/* ========================= repeatable elements ========================= */\n\n.repeated-chunk {\n    border: 2px dashed transparent;\n}\n\n.repeated-chunk.hover {\n    border-color: #CCC;\n}\n\n.repeated-chunk .show-if-last      { visibility: hidden; }\n.repeated-chunk.last .show-if-last { visibility: visible; }\n\n.repeated-chunk .show-if-not-last      { visibility: visible; }\n.repeated-chunk.last .show-if-not-last { visibility: hidden; }\n\n.repeated-chunk .show-if-not-only      { visibility: visible; }\n.repeated-chunk.only .show-if-not-only { visibility: hidden; }\n\n/* == nested repeatable elements / 2 deep == */\n.repeated-chunk .repeated-chunk .show-if-last      { visibility: hidden; }\n.repeated-chunk .repeated-chunk.last .show-if-last { visibility: visible; }\n\n.repeated-chunk .repeated-chunk .show-if-not-last      { visibility: visible; }\n.repeated-chunk .repeated-chunk.last .show-if-not-last { visibility: hidden; }\n\n.repeated-chunk .repeated-chunk .show-if-not-only      { visibility: visible; }\n.repeated-chunk .repeated-chunk.only .show-if-not-only { visibility: hidden; }\n\n/* == nested repeatable elements / 3 deep == */\n.repeated-chunk .repeated-chunk .repeated-chunk .show-if-last      { visibility: hidden; }\n.repeated-chunk .repeated-chunk .repeated-chunk.last .show-if-last { visibility: visible; }\n\n.repeated-chunk .repeated-chunk .repeated-chunk .show-if-not-last      { visibility: visible; }\n.repeated-chunk .repeated-chunk .repeated-chunk.last .show-if-not-last { visibility: hidden; }\n\n.repeated-chunk .repeated-chunk .repeated-chunk .show-if-not-only      { visibility: visible; }\n.repeated-chunk .repeated-chunk .repeated-chunk.only .show-if-not-only { visibility: hidden; }\n\n/*\n    <DIV>s marked with to-be-removed is used in conjunction with repeatable.jelly and hetero-list.jelly\n    and represents a master copy that gets pulled out from HTML, then inserted later upon demand multiple times\n    when the user does \"Add\".\n*/\nDIV.to-be-removed { display: none; }\n\n/* ========================= Other form related CSS ========================= */\n\n.row-set-end { display: none; }\n\n/* ========================= Yahoo UI style adjustments ========================= */\n.ygtvlabel, .ygtvlabel:link, .ygtvlabel:visited, .ygtvlabel:hover {\n  color: inherit;\n}\n\nDIV.yahooTree td {\n  vertical-align: middle;\n}\n\n.yui-tt {\n  border: 1px solid black !important;\n  background-color: #FFFFFF !important;\n  padding: 2px !important;\n  font-family: inherit !important;\n  color: inherit !important;\n}\n\n.yui-skin-sam .yui-tt .bd {\n  border: none !important;\n  background-color: #FFF !important;\n}\n\n.yuimenu LI .yui-menu-tooltip {\n  color: #A6A6A6;\n}\n\n.yuimenu LI.yui-menuitem-tooltip {\n  border-bottom: 1px solid #808080;\n  padding-bottom: 3px;\n  margin-bottom: 1em;\n}\n\n#jenkins .yuimenuitem {\n    font-size: 12px;\n    padding: 3px;\n}\n\n#jenkins .yuimenuitem,\n#jenkins .yuimenuitemlabel {\n    cursor: pointer;\n}\n\n#jenkins .yuimenu .bd {\n    border: 1px solid #ccc;\n    box-shadow: 0px 3px 10px #bbb;\n}\n\n#jenkins .yui-menu-shadow {\n    display: none;\n}\n\n/* ========================= search box at the top-right of the page ========================= */\n#search-box {\n  background: white url(../images/16x16/search.png) no-repeat 2px center;\n  height: 24px;\n  padding-left: 20px;\n  width: 15em;\n  position: static; \n  border: 1px solid #DDD;\n  border-radius: 4px;\n  box-shadow: 0 0 5px #DDD inset;\n  outline: none;\n}\n\n#search-box-completion {\n  text-align: left;\n  width:25em;\n  position: absolute;\n  z-index: 1000;\n}\n\n#search-box-completion .yui-ac-content {\n  border: 1px solid black;\n  width:25em;\n  background-color: white;\n  overflow: hidden;\n}\n\n#search-box-completion UL {\n  padding: 0 0;\n  width: 100%;\n  margin: 0 0;\n  list-style: none;\n}\n#search-box-completion LI {\n  padding-left:20px;\n  white-space:nowrap;\n}\n#search-box-completion LI.yui-ac-highlight {\n  background: #729FCF;\n}\n#search-box-minWidth {\n  position:absolute;\n  visibility: hidden;\n  width:15em;\n}\n\n#search-box-sizer {\n  position:absolute;\n  visibility: hidden;\n}\n\n\n/* ========================= resizable text area ========================= */\n\nTEXTAREA {\n    margin-bottom: 0;\n}\nDIV.textarea-handle {\n    height: 5px;\n    font-size: 0;\n    background: #EEE url(../images/textarea-handle.gif) no-repeat 50% 1px;\n    border: 1px solid #BABDB6;\n    border-top: none;\n    cursor: s-resize;\n}\nTEXTAREA.rich-editor {\n  visibility: hidden;\n}\n\n/* ========================= hover notification ========================= */\n\n#hoverNotification {\n    visibility:hidden;\n    background-color: white;\n    border: 1px solid black;\n    padding: 0.5em;\n}\n\n/* ========================= D&D support in heterogenous/repeatable lists = */\n\n.hetero-list-container .dd-handle, .repeated-container .dd-handle {\n    cursor: move;\n    background-image: url(../images/grip.png);\n    background-repeat: repeat-y;\n    padding-left: 20px;\n}\n\n.hetero-list-container.with-drag-drop .repeated-chunk {\n    padding: 0.5em;\n    margin-top: 0.5em;\n    margin-bottom: 0.5em;\n}\n\n\n/* ========================= plugin update center ========================= */\n\n#plugins .excerpt {\n    white-space: normal;\n    margin-top: 0.5em;\n    padding-left: 2em;\n    color: #888a85;\n}\n\n#plugins .compatWarning {\n    white-space: normal;\n    margin-top: 0.5em;\n    padding-left: 2em;\n    color: #FF0000;\n}\n\n#plugins .securityWarning {\n    white-space: normal;\n    margin-top: 0.5em;\n    padding-left: 2em;\n    color: #FF0000;\n}\n\n/* ========================= progress bar ========================= */\n\ntable.progress-bar {\n  border-collapse: collapse;\n  border: 1px solid #3465a4;\n  height: 6px;\n  width: 100px;\n  clear: none;\n}\n\ntable.progress-bar tr.unknown {\n    background-image:url(../images/progress-unknown.gif);\n}\n\ntd.progress-bar-done {\n  background-color: #3465a4;\n}\n\ntd.progress-bar-left {\n  background-color: #ffffff;\n}\n\ntable.progress-bar.red {\n  border: 1px solid #cc0000;\n}\n\ntable.progress-bar.red tr.unknown {\n    background-image:url(../images/progress-unknown-red.gif);\n}\ntable.progress-bar.red td.progress-bar-done {\n  background-color: #cc0000;\n}\n\n/* ========================= notification bar ========================= */\n#notification-bar {\n    width:100%;\n    position:fixed;\n    text-align:center;\n    left:0px;\n    font-size: 2em;\n    z-index:1000;\n    border-bottom: 1px solid black;\n}\n\n/* ========================= YUI dialog ========================= */\n\n.dialog .hd {\n    font-size: 12px !important;\n}\n/* discovered this margin fix by a trial and error. This can very well be a totally wrong fix, or perhaps updating\n to the latest YUI will fix this? */\n.dialog .hd {\n    margin: 0 !important;\n}\n\n.dialog .bd {\n    margin: 0 !important;\n}\n\n.dialog .ft {\n    margin: 0 !important;\n}\n\n/* ========================= tags/labels ================== */\n/* tag0 is the least important tag in a tag cloud */\n.tag0 { font-size: 1.00em; }\n.tag1 { font-size: 1.10em; }\n.tag2 { font-size: 1.20em; }\n.tag3 { font-size: 1.30em; }\n.tag4 { font-size: 1.40em; }\n.tag5 { font-size: 1.50em; }\n.tag6 { font-size: 1.60em; }\n.tag7 { font-size: 1.70em; }\n.tag8 { font-size: 1.80em; }\n.tag9 { font-size: 1.90em; }\n\n/* ========================= textarea.jelly ================== */\n\n.textarea-preview-container {\n    text-align:left;\n}\n.textarea-preview {\n    background-color: #F0F0F0;\n    padding: 0.5em;\n}\n\n/* ========================= logRecords.jelly ================== */\n\n.logrecord-metadata {\n    font-size: 70%;\n}\n\n.logrecord-metadata-new {\n    color: #8A8;\n}\n\n.logrecord-metadata-old {\n    color: #AAA;\n}\n\n/* ========================= matrix configuration table ================== */\ntable#configuration-matrix {\n  border: 1px #BBBBBB solid;\n  border-collapse: collapse;\n}\ntr.matrix-row {\n  background: #f0f0f0;\n  font-weight: bold;\n}\ntd.matrix-header {\n  border: 1px #BBBBBB solid;\n  padding: 3px;\n}\ntd#matrix-title {\n  padding: 3px;\n}\ntd.matrix-leftcolumn {\n  border: 1px #BBBBBB solid;\n  font-weight: bold;\n  background: #f0f0f0;\n  padding: 3px;\n}\ntd.matrix-cell {\n  border: 1px #BBBBBB solid;\n  text-align: center;\n}\n\n/* ========================= legend.jelly ================== */\ntable#legend-table td {\n  vertical-align: middle;\n}\n\n/* ========================= Button styles ================= */\n.btn-box {\n  display:block; \n  margin-top:2em\n}\n#disable-project {\n    margin-top: 6px;\n}\n\n#bottom-sticker .yui-button {\n    margin-right: 20px;\n}\n\n/* This level of nesting is technically unnecessary, but to override the\n * default Yahoo styles. */\n#jenkins .yui-button {\n  border-width: 0;\n  border-style: none;\n  border-color: transparent;\n  background: none;\n  text-decoration: none;\n}\n\n#jenkins .yui-button .first-child {\n    border-width: 0;\n    border-style: none;\n    border-color: transparent;\n}\n#jenkins .yui-button .btn,\n#jenkins .yui-button button {\n  font-size: 12px;\n  padding: 3px 20px;\n  *border: 0;\n  border-radius: 1px;\n\n  border: 1px solid #cccccc;\n  background-color: #e0e0e0;\n  font-family: Helvetica, Arial, sans-serif;\n\n  color: #505050;\n  font-weight: bold;\n}\n\n#jenkins .yui-button .hetero-list-add {\n    padding-right: 35px;\n}\n\n#jenkins .yui-button .btn:hover,\n#jenkins .yui-button button:hover,\n#jenkins .yui-button .hover\n{\n    background-color: #d0d0d0;\n    border: 1px solid #c0c0c0;\n}\n\n#jenkins .yui-button .btn:active,\n#jenkins .yui-button button:active,\n#jenkins .yui-button .active {\n    background-color: #bbb;\n    box-shadow: inset 0px 1px 6px 2px #929292;\n    border: 1px solid #bbb;\n}\n\n#jenkins .yui-button .btn.disabled,\n#jenkins .yui-button button[disabled],\n#jenkins .yui-button button[disabled]:hover,\n#jenkins .yui-button button[disabled]:active,\n#jenkins .yui-button .disabled {\n    background-color: #e5e5e5;\n    color: #999;\n    border: 1px solid #d2d2d2;\n}\n\n/* Color overrides */\n#jenkins .yui-button.primary .btn,\n#jenkins .yui-button.primary button {\n    background-color: #4b758b;\n    color: #eee;\n    border: 1px solid #5788a1;\n}\n#jenkins .yui-button.primary .btn:hover,\n#jenkins .yui-button.primary button:hover,\n#jenkins .yui-button.primary .hover\n{\n    background-color: #3f6275;\n    border: 1px solid #5788a1;\n}\n#jenkins .yui-button.primary .btn:active,\n#jenkins .yui-button.primary button:active,\n#jenkins .yui-button.primary .active\n{\n    background-color: #33505f;\n    border: 1px solid #3f6275;\n    box-shadow: inset 0px 1px 6px 2px #1b2b33;\n}\n\n#jenkins .yui-button.primary button:disabled,\n#jenkins .yui-button.primary .disabled\n{\n    background-color: #adc6d3;\n    color: #fff;\n    border: 1px solid #a2becd;\n}\n\n#jenkins .yui-button.danger button {\n    background-color: #d24939;\n    color: #eee;\n    border: 1px solid #be3a2b;\n}\n\n#jenkins .yui-button.danger button:hover,\n#jenkins .yui-button.danger .hover\n{\n    background-color: #a23225;\n    border: 1px solid #942e22;\n}\n\n#jenkins .yui-button.danger button:active,\n#jenkins .yui-button.danger .active\n{\n    background-color: #942e22;\n    border: 1px solid #6b2118;\n    box-shadow: inset 0px 1px 6px 2px #79251b;\n}\n\n#jenkins .yui-button.danger button:disabled,\n#jenkins .yui-button.danger .disabled\n{\n    background-color: #e5958c;\n    color: #f8f8f8;\n    border: 1px solid #e39280;\n}\n\n.i18n {\n    display: none;\n}\n\n.alert {\n    padding: 15px;\n    margin-bottom: 20px;\n    border: 1px solid transparent;\n    border-radius: 4px;\n}\n\n.alert-warning {\n    color: #8a6d3b;\n    background-color: #fcf8e3;\n    border-color: #faebcc;\n}\n\nbody.no-decoration #main-panel {\n    margin: 0 auto !important;\n}\nbody.no-decoration #page-head,\nbody.no-decoration #side-panel,\nbody.no-decoration footer {\n    display: none;\n}\nbody.no-sticker #bottom-sticker {\n    display: none;\n}\n\n/* see the Icon class for the definition of these CSS classes */\n.icon-sm {\n    width: 16px;\n    height: 16px;\n}\n\n.icon-md {\n    width: 24px;\n    height: 24px;\n}\n\n.icon-lg {\n    width: 32px;\n    height: 32px;\n}\n\n.icon-xlg {\n    width: 48px;\n    height: 48px;\n}\n",
            "encoding": "Raw"
          },
          "redirectURL": "",
          "headersSize": 298,
          "bodySize": 37616
        },
        "cache": {},
        "timings": {
          "send": 2,
          "wait": 2,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27308"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.871-06:00",
        "time": 132,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/css/color.css",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 317,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:50 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:34 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:50 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "763"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 1305,
            "compression": 0,
            "mimeType": "text/css",
            "text": "/*\n * The MIT License\n * \n * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n.greyed {\n\tcolor: #999;\n}\n\n.redbold {\n\tcolor: darkred;\n\tfont-weight: bold;\n}\n\n.greenbold {\n\tcolor: #6c0;\n\tfont-weight: bold;\n}\n",
            "encoding": "Raw"
          },
          "redirectURL": "",
          "headersSize": 297,
          "bodySize": 1305
        },
        "cache": {},
        "timings": {
          "send": 2,
          "wait": 0,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27309"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.871-06:00",
        "time": 136,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/css/responsive-grid.css",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 327,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:50 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:34 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:50 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "4051"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 29759,
            "compression": 0,
            "mimeType": "text/css",
            "text": "/*!\n * Bootstrap v3.1.1 (http://getbootstrap.com)\n * Copyright 2011-2014 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n */\n\n/*!\n * Only the grid and responsive rules from bootstrap.\n */\n\n* {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n*:before,\n*:after {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\n.container {\n  padding-right: 15px;\n  padding-left: 15px;\n  margin-right: auto;\n  margin-left: auto;\n}\n@media (min-width: 768px) {\n  .container {\n    width: 750px;\n  }\n}\n@media (min-width: 992px) {\n  .container {\n    width: 970px;\n  }\n}\n@media (min-width: 1200px) {\n  .container {\n    width: 1170px;\n  }\n}\n.container-fluid {\n  padding-right: 15px;\n  padding-left: 15px;\n  margin-right: auto;\n  margin-left: auto;\n}\n.row {\n  margin-right: -15px;\n  margin-left: -15px;\n}\n.col-xs-1, .col-sm-1, .col-md-1, .col-lg-1, .col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, .col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, .col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, .col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, .col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, .col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, .col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, .col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, .col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, .col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, .col-xs-12, .col-sm-12, .col-md-12, .col-lg-12, .col-xs-13, .col-sm-13, .col-md-13, .col-lg-13, .col-xs-14, .col-sm-14, .col-md-14, .col-lg-14, .col-xs-15, .col-sm-15, .col-md-15, .col-lg-15, .col-xs-16, .col-sm-16, .col-md-16, .col-lg-16, .col-xs-17, .col-sm-17, .col-md-17, .col-lg-17, .col-xs-18, .col-sm-18, .col-md-18, .col-lg-18, .col-xs-19, .col-sm-19, .col-md-19, .col-lg-19, .col-xs-20, .col-sm-20, .col-md-20, .col-lg-20, .col-xs-21, .col-sm-21, .col-md-21, .col-lg-21, .col-xs-22, .col-sm-22, .col-md-22, .col-lg-22, .col-xs-23, .col-sm-23, .col-md-23, .col-lg-23, .col-xs-24, .col-sm-24, .col-md-24, .col-lg-24 {\n  position: relative;\n  min-height: 1px;\n  padding-left: 15px;\n  padding-right: 15px;\n}\n.col-xs-1, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9, .col-xs-10, .col-xs-11, .col-xs-12, .col-xs-13, .col-xs-14, .col-xs-15, .col-xs-16, .col-xs-17, .col-xs-18, .col-xs-19, .col-xs-20, .col-xs-21, .col-xs-22, .col-xs-23, .col-xs-24 {\n  float: left;\n}\n.col-xs-24 {\n  width: 100%;\n}\n.col-xs-23 {\n  width: 95.83333333%;\n}\n.col-xs-22 {\n  width: 91.66666667%;\n}\n.col-xs-21 {\n  width: 87.5%;\n}\n.col-xs-20 {\n  width: 83.33333333%;\n}\n.col-xs-19 {\n  width: 79.16666667%;\n}\n.col-xs-18 {\n  width: 75%;\n}\n.col-xs-17 {\n  width: 70.83333333%;\n}\n.col-xs-16 {\n  width: 66.66666667%;\n}\n.col-xs-15 {\n  width: 62.5%;\n}\n.col-xs-14 {\n  width: 58.33333333%;\n}\n.col-xs-13 {\n  width: 54.16666667%;\n}\n.col-xs-12 {\n  width: 50%;\n}\n.col-xs-11 {\n  width: 45.83333333%;\n}\n.col-xs-10 {\n  width: 41.66666667%;\n}\n.col-xs-9 {\n  width: 37.5%;\n}\n.col-xs-8 {\n  width: 33.33333333%;\n}\n.col-xs-7 {\n  width: 29.16666667%;\n}\n.col-xs-6 {\n  width: 25%;\n}\n.col-xs-5 {\n  width: 20.83333333%;\n}\n.col-xs-4 {\n  width: 16.66666667%;\n}\n.col-xs-3 {\n  width: 12.5%;\n}\n.col-xs-2 {\n  width: 8.33333333%;\n}\n.col-xs-1 {\n  width: 4.16666667%;\n}\n.col-xs-pull-24 {\n  right: 100%;\n}\n.col-xs-pull-23 {\n  right: 95.83333333%;\n}\n.col-xs-pull-22 {\n  right: 91.66666667%;\n}\n.col-xs-pull-21 {\n  right: 87.5%;\n}\n.col-xs-pull-20 {\n  right: 83.33333333%;\n}\n.col-xs-pull-19 {\n  right: 79.16666667%;\n}\n.col-xs-pull-18 {\n  right: 75%;\n}\n.col-xs-pull-17 {\n  right: 70.83333333%;\n}\n.col-xs-pull-16 {\n  right: 66.66666667%;\n}\n.col-xs-pull-15 {\n  right: 62.5%;\n}\n.col-xs-pull-14 {\n  right: 58.33333333%;\n}\n.col-xs-pull-13 {\n  right: 54.16666667%;\n}\n.col-xs-pull-12 {\n  right: 50%;\n}\n.col-xs-pull-11 {\n  right: 45.83333333%;\n}\n.col-xs-pull-10 {\n  right: 41.66666667%;\n}\n.col-xs-pull-9 {\n  right: 37.5%;\n}\n.col-xs-pull-8 {\n  right: 33.33333333%;\n}\n.col-xs-pull-7 {\n  right: 29.16666667%;\n}\n.col-xs-pull-6 {\n  right: 25%;\n}\n.col-xs-pull-5 {\n  right: 20.83333333%;\n}\n.col-xs-pull-4 {\n  right: 16.66666667%;\n}\n.col-xs-pull-3 {\n  right: 12.5%;\n}\n.col-xs-pull-2 {\n  right: 8.33333333%;\n}\n.col-xs-pull-1 {\n  right: 4.16666667%;\n}\n.col-xs-pull-0 {\n  right: auto;\n}\n.col-xs-push-24 {\n  left: 100%;\n}\n.col-xs-push-23 {\n  left: 95.83333333%;\n}\n.col-xs-push-22 {\n  left: 91.66666667%;\n}\n.col-xs-push-21 {\n  left: 87.5%;\n}\n.col-xs-push-20 {\n  left: 83.33333333%;\n}\n.col-xs-push-19 {\n  left: 79.16666667%;\n}\n.col-xs-push-18 {\n  left: 75%;\n}\n.col-xs-push-17 {\n  left: 70.83333333%;\n}\n.col-xs-push-16 {\n  left: 66.66666667%;\n}\n.col-xs-push-15 {\n  left: 62.5%;\n}\n.col-xs-push-14 {\n  left: 58.33333333%;\n}\n.col-xs-push-13 {\n  left: 54.16666667%;\n}\n.col-xs-push-12 {\n  left: 50%;\n}\n.col-xs-push-11 {\n  left: 45.83333333%;\n}\n.col-xs-push-10 {\n  left: 41.66666667%;\n}\n.col-xs-push-9 {\n  left: 37.5%;\n}\n.col-xs-push-8 {\n  left: 33.33333333%;\n}\n.col-xs-push-7 {\n  left: 29.16666667%;\n}\n.col-xs-push-6 {\n  left: 25%;\n}\n.col-xs-push-5 {\n  left: 20.83333333%;\n}\n.col-xs-push-4 {\n  left: 16.66666667%;\n}\n.col-xs-push-3 {\n  left: 12.5%;\n}\n.col-xs-push-2 {\n  left: 8.33333333%;\n}\n.col-xs-push-1 {\n  left: 4.16666667%;\n}\n.col-xs-push-0 {\n  left: auto;\n}\n.col-xs-offset-24 {\n  margin-left: 100%;\n}\n.col-xs-offset-23 {\n  margin-left: 95.83333333%;\n}\n.col-xs-offset-22 {\n  margin-left: 91.66666667%;\n}\n.col-xs-offset-21 {\n  margin-left: 87.5%;\n}\n.col-xs-offset-20 {\n  margin-left: 83.33333333%;\n}\n.col-xs-offset-19 {\n  margin-left: 79.16666667%;\n}\n.col-xs-offset-18 {\n  margin-left: 75%;\n}\n.col-xs-offset-17 {\n  margin-left: 70.83333333%;\n}\n.col-xs-offset-16 {\n  margin-left: 66.66666667%;\n}\n.col-xs-offset-15 {\n  margin-left: 62.5%;\n}\n.col-xs-offset-14 {\n  margin-left: 58.33333333%;\n}\n.col-xs-offset-13 {\n  margin-left: 54.16666667%;\n}\n.col-xs-offset-12 {\n  margin-left: 50%;\n}\n.col-xs-offset-11 {\n  margin-left: 45.83333333%;\n}\n.col-xs-offset-10 {\n  margin-left: 41.66666667%;\n}\n.col-xs-offset-9 {\n  margin-left: 37.5%;\n}\n.col-xs-offset-8 {\n  margin-left: 33.33333333%;\n}\n.col-xs-offset-7 {\n  margin-left: 29.16666667%;\n}\n.col-xs-offset-6 {\n  margin-left: 25%;\n}\n.col-xs-offset-5 {\n  margin-left: 20.83333333%;\n}\n.col-xs-offset-4 {\n  margin-left: 16.66666667%;\n}\n.col-xs-offset-3 {\n  margin-left: 12.5%;\n}\n.col-xs-offset-2 {\n  margin-left: 8.33333333%;\n}\n.col-xs-offset-1 {\n  margin-left: 4.16666667%;\n}\n.col-xs-offset-0 {\n  margin-left: 0%;\n}\n@media (min-width: 768px) {\n  .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12, .col-sm-13, .col-sm-14, .col-sm-15, .col-sm-16, .col-sm-17, .col-sm-18, .col-sm-19, .col-sm-20, .col-sm-21, .col-sm-22, .col-sm-23, .col-sm-24 {\n    float: left;\n  }\n  .col-sm-24 {\n    width: 100%;\n  }\n  .col-sm-23 {\n    width: 95.83333333%;\n  }\n  .col-sm-22 {\n    width: 91.66666667%;\n  }\n  .col-sm-21 {\n    width: 87.5%;\n  }\n  .col-sm-20 {\n    width: 83.33333333%;\n  }\n  .col-sm-19 {\n    width: 79.16666667%;\n  }\n  .col-sm-18 {\n    width: 75%;\n  }\n  .col-sm-17 {\n    width: 70.83333333%;\n  }\n  .col-sm-16 {\n    width: 66.66666667%;\n  }\n  .col-sm-15 {\n    width: 62.5%;\n  }\n  .col-sm-14 {\n    width: 58.33333333%;\n  }\n  .col-sm-13 {\n    width: 54.16666667%;\n  }\n  .col-sm-12 {\n    width: 50%;\n  }\n  .col-sm-11 {\n    width: 45.83333333%;\n  }\n  .col-sm-10 {\n    width: 41.66666667%;\n  }\n  .col-sm-9 {\n    width: 37.5%;\n  }\n  .col-sm-8 {\n    width: 33.33333333%;\n  }\n  .col-sm-7 {\n    width: 29.16666667%;\n  }\n  .col-sm-6 {\n    width: 25%;\n  }\n  .col-sm-5 {\n    width: 20.83333333%;\n  }\n  .col-sm-4 {\n    width: 16.66666667%;\n  }\n  .col-sm-3 {\n    width: 12.5%;\n  }\n  .col-sm-2 {\n    width: 8.33333333%;\n  }\n  .col-sm-1 {\n    width: 4.16666667%;\n  }\n  .col-sm-pull-24 {\n    right: 100%;\n  }\n  .col-sm-pull-23 {\n    right: 95.83333333%;\n  }\n  .col-sm-pull-22 {\n    right: 91.66666667%;\n  }\n  .col-sm-pull-21 {\n    right: 87.5%;\n  }\n  .col-sm-pull-20 {\n    right: 83.33333333%;\n  }\n  .col-sm-pull-19 {\n    right: 79.16666667%;\n  }\n  .col-sm-pull-18 {\n    right: 75%;\n  }\n  .col-sm-pull-17 {\n    right: 70.83333333%;\n  }\n  .col-sm-pull-16 {\n    right: 66.66666667%;\n  }\n  .col-sm-pull-15 {\n    right: 62.5%;\n  }\n  .col-sm-pull-14 {\n    right: 58.33333333%;\n  }\n  .col-sm-pull-13 {\n    right: 54.16666667%;\n  }\n  .col-sm-pull-12 {\n    right: 50%;\n  }\n  .col-sm-pull-11 {\n    right: 45.83333333%;\n  }\n  .col-sm-pull-10 {\n    right: 41.66666667%;\n  }\n  .col-sm-pull-9 {\n    right: 37.5%;\n  }\n  .col-sm-pull-8 {\n    right: 33.33333333%;\n  }\n  .col-sm-pull-7 {\n    right: 29.16666667%;\n  }\n  .col-sm-pull-6 {\n    right: 25%;\n  }\n  .col-sm-pull-5 {\n    right: 20.83333333%;\n  }\n  .col-sm-pull-4 {\n    right: 16.66666667%;\n  }\n  .col-sm-pull-3 {\n    right: 12.5%;\n  }\n  .col-sm-pull-2 {\n    right: 8.33333333%;\n  }\n  .col-sm-pull-1 {\n    right: 4.16666667%;\n  }\n  .col-sm-pull-0 {\n    right: auto;\n  }\n  .col-sm-push-24 {\n    left: 100%;\n  }\n  .col-sm-push-23 {\n    left: 95.83333333%;\n  }\n  .col-sm-push-22 {\n    left: 91.66666667%;\n  }\n  .col-sm-push-21 {\n    left: 87.5%;\n  }\n  .col-sm-push-20 {\n    left: 83.33333333%;\n  }\n  .col-sm-push-19 {\n    left: 79.16666667%;\n  }\n  .col-sm-push-18 {\n    left: 75%;\n  }\n  .col-sm-push-17 {\n    left: 70.83333333%;\n  }\n  .col-sm-push-16 {\n    left: 66.66666667%;\n  }\n  .col-sm-push-15 {\n    left: 62.5%;\n  }\n  .col-sm-push-14 {\n    left: 58.33333333%;\n  }\n  .col-sm-push-13 {\n    left: 54.16666667%;\n  }\n  .col-sm-push-12 {\n    left: 50%;\n  }\n  .col-sm-push-11 {\n    left: 45.83333333%;\n  }\n  .col-sm-push-10 {\n    left: 41.66666667%;\n  }\n  .col-sm-push-9 {\n    left: 37.5%;\n  }\n  .col-sm-push-8 {\n    left: 33.33333333%;\n  }\n  .col-sm-push-7 {\n    left: 29.16666667%;\n  }\n  .col-sm-push-6 {\n    left: 25%;\n  }\n  .col-sm-push-5 {\n    left: 20.83333333%;\n  }\n  .col-sm-push-4 {\n    left: 16.66666667%;\n  }\n  .col-sm-push-3 {\n    left: 12.5%;\n  }\n  .col-sm-push-2 {\n    left: 8.33333333%;\n  }\n  .col-sm-push-1 {\n    left: 4.16666667%;\n  }\n  .col-sm-push-0 {\n    left: auto;\n  }\n  .col-sm-offset-24 {\n    margin-left: 100%;\n  }\n  .col-sm-offset-23 {\n    margin-left: 95.83333333%;\n  }\n  .col-sm-offset-22 {\n    margin-left: 91.66666667%;\n  }\n  .col-sm-offset-21 {\n    margin-left: 87.5%;\n  }\n  .col-sm-offset-20 {\n    margin-left: 83.33333333%;\n  }\n  .col-sm-offset-19 {\n    margin-left: 79.16666667%;\n  }\n  .col-sm-offset-18 {\n    margin-left: 75%;\n  }\n  .col-sm-offset-17 {\n    margin-left: 70.83333333%;\n  }\n  .col-sm-offset-16 {\n    margin-left: 66.66666667%;\n  }\n  .col-sm-offset-15 {\n    margin-left: 62.5%;\n  }\n  .col-sm-offset-14 {\n    margin-left: 58.33333333%;\n  }\n  .col-sm-offset-13 {\n    margin-left: 54.16666667%;\n  }\n  .col-sm-offset-12 {\n    margin-left: 50%;\n  }\n  .col-sm-offset-11 {\n    margin-left: 45.83333333%;\n  }\n  .col-sm-offset-10 {\n    margin-left: 41.66666667%;\n  }\n  .col-sm-offset-9 {\n    margin-left: 37.5%;\n  }\n  .col-sm-offset-8 {\n    margin-left: 33.33333333%;\n  }\n  .col-sm-offset-7 {\n    margin-left: 29.16666667%;\n  }\n  .col-sm-offset-6 {\n    margin-left: 25%;\n  }\n  .col-sm-offset-5 {\n    margin-left: 20.83333333%;\n  }\n  .col-sm-offset-4 {\n    margin-left: 16.66666667%;\n  }\n  .col-sm-offset-3 {\n    margin-left: 12.5%;\n  }\n  .col-sm-offset-2 {\n    margin-left: 8.33333333%;\n  }\n  .col-sm-offset-1 {\n    margin-left: 4.16666667%;\n  }\n  .col-sm-offset-0 {\n    margin-left: 0%;\n  }\n}\n@media (min-width: 992px) {\n  .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12, .col-md-13, .col-md-14, .col-md-15, .col-md-16, .col-md-17, .col-md-18, .col-md-19, .col-md-20, .col-md-21, .col-md-22, .col-md-23, .col-md-24 {\n    float: left;\n  }\n  .col-md-24 {\n    width: 100%;\n  }\n  .col-md-23 {\n    width: 95.83333333%;\n  }\n  .col-md-22 {\n    width: 91.66666667%;\n  }\n  .col-md-21 {\n    width: 87.5%;\n  }\n  .col-md-20 {\n    width: 83.33333333%;\n  }\n  .col-md-19 {\n    width: 79.16666667%;\n  }\n  .col-md-18 {\n    width: 75%;\n  }\n  .col-md-17 {\n    width: 70.83333333%;\n  }\n  .col-md-16 {\n    width: 66.66666667%;\n  }\n  .col-md-15 {\n    width: 62.5%;\n  }\n  .col-md-14 {\n    width: 58.33333333%;\n  }\n  .col-md-13 {\n    width: 54.16666667%;\n  }\n  .col-md-12 {\n    width: 50%;\n  }\n  .col-md-11 {\n    width: 45.83333333%;\n  }\n  .col-md-10 {\n    width: 41.66666667%;\n  }\n  .col-md-9 {\n    width: 37.5%;\n  }\n  .col-md-8 {\n    width: 33.33333333%;\n  }\n  .col-md-7 {\n    width: 29.16666667%;\n  }\n  .col-md-6 {\n    width: 25%;\n  }\n  .col-md-5 {\n    width: 20.83333333%;\n  }\n  .col-md-4 {\n    width: 16.66666667%;\n  }\n  .col-md-3 {\n    width: 12.5%;\n  }\n  .col-md-2 {\n    width: 8.33333333%;\n  }\n  .col-md-1 {\n    width: 4.16666667%;\n  }\n  .col-md-pull-24 {\n    right: 100%;\n  }\n  .col-md-pull-23 {\n    right: 95.83333333%;\n  }\n  .col-md-pull-22 {\n    right: 91.66666667%;\n  }\n  .col-md-pull-21 {\n    right: 87.5%;\n  }\n  .col-md-pull-20 {\n    right: 83.33333333%;\n  }\n  .col-md-pull-19 {\n    right: 79.16666667%;\n  }\n  .col-md-pull-18 {\n    right: 75%;\n  }\n  .col-md-pull-17 {\n    right: 70.83333333%;\n  }\n  .col-md-pull-16 {\n    right: 66.66666667%;\n  }\n  .col-md-pull-15 {\n    right: 62.5%;\n  }\n  .col-md-pull-14 {\n    right: 58.33333333%;\n  }\n  .col-md-pull-13 {\n    right: 54.16666667%;\n  }\n  .col-md-pull-12 {\n    right: 50%;\n  }\n  .col-md-pull-11 {\n    right: 45.83333333%;\n  }\n  .col-md-pull-10 {\n    right: 41.66666667%;\n  }\n  .col-md-pull-9 {\n    right: 37.5%;\n  }\n  .col-md-pull-8 {\n    right: 33.33333333%;\n  }\n  .col-md-pull-7 {\n    right: 29.16666667%;\n  }\n  .col-md-pull-6 {\n    right: 25%;\n  }\n  .col-md-pull-5 {\n    right: 20.83333333%;\n  }\n  .col-md-pull-4 {\n    right: 16.66666667%;\n  }\n  .col-md-pull-3 {\n    right: 12.5%;\n  }\n  .col-md-pull-2 {\n    right: 8.33333333%;\n  }\n  .col-md-pull-1 {\n    right: 4.16666667%;\n  }\n  .col-md-pull-0 {\n    right: auto;\n  }\n  .col-md-push-24 {\n    left: 100%;\n  }\n  .col-md-push-23 {\n    left: 95.83333333%;\n  }\n  .col-md-push-22 {\n    left: 91.66666667%;\n  }\n  .col-md-push-21 {\n    left: 87.5%;\n  }\n  .col-md-push-20 {\n    left: 83.33333333%;\n  }\n  .col-md-push-19 {\n    left: 79.16666667%;\n  }\n  .col-md-push-18 {\n    left: 75%;\n  }\n  .col-md-push-17 {\n    left: 70.83333333%;\n  }\n  .col-md-push-16 {\n    left: 66.66666667%;\n  }\n  .col-md-push-15 {\n    left: 62.5%;\n  }\n  .col-md-push-14 {\n    left: 58.33333333%;\n  }\n  .col-md-push-13 {\n    left: 54.16666667%;\n  }\n  .col-md-push-12 {\n    left: 50%;\n  }\n  .col-md-push-11 {\n    left: 45.83333333%;\n  }\n  .col-md-push-10 {\n    left: 41.66666667%;\n  }\n  .col-md-push-9 {\n    left: 37.5%;\n  }\n  .col-md-push-8 {\n    left: 33.33333333%;\n  }\n  .col-md-push-7 {\n    left: 29.16666667%;\n  }\n  .col-md-push-6 {\n    left: 25%;\n  }\n  .col-md-push-5 {\n    left: 20.83333333%;\n  }\n  .col-md-push-4 {\n    left: 16.66666667%;\n  }\n  .col-md-push-3 {\n    left: 12.5%;\n  }\n  .col-md-push-2 {\n    left: 8.33333333%;\n  }\n  .col-md-push-1 {\n    left: 4.16666667%;\n  }\n  .col-md-push-0 {\n    left: auto;\n  }\n  .col-md-offset-24 {\n    margin-left: 100%;\n  }\n  .col-md-offset-23 {\n    margin-left: 95.83333333%;\n  }\n  .col-md-offset-22 {\n    margin-left: 91.66666667%;\n  }\n  .col-md-offset-21 {\n    margin-left: 87.5%;\n  }\n  .col-md-offset-20 {\n    margin-left: 83.33333333%;\n  }\n  .col-md-offset-19 {\n    margin-left: 79.16666667%;\n  }\n  .col-md-offset-18 {\n    margin-left: 75%;\n  }\n  .col-md-offset-17 {\n    margin-left: 70.83333333%;\n  }\n  .col-md-offset-16 {\n    margin-left: 66.66666667%;\n  }\n  .col-md-offset-15 {\n    margin-left: 62.5%;\n  }\n  .col-md-offset-14 {\n    margin-left: 58.33333333%;\n  }\n  .col-md-offset-13 {\n    margin-left: 54.16666667%;\n  }\n  .col-md-offset-12 {\n    margin-left: 50%;\n  }\n  .col-md-offset-11 {\n    margin-left: 45.83333333%;\n  }\n  .col-md-offset-10 {\n    margin-left: 41.66666667%;\n  }\n  .col-md-offset-9 {\n    margin-left: 37.5%;\n  }\n  .col-md-offset-8 {\n    margin-left: 33.33333333%;\n  }\n  .col-md-offset-7 {\n    margin-left: 29.16666667%;\n  }\n  .col-md-offset-6 {\n    margin-left: 25%;\n  }\n  .col-md-offset-5 {\n    margin-left: 20.83333333%;\n  }\n  .col-md-offset-4 {\n    margin-left: 16.66666667%;\n  }\n  .col-md-offset-3 {\n    margin-left: 12.5%;\n  }\n  .col-md-offset-2 {\n    margin-left: 8.33333333%;\n  }\n  .col-md-offset-1 {\n    margin-left: 4.16666667%;\n  }\n  .col-md-offset-0 {\n    margin-left: 0%;\n  }\n}\n@media (min-width: 1200px) {\n  .col-lg-1, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-10, .col-lg-11, .col-lg-12, .col-lg-13, .col-lg-14, .col-lg-15, .col-lg-16, .col-lg-17, .col-lg-18, .col-lg-19, .col-lg-20, .col-lg-21, .col-lg-22, .col-lg-23, .col-lg-24 {\n    float: left;\n  }\n  .col-lg-24 {\n    width: 100%;\n  }\n  .col-lg-23 {\n    width: 95.83333333%;\n  }\n  .col-lg-22 {\n    width: 91.66666667%;\n  }\n  .col-lg-21 {\n    width: 87.5%;\n  }\n  .col-lg-20 {\n    width: 83.33333333%;\n  }\n  .col-lg-19 {\n    width: 79.16666667%;\n  }\n  .col-lg-18 {\n    width: 75%;\n  }\n  .col-lg-17 {\n    width: 70.83333333%;\n  }\n  .col-lg-16 {\n    width: 66.66666667%;\n  }\n  .col-lg-15 {\n    width: 62.5%;\n  }\n  .col-lg-14 {\n    width: 58.33333333%;\n  }\n  .col-lg-13 {\n    width: 54.16666667%;\n  }\n  .col-lg-12 {\n    width: 50%;\n  }\n  .col-lg-11 {\n    width: 45.83333333%;\n  }\n  .col-lg-10 {\n    width: 41.66666667%;\n  }\n  .col-lg-9 {\n    width: 37.5%;\n  }\n  .col-lg-8 {\n    width: 33.33333333%;\n  }\n  .col-lg-7 {\n    width: 29.16666667%;\n  }\n  .col-lg-6 {\n    width: 25%;\n  }\n  .col-lg-5 {\n    width: 20.83333333%;\n  }\n  .col-lg-4 {\n    width: 16.66666667%;\n  }\n  .col-lg-3 {\n    width: 12.5%;\n  }\n  .col-lg-2 {\n    width: 8.33333333%;\n  }\n  .col-lg-1 {\n    width: 4.16666667%;\n  }\n  .col-lg-pull-24 {\n    right: 100%;\n  }\n  .col-lg-pull-23 {\n    right: 95.83333333%;\n  }\n  .col-lg-pull-22 {\n    right: 91.66666667%;\n  }\n  .col-lg-pull-21 {\n    right: 87.5%;\n  }\n  .col-lg-pull-20 {\n    right: 83.33333333%;\n  }\n  .col-lg-pull-19 {\n    right: 79.16666667%;\n  }\n  .col-lg-pull-18 {\n    right: 75%;\n  }\n  .col-lg-pull-17 {\n    right: 70.83333333%;\n  }\n  .col-lg-pull-16 {\n    right: 66.66666667%;\n  }\n  .col-lg-pull-15 {\n    right: 62.5%;\n  }\n  .col-lg-pull-14 {\n    right: 58.33333333%;\n  }\n  .col-lg-pull-13 {\n    right: 54.16666667%;\n  }\n  .col-lg-pull-12 {\n    right: 50%;\n  }\n  .col-lg-pull-11 {\n    right: 45.83333333%;\n  }\n  .col-lg-pull-10 {\n    right: 41.66666667%;\n  }\n  .col-lg-pull-9 {\n    right: 37.5%;\n  }\n  .col-lg-pull-8 {\n    right: 33.33333333%;\n  }\n  .col-lg-pull-7 {\n    right: 29.16666667%;\n  }\n  .col-lg-pull-6 {\n    right: 25%;\n  }\n  .col-lg-pull-5 {\n    right: 20.83333333%;\n  }\n  .col-lg-pull-4 {\n    right: 16.66666667%;\n  }\n  .col-lg-pull-3 {\n    right: 12.5%;\n  }\n  .col-lg-pull-2 {\n    right: 8.33333333%;\n  }\n  .col-lg-pull-1 {\n    right: 4.16666667%;\n  }\n  .col-lg-pull-0 {\n    right: auto;\n  }\n  .col-lg-push-24 {\n    left: 100%;\n  }\n  .col-lg-push-23 {\n    left: 95.83333333%;\n  }\n  .col-lg-push-22 {\n    left: 91.66666667%;\n  }\n  .col-lg-push-21 {\n    left: 87.5%;\n  }\n  .col-lg-push-20 {\n    left: 83.33333333%;\n  }\n  .col-lg-push-19 {\n    left: 79.16666667%;\n  }\n  .col-lg-push-18 {\n    left: 75%;\n  }\n  .col-lg-push-17 {\n    left: 70.83333333%;\n  }\n  .col-lg-push-16 {\n    left: 66.66666667%;\n  }\n  .col-lg-push-15 {\n    left: 62.5%;\n  }\n  .col-lg-push-14 {\n    left: 58.33333333%;\n  }\n  .col-lg-push-13 {\n    left: 54.16666667%;\n  }\n  .col-lg-push-12 {\n    left: 50%;\n  }\n  .col-lg-push-11 {\n    left: 45.83333333%;\n  }\n  .col-lg-push-10 {\n    left: 41.66666667%;\n  }\n  .col-lg-push-9 {\n    left: 37.5%;\n  }\n  .col-lg-push-8 {\n    left: 33.33333333%;\n  }\n  .col-lg-push-7 {\n    left: 29.16666667%;\n  }\n  .col-lg-push-6 {\n    left: 25%;\n  }\n  .col-lg-push-5 {\n    left: 20.83333333%;\n  }\n  .col-lg-push-4 {\n    left: 16.66666667%;\n  }\n  .col-lg-push-3 {\n    left: 12.5%;\n  }\n  .col-lg-push-2 {\n    left: 8.33333333%;\n  }\n  .col-lg-push-1 {\n    left: 4.16666667%;\n  }\n  .col-lg-push-0 {\n    left: auto;\n  }\n  .col-lg-offset-24 {\n    margin-left: 100%;\n  }\n  .col-lg-offset-23 {\n    margin-left: 95.83333333%;\n  }\n  .col-lg-offset-22 {\n    margin-left: 91.66666667%;\n  }\n  .col-lg-offset-21 {\n    margin-left: 87.5%;\n  }\n  .col-lg-offset-20 {\n    margin-left: 83.33333333%;\n  }\n  .col-lg-offset-19 {\n    margin-left: 79.16666667%;\n  }\n  .col-lg-offset-18 {\n    margin-left: 75%;\n  }\n  .col-lg-offset-17 {\n    margin-left: 70.83333333%;\n  }\n  .col-lg-offset-16 {\n    margin-left: 66.66666667%;\n  }\n  .col-lg-offset-15 {\n    margin-left: 62.5%;\n  }\n  .col-lg-offset-14 {\n    margin-left: 58.33333333%;\n  }\n  .col-lg-offset-13 {\n    margin-left: 54.16666667%;\n  }\n  .col-lg-offset-12 {\n    margin-left: 50%;\n  }\n  .col-lg-offset-11 {\n    margin-left: 45.83333333%;\n  }\n  .col-lg-offset-10 {\n    margin-left: 41.66666667%;\n  }\n  .col-lg-offset-9 {\n    margin-left: 37.5%;\n  }\n  .col-lg-offset-8 {\n    margin-left: 33.33333333%;\n  }\n  .col-lg-offset-7 {\n    margin-left: 29.16666667%;\n  }\n  .col-lg-offset-6 {\n    margin-left: 25%;\n  }\n  .col-lg-offset-5 {\n    margin-left: 20.83333333%;\n  }\n  .col-lg-offset-4 {\n    margin-left: 16.66666667%;\n  }\n  .col-lg-offset-3 {\n    margin-left: 12.5%;\n  }\n  .col-lg-offset-2 {\n    margin-left: 8.33333333%;\n  }\n  .col-lg-offset-1 {\n    margin-left: 4.16666667%;\n  }\n  .col-lg-offset-0 {\n    margin-left: 0%;\n  }\n}\n\n/*\n  X-Large display >= 1800px\n */\n@media (min-width: 1800px) {\n  .container {\n    width: 1760px;\n  }\n}\n.col-xlg-1, .col-xlg-2, .col-xlg-3, .col-xlg-4, .col-xlg-5, .col-xlg-6, .col-xlg-7, .col-xlg-8, .col-xlg-9, .col-xlg-10, .col-xlg-11, .col-xlg-12, .col-xlg-13, .col-xlg-14, .col-xlg-15, .col-xlg-16, .col-xlg-17, .col-xlg-18, .col-xlg-19, .col-xlg-20, .col-xlg-21, .col-xlg-22, .col-xlg-23, .col-xlg-24 {\n  position: relative;\n  min-height: 1px;\n  padding-right: 15px;\n  padding-left: 15px;\n}\n@media (min-width: 1800px) {\n  .col-xlg-1, .col-xlg-2, .col-xlg-3, .col-xlg-4, .col-xlg-5, .col-xlg-6, .col-xlg-7, .col-xlg-8, .col-xlg-9, .col-xlg-10, .col-xlg-11, .col-xlg-12, .col-xlg-13, .col-xlg-14, .col-xlg-15, .col-xlg-16, .col-xlg-17, .col-xlg-18, .col-xlg-19, .col-xlg-20, .col-xlg-21, .col-xlg-22, .col-xlg-23, .col-xlg-24 {\n    float: left;\n  }\n  .col-xlg-24 {\n    width: 100%;\n  }\n  .col-xlg-23 {\n    width: 95.83333333%;\n  }\n  .col-xlg-22 {\n    width: 91.66666667%;\n  }\n  .col-xlg-21 {\n    width: 87.5%;\n  }\n  .col-xlg-20 {\n    width: 83.33333333%;\n  }\n  .col-xlg-19 {\n    width: 79.16666667%;\n  }\n  .col-xlg-18 {\n    width: 75%;\n  }\n  .col-xlg-17 {\n    width: 70.83333333%;\n  }\n  .col-xlg-16 {\n    width: 66.66666667%;\n  }\n  .col-xlg-15 {\n    width: 62.5%;\n  }\n  .col-xlg-14 {\n    width: 58.33333333%;\n  }\n  .col-xlg-13 {\n    width: 54.16666667%;\n  }\n  .col-xlg-12 {\n    width: 50%;\n  }\n  .col-xlg-11 {\n    width: 45.83333333%;\n  }\n  .col-xlg-10 {\n    width: 41.66666667%;\n  }\n  .col-xlg-9 {\n    width: 37.5%;\n  }\n  .col-xlg-8 {\n    width: 33.33333333%;\n  }\n  .col-xlg-7 {\n    width: 29.16666667%;\n  }\n  .col-xlg-6 {\n    width: 25%;\n  }\n  .col-xlg-5 {\n    width: 20.83333333%;\n  }\n  .col-xlg-4 {\n    width: 16.66666667%;\n  }\n  .col-xlg-3 {\n    width: 12.5%;\n  }\n  .col-xlg-2 {\n    width: 8.33333333%;\n  }\n  .col-xlg-1 {\n    width: 4.16666667%;\n  }\n  .col-xlg-pull-24 {\n    right: 100%;\n  }\n  .col-xlg-pull-23 {\n    right: 95.83333333%;\n  }\n  .col-xlg-pull-22 {\n    right: 91.66666667%;\n  }\n  .col-xlg-pull-21 {\n    right: 87.5%;\n  }\n  .col-xlg-pull-20 {\n    right: 83.33333333%;\n  }\n  .col-xlg-pull-19 {\n    right: 79.16666667%;\n  }\n  .col-xlg-pull-18 {\n    right: 75%;\n  }\n  .col-xlg-pull-17 {\n    right: 70.83333333%;\n  }\n  .col-xlg-pull-16 {\n    right: 66.66666667%;\n  }\n  .col-xlg-pull-15 {\n    right: 62.5%;\n  }\n  .col-xlg-pull-14 {\n    right: 58.33333333%;\n  }\n  .col-xlg-pull-13 {\n    right: 54.16666667%;\n  }\n  .col-xlg-pull-12 {\n    right: 50%;\n  }\n  .col-xlg-pull-11 {\n    right: 45.83333333%;\n  }\n  .col-xlg-pull-10 {\n    right: 41.66666667%;\n  }\n  .col-xlg-pull-9 {\n    right: 37.5%;\n  }\n  .col-xlg-pull-8 {\n    right: 33.33333333%;\n  }\n  .col-xlg-pull-7 {\n    right: 29.16666667%;\n  }\n  .col-xlg-pull-6 {\n    right: 25%;\n  }\n  .col-xlg-pull-5 {\n    right: 20.83333333%;\n  }\n  .col-xlg-pull-4 {\n    right: 16.66666667%;\n  }\n  .col-xlg-pull-3 {\n    right: 12.5%;\n  }\n  .col-xlg-pull-2 {\n    right: 8.33333333%;\n  }\n  .col-xlg-pull-1 {\n    right: 4.16666667%;\n  }\n  .col-xlg-pull-0 {\n    right: auto;\n  }\n  .col-xlg-push-24 {\n    left: 100%;\n  }\n  .col-xlg-push-23 {\n    left: 95.83333333%;\n  }\n  .col-xlg-push-22 {\n    left: 91.66666667%;\n  }\n  .col-xlg-push-21 {\n    left: 87.5%;\n  }\n  .col-xlg-push-20 {\n    left: 83.33333333%;\n  }\n  .col-xlg-push-19 {\n    left: 79.16666667%;\n  }\n  .col-xlg-push-18 {\n    left: 75%;\n  }\n  .col-xlg-push-17 {\n    left: 70.83333333%;\n  }\n  .col-xlg-push-16 {\n    left: 66.66666667%;\n  }\n  .col-xlg-push-15 {\n    left: 62.5%;\n  }\n  .col-xlg-push-14 {\n    left: 58.33333333%;\n  }\n  .col-xlg-push-13 {\n    left: 54.16666667%;\n  }\n  .col-xlg-push-12 {\n    left: 50%;\n  }\n  .col-xlg-push-11 {\n    left: 45.83333333%;\n  }\n  .col-xlg-push-10 {\n    left: 41.66666667%;\n  }\n  .col-xlg-push-9 {\n    left: 37.5%;\n  }\n  .col-xlg-push-8 {\n    left: 33.33333333%;\n  }\n  .col-xlg-push-7 {\n    left: 29.16666667%;\n  }\n  .col-xlg-push-6 {\n    left: 25%;\n  }\n  .col-xlg-push-5 {\n    left: 20.83333333%;\n  }\n  .col-xlg-push-4 {\n    left: 16.66666667%;\n  }\n  .col-xlg-push-3 {\n    left: 12.5%;\n  }\n  .col-xlg-push-2 {\n    left: 8.33333333%;\n  }\n  .col-xlg-push-1 {\n    left: 4.16666667%;\n  }\n  .col-xlg-push-0 {\n    left: auto;\n  }\n  .col-xlg-offset-24 {\n    margin-left: 100%;\n  }\n  .col-xlg-offset-23 {\n    margin-left: 95.83333333%;\n  }\n  .col-xlg-offset-22 {\n    margin-left: 91.66666667%;\n  }\n  .col-xlg-offset-21 {\n    margin-left: 87.5%;\n  }\n  .col-xlg-offset-20 {\n    margin-left: 83.33333333%;\n  }\n  .col-xlg-offset-19 {\n    margin-left: 79.16666667%;\n  }\n  .col-xlg-offset-18 {\n    margin-left: 75%;\n  }\n  .col-xlg-offset-17 {\n    margin-left: 70.83333333%;\n  }\n  .col-xlg-offset-16 {\n    margin-left: 66.66666667%;\n  }\n  .col-xlg-offset-15 {\n    margin-left: 62.5%;\n  }\n  .col-xlg-offset-14 {\n    margin-left: 58.33333333%;\n  }\n  .col-xlg-offset-13 {\n    margin-left: 54.16666667%;\n  }\n  .col-xlg-offset-12 {\n    margin-left: 50%;\n  }\n  .col-xlg-offset-11 {\n    margin-left: 45.83333333%;\n  }\n  .col-xlg-offset-10 {\n    margin-left: 41.66666667%;\n  }\n  .col-xlg-offset-9 {\n    margin-left: 37.5%;\n  }\n  .col-xlg-offset-8 {\n    margin-left: 33.33333333%;\n  }\n  .col-xlg-offset-7 {\n    margin-left: 29.16666667%;\n  }\n  .col-xlg-offset-6 {\n    margin-left: 25%;\n  }\n  .col-xlg-offset-5 {\n    margin-left: 20.83333333%;\n  }\n  .col-xlg-offset-4 {\n    margin-left: 16.66666667%;\n  }\n  .col-xlg-offset-3 {\n    margin-left: 12.5%;\n  }\n  .col-xlg-offset-2 {\n    margin-left: 8.33333333%;\n  }\n  .col-xlg-offset-1 {\n    margin-left: 4.16666667%;\n  }\n  .col-xlg-offset-0 {\n    margin-left: 0%;\n  }\n}\n\n.container:before,\n.container:after,\n.container-fluid:before,\n.container-fluid:after {\n  display: table;\n  content: \" \";\n}\n.container:after,\n.container-fluid:after {\n  clear: both;\n}\n@-ms-viewport {\n  width: device-width;\n}\n.visible-xs,\n.visible-sm,\n.visible-md,\n.visible-lg {\n  display: none !important;\n}\n@media (max-width: 767px) {\n  .visible-xs {\n    display: block !important;\n  }\n  table.visible-xs {\n    display: table;\n  }\n  tr.visible-xs {\n    display: table-row !important;\n  }\n  th.visible-xs,\n  td.visible-xs {\n    display: table-cell !important;\n  }\n}\n@media (min-width: 768px) and (max-width: 991px) {\n  .visible-sm {\n    display: block !important;\n  }\n  table.visible-sm {\n    display: table;\n  }\n  tr.visible-sm {\n    display: table-row !important;\n  }\n  th.visible-sm,\n  td.visible-sm {\n    display: table-cell !important;\n  }\n}\n@media (min-width: 992px) and (max-width: 1199px) {\n  .visible-md {\n    display: block !important;\n  }\n  table.visible-md {\n    display: table;\n  }\n  tr.visible-md {\n    display: table-row !important;\n  }\n  th.visible-md,\n  td.visible-md {\n    display: table-cell !important;\n  }\n}\n@media (min-width: 1200px) {\n  .visible-lg {\n    display: block !important;\n  }\n  table.visible-lg {\n    display: table;\n  }\n  tr.visible-lg {\n    display: table-row !important;\n  }\n  th.visible-lg,\n  td.visible-lg {\n    display: table-cell !important;\n  }\n}\n@media (max-width: 767px) {\n  .hidden-xs {\n    display: none !important;\n  }\n}\n@media (min-width: 768px) and (max-width: 991px) {\n  .hidden-sm {\n    display: none !important;\n  }\n}\n@media (min-width: 992px) and (max-width: 1199px) {\n  .hidden-md {\n    display: none !important;\n  }\n}\n@media (min-width: 1200px) {\n  .hidden-lg {\n    display: none !important;\n  }\n}\n.visible-print {\n  display: none !important;\n}\n@media print {\n  .visible-print {\n    display: block !important;\n  }\n  table.visible-print {\n    display: table;\n  }\n  tr.visible-print {\n    display: table-row !important;\n  }\n  th.visible-print,\n  td.visible-print {\n    display: table-cell !important;\n  }\n}\n@media print {\n  .hidden-print {\n    display: none !important;\n  }\n}\n\n.clearfix:before,\n.clearfix:after,\n.container:before,\n.container:after,\n.container-fluid:before,\n.container-fluid:after,\n.row:before,\n.row:after,\n.form-horizontal .form-group:before,\n.form-horizontal .form-group:after,\n.btn-toolbar:before,\n.btn-toolbar:after,\n.btn-group-vertical > .btn-group:before,\n.btn-group-vertical > .btn-group:after,\n.nav:before,\n.nav:after,\n.navbar:before,\n.navbar:after,\n.navbar-header:before,\n.navbar-header:after,\n.navbar-collapse:before,\n.navbar-collapse:after,\n.pager:before,\n.pager:after,\n.panel-body:before,\n.panel-body:after,\n.modal-footer:before,\n.modal-footer:after {\n  display: table;\n  content: \" \";\n}\n.clearfix:after,\n.container:after,\n.container-fluid:after,\n.row:after,\n.form-horizontal .form-group:after,\n.btn-toolbar:after,\n.btn-group-vertical > .btn-group:after,\n.nav:after,\n.navbar:after,\n.navbar-header:after,\n.navbar-collapse:after,\n.pager:after,\n.panel-body:after,\n.modal-footer:after {\n  clear: both;\n}",
            "encoding": "Raw"
          },
          "redirectURL": "",
          "headersSize": 298,
          "bodySize": 29759
        },
        "cache": {},
        "timings": {
          "send": 2,
          "wait": 3,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27310"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.871-06:00",
        "time": 160,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/prototype.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 324,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:50 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:35 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:50 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 220008,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "LyogIFByb3RvdHlwZSBKYXZhU2NyaXB0IGZyYW1ld29yaywgdmVyc2lvbiAxLjcKICogIChjKSAyMDA1LTIwMTAgU2FtIFN0ZXBoZW5zb24KICoKICogIFByb3RvdHlwZSBpcyBmcmVlbHkgZGlzdHJpYnV0YWJsZSB1bmRlciB0aGUgdGVybXMgb2YgYW4gTUlULXN0eWxlIGxpY2Vuc2UuCiAqICBGb3IgZGV0YWlscywgc2VlIHRoZSBQcm90b3R5cGUgd2ViIHNpdGU6IGh0dHA6Ly93d3cucHJvdG90eXBlanMub3JnLwogKgogKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCnZhciBQcm90b3R5cGUgPSB7CgogIFZlcnNpb246ICcxLjcnLAoKICBCcm93c2VyOiAoZnVuY3Rpb24oKXsKICAgIHZhciB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7CiAgICB2YXIgaXNPcGVyYSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cub3BlcmEpID09ICdbb2JqZWN0IE9wZXJhXSc7CiAgICByZXR1cm4gewogICAgICBJRTogICAgICAgICAgICAgISF3aW5kb3cuYXR0YWNoRXZlbnQgJiYgIWlzT3BlcmEsCiAgICAgIE9wZXJhOiAgICAgICAgICBpc09wZXJhLAogICAgICBXZWJLaXQ6ICAgICAgICAgdWEuaW5kZXhPZignQXBwbGVXZWJLaXQvJykgPiAtMSwKICAgICAgR2Vja286ICAgICAgICAgIHVhLmluZGV4T2YoJ0dlY2tvJykgPiAtMSAmJiB1YS5pbmRleE9mKCdLSFRNTCcpID09PSAtMSwKICAgICAgTW9iaWxlU2FmYXJpOiAgIC9BcHBsZS4qTW9iaWxlLy50ZXN0KHVhKQogICAgfQogIH0pKCksCgogIEJyb3dzZXJGZWF0dXJlczogewogICAgWFBhdGg6ICEhZG9jdW1lbnQuZXZhbHVhdGUsCgogICAgU2VsZWN0b3JzQVBJOiAhIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IsCgogICAgRWxlbWVudEV4dGVuc2lvbnM6IChmdW5jdGlvbigpIHsKICAgICAgdmFyIGNvbnN0cnVjdG9yID0gd2luZG93LkVsZW1lbnQgfHwgd2luZG93LkhUTUxFbGVtZW50OwogICAgICByZXR1cm4gISEoY29uc3RydWN0b3IgJiYgY29uc3RydWN0b3IucHJvdG90eXBlKTsKICAgIH0pKCksCiAgICBTcGVjaWZpY0VsZW1lbnRFeHRlbnNpb25zOiAoZnVuY3Rpb24oKSB7CiAgICAgIGlmICh0eXBlb2Ygd2luZG93LkhUTUxEaXZFbGVtZW50ICE9PSAndW5kZWZpbmVkJykKICAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwKICAgICAgICAgIGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyksCiAgICAgICAgICBpc1N1cHBvcnRlZCA9IGZhbHNlOwoKICAgICAgaWYgKGRpdlsnX19wcm90b19fJ10gJiYgKGRpdlsnX19wcm90b19fJ10gIT09IGZvcm1bJ19fcHJvdG9fXyddKSkgewogICAgICAgIGlzU3VwcG9ydGVkID0gdHJ1ZTsKICAgICAgfQoKICAgICAgZGl2ID0gZm9ybSA9IG51bGw7CgogICAgICByZXR1cm4gaXNTdXBwb3J0ZWQ7CiAgICB9KSgpCiAgfSwKCiAgU2NyaXB0RnJhZ21lbnQ6ICc8c2NyaXB0W14+XSo+KFtcXFNcXHNdKj8pPFwvc2NyaXB0PicsCiAgSlNPTkZpbHRlcjogL15cL1wqLXNlY3VyZS0oW1xzXFNdKilcKlwvXHMqJC8sCgogIGVtcHR5RnVuY3Rpb246IGZ1bmN0aW9uKCkgeyB9LAoKICBLOiBmdW5jdGlvbih4KSB7IHJldHVybiB4IH0KfTsKCmlmIChQcm90b3R5cGUuQnJvd3Nlci5Nb2JpbGVTYWZhcmkpCiAgUHJvdG90eXBlLkJyb3dzZXJGZWF0dXJlcy5TcGVjaWZpY0VsZW1lbnRFeHRlbnNpb25zID0gZmFsc2U7CgoKdmFyIEFic3RyYWN0ID0geyB9OwoKCnZhciBUcnkgPSB7CiAgdGhlc2U6IGZ1bmN0aW9uKCkgewogICAgdmFyIHJldHVyblZhbHVlOwoKICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIGxhbWJkYSA9IGFyZ3VtZW50c1tpXTsKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm5WYWx1ZSA9IGxhbWJkYSgpOwogICAgICAgIGJyZWFrOwogICAgICB9IGNhdGNoIChlKSB7IH0KICAgIH0KCiAgICByZXR1cm4gcmV0dXJuVmFsdWU7CiAgfQp9OwoKLyogQmFzZWQgb24gQWxleCBBcm5lbGwncyBpbmhlcml0YW5jZSBpbXBsZW1lbnRhdGlvbi4gKi8KCnZhciBDbGFzcyA9IChmdW5jdGlvbigpIHsKCiAgdmFyIElTX0RPTlRFTlVNX0JVR0dZID0gKGZ1bmN0aW9uKCl7CiAgICBmb3IgKHZhciBwIGluIHsgdG9TdHJpbmc6IDEgfSkgewogICAgICBpZiAocCA9PT0gJ3RvU3RyaW5nJykgcmV0dXJuIGZhbHNlOwogICAgfQogICAgcmV0dXJuIHRydWU7CiAgfSkoKTsKCiAgZnVuY3Rpb24gc3ViY2xhc3MoKSB7fTsKICBmdW5jdGlvbiBjcmVhdGUoKSB7CiAgICB2YXIgcGFyZW50ID0gbnVsbCwgcHJvcGVydGllcyA9ICRBKGFyZ3VtZW50cyk7CiAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24ocHJvcGVydGllc1swXSkpCiAgICAgIHBhcmVudCA9IHByb3BlcnRpZXMuc2hpZnQoKTsKCiAgICBmdW5jdGlvbiBrbGFzcygpIHsKICAgICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgT2JqZWN0LmV4dGVuZChrbGFzcywgQ2xhc3MuTWV0aG9kcyk7CiAgICBrbGFzcy5zdXBlcmNsYXNzID0gcGFyZW50OwogICAga2xhc3Muc3ViY2xhc3NlcyA9IFtdOwoKICAgIGlmIChwYXJlbnQpIHsKICAgICAgc3ViY2xhc3MucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsKICAgICAga2xhc3MucHJvdG90eXBlID0gbmV3IHN1YmNsYXNzOwogICAgICBwYXJlbnQuc3ViY2xhc3Nlcy5wdXNoKGtsYXNzKTsKICAgIH0KCiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gcHJvcGVydGllcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykKICAgICAga2xhc3MuYWRkTWV0aG9kcyhwcm9wZXJ0aWVzW2ldKTsKCiAgICBpZiAoIWtsYXNzLnByb3RvdHlwZS5pbml0aWFsaXplKQogICAgICBrbGFzcy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IFByb3RvdHlwZS5lbXB0eUZ1bmN0aW9uOwoKICAgIGtsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGtsYXNzOwogICAgcmV0dXJuIGtsYXNzOwogIH0KCiAgZnVuY3Rpb24gYWRkTWV0aG9kcyhzb3VyY2UpIHsKICAgIHZhciBhbmNlc3RvciAgID0gdGhpcy5zdXBlcmNsYXNzICYmIHRoaXMuc3VwZXJjbGFzcy5wcm90b3R5cGUsCiAgICAgICAgcHJvcGVydGllcyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7CgogICAgaWYgKElTX0RPTlRFTlVNX0JVR0dZKSB7CiAgICAgIGlmIChzb3VyY2UudG9TdHJpbmcgIT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZykKICAgICAgICBwcm9wZXJ0aWVzLnB1c2goInRvU3RyaW5nIik7CiAgICAgIGlmIChzb3VyY2UudmFsdWVPZiAhPSBPYmplY3QucHJvdG90eXBlLnZhbHVlT2YpCiAgICAgICAgcHJvcGVydGllcy5wdXNoKCJ2YWx1ZU9mIik7CiAgICB9CgogICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHByb3BlcnRpZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHByb3BlcnR5ID0gcHJvcGVydGllc1tpXSwgdmFsdWUgPSBzb3VyY2VbcHJvcGVydHldOwogICAgICBpZiAoYW5jZXN0b3IgJiYgT2JqZWN0LmlzRnVuY3Rpb24odmFsdWUpICYmCiAgICAgICAgICB2YWx1ZS5hcmd1bWVudE5hbWVzKClbMF0gPT0gIiRzdXBlciIpIHsKICAgICAgICB2YXIgbWV0aG9kID0gdmFsdWU7CiAgICAgICAgdmFsdWUgPSAoZnVuY3Rpb24obSkgewogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gYW5jZXN0b3JbbV0uYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfTsKICAgICAgICB9KShwcm9wZXJ0eSkud3JhcChtZXRob2QpOwoKICAgICAgICB2YWx1ZS52YWx1ZU9mID0gbWV0aG9kLnZhbHVlT2YuYmluZChtZXRob2QpOwogICAgICAgIHZhbHVlLnRvU3RyaW5nID0gbWV0aG9kLnRvU3RyaW5nLmJpbmQobWV0aG9kKTsKICAgICAgfQogICAgICB0aGlzLnByb3RvdHlwZVtwcm9wZXJ0eV0gPSB2YWx1ZTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CgogIHJldHVybiB7CiAgICBjcmVhdGU6IGNyZWF0ZSwKICAgIE1ldGhvZHM6IHsKICAgICAgYWRkTWV0aG9kczogYWRkTWV0aG9kcwogICAgfQogIH07Cn0pKCk7CihmdW5jdGlvbigpIHsKCiAgdmFyIF90b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsCiAgICAgIE5VTExfVFlQRSA9ICdOdWxsJywKICAgICAgVU5ERUZJTkVEX1RZUEUgPSAnVW5kZWZpbmVkJywKICAgICAgQk9PTEVBTl9UWVBFID0gJ0Jvb2xlYW4nLAogICAgICBOVU1CRVJfVFlQRSA9ICdOdW1iZXInLAogICAgICBTVFJJTkdfVFlQRSA9ICdTdHJpbmcnLAogICAgICBPQkpFQ1RfVFlQRSA9ICdPYmplY3QnLAogICAgICBGVU5DVElPTl9DTEFTUyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsCiAgICAgIEJPT0xFQU5fQ0xBU1MgPSAnW29iamVjdCBCb29sZWFuXScsCiAgICAgIE5VTUJFUl9DTEFTUyA9ICdbb2JqZWN0IE51bWJlcl0nLAogICAgICBTVFJJTkdfQ0xBU1MgPSAnW29iamVjdCBTdHJpbmddJywKICAgICAgQVJSQVlfQ0xBU1MgPSAnW29iamVjdCBBcnJheV0nLAogICAgICBEQVRFX0NMQVNTID0gJ1tvYmplY3QgRGF0ZV0nLAogICAgICBOQVRJVkVfSlNPTl9TVFJJTkdJRllfU1VQUE9SVCA9IHdpbmRvdy5KU09OICYmCiAgICAgICAgdHlwZW9mIEpTT04uc3RyaW5naWZ5ID09PSAnZnVuY3Rpb24nICYmCiAgICAgICAgSlNPTi5zdHJpbmdpZnkoMCkgPT09ICcwJyAmJgogICAgICAgIHR5cGVvZiBKU09OLnN0cmluZ2lmeShQcm90b3R5cGUuSykgPT09ICd1bmRlZmluZWQnOwoKICBmdW5jdGlvbiBUeXBlKG8pIHsKICAgIHN3aXRjaChvKSB7CiAgICAgIGNhc2UgbnVsbDogcmV0dXJuIE5VTExfVFlQRTsKICAgICAgY2FzZSAodm9pZCAwKTogcmV0dXJuIFVOREVGSU5FRF9UWVBFOwogICAgfQogICAgdmFyIHR5cGUgPSB0eXBlb2YgbzsKICAgIHN3aXRjaCh0eXBlKSB7CiAgICAgIGNhc2UgJ2Jvb2xlYW4nOiByZXR1cm4gQk9PTEVBTl9UWVBFOwogICAgICBjYXNlICdudW1iZXInOiAgcmV0dXJuIE5VTUJFUl9UWVBFOwogICAgICBjYXNlICdzdHJpbmcnOiAgcmV0dXJuIFNUUklOR19UWVBFOwogICAgfQogICAgcmV0dXJuIE9CSkVDVF9UWVBFOwogIH0KCiAgZnVuY3Rpb24gZXh0ZW5kKGRlc3RpbmF0aW9uLCBzb3VyY2UpIHsKICAgIGZvciAodmFyIHByb3BlcnR5IGluIHNvdXJjZSkKICAgICAgZGVzdGluYXRpb25bcHJvcGVydHldID0gc291cmNlW3Byb3BlcnR5XTsKICAgIHJldHVybiBkZXN0aW5hdGlvbjsKICB9CgogIGZ1bmN0aW9uIGluc3BlY3Qob2JqZWN0KSB7CiAgICB0cnkgewogICAgICBpZiAoaXNVbmRlZmluZWQob2JqZWN0KSkgcmV0dXJuICd1bmRlZmluZWQnOwogICAgICBpZiAob2JqZWN0ID09PSBudWxsKSByZXR1cm4gJ251bGwnOwogICAgICByZXR1cm4gb2JqZWN0Lmluc3BlY3QgPyBvYmplY3QuaW5zcGVjdCgpIDogU3RyaW5nKG9iamVjdCk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIGlmIChlIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikgcmV0dXJuICcuLi4nOwogICAgICB0aHJvdyBlOwogICAgfQogIH0KCiAgZnVuY3Rpb24gdG9KU09OKHZhbHVlKSB7CiAgICByZXR1cm4gU3RyKCcnLCB7ICcnOiB2YWx1ZSB9LCBbXSk7CiAgfQoKICBmdW5jdGlvbiBTdHIoa2V5LCBob2xkZXIsIHN0YWNrKSB7CiAgICB2YXIgdmFsdWUgPSBob2xkZXJba2V5XSwKICAgICAgICB0eXBlID0gdHlwZW9mIHZhbHVlOwoKICAgIGlmIChUeXBlKHZhbHVlKSA9PT0gT0JKRUNUX1RZUEUgJiYgdHlwZW9mIHZhbHVlLnRvSlNPTiA9PT0gJ2Z1bmN0aW9uJykgewogICAgICB2YWx1ZSA9IHZhbHVlLnRvSlNPTihrZXkpOwogICAgfQoKICAgIHZhciBfY2xhc3MgPSBfdG9TdHJpbmcuY2FsbCh2YWx1ZSk7CgogICAgc3dpdGNoIChfY2xhc3MpIHsKICAgICAgY2FzZSBOVU1CRVJfQ0xBU1M6CiAgICAgIGNhc2UgQk9PTEVBTl9DTEFTUzoKICAgICAgY2FzZSBTVFJJTkdfQ0xBU1M6CiAgICAgICAgdmFsdWUgPSB2YWx1ZS52YWx1ZU9mKCk7CiAgICB9CgogICAgc3dpdGNoICh2YWx1ZSkgewogICAgICBjYXNlIG51bGw6IHJldHVybiAnbnVsbCc7CiAgICAgIGNhc2UgdHJ1ZTogcmV0dXJuICd0cnVlJzsKICAgICAgY2FzZSBmYWxzZTogcmV0dXJuICdmYWxzZSc7CiAgICB9CgogICAgdHlwZSA9IHR5cGVvZiB2YWx1ZTsKICAgIHN3aXRjaCAodHlwZSkgewogICAgICBjYXNlICdzdHJpbmcnOgogICAgICAgIHJldHVybiB2YWx1ZS5pbnNwZWN0KHRydWUpOwogICAgICBjYXNlICdudW1iZXInOgogICAgICAgIHJldHVybiBpc0Zpbml0ZSh2YWx1ZSkgPyBTdHJpbmcodmFsdWUpIDogJ251bGwnOwogICAgICBjYXNlICdvYmplY3QnOgoKICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gc3RhY2subGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmIChzdGFja1tpXSA9PT0gdmFsdWUpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigpOyB9CiAgICAgICAgfQogICAgICAgIHN0YWNrLnB1c2godmFsdWUpOwoKICAgICAgICB2YXIgcGFydGlhbCA9IFtdOwogICAgICAgIGlmIChfY2xhc3MgPT09IEFSUkFZX0NMQVNTKSB7CiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIHN0ciA9IFN0cihpLCB2YWx1ZSwgc3RhY2spOwogICAgICAgICAgICBwYXJ0aWFsLnB1c2godHlwZW9mIHN0ciA9PT0gJ3VuZGVmaW5lZCcgPyAnbnVsbCcgOiBzdHIpOwogICAgICAgICAgfQogICAgICAgICAgcGFydGlhbCA9ICdbJyArIHBhcnRpYWwuam9pbignLCcpICsgJ10nOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldLCBzdHIgPSBTdHIoa2V5LCB2YWx1ZSwgc3RhY2spOwogICAgICAgICAgICBpZiAodHlwZW9mIHN0ciAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgICAgcGFydGlhbC5wdXNoKGtleS5pbnNwZWN0KHRydWUpKyAnOicgKyBzdHIpOwogICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgcGFydGlhbCA9ICd7JyArIHBhcnRpYWwuam9pbignLCcpICsgJ30nOwogICAgICAgIH0KICAgICAgICBzdGFjay5wb3AoKTsKICAgICAgICByZXR1cm4gcGFydGlhbDsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHN0cmluZ2lmeShvYmplY3QpIHsKICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmplY3QpOwogIH0KCiAgZnVuY3Rpb24gdG9RdWVyeVN0cmluZyhvYmplY3QpIHsKICAgIHJldHVybiAkSChvYmplY3QpLnRvUXVlcnlTdHJpbmcoKTsKICB9CgogIGZ1bmN0aW9uIHRvSFRNTChvYmplY3QpIHsKICAgIHJldHVybiBvYmplY3QgJiYgb2JqZWN0LnRvSFRNTCA/IG9iamVjdC50b0hUTUwoKSA6IFN0cmluZy5pbnRlcnByZXQob2JqZWN0KTsKICB9CgogIGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7CiAgICBpZiAoVHlwZShvYmplY3QpICE9PSBPQkpFQ1RfVFlQRSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCk7IH0KICAgIHZhciByZXN1bHRzID0gW107CiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBvYmplY3QpIHsKICAgICAgaWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHsKICAgICAgICByZXN1bHRzLnB1c2gocHJvcGVydHkpOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9CgogIGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHsKICAgIHZhciByZXN1bHRzID0gW107CiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBvYmplY3QpCiAgICAgIHJlc3VsdHMucHVzaChvYmplY3RbcHJvcGVydHldKTsKICAgIHJldHVybiByZXN1bHRzOwogIH0KCiAgZnVuY3Rpb24gY2xvbmUob2JqZWN0KSB7CiAgICByZXR1cm4gZXh0ZW5kKHsgfSwgb2JqZWN0KTsKICB9CgogIGZ1bmN0aW9uIGlzRWxlbWVudChvYmplY3QpIHsKICAgIHJldHVybiAhIShvYmplY3QgJiYgb2JqZWN0Lm5vZGVUeXBlID09IDEpOwogIH0KCiAgZnVuY3Rpb24gaXNBcnJheShvYmplY3QpIHsKICAgIHJldHVybiBfdG9TdHJpbmcuY2FsbChvYmplY3QpID09PSBBUlJBWV9DTEFTUzsKICB9CgogIHZhciBoYXNOYXRpdmVJc0FycmF5ID0gKHR5cGVvZiBBcnJheS5pc0FycmF5ID09ICdmdW5jdGlvbicpCiAgICAmJiBBcnJheS5pc0FycmF5KFtdKSAmJiAhQXJyYXkuaXNBcnJheSh7fSk7CgogIGlmIChoYXNOYXRpdmVJc0FycmF5KSB7CiAgICBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTsKICB9CgogIGZ1bmN0aW9uIGlzSGFzaChvYmplY3QpIHsKICAgIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiBIYXNoOwogIH0KCiAgZnVuY3Rpb24gaXNGdW5jdGlvbihvYmplY3QpIHsKICAgIHJldHVybiBfdG9TdHJpbmcuY2FsbChvYmplY3QpID09PSBGVU5DVElPTl9DTEFTUzsKICB9CgogIGZ1bmN0aW9uIGlzU3RyaW5nKG9iamVjdCkgewogICAgcmV0dXJuIF90b1N0cmluZy5jYWxsKG9iamVjdCkgPT09IFNUUklOR19DTEFTUzsKICB9CgogIGZ1bmN0aW9uIGlzTnVtYmVyKG9iamVjdCkgewogICAgcmV0dXJuIF90b1N0cmluZy5jYWxsKG9iamVjdCkgPT09IE5VTUJFUl9DTEFTUzsKICB9CgogIGZ1bmN0aW9uIGlzRGF0ZShvYmplY3QpIHsKICAgIHJldHVybiBfdG9TdHJpbmcuY2FsbChvYmplY3QpID09PSBEQVRFX0NMQVNTOwogIH0KCiAgZnVuY3Rpb24gaXNVbmRlZmluZWQob2JqZWN0KSB7CiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gInVuZGVmaW5lZCI7CiAgfQoKICBleHRlbmQoT2JqZWN0LCB7CiAgICBleHRlbmQ6ICAgICAgICBleHRlbmQsCiAgICBpbnNwZWN0OiAgICAgICBpbnNwZWN0LAoKICAgIC8vIEpFTktJTlMtMTE2MTgKICAgIC8vdG9KU09OOiAgICAgICAgTkFUSVZFX0pTT05fU1RSSU5HSUZZX1NVUFBPUlQgPyBzdHJpbmdpZnkgOiB0b0pTT04sCiAgICB0b0pTT046IGZ1bmN0aW9uKG9iamVjdCkgewogICAgICB2YXIgdHlwZSA9IHR5cGVvZiBvYmplY3Q7CiAgICAgIHN3aXRjaCh0eXBlKSB7CiAgICAgICAgY2FzZSAndW5kZWZpbmVkJzoKICAgICAgICBjYXNlICdmdW5jdGlvbic6CiAgICAgICAgY2FzZSAndW5rbm93bic6IHJldHVybjsKICAgICAgICBjYXNlICdib29sZWFuJzogcmV0dXJuIG9iamVjdC50b1N0cmluZygpOwogICAgICB9CiAgICAgIGlmIChvYmplY3QgPT09IG51bGwpIHJldHVybiAnbnVsbCc7CiAgICAgIC8vICJ8fCBvYmplY3QudG9KU09OIiBiZWxvdyBpcyB3b3JrYXJvdW5kIGZvciBPcGVyYSAxMC41Mi81MyBidWcsIHNlZSBIVURTT04tNjQyNAogICAgICBpZiAob2JqZWN0LnRvSlNPTiB8fCBvYmplY3QudG9KU09OKSByZXR1cm4gb2JqZWN0LnRvSlNPTigpOwogICAgICBpZiAob2JqZWN0Lm93bmVyRG9jdW1lbnQgPT09IGRvY3VtZW50KSByZXR1cm47CiAgICAgIHZhciByZXN1bHRzID0gW107CiAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIG9iamVjdCkgewogICAgICAgIHZhciB2YWx1ZSA9IE9iamVjdC50b0pTT04ob2JqZWN0W3Byb3BlcnR5XSk7CiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpCiAgICAgICAgICByZXN1bHRzLnB1c2gocHJvcGVydHkudG9KU09OKCkgKyAnOiAnICsgdmFsdWUpOwogICAgICB9CiAgICAgIHJldHVybiAneycgKyByZXN1bHRzLmpvaW4oJywgJykgKyAnfSc7CiAgICB9LAoKICAgIHRvUXVlcnlTdHJpbmc6IHRvUXVlcnlTdHJpbmcsCiAgICB0b0hUTUw6ICAgICAgICB0b0hUTUwsCiAgICBrZXlzOiAgICAgICAgICBPYmplY3Qua2V5cyB8fCBrZXlzLAogICAgdmFsdWVzOiAgICAgICAgdmFsdWVzLAogICAgY2xvbmU6ICAgICAgICAgY2xvbmUsCiAgICBpc0VsZW1lbnQ6ICAgICBpc0VsZW1lbnQsCiAgICBpc0FycmF5OiAgICAgICBpc0FycmF5LAogICAgaXNIYXNoOiAgICAgICAgaXNIYXNoLAogICAgaXNGdW5jdGlvbjogICAgaXNGdW5jdGlvbiwKICAgIGlzU3RyaW5nOiAgICAgIGlzU3RyaW5nLAogICAgaXNOdW1iZXI6ICAgICAgaXNOdW1iZXIsCiAgICBpc0RhdGU6ICAgICAgICBpc0RhdGUsCiAgICBpc1VuZGVmaW5lZDogICBpc1VuZGVmaW5lZAogIH0pOwp9KSgpOwpPYmplY3QuZXh0ZW5kKEZ1bmN0aW9uLnByb3RvdHlwZSwgKGZ1bmN0aW9uKCkgewogIHZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTsKCiAgZnVuY3Rpb24gdXBkYXRlKGFycmF5LCBhcmdzKSB7CiAgICB2YXIgYXJyYXlMZW5ndGggPSBhcnJheS5sZW5ndGgsIGxlbmd0aCA9IGFyZ3MubGVuZ3RoOwogICAgd2hpbGUgKGxlbmd0aC0tKSBhcnJheVthcnJheUxlbmd0aCArIGxlbmd0aF0gPSBhcmdzW2xlbmd0aF07CiAgICByZXR1cm4gYXJyYXk7CiAgfQoKICBmdW5jdGlvbiBtZXJnZShhcnJheSwgYXJncykgewogICAgYXJyYXkgPSBzbGljZS5jYWxsKGFycmF5LCAwKTsKICAgIHJldHVybiB1cGRhdGUoYXJyYXksIGFyZ3MpOwogIH0KCiAgZnVuY3Rpb24gYXJndW1lbnROYW1lcygpIHsKICAgIHZhciBuYW1lcyA9IHRoaXMudG9TdHJpbmcoKS5tYXRjaCgvXltcc1woXSpmdW5jdGlvblteKF0qXCgoW14pXSopXCkvKVsxXQogICAgICAucmVwbGFjZSgvXC9cLy4qP1tcclxuXXxcL1wqKD86LnxbXHJcbl0pKj9cKlwvL2csICcnKQogICAgICAucmVwbGFjZSgvXHMrL2csICcnKS5zcGxpdCgnLCcpOwogICAgcmV0dXJuIG5hbWVzLmxlbmd0aCA9PSAxICYmICFuYW1lc1swXSA/IFtdIDogbmFtZXM7CiAgfQoKICBmdW5jdGlvbiBiaW5kKGNvbnRleHQpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMiAmJiBPYmplY3QuaXNVbmRlZmluZWQoYXJndW1lbnRzWzBdKSkgcmV0dXJuIHRoaXM7CiAgICB2YXIgX19tZXRob2QgPSB0aGlzLCBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOwogICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICB2YXIgYSA9IG1lcmdlKGFyZ3MsIGFyZ3VtZW50cyk7CiAgICAgIHJldHVybiBfX21ldGhvZC5hcHBseShjb250ZXh0LCBhKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGJpbmRBc0V2ZW50TGlzdGVuZXIoY29udGV4dCkgewogICAgdmFyIF9fbWV0aG9kID0gdGhpcywgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsKICAgIHJldHVybiBmdW5jdGlvbihldmVudCkgewogICAgICB2YXIgYSA9IHVwZGF0ZShbZXZlbnQgfHwgd2luZG93LmV2ZW50XSwgYXJncyk7CiAgICAgIHJldHVybiBfX21ldGhvZC5hcHBseShjb250ZXh0LCBhKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGN1cnJ5KCkgewogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gdGhpczsKICAgIHZhciBfX21ldGhvZCA9IHRoaXMsIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7CiAgICByZXR1cm4gZnVuY3Rpb24oKSB7CiAgICAgIHZhciBhID0gbWVyZ2UoYXJncywgYXJndW1lbnRzKTsKICAgICAgcmV0dXJuIF9fbWV0aG9kLmFwcGx5KHRoaXMsIGEpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gZGVsYXkodGltZW91dCkgewogICAgdmFyIF9fbWV0aG9kID0gdGhpcywgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsKICAgIHRpbWVvdXQgPSB0aW1lb3V0ICogMTAwMDsKICAgIHJldHVybiB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIF9fbWV0aG9kLmFwcGx5KF9fbWV0aG9kLCBhcmdzKTsKICAgIH0sIHRpbWVvdXQpOwogIH0KCiAgZnVuY3Rpb24gZGVmZXIoKSB7CiAgICB2YXIgYXJncyA9IHVwZGF0ZShbMC4wMV0sIGFyZ3VtZW50cyk7CiAgICByZXR1cm4gdGhpcy5kZWxheS5hcHBseSh0aGlzLCBhcmdzKTsKICB9CgogIGZ1bmN0aW9uIHdyYXAod3JhcHBlcikgewogICAgdmFyIF9fbWV0aG9kID0gdGhpczsKICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgdmFyIGEgPSB1cGRhdGUoW19fbWV0aG9kLmJpbmQodGhpcyldLCBhcmd1bWVudHMpOwogICAgICByZXR1cm4gd3JhcHBlci5hcHBseSh0aGlzLCBhKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIG1ldGhvZGl6ZSgpIHsKICAgIGlmICh0aGlzLl9tZXRob2RpemVkKSByZXR1cm4gdGhpcy5fbWV0aG9kaXplZDsKICAgIHZhciBfX21ldGhvZCA9IHRoaXM7CiAgICByZXR1cm4gdGhpcy5fbWV0aG9kaXplZCA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgYSA9IHVwZGF0ZShbdGhpc10sIGFyZ3VtZW50cyk7CiAgICAgIHJldHVybiBfX21ldGhvZC5hcHBseShudWxsLCBhKTsKICAgIH07CiAgfQoKICByZXR1cm4gewogICAgYXJndW1lbnROYW1lczogICAgICAgYXJndW1lbnROYW1lcywKICAgIGJpbmQ6ICAgICAgICAgICAgICAgIGJpbmQsCiAgICBiaW5kQXNFdmVudExpc3RlbmVyOiBiaW5kQXNFdmVudExpc3RlbmVyLAogICAgY3Vycnk6ICAgICAgICAgICAgICAgY3VycnksCiAgICBkZWxheTogICAgICAgICAgICAgICBkZWxheSwKICAgIGRlZmVyOiAgICAgICAgICAgICAgIGRlZmVyLAogICAgd3JhcDogICAgICAgICAgICAgICAgd3JhcCwKICAgIG1ldGhvZGl6ZTogICAgICAgICAgIG1ldGhvZGl6ZQogIH0KfSkoKSk7CgoKCihmdW5jdGlvbihwcm90bykgewoKCiAgZnVuY3Rpb24gdG9JU09TdHJpbmcoKSB7CiAgICByZXR1cm4gdGhpcy5nZXRVVENGdWxsWWVhcigpICsgJy0nICsKICAgICAgKHRoaXMuZ2V0VVRDTW9udGgoKSArIDEpLnRvUGFkZGVkU3RyaW5nKDIpICsgJy0nICsKICAgICAgdGhpcy5nZXRVVENEYXRlKCkudG9QYWRkZWRTdHJpbmcoMikgKyAnVCcgKwogICAgICB0aGlzLmdldFVUQ0hvdXJzKCkudG9QYWRkZWRTdHJpbmcoMikgKyAnOicgKwogICAgICB0aGlzLmdldFVUQ01pbnV0ZXMoKS50b1BhZGRlZFN0cmluZygyKSArICc6JyArCiAgICAgIHRoaXMuZ2V0VVRDU2Vjb25kcygpLnRvUGFkZGVkU3RyaW5nKDIpICsgJ1onOwogIH0KCgogIGZ1bmN0aW9uIHRvSlNPTigpIHsKICAgIHJldHVybiB0aGlzLnRvSVNPU3RyaW5nKCk7CiAgfQoKICBpZiAoIXByb3RvLnRvSVNPU3RyaW5nKSBwcm90by50b0lTT1N0cmluZyA9IHRvSVNPU3RyaW5nOwogIGlmICghcHJvdG8udG9KU09OKSBwcm90by50b0pTT04gPSB0b0pTT047Cgp9KShEYXRlLnByb3RvdHlwZSk7CgoKUmVnRXhwLnByb3RvdHlwZS5tYXRjaCA9IFJlZ0V4cC5wcm90b3R5cGUudGVzdDsKClJlZ0V4cC5lc2NhcGUgPSBmdW5jdGlvbihzdHIpIHsKICByZXR1cm4gU3RyaW5nKHN0cikucmVwbGFjZSgvKFsuKis/Xj0hOiR7fSgpfFtcXVwvXFxdKS9nLCAnXFwkMScpOwp9Owp2YXIgUGVyaW9kaWNhbEV4ZWN1dGVyID0gQ2xhc3MuY3JlYXRlKHsKICBpbml0aWFsaXplOiBmdW5jdGlvbihjYWxsYmFjaywgZnJlcXVlbmN5KSB7CiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7CiAgICB0aGlzLmZyZXF1ZW5jeSA9IGZyZXF1ZW5jeTsKICAgIHRoaXMuY3VycmVudGx5RXhlY3V0aW5nID0gZmFsc2U7CgogICAgdGhpcy5yZWdpc3RlckNhbGxiYWNrKCk7CiAgfSwKCiAgcmVnaXN0ZXJDYWxsYmFjazogZnVuY3Rpb24oKSB7CiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5vblRpbWVyRXZlbnQuYmluZCh0aGlzKSwgdGhpcy5mcmVxdWVuY3kgKiAxMDAwKTsKICB9LAoKICBleGVjdXRlOiBmdW5jdGlvbigpIHsKICAgIHRoaXMuY2FsbGJhY2sodGhpcyk7CiAgfSwKCiAgc3RvcDogZnVuY3Rpb24oKSB7CiAgICBpZiAoIXRoaXMudGltZXIpIHJldHVybjsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICB0aGlzLnRpbWVyID0gbnVsbDsKICB9LAoKICBvblRpbWVyRXZlbnQ6IGZ1bmN0aW9uKCkgewogICAgaWYgKCF0aGlzLmN1cnJlbnRseUV4ZWN1dGluZykgewogICAgICB0cnkgewogICAgICAgIHRoaXMuY3VycmVudGx5RXhlY3V0aW5nID0gdHJ1ZTsKICAgICAgICB0aGlzLmV4ZWN1dGUoKTsKICAgICAgICB0aGlzLmN1cnJlbnRseUV4ZWN1dGluZyA9IGZhbHNlOwogICAgICB9IGNhdGNoKGUpIHsKICAgICAgICB0aGlzLmN1cnJlbnRseUV4ZWN1dGluZyA9IGZhbHNlOwogICAgICAgIHRocm93IGU7CiAgICAgIH0KICAgIH0KICB9Cn0pOwpPYmplY3QuZXh0ZW5kKFN0cmluZywgewogIGludGVycHJldDogZnVuY3Rpb24odmFsdWUpIHsKICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBTdHJpbmcodmFsdWUpOwogIH0sCiAgc3BlY2lhbENoYXI6IHsKICAgICdcYic6ICdcXGInLAogICAgJ1x0JzogJ1xcdCcsCiAgICAnXG4nOiAnXFxuJywKICAgICdcZic6ICdcXGYnLAogICAgJ1xyJzogJ1xccicsCiAgICAnXFwnOiAnXFxcXCcKICB9Cn0pOwoKT2JqZWN0LmV4dGVuZChTdHJpbmcucHJvdG90eXBlLCAoZnVuY3Rpb24oKSB7CiAgdmFyIE5BVElWRV9KU09OX1BBUlNFX1NVUFBPUlQgPSB3aW5kb3cuSlNPTiAmJgogICAgdHlwZW9mIEpTT04ucGFyc2UgPT09ICdmdW5jdGlvbicgJiYKICAgIEpTT04ucGFyc2UoJ3sidGVzdCI6IHRydWV9JykudGVzdDsKCiAgZnVuY3Rpb24gcHJlcGFyZVJlcGxhY2VtZW50KHJlcGxhY2VtZW50KSB7CiAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24ocmVwbGFjZW1lbnQpKSByZXR1cm4gcmVwbGFjZW1lbnQ7CiAgICB2YXIgdGVtcGxhdGUgPSBuZXcgVGVtcGxhdGUocmVwbGFjZW1lbnQpOwogICAgcmV0dXJuIGZ1bmN0aW9uKG1hdGNoKSB7IHJldHVybiB0ZW1wbGF0ZS5ldmFsdWF0ZShtYXRjaCkgfTsKICB9CgogIGZ1bmN0aW9uIGdzdWIocGF0dGVybiwgcmVwbGFjZW1lbnQpIHsKICAgIHZhciByZXN1bHQgPSAnJywgc291cmNlID0gdGhpcywgbWF0Y2g7CiAgICByZXBsYWNlbWVudCA9IHByZXBhcmVSZXBsYWNlbWVudChyZXBsYWNlbWVudCk7CgogICAgaWYgKE9iamVjdC5pc1N0cmluZyhwYXR0ZXJuKSkKICAgICAgcGF0dGVybiA9IFJlZ0V4cC5lc2NhcGUocGF0dGVybik7CgogICAgaWYgKCEocGF0dGVybi5sZW5ndGggfHwgcGF0dGVybi5zb3VyY2UpKSB7CiAgICAgIHJlcGxhY2VtZW50ID0gcmVwbGFjZW1lbnQoJycpOwogICAgICByZXR1cm4gcmVwbGFjZW1lbnQgKyBzb3VyY2Uuc3BsaXQoJycpLmpvaW4ocmVwbGFjZW1lbnQpICsgcmVwbGFjZW1lbnQ7CiAgICB9CgogICAgd2hpbGUgKHNvdXJjZS5sZW5ndGggPiAwKSB7CiAgICAgIGlmIChtYXRjaCA9IHNvdXJjZS5tYXRjaChwYXR0ZXJuKSkgewogICAgICAgIHJlc3VsdCArPSBzb3VyY2Uuc2xpY2UoMCwgbWF0Y2guaW5kZXgpOwogICAgICAgIHJlc3VsdCArPSBTdHJpbmcuaW50ZXJwcmV0KHJlcGxhY2VtZW50KG1hdGNoKSk7CiAgICAgICAgc291cmNlICA9IHNvdXJjZS5zbGljZShtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVzdWx0ICs9IHNvdXJjZSwgc291cmNlID0gJyc7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiByZXN1bHQ7CiAgfQoKICBmdW5jdGlvbiBzdWIocGF0dGVybiwgcmVwbGFjZW1lbnQsIGNvdW50KSB7CiAgICByZXBsYWNlbWVudCA9IHByZXBhcmVSZXBsYWNlbWVudChyZXBsYWNlbWVudCk7CiAgICBjb3VudCA9IE9iamVjdC5pc1VuZGVmaW5lZChjb3VudCkgPyAxIDogY291bnQ7CgogICAgcmV0dXJuIHRoaXMuZ3N1YihwYXR0ZXJuLCBmdW5jdGlvbihtYXRjaCkgewogICAgICBpZiAoLS1jb3VudCA8IDApIHJldHVybiBtYXRjaFswXTsKICAgICAgcmV0dXJuIHJlcGxhY2VtZW50KG1hdGNoKTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gc2NhbihwYXR0ZXJuLCBpdGVyYXRvcikgewogICAgdGhpcy5nc3ViKHBhdHRlcm4sIGl0ZXJhdG9yKTsKICAgIHJldHVybiBTdHJpbmcodGhpcyk7CiAgfQoKICBmdW5jdGlvbiB0cnVuY2F0ZShsZW5ndGgsIHRydW5jYXRpb24pIHsKICAgIGxlbmd0aCA9IGxlbmd0aCB8fCAzMDsKICAgIHRydW5jYXRpb24gPSBPYmplY3QuaXNVbmRlZmluZWQodHJ1bmNhdGlvbikgPyAnLi4uJyA6IHRydW5jYXRpb247CiAgICByZXR1cm4gdGhpcy5sZW5ndGggPiBsZW5ndGggPwogICAgICB0aGlzLnNsaWNlKDAsIGxlbmd0aCAtIHRydW5jYXRpb24ubGVuZ3RoKSArIHRydW5jYXRpb24gOiBTdHJpbmcodGhpcyk7CiAgfQoKICBmdW5jdGlvbiBzdHJpcCgpIHsKICAgIHJldHVybiB0aGlzLnJlcGxhY2UoL15ccysvLCAnJykucmVwbGFjZSgvXHMrJC8sICcnKTsKICB9CgogIGZ1bmN0aW9uIHN0cmlwVGFncygpIHsKICAgIHJldHVybiB0aGlzLnJlcGxhY2UoLzxcdysoXHMrKCJbXiJdKiJ8J1teJ10qJ3xbXj5dKSspPz58PFwvXHcrPi9naSwgJycpOwogIH0KCiAgZnVuY3Rpb24gc3RyaXBTY3JpcHRzKCkgewogICAgcmV0dXJuIHRoaXMucmVwbGFjZShuZXcgUmVnRXhwKFByb3RvdHlwZS5TY3JpcHRGcmFnbWVudCwgJ2ltZycpLCAnJyk7CiAgfQoKICBmdW5jdGlvbiBleHRyYWN0U2NyaXB0cygpIHsKICAgIHZhciBtYXRjaEFsbCA9IG5ldyBSZWdFeHAoUHJvdG90eXBlLlNjcmlwdEZyYWdtZW50LCAnaW1nJyksCiAgICAgICAgbWF0Y2hPbmUgPSBuZXcgUmVnRXhwKFByb3RvdHlwZS5TY3JpcHRGcmFnbWVudCwgJ2ltJyk7CiAgICByZXR1cm4gKHRoaXMubWF0Y2gobWF0Y2hBbGwpIHx8IFtdKS5tYXAoZnVuY3Rpb24oc2NyaXB0VGFnKSB7CiAgICAgIHJldHVybiAoc2NyaXB0VGFnLm1hdGNoKG1hdGNoT25lKSB8fCBbJycsICcnXSlbMV07CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGV2YWxTY3JpcHRzKCkgewogICAgcmV0dXJuIHRoaXMuZXh0cmFjdFNjcmlwdHMoKS5tYXAoZnVuY3Rpb24oc2NyaXB0KSB7IHJldHVybiBldmFsKHNjcmlwdCkgfSk7CiAgfQoKICBmdW5jdGlvbiBlc2NhcGVIVE1MKCkgewogICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvJi9nLCcmYW1wOycpLnJlcGxhY2UoLzwvZywnJmx0OycpLnJlcGxhY2UoLz4vZywnJmd0OycpOwogIH0KCiAgZnVuY3Rpb24gdW5lc2NhcGVIVE1MKCkgewogICAgcmV0dXJuIHRoaXMuc3RyaXBUYWdzKCkucmVwbGFjZSgvJmx0Oy9nLCc8JykucmVwbGFjZSgvJmd0Oy9nLCc+JykucmVwbGFjZSgvJmFtcDsvZywnJicpOwogIH0KCgogIGZ1bmN0aW9uIHRvUXVlcnlQYXJhbXMoc2VwYXJhdG9yKSB7CiAgICB2YXIgbWF0Y2ggPSB0aGlzLnN0cmlwKCkubWF0Y2goLyhbXj8jXSopKCMuKik/JC8pOwogICAgaWYgKCFtYXRjaCkgcmV0dXJuIHsgfTsKCiAgICByZXR1cm4gbWF0Y2hbMV0uc3BsaXQoc2VwYXJhdG9yIHx8ICcmJykuaW5qZWN0KHsgfSwgZnVuY3Rpb24oaGFzaCwgcGFpcikgewogICAgICBpZiAoKHBhaXIgPSBwYWlyLnNwbGl0KCc9JykpWzBdKSB7CiAgICAgICAgdmFyIGtleSA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyLnNoaWZ0KCkpLAogICAgICAgICAgICB2YWx1ZSA9IHBhaXIubGVuZ3RoID4gMSA/IHBhaXIuam9pbignPScpIDogcGFpclswXTsKCiAgICAgICAgaWYgKHZhbHVlICE9IHVuZGVmaW5lZCkgdmFsdWUgPSBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpOwoKICAgICAgICBpZiAoa2V5IGluIGhhc2gpIHsKICAgICAgICAgIGlmICghT2JqZWN0LmlzQXJyYXkoaGFzaFtrZXldKSkgaGFzaFtrZXldID0gW2hhc2hba2V5XV07CiAgICAgICAgICBoYXNoW2tleV0ucHVzaCh2YWx1ZSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgaGFzaFtrZXldID0gdmFsdWU7CiAgICAgIH0KICAgICAgcmV0dXJuIGhhc2g7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHRvQXJyYXkoKSB7CiAgICByZXR1cm4gdGhpcy5zcGxpdCgnJyk7CiAgfQoKICBmdW5jdGlvbiBzdWNjKCkgewogICAgcmV0dXJuIHRoaXMuc2xpY2UoMCwgdGhpcy5sZW5ndGggLSAxKSArCiAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5jaGFyQ29kZUF0KHRoaXMubGVuZ3RoIC0gMSkgKyAxKTsKICB9CgogIGZ1bmN0aW9uIHRpbWVzKGNvdW50KSB7CiAgICByZXR1cm4gY291bnQgPCAxID8gJycgOiBuZXcgQXJyYXkoY291bnQgKyAxKS5qb2luKHRoaXMpOwogIH0KCiAgZnVuY3Rpb24gY2FtZWxpemUoKSB7CiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC8tKyguKT8vZywgZnVuY3Rpb24obWF0Y2gsIGNocikgewogICAgICByZXR1cm4gY2hyID8gY2hyLnRvVXBwZXJDYXNlKCkgOiAnJzsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gY2FwaXRhbGl6ZSgpIHsKICAgIHJldHVybiB0aGlzLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdGhpcy5zdWJzdHJpbmcoMSkudG9Mb3dlckNhc2UoKTsKICB9CgogIGZ1bmN0aW9uIHVuZGVyc2NvcmUoKSB7CiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC86Oi9nLCAnLycpCiAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oW0EtWl0rKShbQS1aXVthLXpdKS9nLCAnJDFfJDInKQogICAgICAgICAgICAgICAucmVwbGFjZSgvKFthLXpcZF0pKFtBLVpdKS9nLCAnJDFfJDInKQogICAgICAgICAgICAgICAucmVwbGFjZSgvLS9nLCAnXycpCiAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpOwogIH0KCiAgZnVuY3Rpb24gZGFzaGVyaXplKCkgewogICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvXy9nLCAnLScpOwogIH0KCiAgZnVuY3Rpb24gaW5zcGVjdCh1c2VEb3VibGVRdW90ZXMpIHsKICAgIHZhciBlc2NhcGVkU3RyaW5nID0gdGhpcy5yZXBsYWNlKC9bXHgwMC1ceDFmXFxdL2csIGZ1bmN0aW9uKGNoYXJhY3RlcikgewogICAgICBpZiAoY2hhcmFjdGVyIGluIFN0cmluZy5zcGVjaWFsQ2hhcikgewogICAgICAgIHJldHVybiBTdHJpbmcuc3BlY2lhbENoYXJbY2hhcmFjdGVyXTsKICAgICAgfQogICAgICByZXR1cm4gJ1xcdTAwJyArIGNoYXJhY3Rlci5jaGFyQ29kZUF0KCkudG9QYWRkZWRTdHJpbmcoMiwgMTYpOwogICAgfSk7CiAgICBpZiAodXNlRG91YmxlUXVvdGVzKSByZXR1cm4gJyInICsgZXNjYXBlZFN0cmluZy5yZXBsYWNlKC8iL2csICdcXCInKSArICciJzsKICAgIHJldHVybiAiJyIgKyBlc2NhcGVkU3RyaW5nLnJlcGxhY2UoLycvZywgJ1xcXCcnKSArICInIjsKICB9CgogIGZ1bmN0aW9uIHRvSlNPTigpIHsKICAgIHJldHVybiB0aGlzLmluc3BlY3QodHJ1ZSk7CiAgfQoKICBmdW5jdGlvbiB1bmZpbHRlckpTT04oZmlsdGVyKSB7CiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKGZpbHRlciB8fCBQcm90b3R5cGUuSlNPTkZpbHRlciwgJyQxJyk7CiAgfQoKICBmdW5jdGlvbiBpc0pTT04oKSB7CiAgICB2YXIgc3RyID0gdGhpczsKICAgIGlmIChzdHIuYmxhbmsoKSkgcmV0dXJuIGZhbHNlOwogICAgc3RyID0gc3RyLnJlcGxhY2UoL1xcKD86WyJcXFwvYmZucnRdfHVbMC05YS1mQS1GXXs0fSkvZywgJ0AnKTsKICAgIHN0ciA9IHN0ci5yZXBsYWNlKC8iW14iXFxcblxyXSoifHRydWV8ZmFsc2V8bnVsbHwtP1xkKyg/OlwuXGQqKT8oPzpbZUVdWytcLV0/XGQrKT8vZywgJ10nKTsKICAgIHN0ciA9IHN0ci5yZXBsYWNlKC8oPzpefDp8LCkoPzpccypcWykrL2csICcnKTsKICAgIHJldHVybiAoL15bXF0sOnt9XHNdKiQvKS50ZXN0KHN0cik7CiAgfQoKICBmdW5jdGlvbiBldmFsSlNPTihzYW5pdGl6ZSkgewogICAgdmFyIGpzb24gPSB0aGlzLnVuZmlsdGVySlNPTigpLAogICAgICAgIGN4ID0gL1tcdTAwMDBcdTAwYWRcdTA2MDAtXHUwNjA0XHUwNzBmXHUxN2I0XHUxN2I1XHUyMDBjLVx1MjAwZlx1MjAyOC1cdTIwMmZcdTIwNjAtXHUyMDZmXHVmZWZmXHVmZmYwLVx1ZmZmZl0vZzsKICAgIGlmIChjeC50ZXN0KGpzb24pKSB7CiAgICAgIGpzb24gPSBqc29uLnJlcGxhY2UoY3gsIGZ1bmN0aW9uIChhKSB7CiAgICAgICAgcmV0dXJuICdcXHUnICsgKCcwMDAwJyArIGEuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KTsKICAgICAgfSk7CiAgICB9CiAgICB0cnkgewogICAgICBpZiAoIXNhbml0aXplIHx8IGpzb24uaXNKU09OKCkpIHJldHVybiBldmFsKCcoJyArIGpzb24gKyAnKScpOwogICAgfSBjYXRjaCAoZSkgeyB9CiAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0JhZGx5IGZvcm1lZCBKU09OIHN0cmluZzogJyArIHRoaXMuaW5zcGVjdCgpKTsKICB9CgogIGZ1bmN0aW9uIHBhcnNlSlNPTigpIHsKICAgIHZhciBqc29uID0gdGhpcy51bmZpbHRlckpTT04oKTsKICAgIHJldHVybiBKU09OLnBhcnNlKGpzb24pOwogIH0KCiAgZnVuY3Rpb24gaW5jbHVkZShwYXR0ZXJuKSB7CiAgICByZXR1cm4gdGhpcy5pbmRleE9mKHBhdHRlcm4pID4gLTE7CiAgfQoKICBmdW5jdGlvbiBzdGFydHNXaXRoKHBhdHRlcm4pIHsKICAgIHJldHVybiB0aGlzLmxhc3RJbmRleE9mKHBhdHRlcm4sIDApID09PSAwOwogIH0KCiAgZnVuY3Rpb24gZW5kc1dpdGgocGF0dGVybikgewogICAgdmFyIGQgPSB0aGlzLmxlbmd0aCAtIHBhdHRlcm4ubGVuZ3RoOwogICAgcmV0dXJuIGQgPj0gMCAmJiB0aGlzLmluZGV4T2YocGF0dGVybiwgZCkgPT09IGQ7CiAgfQoKICBmdW5jdGlvbiBlbXB0eSgpIHsKICAgIHJldHVybiB0aGlzID09ICcnOwogIH0KCiAgZnVuY3Rpb24gYmxhbmsoKSB7CiAgICByZXR1cm4gL15ccyokLy50ZXN0KHRoaXMpOwogIH0KCiAgZnVuY3Rpb24gaW50ZXJwb2xhdGUob2JqZWN0LCBwYXR0ZXJuKSB7CiAgICByZXR1cm4gbmV3IFRlbXBsYXRlKHRoaXMsIHBhdHRlcm4pLmV2YWx1YXRlKG9iamVjdCk7CiAgfQoKICByZXR1cm4gewogICAgZ3N1YjogICAgICAgICAgIGdzdWIsCiAgICBzdWI6ICAgICAgICAgICAgc3ViLAogICAgc2NhbjogICAgICAgICAgIHNjYW4sCiAgICB0cnVuY2F0ZTogICAgICAgdHJ1bmNhdGUsCiAgICBzdHJpcDogICAgICAgICAgU3RyaW5nLnByb3RvdHlwZS50cmltIHx8IHN0cmlwLAogICAgc3RyaXBUYWdzOiAgICAgIHN0cmlwVGFncywKICAgIHN0cmlwU2NyaXB0czogICBzdHJpcFNjcmlwdHMsCiAgICBleHRyYWN0U2NyaXB0czogZXh0cmFjdFNjcmlwdHMsCiAgICBldmFsU2NyaXB0czogICAgZXZhbFNjcmlwdHMsCiAgICBlc2NhcGVIVE1MOiAgICAgZXNjYXBlSFRNTCwKICAgIHVuZXNjYXBlSFRNTDogICB1bmVzY2FwZUhUTUwsCiAgICB0b1F1ZXJ5UGFyYW1zOiAgdG9RdWVyeVBhcmFtcywKICAgIHBhcnNlUXVlcnk6ICAgICB0b1F1ZXJ5UGFyYW1zLAogICAgdG9BcnJheTogICAgICAgIHRvQXJyYXksCiAgICBzdWNjOiAgICAgICAgICAgc3VjYywKICAgIHRpbWVzOiAgICAgICAgICB0aW1lcywKICAgIGNhbWVsaXplOiAgICAgICBjYW1lbGl6ZSwKICAgIGNhcGl0YWxpemU6ICAgICBjYXBpdGFsaXplLAogICAgdW5kZXJzY29yZTogICAgIHVuZGVyc2NvcmUsCiAgICBkYXNoZXJpemU6ICAgICAgZGFzaGVyaXplLAogICAgaW5zcGVjdDogICAgICAgIGluc3BlY3QsCiAgICB1bmZpbHRlckpTT046ICAgdW5maWx0ZXJKU09OLAogICAgdG9KU09OOiAgICAgICAgIHRvSlNPTiwKICAgIGlzSlNPTjogICAgICAgICBpc0pTT04sCiAgICBldmFsSlNPTjogICAgICAgTkFUSVZFX0pTT05fUEFSU0VfU1VQUE9SVCA/IHBhcnNlSlNPTiA6IGV2YWxKU09OLAogICAgaW5jbHVkZTogICAgICAgIGluY2x1ZGUsCiAgICBzdGFydHNXaXRoOiAgICAgc3RhcnRzV2l0aCwKICAgIGVuZHNXaXRoOiAgICAgICBlbmRzV2l0aCwKICAgIGVtcHR5OiAgICAgICAgICBlbXB0eSwKICAgIGJsYW5rOiAgICAgICAgICBibGFuaywKICAgIGludGVycG9sYXRlOiAgICBpbnRlcnBvbGF0ZQogIH07Cn0pKCkpOwoKdmFyIFRlbXBsYXRlID0gQ2xhc3MuY3JlYXRlKHsKICBpbml0aWFsaXplOiBmdW5jdGlvbih0ZW1wbGF0ZSwgcGF0dGVybikgewogICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlLnRvU3RyaW5nKCk7CiAgICB0aGlzLnBhdHRlcm4gPSBwYXR0ZXJuIHx8IFRlbXBsYXRlLlBhdHRlcm47CiAgfSwKCiAgZXZhbHVhdGU6IGZ1bmN0aW9uKG9iamVjdCkgewogICAgaWYgKG9iamVjdCAmJiBPYmplY3QuaXNGdW5jdGlvbihvYmplY3QudG9UZW1wbGF0ZVJlcGxhY2VtZW50cykpCiAgICAgIG9iamVjdCA9IG9iamVjdC50b1RlbXBsYXRlUmVwbGFjZW1lbnRzKCk7CgogICAgcmV0dXJuIHRoaXMudGVtcGxhdGUuZ3N1Yih0aGlzLnBhdHRlcm4sIGZ1bmN0aW9uKG1hdGNoKSB7CiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkgcmV0dXJuIChtYXRjaFsxXSArICcnKTsKCiAgICAgIHZhciBiZWZvcmUgPSBtYXRjaFsxXSB8fCAnJzsKICAgICAgaWYgKGJlZm9yZSA9PSAnXFwnKSByZXR1cm4gbWF0Y2hbMl07CgogICAgICB2YXIgY3R4ID0gb2JqZWN0LCBleHByID0gbWF0Y2hbM10sCiAgICAgICAgICBwYXR0ZXJuID0gL14oW14uW10rfFxbKCg/Oi4qP1teXFxdKT8pXF0pKFwufFxbfCQpLzsKCiAgICAgIG1hdGNoID0gcGF0dGVybi5leGVjKGV4cHIpOwogICAgICBpZiAobWF0Y2ggPT0gbnVsbCkgcmV0dXJuIGJlZm9yZTsKCiAgICAgIHdoaWxlIChtYXRjaCAhPSBudWxsKSB7CiAgICAgICAgdmFyIGNvbXAgPSBtYXRjaFsxXS5zdGFydHNXaXRoKCdbJykgPyBtYXRjaFsyXS5yZXBsYWNlKC9cXFxcXS9nLCAnXScpIDogbWF0Y2hbMV07CiAgICAgICAgY3R4ID0gY3R4W2NvbXBdOwogICAgICAgIGlmIChudWxsID09IGN0eCB8fCAnJyA9PSBtYXRjaFszXSkgYnJlYWs7CiAgICAgICAgZXhwciA9IGV4cHIuc3Vic3RyaW5nKCdbJyA9PSBtYXRjaFszXSA/IG1hdGNoWzFdLmxlbmd0aCA6IG1hdGNoWzBdLmxlbmd0aCk7CiAgICAgICAgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWMoZXhwcik7CiAgICAgIH0KCiAgICAgIHJldHVybiBiZWZvcmUgKyBTdHJpbmcuaW50ZXJwcmV0KGN0eCk7CiAgICB9KTsKICB9Cn0pOwpUZW1wbGF0ZS5QYXR0ZXJuID0gLyhefC58XHJ8XG4pKCNceyguKj8pXH0pLzsKCnZhciAkYnJlYWsgPSB7IH07Cgp2YXIgRW51bWVyYWJsZSA9IChmdW5jdGlvbigpIHsKICBmdW5jdGlvbiBlYWNoKGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICB2YXIgaW5kZXggPSAwOwogICAgdHJ5IHsKICAgICAgdGhpcy5fZWFjaChmdW5jdGlvbih2YWx1ZSkgewogICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4KyspOwogICAgICB9KTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgaWYgKGUgIT0gJGJyZWFrKSB0aHJvdyBlOwogICAgfQogICAgcmV0dXJuIHRoaXM7CiAgfQoKICBmdW5jdGlvbiBlYWNoU2xpY2UobnVtYmVyLCBpdGVyYXRvciwgY29udGV4dCkgewogICAgdmFyIGluZGV4ID0gLW51bWJlciwgc2xpY2VzID0gW10sIGFycmF5ID0gdGhpcy50b0FycmF5KCk7CiAgICBpZiAobnVtYmVyIDwgMSkgcmV0dXJuIGFycmF5OwogICAgd2hpbGUgKChpbmRleCArPSBudW1iZXIpIDwgYXJyYXkubGVuZ3RoKQogICAgICBzbGljZXMucHVzaChhcnJheS5zbGljZShpbmRleCwgaW5kZXgrbnVtYmVyKSk7CiAgICByZXR1cm4gc2xpY2VzLmNvbGxlY3QoaXRlcmF0b3IsIGNvbnRleHQpOwogIH0KCiAgZnVuY3Rpb24gYWxsKGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICBpdGVyYXRvciA9IGl0ZXJhdG9yIHx8IFByb3RvdHlwZS5LOwogICAgdmFyIHJlc3VsdCA9IHRydWU7CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIHJlc3VsdCA9IHJlc3VsdCAmJiAhIWl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4KTsKICAgICAgaWYgKCFyZXN1bHQpIHRocm93ICRicmVhazsKICAgIH0pOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIGFueShpdGVyYXRvciwgY29udGV4dCkgewogICAgaXRlcmF0b3IgPSBpdGVyYXRvciB8fCBQcm90b3R5cGUuSzsKICAgIHZhciByZXN1bHQgPSBmYWxzZTsKICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgaWYgKHJlc3VsdCA9ICEhaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgpKQogICAgICAgIHRocm93ICRicmVhazsKICAgIH0pOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIGNvbGxlY3QoaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgUHJvdG90eXBlLks7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkgewogICAgICByZXN1bHRzLnB1c2goaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgpKTsKICAgIH0pOwogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBkZXRlY3QoaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHZhciByZXN1bHQ7CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIGlmIChpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCkpIHsKICAgICAgICByZXN1bHQgPSB2YWx1ZTsKICAgICAgICB0aHJvdyAkYnJlYWs7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIGZpbmRBbGwoaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHZhciByZXN1bHRzID0gW107CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIGlmIChpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCkpCiAgICAgICAgcmVzdWx0cy5wdXNoKHZhbHVlKTsKICAgIH0pOwogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBncmVwKGZpbHRlciwgaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgUHJvdG90eXBlLks7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwoKICAgIGlmIChPYmplY3QuaXNTdHJpbmcoZmlsdGVyKSkKICAgICAgZmlsdGVyID0gbmV3IFJlZ0V4cChSZWdFeHAuZXNjYXBlKGZpbHRlcikpOwoKICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgaWYgKGZpbHRlci5tYXRjaCh2YWx1ZSkpCiAgICAgICAgcmVzdWx0cy5wdXNoKGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4KSk7CiAgICB9KTsKICAgIHJldHVybiByZXN1bHRzOwogIH0KCiAgZnVuY3Rpb24gaW5jbHVkZShvYmplY3QpIHsKICAgIGlmIChPYmplY3QuaXNGdW5jdGlvbih0aGlzLmluZGV4T2YpKQogICAgICBpZiAodGhpcy5pbmRleE9mKG9iamVjdCkgIT0gLTEpIHJldHVybiB0cnVlOwoKICAgIHZhciBmb3VuZCA9IGZhbHNlOwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSA9PSBvYmplY3QpIHsKICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgdGhyb3cgJGJyZWFrOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBmb3VuZDsKICB9CgogIGZ1bmN0aW9uIGluR3JvdXBzT2YobnVtYmVyLCBmaWxsV2l0aCkgewogICAgZmlsbFdpdGggPSBPYmplY3QuaXNVbmRlZmluZWQoZmlsbFdpdGgpID8gbnVsbCA6IGZpbGxXaXRoOwogICAgcmV0dXJuIHRoaXMuZWFjaFNsaWNlKG51bWJlciwgZnVuY3Rpb24oc2xpY2UpIHsKICAgICAgd2hpbGUoc2xpY2UubGVuZ3RoIDwgbnVtYmVyKSBzbGljZS5wdXNoKGZpbGxXaXRoKTsKICAgICAgcmV0dXJuIHNsaWNlOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBpbmplY3QobWVtbywgaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgbWVtbyA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgbWVtbywgdmFsdWUsIGluZGV4KTsKICAgIH0pOwogICAgcmV0dXJuIG1lbW87CiAgfQoKICBmdW5jdGlvbiBpbnZva2UobWV0aG9kKSB7CiAgICB2YXIgYXJncyA9ICRBKGFyZ3VtZW50cykuc2xpY2UoMSk7CiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odmFsdWUpIHsKICAgICAgcmV0dXJuIHZhbHVlW21ldGhvZF0uYXBwbHkodmFsdWUsIGFyZ3MpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBtYXgoaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgUHJvdG90eXBlLks7CiAgICB2YXIgcmVzdWx0OwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkgewogICAgICB2YWx1ZSA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4KTsKICAgICAgaWYgKHJlc3VsdCA9PSBudWxsIHx8IHZhbHVlID49IHJlc3VsdCkKICAgICAgICByZXN1bHQgPSB2YWx1ZTsKICAgIH0pOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIG1pbihpdGVyYXRvciwgY29udGV4dCkgewogICAgaXRlcmF0b3IgPSBpdGVyYXRvciB8fCBQcm90b3R5cGUuSzsKICAgIHZhciByZXN1bHQ7CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIHZhbHVlID0gaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgpOwogICAgICBpZiAocmVzdWx0ID09IG51bGwgfHwgdmFsdWUgPCByZXN1bHQpCiAgICAgICAgcmVzdWx0ID0gdmFsdWU7CiAgICB9KTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQoKICBmdW5jdGlvbiBwYXJ0aXRpb24oaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgUHJvdG90eXBlLks7CiAgICB2YXIgdHJ1ZXMgPSBbXSwgZmFsc2VzID0gW107CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIChpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCkgPwogICAgICAgIHRydWVzIDogZmFsc2VzKS5wdXNoKHZhbHVlKTsKICAgIH0pOwogICAgcmV0dXJuIFt0cnVlcywgZmFsc2VzXTsKICB9CgogIGZ1bmN0aW9uIHBsdWNrKHByb3BlcnR5KSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIHJlc3VsdHMucHVzaCh2YWx1ZVtwcm9wZXJ0eV0pOwogICAgfSk7CiAgICByZXR1cm4gcmVzdWx0czsKICB9CgogIGZ1bmN0aW9uIHJlamVjdChpdGVyYXRvciwgY29udGV4dCkgewogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgaWYgKCFpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCkpCiAgICAgICAgcmVzdWx0cy5wdXNoKHZhbHVlKTsKICAgIH0pOwogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBzb3J0QnkoaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgY3JpdGVyaWE6IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4KQogICAgICB9OwogICAgfSkuc29ydChmdW5jdGlvbihsZWZ0LCByaWdodCkgewogICAgICB2YXIgYSA9IGxlZnQuY3JpdGVyaWEsIGIgPSByaWdodC5jcml0ZXJpYTsKICAgICAgcmV0dXJuIGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwOwogICAgfSkucGx1Y2soJ3ZhbHVlJyk7CiAgfQoKICBmdW5jdGlvbiB0b0FycmF5KCkgewogICAgcmV0dXJuIHRoaXMubWFwKCk7CiAgfQoKICBmdW5jdGlvbiB6aXAoKSB7CiAgICB2YXIgaXRlcmF0b3IgPSBQcm90b3R5cGUuSywgYXJncyA9ICRBKGFyZ3VtZW50cyk7CiAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24oYXJncy5sYXN0KCkpKQogICAgICBpdGVyYXRvciA9IGFyZ3MucG9wKCk7CgogICAgdmFyIGNvbGxlY3Rpb25zID0gW3RoaXNdLmNvbmNhdChhcmdzKS5tYXAoJEEpOwogICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkgewogICAgICByZXR1cm4gaXRlcmF0b3IoY29sbGVjdGlvbnMucGx1Y2soaW5kZXgpKTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gc2l6ZSgpIHsKICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKS5sZW5ndGg7CiAgfQoKICBmdW5jdGlvbiBpbnNwZWN0KCkgewogICAgcmV0dXJuICcjPEVudW1lcmFibGU6JyArIHRoaXMudG9BcnJheSgpLmluc3BlY3QoKSArICc+JzsKICB9CgoKCgoKCgoKCiAgcmV0dXJuIHsKICAgIGVhY2g6ICAgICAgIGVhY2gsCiAgICBlYWNoU2xpY2U6ICBlYWNoU2xpY2UsCiAgICBhbGw6ICAgICAgICBhbGwsCiAgICBldmVyeTogICAgICBhbGwsCiAgICBhbnk6ICAgICAgICBhbnksCiAgICBzb21lOiAgICAgICBhbnksCiAgICBjb2xsZWN0OiAgICBjb2xsZWN0LAogICAgbWFwOiAgICAgICAgY29sbGVjdCwKICAgIGRldGVjdDogICAgIGRldGVjdCwKICAgIGZpbmRBbGw6ICAgIGZpbmRBbGwsCiAgICBzZWxlY3Q6ICAgICBmaW5kQWxsLAogICAgZmlsdGVyOiAgICAgZmluZEFsbCwKICAgIGdyZXA6ICAgICAgIGdyZXAsCiAgICBpbmNsdWRlOiAgICBpbmNsdWRlLAogICAgbWVtYmVyOiAgICAgaW5jbHVkZSwKICAgIGluR3JvdXBzT2Y6IGluR3JvdXBzT2YsCiAgICBpbmplY3Q6ICAgICBpbmplY3QsCiAgICBpbnZva2U6ICAgICBpbnZva2UsCiAgICBtYXg6ICAgICAgICBtYXgsCiAgICBtaW46ICAgICAgICBtaW4sCiAgICBwYXJ0aXRpb246ICBwYXJ0aXRpb24sCiAgICBwbHVjazogICAgICBwbHVjaywKICAgIHJlamVjdDogICAgIHJlamVjdCwKICAgIHNvcnRCeTogICAgIHNvcnRCeSwKICAgIHRvQXJyYXk6ICAgIHRvQXJyYXksCiAgICBlbnRyaWVzOiAgICB0b0FycmF5LAogICAgemlwOiAgICAgICAgemlwLAogICAgc2l6ZTogICAgICAgc2l6ZSwKICAgIGluc3BlY3Q6ICAgIGluc3BlY3QsCiAgICBmaW5kOiAgICAgICBkZXRlY3QKICB9Owp9KSgpOwoKZnVuY3Rpb24gJEEoaXRlcmFibGUpIHsKICBpZiAoIWl0ZXJhYmxlKSByZXR1cm4gW107CiAgaWYgKCd0b0FycmF5JyBpbiBPYmplY3QoaXRlcmFibGUpKSByZXR1cm4gaXRlcmFibGUudG9BcnJheSgpOwogIHZhciBsZW5ndGggPSBpdGVyYWJsZS5sZW5ndGggfHwgMCwgcmVzdWx0cyA9IG5ldyBBcnJheShsZW5ndGgpOwogIHdoaWxlIChsZW5ndGgtLSkgcmVzdWx0c1tsZW5ndGhdID0gaXRlcmFibGVbbGVuZ3RoXTsKICByZXR1cm4gcmVzdWx0czsKfQoKCmZ1bmN0aW9uICR3KHN0cmluZykgewogIGlmICghT2JqZWN0LmlzU3RyaW5nKHN0cmluZykpIHJldHVybiBbXTsKICBzdHJpbmcgPSBzdHJpbmcuc3RyaXAoKTsKICByZXR1cm4gc3RyaW5nID8gc3RyaW5nLnNwbGl0KC9ccysvKSA6IFtdOwp9CgpBcnJheS5mcm9tID0gJEE7CgoKKGZ1bmN0aW9uKCkgewogIHZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLAogICAgICBzbGljZSA9IGFycmF5UHJvdG8uc2xpY2UsCiAgICAgIF9lYWNoID0gYXJyYXlQcm90by5mb3JFYWNoOyAvLyB1c2UgbmF0aXZlIGJyb3dzZXIgSlMgMS42IGltcGxlbWVudGF0aW9uIGlmIGF2YWlsYWJsZQoKICBmdW5jdGlvbiBlYWNoKGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gdGhpcy5sZW5ndGggPj4+IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICBpZiAoaSBpbiB0aGlzKSBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHRoaXNbaV0sIGksIHRoaXMpOwogICAgfQogIH0KICBpZiAoIV9lYWNoKSBfZWFjaCA9IGVhY2g7CgogIGZ1bmN0aW9uIGNsZWFyKCkgewogICAgdGhpcy5sZW5ndGggPSAwOwogICAgcmV0dXJuIHRoaXM7CiAgfQoKICBmdW5jdGlvbiBmaXJzdCgpIHsKICAgIHJldHVybiB0aGlzWzBdOwogIH0KCiAgZnVuY3Rpb24gbGFzdCgpIHsKICAgIHJldHVybiB0aGlzW3RoaXMubGVuZ3RoIC0gMV07CiAgfQoKICBmdW5jdGlvbiBjb21wYWN0KCkgewogICAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBmbGF0dGVuKCkgewogICAgcmV0dXJuIHRoaXMuaW5qZWN0KFtdLCBmdW5jdGlvbihhcnJheSwgdmFsdWUpIHsKICAgICAgaWYgKE9iamVjdC5pc0FycmF5KHZhbHVlKSkKICAgICAgICByZXR1cm4gYXJyYXkuY29uY2F0KHZhbHVlLmZsYXR0ZW4oKSk7CiAgICAgIGFycmF5LnB1c2godmFsdWUpOwogICAgICByZXR1cm4gYXJyYXk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHdpdGhvdXQoKSB7CiAgICB2YXIgdmFsdWVzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIHJldHVybiAhdmFsdWVzLmluY2x1ZGUodmFsdWUpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiByZXZlcnNlKGlubGluZSkgewogICAgcmV0dXJuIChpbmxpbmUgPT09IGZhbHNlID8gdGhpcy50b0FycmF5KCkgOiB0aGlzKS5fcmV2ZXJzZSgpOwogIH0KCiAgZnVuY3Rpb24gdW5pcShzb3J0ZWQpIHsKICAgIHJldHVybiB0aGlzLmluamVjdChbXSwgZnVuY3Rpb24oYXJyYXksIHZhbHVlLCBpbmRleCkgewogICAgICBpZiAoMCA9PSBpbmRleCB8fCAoc29ydGVkID8gYXJyYXkubGFzdCgpICE9IHZhbHVlIDogIWFycmF5LmluY2x1ZGUodmFsdWUpKSkKICAgICAgICBhcnJheS5wdXNoKHZhbHVlKTsKICAgICAgcmV0dXJuIGFycmF5OwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBpbnRlcnNlY3QoYXJyYXkpIHsKICAgIHJldHVybiB0aGlzLnVuaXEoKS5maW5kQWxsKGZ1bmN0aW9uKGl0ZW0pIHsKICAgICAgcmV0dXJuIGFycmF5LmRldGVjdChmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gaXRlbSA9PT0gdmFsdWUgfSk7CiAgICB9KTsKICB9CgoKICBmdW5jdGlvbiBjbG9uZSgpIHsKICAgIHJldHVybiBzbGljZS5jYWxsKHRoaXMsIDApOwogIH0KCiAgZnVuY3Rpb24gc2l6ZSgpIHsKICAgIHJldHVybiB0aGlzLmxlbmd0aDsKICB9CgogIGZ1bmN0aW9uIGluc3BlY3QoKSB7CiAgICByZXR1cm4gJ1snICsgdGhpcy5tYXAoT2JqZWN0Lmluc3BlY3QpLmpvaW4oJywgJykgKyAnXSc7CiAgfQoKICBmdW5jdGlvbiB0b0pTT04oKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKG9iamVjdCkgewogICAgICB2YXIgdmFsdWUgPSBPYmplY3QudG9KU09OKG9iamVjdCk7CiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSByZXN1bHRzLnB1c2godmFsdWUpOwogICAgfSk7CiAgICByZXR1cm4gJ1snICsgcmVzdWx0cy5qb2luKCcsICcpICsgJ10nOwogIH0KCiAgZnVuY3Rpb24gaW5kZXhPZihpdGVtLCBpKSB7CiAgICBpIHx8IChpID0gMCk7CiAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGg7CiAgICBpZiAoaSA8IDApIGkgPSBsZW5ndGggKyBpOwogICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykKICAgICAgaWYgKHRoaXNbaV0gPT09IGl0ZW0pIHJldHVybiBpOwogICAgcmV0dXJuIC0xOwogIH0KCiAgZnVuY3Rpb24gbGFzdEluZGV4T2YoaXRlbSwgaSkgewogICAgaSA9IGlzTmFOKGkpID8gdGhpcy5sZW5ndGggOiAoaSA8IDAgPyB0aGlzLmxlbmd0aCArIGkgOiBpKSArIDE7CiAgICB2YXIgbiA9IHRoaXMuc2xpY2UoMCwgaSkucmV2ZXJzZSgpLmluZGV4T2YoaXRlbSk7CiAgICByZXR1cm4gKG4gPCAwKSA/IG4gOiBpIC0gbiAtIDE7CiAgfQoKICBmdW5jdGlvbiBjb25jYXQoKSB7CiAgICB2YXIgYXJyYXkgPSBzbGljZS5jYWxsKHRoaXMsIDApLCBpdGVtOwogICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICBpdGVtID0gYXJndW1lbnRzW2ldOwogICAgICBpZiAoT2JqZWN0LmlzQXJyYXkoaXRlbSkgJiYgISgnY2FsbGVlJyBpbiBpdGVtKSkgewogICAgICAgIGZvciAodmFyIGogPSAwLCBhcnJheUxlbmd0aCA9IGl0ZW0ubGVuZ3RoOyBqIDwgYXJyYXlMZW5ndGg7IGorKykKICAgICAgICAgIGFycmF5LnB1c2goaXRlbVtqXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYXJyYXkucHVzaChpdGVtKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIGFycmF5OwogIH0KCiAgT2JqZWN0LmV4dGVuZChhcnJheVByb3RvLCBFbnVtZXJhYmxlKTsKCiAgaWYgKCFhcnJheVByb3RvLl9yZXZlcnNlKQogICAgYXJyYXlQcm90by5fcmV2ZXJzZSA9IGFycmF5UHJvdG8ucmV2ZXJzZTsKCiAgT2JqZWN0LmV4dGVuZChhcnJheVByb3RvLCB7CiAgICBfZWFjaDogICAgIF9lYWNoLAogICAgY2xlYXI6ICAgICBjbGVhciwKICAgIGZpcnN0OiAgICAgZmlyc3QsCiAgICBsYXN0OiAgICAgIGxhc3QsCiAgICBjb21wYWN0OiAgIGNvbXBhY3QsCiAgICBmbGF0dGVuOiAgIGZsYXR0ZW4sCiAgICB3aXRob3V0OiAgIHdpdGhvdXQsCiAgICByZXZlcnNlOiAgIHJldmVyc2UsCiAgICB1bmlxOiAgICAgIHVuaXEsCiAgICBpbnRlcnNlY3Q6IGludGVyc2VjdCwKICAgIHRvSlNPTjogICAgdG9KU09OLAogICAgY2xvbmU6ICAgICBjbG9uZSwKICAgIHRvQXJyYXk6ICAgY2xvbmUsCiAgICBzaXplOiAgICAgIHNpemUsCiAgICBpbnNwZWN0OiAgIGluc3BlY3QKICB9KTsKCiAgdmFyIENPTkNBVF9BUkdVTUVOVFNfQlVHR1kgPSAoZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gW10uY29uY2F0KGFyZ3VtZW50cylbMF1bMF0gIT09IDE7CiAgfSkoMSwyKQoKICBpZiAoQ09OQ0FUX0FSR1VNRU5UU19CVUdHWSkgYXJyYXlQcm90by5jb25jYXQgPSBjb25jYXQ7CgogIGlmICghYXJyYXlQcm90by5pbmRleE9mKSBhcnJheVByb3RvLmluZGV4T2YgPSBpbmRleE9mOwogIGlmICghYXJyYXlQcm90by5sYXN0SW5kZXhPZikgYXJyYXlQcm90by5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mOwp9KSgpOwpmdW5jdGlvbiAkSChvYmplY3QpIHsKICByZXR1cm4gbmV3IEhhc2gob2JqZWN0KTsKfTsKCnZhciBIYXNoID0gQ2xhc3MuY3JlYXRlKEVudW1lcmFibGUsIChmdW5jdGlvbigpIHsKICBmdW5jdGlvbiBpbml0aWFsaXplKG9iamVjdCkgewogICAgdGhpcy5fb2JqZWN0ID0gT2JqZWN0LmlzSGFzaChvYmplY3QpID8gb2JqZWN0LnRvT2JqZWN0KCkgOiBPYmplY3QuY2xvbmUob2JqZWN0KTsKICB9CgoKICBmdW5jdGlvbiBfZWFjaChpdGVyYXRvcikgewogICAgZm9yICh2YXIga2V5IGluIHRoaXMuX29iamVjdCkgewogICAgICB2YXIgdmFsdWUgPSB0aGlzLl9vYmplY3Rba2V5XSwgcGFpciA9IFtrZXksIHZhbHVlXTsKICAgICAgcGFpci5rZXkgPSBrZXk7CiAgICAgIHBhaXIudmFsdWUgPSB2YWx1ZTsKICAgICAgaXRlcmF0b3IocGFpcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkgewogICAgcmV0dXJuIHRoaXMuX29iamVjdFtrZXldID0gdmFsdWU7CiAgfQoKICBmdW5jdGlvbiBnZXQoa2V5KSB7CiAgICBpZiAodGhpcy5fb2JqZWN0W2tleV0gIT09IE9iamVjdC5wcm90b3R5cGVba2V5XSkKICAgICAgcmV0dXJuIHRoaXMuX29iamVjdFtrZXldOwogIH0KCiAgZnVuY3Rpb24gdW5zZXQoa2V5KSB7CiAgICB2YXIgdmFsdWUgPSB0aGlzLl9vYmplY3Rba2V5XTsKICAgIGRlbGV0ZSB0aGlzLl9vYmplY3Rba2V5XTsKICAgIHJldHVybiB2YWx1ZTsKICB9CgogIGZ1bmN0aW9uIHRvT2JqZWN0KCkgewogICAgcmV0dXJuIE9iamVjdC5jbG9uZSh0aGlzLl9vYmplY3QpOwogIH0KCgoKICBmdW5jdGlvbiBrZXlzKCkgewogICAgcmV0dXJuIHRoaXMucGx1Y2soJ2tleScpOwogIH0KCiAgZnVuY3Rpb24gdmFsdWVzKCkgewogICAgcmV0dXJuIHRoaXMucGx1Y2soJ3ZhbHVlJyk7CiAgfQoKICBmdW5jdGlvbiBpbmRleCh2YWx1ZSkgewogICAgdmFyIG1hdGNoID0gdGhpcy5kZXRlY3QoZnVuY3Rpb24ocGFpcikgewogICAgICByZXR1cm4gcGFpci52YWx1ZSA9PT0gdmFsdWU7CiAgICB9KTsKICAgIHJldHVybiBtYXRjaCAmJiBtYXRjaC5rZXk7CiAgfQoKICBmdW5jdGlvbiBtZXJnZShvYmplY3QpIHsKICAgIHJldHVybiB0aGlzLmNsb25lKCkudXBkYXRlKG9iamVjdCk7CiAgfQoKICBmdW5jdGlvbiB1cGRhdGUob2JqZWN0KSB7CiAgICByZXR1cm4gbmV3IEhhc2gob2JqZWN0KS5pbmplY3QodGhpcywgZnVuY3Rpb24ocmVzdWx0LCBwYWlyKSB7CiAgICAgIHJlc3VsdC5zZXQocGFpci5rZXksIHBhaXIudmFsdWUpOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB0b1F1ZXJ5UGFpcihrZXksIHZhbHVlKSB7CiAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKHZhbHVlKSkgcmV0dXJuIGtleTsKICAgIHJldHVybiBrZXkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nLmludGVycHJldCh2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gdG9RdWVyeVN0cmluZygpIHsKICAgIHJldHVybiB0aGlzLmluamVjdChbXSwgZnVuY3Rpb24ocmVzdWx0cywgcGFpcikgewogICAgICB2YXIga2V5ID0gZW5jb2RlVVJJQ29tcG9uZW50KHBhaXIua2V5KSwgdmFsdWVzID0gcGFpci52YWx1ZTsKCiAgICAgIGlmICh2YWx1ZXMgJiYgdHlwZW9mIHZhbHVlcyA9PSAnb2JqZWN0JykgewogICAgICAgIGlmIChPYmplY3QuaXNBcnJheSh2YWx1ZXMpKSB7CiAgICAgICAgICB2YXIgcXVlcnlWYWx1ZXMgPSBbXTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB2YWx1ZXMubGVuZ3RoLCB2YWx1ZTsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2ldOwogICAgICAgICAgICBxdWVyeVZhbHVlcy5wdXNoKHRvUXVlcnlQYWlyKGtleSwgdmFsdWUpKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiByZXN1bHRzLmNvbmNhdChxdWVyeVZhbHVlcyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgcmVzdWx0cy5wdXNoKHRvUXVlcnlQYWlyKGtleSwgdmFsdWVzKSk7CiAgICAgIHJldHVybiByZXN1bHRzOwogICAgfSkuam9pbignJicpOwogIH0KCiAgZnVuY3Rpb24gaW5zcGVjdCgpIHsKICAgIHJldHVybiAnIzxIYXNoOnsnICsgdGhpcy5tYXAoZnVuY3Rpb24ocGFpcikgewogICAgICByZXR1cm4gcGFpci5tYXAoT2JqZWN0Lmluc3BlY3QpLmpvaW4oJzogJyk7CiAgICB9KS5qb2luKCcsICcpICsgJ30+JzsKICB9CgogIGZ1bmN0aW9uIHRvSlNPTigpIHsKICAgIHJldHVybiB0aGlzLnRvT2JqZWN0KCkudG9KU09OKCk7CiAgfQoKICBmdW5jdGlvbiBjbG9uZSgpIHsKICAgIHJldHVybiBuZXcgSGFzaCh0aGlzKTsKICB9CgogIHJldHVybiB7CiAgICBpbml0aWFsaXplOiAgICAgICAgICAgICBpbml0aWFsaXplLAogICAgX2VhY2g6ICAgICAgICAgICAgICAgICAgX2VhY2gsCiAgICBzZXQ6ICAgICAgICAgICAgICAgICAgICBzZXQsCiAgICBnZXQ6ICAgICAgICAgICAgICAgICAgICBnZXQsCiAgICB1bnNldDogICAgICAgICAgICAgICAgICB1bnNldCwKICAgIHRvT2JqZWN0OiAgICAgICAgICAgICAgIHRvT2JqZWN0LAogICAgdG9UZW1wbGF0ZVJlcGxhY2VtZW50czogdG9PYmplY3QsCiAgICBrZXlzOiAgICAgICAgICAgICAgICAgICBrZXlzLAogICAgdmFsdWVzOiAgICAgICAgICAgICAgICAgdmFsdWVzLAogICAgaW5kZXg6ICAgICAgICAgICAgICAgICAgaW5kZXgsCiAgICBtZXJnZTogICAgICAgICAgICAgICAgICBtZXJnZSwKICAgIHVwZGF0ZTogICAgICAgICAgICAgICAgIHVwZGF0ZSwKICAgIHRvUXVlcnlTdHJpbmc6ICAgICAgICAgIHRvUXVlcnlTdHJpbmcsCiAgICBpbnNwZWN0OiAgICAgICAgICAgICAgICBpbnNwZWN0LAogICAgdG9KU09OOiAgICAgICAgICAgICAgICAgdG9KU09OLAogICAgY2xvbmU6ICAgICAgICAgICAgICAgICAgY2xvbmUKICB9Owp9KSgpKTsKCkhhc2guZnJvbSA9ICRIOwpPYmplY3QuZXh0ZW5kKE51bWJlci5wcm90b3R5cGUsIChmdW5jdGlvbigpIHsKICBmdW5jdGlvbiB0b0NvbG9yUGFydCgpIHsKICAgIHJldHVybiB0aGlzLnRvUGFkZGVkU3RyaW5nKDIsIDE2KTsKICB9CgogIGZ1bmN0aW9uIHN1Y2MoKSB7CiAgICByZXR1cm4gdGhpcyArIDE7CiAgfQoKICBmdW5jdGlvbiB0aW1lcyhpdGVyYXRvciwgY29udGV4dCkgewogICAgJFIoMCwgdGhpcywgdHJ1ZSkuZWFjaChpdGVyYXRvciwgY29udGV4dCk7CiAgICByZXR1cm4gdGhpczsKICB9CgogIGZ1bmN0aW9uIHRvUGFkZGVkU3RyaW5nKGxlbmd0aCwgcmFkaXgpIHsKICAgIHZhciBzdHJpbmcgPSB0aGlzLnRvU3RyaW5nKHJhZGl4IHx8IDEwKTsKICAgIHJldHVybiAnMCcudGltZXMobGVuZ3RoIC0gc3RyaW5nLmxlbmd0aCkgKyBzdHJpbmc7CiAgfQoKICBmdW5jdGlvbiB0b0pTT04oKSB7CiAgICByZXR1cm4gaXNGaW5pdGUodGhpcykgPyB0aGlzLnRvU3RyaW5nKCkgOiAnbnVsbCc7CiAgfQoKICBmdW5jdGlvbiBhYnMoKSB7CiAgICByZXR1cm4gTWF0aC5hYnModGhpcyk7CiAgfQoKICBmdW5jdGlvbiByb3VuZCgpIHsKICAgIHJldHVybiBNYXRoLnJvdW5kKHRoaXMpOwogIH0KCiAgZnVuY3Rpb24gY2VpbCgpIHsKICAgIHJldHVybiBNYXRoLmNlaWwodGhpcyk7CiAgfQoKICBmdW5jdGlvbiBmbG9vcigpIHsKICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMpOwogIH0KCiAgcmV0dXJuIHsKICAgIHRvQ29sb3JQYXJ0OiAgICB0b0NvbG9yUGFydCwKICAgIHN1Y2M6ICAgICAgICAgICBzdWNjLAogICAgdGltZXM6ICAgICAgICAgIHRpbWVzLAogICAgdG9QYWRkZWRTdHJpbmc6IHRvUGFkZGVkU3RyaW5nLAogICAgdG9KU09OOiAgICAgICAgIHRvSlNPTiwKICAgIGFiczogICAgICAgICAgICBhYnMsCiAgICByb3VuZDogICAgICAgICAgcm91bmQsCiAgICBjZWlsOiAgICAgICAgICAgY2VpbCwKICAgIGZsb29yOiAgICAgICAgICBmbG9vcgogIH07Cn0pKCkpOwoKZnVuY3Rpb24gJFIoc3RhcnQsIGVuZCwgZXhjbHVzaXZlKSB7CiAgcmV0dXJuIG5ldyBPYmplY3RSYW5nZShzdGFydCwgZW5kLCBleGNsdXNpdmUpOwp9Cgp2YXIgT2JqZWN0UmFuZ2UgPSBDbGFzcy5jcmVhdGUoRW51bWVyYWJsZSwgKGZ1bmN0aW9uKCkgewogIGZ1bmN0aW9uIGluaXRpYWxpemUoc3RhcnQsIGVuZCwgZXhjbHVzaXZlKSB7CiAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7CiAgICB0aGlzLmVuZCA9IGVuZDsKICAgIHRoaXMuZXhjbHVzaXZlID0gZXhjbHVzaXZlOwogIH0KCiAgZnVuY3Rpb24gX2VhY2goaXRlcmF0b3IpIHsKICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhcnQ7CiAgICB3aGlsZSAodGhpcy5pbmNsdWRlKHZhbHVlKSkgewogICAgICBpdGVyYXRvcih2YWx1ZSk7CiAgICAgIHZhbHVlID0gdmFsdWUuc3VjYygpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaW5jbHVkZSh2YWx1ZSkgewogICAgaWYgKHZhbHVlIDwgdGhpcy5zdGFydCkKICAgICAgcmV0dXJuIGZhbHNlOwogICAgaWYgKHRoaXMuZXhjbHVzaXZlKQogICAgICByZXR1cm4gdmFsdWUgPCB0aGlzLmVuZDsKICAgIHJldHVybiB2YWx1ZSA8PSB0aGlzLmVuZDsKICB9CgogIHJldHVybiB7CiAgICBpbml0aWFsaXplOiBpbml0aWFsaXplLAogICAgX2VhY2g6ICAgICAgX2VhY2gsCiAgICBpbmNsdWRlOiAgICBpbmNsdWRlCiAgfTsKfSkoKSk7CgoKCnZhciBBamF4ID0gewogIGdldFRyYW5zcG9ydDogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gVHJ5LnRoZXNlKAogICAgICBmdW5jdGlvbigpIHtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0KCl9LAogICAgICBmdW5jdGlvbigpIHtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01zeG1sMi5YTUxIVFRQJyl9LAogICAgICBmdW5jdGlvbigpIHtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01pY3Jvc29mdC5YTUxIVFRQJyl9CiAgICApIHx8IGZhbHNlOwogIH0sCgogIGFjdGl2ZVJlcXVlc3RDb3VudDogMAp9OwoKQWpheC5SZXNwb25kZXJzID0gewogIHJlc3BvbmRlcnM6IFtdLAoKICBfZWFjaDogZnVuY3Rpb24oaXRlcmF0b3IpIHsKICAgIHRoaXMucmVzcG9uZGVycy5fZWFjaChpdGVyYXRvcik7CiAgfSwKCiAgcmVnaXN0ZXI6IGZ1bmN0aW9uKHJlc3BvbmRlcikgewogICAgaWYgKCF0aGlzLmluY2x1ZGUocmVzcG9uZGVyKSkKICAgICAgdGhpcy5yZXNwb25kZXJzLnB1c2gocmVzcG9uZGVyKTsKICB9LAoKICB1bnJlZ2lzdGVyOiBmdW5jdGlvbihyZXNwb25kZXIpIHsKICAgIHRoaXMucmVzcG9uZGVycyA9IHRoaXMucmVzcG9uZGVycy53aXRob3V0KHJlc3BvbmRlcik7CiAgfSwKCiAgZGlzcGF0Y2g6IGZ1bmN0aW9uKGNhbGxiYWNrLCByZXF1ZXN0LCB0cmFuc3BvcnQsIGpzb24pIHsKICAgIHRoaXMuZWFjaChmdW5jdGlvbihyZXNwb25kZXIpIHsKICAgICAgaWYgKE9iamVjdC5pc0Z1bmN0aW9uKHJlc3BvbmRlcltjYWxsYmFja10pKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJlc3BvbmRlcltjYWxsYmFja10uYXBwbHkocmVzcG9uZGVyLCBbcmVxdWVzdCwgdHJhbnNwb3J0LCBqc29uXSk7CiAgICAgICAgfSBjYXRjaCAoZSkgeyB9CiAgICAgIH0KICAgIH0pOwogIH0KfTsKCk9iamVjdC5leHRlbmQoQWpheC5SZXNwb25kZXJzLCBFbnVtZXJhYmxlKTsKCkFqYXguUmVzcG9uZGVycy5yZWdpc3Rlcih7CiAgb25DcmVhdGU6ICAgZnVuY3Rpb24oKSB7IEFqYXguYWN0aXZlUmVxdWVzdENvdW50KysgfSwKICBvbkNvbXBsZXRlOiBmdW5jdGlvbigpIHsgQWpheC5hY3RpdmVSZXF1ZXN0Q291bnQtLSB9Cn0pOwpBamF4LkJhc2UgPSBDbGFzcy5jcmVhdGUoewogIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgIHRoaXMub3B0aW9ucyA9IHsKICAgICAgbWV0aG9kOiAgICAgICAncG9zdCcsCiAgICAgIGFzeW5jaHJvbm91czogdHJ1ZSwKICAgICAgY29udGVudFR5cGU6ICAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywKICAgICAgZW5jb2Rpbmc6ICAgICAnVVRGLTgnLAogICAgICBwYXJhbWV0ZXJzOiAgICcnLAogICAgICBldmFsSlNPTjogICAgIHRydWUsCiAgICAgIGV2YWxKUzogICAgICAgZmFsc2UKICAgIH07CiAgICBPYmplY3QuZXh0ZW5kKHRoaXMub3B0aW9ucywgb3B0aW9ucyB8fCB7IH0pOwoKICAgIHRoaXMub3B0aW9ucy5tZXRob2QgPSB0aGlzLm9wdGlvbnMubWV0aG9kLnRvTG93ZXJDYXNlKCk7CgogICAgaWYgKE9iamVjdC5pc0hhc2godGhpcy5vcHRpb25zLnBhcmFtZXRlcnMpKQogICAgICB0aGlzLm9wdGlvbnMucGFyYW1ldGVycyA9IHRoaXMub3B0aW9ucy5wYXJhbWV0ZXJzLnRvT2JqZWN0KCk7CgogICAgLy8gS0sgcGF0Y2ggLS0gaGFuZGxlIGNydW1iIGZvciBQT1NUIGF1dG9tYXRpY2FsbHkgYnkgYWRkaW5nIGEgaGVhZGVyCiAgICBpZih0aGlzLm9wdGlvbnMubWV0aG9kPT0icG9zdCIpIHsKICAgICAgICBpZih0aGlzLm9wdGlvbnMucmVxdWVzdEhlYWRlcnM9PXVuZGVmaW5lZCkKICAgICAgICAgICAgdGhpcy5vcHRpb25zLnJlcXVlc3RIZWFkZXJzID0ge307CiAgICAgICAgY3J1bWIud3JhcCh0aGlzLm9wdGlvbnMucmVxdWVzdEhlYWRlcnMpOwogICAgfQogICAgLy8gS0sgcGF0Y2ggdW50aWwgaGVyZQogIH0KfSk7CkFqYXguUmVxdWVzdCA9IENsYXNzLmNyZWF0ZShBamF4LkJhc2UsIHsKICBfY29tcGxldGU6IGZhbHNlLAoKICBpbml0aWFsaXplOiBmdW5jdGlvbigkc3VwZXIsIHVybCwgb3B0aW9ucykgewogICAgJHN1cGVyKG9wdGlvbnMpOwogICAgdGhpcy50cmFuc3BvcnQgPSBBamF4LmdldFRyYW5zcG9ydCgpOwogICAgdGhpcy5yZXF1ZXN0KHVybCk7CiAgfSwKCiAgcmVxdWVzdDogZnVuY3Rpb24odXJsKSB7CiAgICB0aGlzLnVybCA9IHVybDsKICAgIHRoaXMubWV0aG9kID0gdGhpcy5vcHRpb25zLm1ldGhvZDsKICAgIHZhciBwYXJhbXMgPSBPYmplY3QuaXNTdHJpbmcodGhpcy5vcHRpb25zLnBhcmFtZXRlcnMpID8KICAgICAgICAgIHRoaXMub3B0aW9ucy5wYXJhbWV0ZXJzIDoKICAgICAgICAgIE9iamVjdC50b1F1ZXJ5U3RyaW5nKHRoaXMub3B0aW9ucy5wYXJhbWV0ZXJzKTsKCiAgICBpZiAoIVsnZ2V0JywgJ3Bvc3QnXS5pbmNsdWRlKHRoaXMubWV0aG9kKSkgewogICAgICBwYXJhbXMgKz0gKHBhcmFtcyA/ICcmJyA6ICcnKSArICJfbWV0aG9kPSIgKyB0aGlzLm1ldGhvZDsKICAgICAgdGhpcy5tZXRob2QgPSAncG9zdCc7CiAgICB9CgogICAgaWYgKHBhcmFtcyAmJiB0aGlzLm1ldGhvZCA9PT0gJ2dldCcpIHsKICAgICAgdGhpcy51cmwgKz0gKHRoaXMudXJsLmluY2x1ZGUoJz8nKSA/ICcmJyA6ICc/JykgKyBwYXJhbXM7CiAgICB9CgogICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1zLnRvUXVlcnlQYXJhbXMoKTsKCiAgICB0cnkgewogICAgICB2YXIgcmVzcG9uc2UgPSBuZXcgQWpheC5SZXNwb25zZSh0aGlzKTsKICAgICAgaWYgKHRoaXMub3B0aW9ucy5vbkNyZWF0ZSkgdGhpcy5vcHRpb25zLm9uQ3JlYXRlKHJlc3BvbnNlKTsKICAgICAgQWpheC5SZXNwb25kZXJzLmRpc3BhdGNoKCdvbkNyZWF0ZScsIHRoaXMsIHJlc3BvbnNlKTsKCiAgICAgIHRoaXMudHJhbnNwb3J0Lm9wZW4odGhpcy5tZXRob2QudG9VcHBlckNhc2UoKSwgdGhpcy51cmwsCiAgICAgICAgdGhpcy5vcHRpb25zLmFzeW5jaHJvbm91cyk7CgogICAgICBpZiAodGhpcy5vcHRpb25zLmFzeW5jaHJvbm91cykgdGhpcy5yZXNwb25kVG9SZWFkeVN0YXRlLmJpbmQodGhpcykuZGVmZXIoMSk7CgogICAgICB0aGlzLnRyYW5zcG9ydC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSB0aGlzLm9uU3RhdGVDaGFuZ2UuYmluZCh0aGlzKTsKICAgICAgdGhpcy5zZXRSZXF1ZXN0SGVhZGVycygpOwoKICAgICAgdGhpcy5ib2R5ID0gdGhpcy5tZXRob2QgPT0gJ3Bvc3QnID8gKHRoaXMub3B0aW9ucy5wb3N0Qm9keSB8fCBwYXJhbXMpIDogbnVsbDsKICAgICAgdGhpcy50cmFuc3BvcnQuc2VuZCh0aGlzLmJvZHkpOwoKICAgICAgLyogRm9yY2UgRmlyZWZveCB0byBoYW5kbGUgcmVhZHkgc3RhdGUgNCBmb3Igc3luY2hyb25vdXMgcmVxdWVzdHMgKi8KICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuYXN5bmNocm9ub3VzICYmIHRoaXMudHJhbnNwb3J0Lm92ZXJyaWRlTWltZVR5cGUpCiAgICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlKCk7CgogICAgfQogICAgY2F0Y2ggKGUpIHsKICAgICAgdGhpcy5kaXNwYXRjaEV4Y2VwdGlvbihlKTsKICAgIH0KICB9LAoKICBvblN0YXRlQ2hhbmdlOiBmdW5jdGlvbigpIHsKICAgIHZhciByZWFkeVN0YXRlID0gdGhpcy50cmFuc3BvcnQucmVhZHlTdGF0ZTsKICAgIGlmIChyZWFkeVN0YXRlID4gMSAmJiAhKChyZWFkeVN0YXRlID09IDQpICYmIHRoaXMuX2NvbXBsZXRlKSkKICAgICAgdGhpcy5yZXNwb25kVG9SZWFkeVN0YXRlKHRoaXMudHJhbnNwb3J0LnJlYWR5U3RhdGUpOwogIH0sCgogIHNldFJlcXVlc3RIZWFkZXJzOiBmdW5jdGlvbigpIHsKICAgIHZhciBoZWFkZXJzID0gewogICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsCiAgICAgICdYLVByb3RvdHlwZS1WZXJzaW9uJzogUHJvdG90eXBlLlZlcnNpb24sCiAgICAgICdBY2NlcHQnOiAndGV4dC9qYXZhc2NyaXB0LCB0ZXh0L2h0bWwsIGFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwsICovKicKICAgIH07CgogICAgaWYgKHRoaXMubWV0aG9kID09ICdwb3N0JykgewogICAgICBoZWFkZXJzWydDb250ZW50LXR5cGUnXSA9IHRoaXMub3B0aW9ucy5jb250ZW50VHlwZSArCiAgICAgICAgKHRoaXMub3B0aW9ucy5lbmNvZGluZyA/ICc7IGNoYXJzZXQ9JyArIHRoaXMub3B0aW9ucy5lbmNvZGluZyA6ICcnKTsKCiAgICAgIC8qIEZvcmNlICJDb25uZWN0aW9uOiBjbG9zZSIgZm9yIG9sZGVyIE1vemlsbGEgYnJvd3NlcnMgdG8gd29yawogICAgICAgKiBhcm91bmQgYSBidWcgd2hlcmUgWE1MSHR0cFJlcXVlc3Qgc2VuZHMgYW4gaW5jb3JyZWN0CiAgICAgICAqIENvbnRlbnQtbGVuZ3RoIGhlYWRlci4gU2VlIE1vemlsbGEgQnVnemlsbGEgIzI0NjY1MS4KICAgICAgICovCiAgICAgIGlmICh0aGlzLnRyYW5zcG9ydC5vdmVycmlkZU1pbWVUeXBlICYmCiAgICAgICAgICAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvR2Vja29cLyhcZHs0fSkvKSB8fCBbMCwyMDA1XSlbMV0gPCAyMDA1KQogICAgICAgICAgICBoZWFkZXJzWydDb25uZWN0aW9uJ10gPSAnY2xvc2UnOwogICAgfQoKICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLnJlcXVlc3RIZWFkZXJzID09ICdvYmplY3QnKSB7CiAgICAgIHZhciBleHRyYXMgPSB0aGlzLm9wdGlvbnMucmVxdWVzdEhlYWRlcnM7CgogICAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24oZXh0cmFzLnB1c2gpKQogICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBleHRyYXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpICs9IDIpCiAgICAgICAgICBoZWFkZXJzW2V4dHJhc1tpXV0gPSBleHRyYXNbaSsxXTsKICAgICAgZWxzZQogICAgICAgICRIKGV4dHJhcykuZWFjaChmdW5jdGlvbihwYWlyKSB7IGhlYWRlcnNbcGFpci5rZXldID0gcGFpci52YWx1ZSB9KTsKICAgIH0KCiAgICBmb3IgKHZhciBuYW1lIGluIGhlYWRlcnMpCiAgICAgIHRoaXMudHJhbnNwb3J0LnNldFJlcXVlc3RIZWFkZXIobmFtZSwgaGVhZGVyc1tuYW1lXSk7CiAgfSwKCiAgc3VjY2VzczogZnVuY3Rpb24oKSB7CiAgICB2YXIgc3RhdHVzID0gdGhpcy5nZXRTdGF0dXMoKTsKICAgIHJldHVybiAhc3RhdHVzIHx8IChzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCkgfHwgc3RhdHVzID09IDMwNDsKICB9LAoKICBnZXRTdGF0dXM6IGZ1bmN0aW9uKCkgewogICAgdHJ5IHsKICAgICAgaWYgKHRoaXMudHJhbnNwb3J0LnN0YXR1cyA9PT0gMTIyMykgcmV0dXJuIDIwNDsKICAgICAgcmV0dXJuIHRoaXMudHJhbnNwb3J0LnN0YXR1cyB8fCAwOwogICAgfSBjYXRjaCAoZSkgeyByZXR1cm4gMCB9CiAgfSwKCiAgcmVzcG9uZFRvUmVhZHlTdGF0ZTogZnVuY3Rpb24ocmVhZHlTdGF0ZSkgewogICAgdmFyIHN0YXRlID0gQWpheC5SZXF1ZXN0LkV2ZW50c1tyZWFkeVN0YXRlXSwgcmVzcG9uc2UgPSBuZXcgQWpheC5SZXNwb25zZSh0aGlzKTsKCiAgICBpZiAoc3RhdGUgPT0gJ0NvbXBsZXRlJykgewogICAgICB0cnkgewogICAgICAgIHRoaXMuX2NvbXBsZXRlID0gdHJ1ZTsKICAgICAgICAodGhpcy5vcHRpb25zWydvbicgKyByZXNwb25zZS5zdGF0dXNdCiAgICAgICAgIHx8IHRoaXMub3B0aW9uc1snb24nICsgKHRoaXMuc3VjY2VzcygpID8gJ1N1Y2Nlc3MnIDogJ0ZhaWx1cmUnKV0KICAgICAgICAgfHwgUHJvdG90eXBlLmVtcHR5RnVuY3Rpb24pKHJlc3BvbnNlLCByZXNwb25zZS5oZWFkZXJKU09OKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHRoaXMuZGlzcGF0Y2hFeGNlcHRpb24oZSk7CiAgICAgIH0KCiAgICAgIHZhciBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmdldEhlYWRlcignQ29udGVudC10eXBlJyk7CiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZXZhbEpTID09ICdmb3JjZScKICAgICAgICAgIHx8ICh0aGlzLm9wdGlvbnMuZXZhbEpTICYmIHRoaXMuaXNTYW1lT3JpZ2luKCkgJiYgY29udGVudFR5cGUKICAgICAgICAgICYmIGNvbnRlbnRUeXBlLm1hdGNoKC9eXHMqKHRleHR8YXBwbGljYXRpb24pXC8oeC0pPyhqYXZhfGVjbWEpc2NyaXB0KDsuKik/XHMqJC9pKSkpCiAgICAgICAgdGhpcy5ldmFsUmVzcG9uc2UoKTsKICAgIH0KCiAgICB0cnkgewogICAgICAodGhpcy5vcHRpb25zWydvbicgKyBzdGF0ZV0gfHwgUHJvdG90eXBlLmVtcHR5RnVuY3Rpb24pKHJlc3BvbnNlLCByZXNwb25zZS5oZWFkZXJKU09OKTsKICAgICAgQWpheC5SZXNwb25kZXJzLmRpc3BhdGNoKCdvbicgKyBzdGF0ZSwgdGhpcywgcmVzcG9uc2UsIHJlc3BvbnNlLmhlYWRlckpTT04pOwogICAgfSBjYXRjaCAoZSkgewogICAgICB0aGlzLmRpc3BhdGNoRXhjZXB0aW9uKGUpOwogICAgfQoKICAgIGlmIChzdGF0ZSA9PSAnQ29tcGxldGUnKSB7CiAgICAgIHRoaXMudHJhbnNwb3J0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IFByb3RvdHlwZS5lbXB0eUZ1bmN0aW9uOwogICAgfQogIH0sCgogIGlzU2FtZU9yaWdpbjogZnVuY3Rpb24oKSB7CiAgICB2YXIgbSA9IHRoaXMudXJsLm1hdGNoKC9eXHMqaHR0cHM/OlwvXC9bXlwvXSovKTsKICAgIHJldHVybiAhbSB8fCAobVswXSA9PSAnI3twcm90b2NvbH0vLyN7ZG9tYWlufSN7cG9ydH0nLmludGVycG9sYXRlKHsKICAgICAgcHJvdG9jb2w6IGxvY2F0aW9uLnByb3RvY29sLAogICAgICBkb21haW46IGRvY3VtZW50LmRvbWFpbiwKICAgICAgcG9ydDogbG9jYXRpb24ucG9ydCA/ICc6JyArIGxvY2F0aW9uLnBvcnQgOiAnJwogICAgfSkpOwogIH0sCgogIGdldEhlYWRlcjogZnVuY3Rpb24obmFtZSkgewogICAgdHJ5IHsKICAgICAgcmV0dXJuIHRoaXMudHJhbnNwb3J0LmdldFJlc3BvbnNlSGVhZGVyKG5hbWUpIHx8IG51bGw7CiAgICB9IGNhdGNoIChlKSB7IHJldHVybiBudWxsOyB9CiAgfSwKCiAgZXZhbFJlc3BvbnNlOiBmdW5jdGlvbigpIHsKICAgIHRyeSB7CiAgICAgIHJldHVybiBldmFsKCh0aGlzLnRyYW5zcG9ydC5yZXNwb25zZVRleHQgfHwgJycpLnVuZmlsdGVySlNPTigpKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgdGhpcy5kaXNwYXRjaEV4Y2VwdGlvbihlKTsKICAgIH0KICB9LAoKICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7CiAgICAodGhpcy5vcHRpb25zLm9uRXhjZXB0aW9uIHx8IFByb3RvdHlwZS5lbXB0eUZ1bmN0aW9uKSh0aGlzLCBleGNlcHRpb24pOwogICAgQWpheC5SZXNwb25kZXJzLmRpc3BhdGNoKCdvbkV4Y2VwdGlvbicsIHRoaXMsIGV4Y2VwdGlvbik7CiAgfQp9KTsKCkFqYXguUmVxdWVzdC5FdmVudHMgPQogIFsnVW5pbml0aWFsaXplZCcsICdMb2FkaW5nJywgJ0xvYWRlZCcsICdJbnRlcmFjdGl2ZScsICdDb21wbGV0ZSddOwoKCgoKCgoKCkFqYXguUmVzcG9uc2UgPSBDbGFzcy5jcmVhdGUoewogIGluaXRpYWxpemU6IGZ1bmN0aW9uKHJlcXVlc3QpewogICAgdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdDsKICAgIHZhciB0cmFuc3BvcnQgID0gdGhpcy50cmFuc3BvcnQgID0gcmVxdWVzdC50cmFuc3BvcnQsCiAgICAgICAgcmVhZHlTdGF0ZSA9IHRoaXMucmVhZHlTdGF0ZSA9IHRyYW5zcG9ydC5yZWFkeVN0YXRlOwoKICAgIGlmICgocmVhZHlTdGF0ZSA+IDIgJiYgIVByb3RvdHlwZS5Ccm93c2VyLklFKSB8fCByZWFkeVN0YXRlID09IDQpIHsKICAgICAgdGhpcy5zdGF0dXMgICAgICAgPSB0aGlzLmdldFN0YXR1cygpOwogICAgICB0aGlzLnN0YXR1c1RleHQgICA9IHRoaXMuZ2V0U3RhdHVzVGV4dCgpOwogICAgICB0aGlzLnJlc3BvbnNlVGV4dCA9IFN0cmluZy5pbnRlcnByZXQodHJhbnNwb3J0LnJlc3BvbnNlVGV4dCk7CiAgICAgIHRoaXMuaGVhZGVySlNPTiAgID0gdGhpcy5fZ2V0SGVhZGVySlNPTigpOwogICAgfQoKICAgIGlmIChyZWFkeVN0YXRlID09IDQpIHsKICAgICAgdmFyIHhtbCA9IHRyYW5zcG9ydC5yZXNwb25zZVhNTDsKICAgICAgdGhpcy5yZXNwb25zZVhNTCAgPSBPYmplY3QuaXNVbmRlZmluZWQoeG1sKSA/IG51bGwgOiB4bWw7CiAgICAgIHRoaXMucmVzcG9uc2VKU09OID0gdGhpcy5fZ2V0UmVzcG9uc2VKU09OKCk7CiAgICB9CiAgfSwKCiAgc3RhdHVzOiAgICAgIDAsCgogIHN0YXR1c1RleHQ6ICcnLAoKICBnZXRTdGF0dXM6IEFqYXguUmVxdWVzdC5wcm90b3R5cGUuZ2V0U3RhdHVzLAoKICBnZXRTdGF0dXNUZXh0OiBmdW5jdGlvbigpIHsKICAgIHRyeSB7CiAgICAgIHJldHVybiB0aGlzLnRyYW5zcG9ydC5zdGF0dXNUZXh0IHx8ICcnOwogICAgfSBjYXRjaCAoZSkgeyByZXR1cm4gJycgfQogIH0sCgogIGdldEhlYWRlcjogQWpheC5SZXF1ZXN0LnByb3RvdHlwZS5nZXRIZWFkZXIsCgogIGdldEFsbEhlYWRlcnM6IGZ1bmN0aW9uKCkgewogICAgdHJ5IHsKICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCk7CiAgICB9IGNhdGNoIChlKSB7IHJldHVybiBudWxsIH0KICB9LAoKICBnZXRSZXNwb25zZUhlYWRlcjogZnVuY3Rpb24obmFtZSkgewogICAgcmV0dXJuIHRoaXMudHJhbnNwb3J0LmdldFJlc3BvbnNlSGVhZGVyKG5hbWUpOwogIH0sCgogIGdldEFsbFJlc3BvbnNlSGVhZGVyczogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpcy50cmFuc3BvcnQuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCk7CiAgfSwKCiAgX2dldEhlYWRlckpTT046IGZ1bmN0aW9uKCkgewogICAgdmFyIGpzb24gPSB0aGlzLmdldEhlYWRlcignWC1KU09OJyk7CiAgICBpZiAoIWpzb24pIHJldHVybiBudWxsOwogICAganNvbiA9IGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoanNvbikpOwogICAgdHJ5IHsKICAgICAgcmV0dXJuIGpzb24uZXZhbEpTT04odGhpcy5yZXF1ZXN0Lm9wdGlvbnMuc2FuaXRpemVKU09OIHx8CiAgICAgICAgIXRoaXMucmVxdWVzdC5pc1NhbWVPcmlnaW4oKSk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRoaXMucmVxdWVzdC5kaXNwYXRjaEV4Y2VwdGlvbihlKTsKICAgIH0KICB9LAoKICBfZ2V0UmVzcG9uc2VKU09OOiBmdW5jdGlvbigpIHsKICAgIHZhciBvcHRpb25zID0gdGhpcy5yZXF1ZXN0Lm9wdGlvbnM7CiAgICBpZiAoIW9wdGlvbnMuZXZhbEpTT04gfHwgKG9wdGlvbnMuZXZhbEpTT04gIT0gJ2ZvcmNlJyAmJgogICAgICAhKHRoaXMuZ2V0SGVhZGVyKCdDb250ZW50LXR5cGUnKSB8fCAnJykuaW5jbHVkZSgnYXBwbGljYXRpb24vanNvbicpKSB8fAogICAgICAgIHRoaXMucmVzcG9uc2VUZXh0LmJsYW5rKCkpCiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgIHRyeSB7CiAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlVGV4dC5ldmFsSlNPTihvcHRpb25zLnNhbml0aXplSlNPTiB8fAogICAgICAgICF0aGlzLnJlcXVlc3QuaXNTYW1lT3JpZ2luKCkpOwogICAgfSBjYXRjaCAoZSkgewogICAgICB0aGlzLnJlcXVlc3QuZGlzcGF0Y2hFeGNlcHRpb24oZSk7CiAgICB9CiAgfQp9KTsKCkFqYXguVXBkYXRlciA9IENsYXNzLmNyZWF0ZShBamF4LlJlcXVlc3QsIHsKICBpbml0aWFsaXplOiBmdW5jdGlvbigkc3VwZXIsIGNvbnRhaW5lciwgdXJsLCBvcHRpb25zKSB7CiAgICB0aGlzLmNvbnRhaW5lciA9IHsKICAgICAgc3VjY2VzczogKGNvbnRhaW5lci5zdWNjZXNzIHx8IGNvbnRhaW5lciksCiAgICAgIGZhaWx1cmU6IChjb250YWluZXIuZmFpbHVyZSB8fCAoY29udGFpbmVyLnN1Y2Nlc3MgPyBudWxsIDogY29udGFpbmVyKSkKICAgIH07CgogICAgb3B0aW9ucyA9IE9iamVjdC5jbG9uZShvcHRpb25zKTsKICAgIHZhciBvbkNvbXBsZXRlID0gb3B0aW9ucy5vbkNvbXBsZXRlOwogICAgb3B0aW9ucy5vbkNvbXBsZXRlID0gKGZ1bmN0aW9uKHJlc3BvbnNlLCBqc29uKSB7CiAgICAgIHRoaXMudXBkYXRlQ29udGVudChyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24ob25Db21wbGV0ZSkpIG9uQ29tcGxldGUocmVzcG9uc2UsIGpzb24pOwogICAgfSkuYmluZCh0aGlzKTsKCiAgICAkc3VwZXIodXJsLCBvcHRpb25zKTsKICB9LAoKICB1cGRhdGVDb250ZW50OiBmdW5jdGlvbihyZXNwb25zZVRleHQpIHsKICAgIHZhciByZWNlaXZlciA9IHRoaXMuY29udGFpbmVyW3RoaXMuc3VjY2VzcygpID8gJ3N1Y2Nlc3MnIDogJ2ZhaWx1cmUnXSwKICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zOwoKICAgIGlmICghb3B0aW9ucy5ldmFsU2NyaXB0cykgcmVzcG9uc2VUZXh0ID0gcmVzcG9uc2VUZXh0LnN0cmlwU2NyaXB0cygpOwoKICAgIGlmIChyZWNlaXZlciA9ICQocmVjZWl2ZXIpKSB7CiAgICAgIGlmIChvcHRpb25zLmluc2VydGlvbikgewogICAgICAgIGlmIChPYmplY3QuaXNTdHJpbmcob3B0aW9ucy5pbnNlcnRpb24pKSB7CiAgICAgICAgICB2YXIgaW5zZXJ0aW9uID0geyB9OyBpbnNlcnRpb25bb3B0aW9ucy5pbnNlcnRpb25dID0gcmVzcG9uc2VUZXh0OwogICAgICAgICAgcmVjZWl2ZXIuaW5zZXJ0KGluc2VydGlvbik7CiAgICAgICAgfQogICAgICAgIGVsc2Ugb3B0aW9ucy5pbnNlcnRpb24ocmVjZWl2ZXIsIHJlc3BvbnNlVGV4dCk7CiAgICAgIH0KICAgICAgZWxzZSByZWNlaXZlci51cGRhdGUocmVzcG9uc2VUZXh0KTsKICAgIH0KICB9Cn0pOwoKQWpheC5QZXJpb2RpY2FsVXBkYXRlciA9IENsYXNzLmNyZWF0ZShBamF4LkJhc2UsIHsKICBpbml0aWFsaXplOiBmdW5jdGlvbigkc3VwZXIsIGNvbnRhaW5lciwgdXJsLCBvcHRpb25zKSB7CiAgICAkc3VwZXIob3B0aW9ucyk7CiAgICB0aGlzLm9uQ29tcGxldGUgPSB0aGlzLm9wdGlvbnMub25Db21wbGV0ZTsKCiAgICB0aGlzLmZyZXF1ZW5jeSA9ICh0aGlzLm9wdGlvbnMuZnJlcXVlbmN5IHx8IDIpOwogICAgdGhpcy5kZWNheSA9ICh0aGlzLm9wdGlvbnMuZGVjYXkgfHwgMSk7CgogICAgdGhpcy51cGRhdGVyID0geyB9OwogICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7CiAgICB0aGlzLnVybCA9IHVybDsKCiAgICB0aGlzLnN0YXJ0KCk7CiAgfSwKCiAgc3RhcnQ6IGZ1bmN0aW9uKCkgewogICAgdGhpcy5vcHRpb25zLm9uQ29tcGxldGUgPSB0aGlzLnVwZGF0ZUNvbXBsZXRlLmJpbmQodGhpcyk7CiAgICB0aGlzLm9uVGltZXJFdmVudCgpOwogIH0sCgogIHN0b3A6IGZ1bmN0aW9uKCkgewogICAgdGhpcy51cGRhdGVyLm9wdGlvbnMub25Db21wbGV0ZSA9IHVuZGVmaW5lZDsKICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTsKICAgICh0aGlzLm9uQ29tcGxldGUgfHwgUHJvdG90eXBlLmVtcHR5RnVuY3Rpb24pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfSwKCiAgdXBkYXRlQ29tcGxldGU6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICBpZiAodGhpcy5vcHRpb25zLmRlY2F5KSB7CiAgICAgIHRoaXMuZGVjYXkgPSAocmVzcG9uc2UucmVzcG9uc2VUZXh0ID09IHRoaXMubGFzdFRleHQgPwogICAgICAgIHRoaXMuZGVjYXkgKiB0aGlzLm9wdGlvbnMuZGVjYXkgOiAxKTsKCiAgICAgIHRoaXMubGFzdFRleHQgPSByZXNwb25zZS5yZXNwb25zZVRleHQ7CiAgICB9CiAgICB0aGlzLnRpbWVyID0gdGhpcy5vblRpbWVyRXZlbnQuYmluZCh0aGlzKS5kZWxheSh0aGlzLmRlY2F5ICogdGhpcy5mcmVxdWVuY3kpOwogIH0sCgogIG9uVGltZXJFdmVudDogZnVuY3Rpb24oKSB7CiAgICB0aGlzLnVwZGF0ZXIgPSBuZXcgQWpheC5VcGRhdGVyKHRoaXMuY29udGFpbmVyLCB0aGlzLnVybCwgdGhpcy5vcHRpb25zKTsKICB9Cn0pOwoKCmZ1bmN0aW9uICQoZWxlbWVudCkgewogIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgewogICAgZm9yICh2YXIgaSA9IDAsIGVsZW1lbnRzID0gW10sIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykKICAgICAgZWxlbWVudHMucHVzaCgkKGFyZ3VtZW50c1tpXSkpOwogICAgcmV0dXJuIGVsZW1lbnRzOwogIH0KICBpZiAoT2JqZWN0LmlzU3RyaW5nKGVsZW1lbnQpKQogICAgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQpOwogIHJldHVybiBFbGVtZW50LmV4dGVuZChlbGVtZW50KTsKfQoKaWYgKFByb3RvdHlwZS5Ccm93c2VyRmVhdHVyZXMuWFBhdGgpIHsKICBkb2N1bWVudC5fZ2V0RWxlbWVudHNCeVhQYXRoID0gZnVuY3Rpb24oZXhwcmVzc2lvbiwgcGFyZW50RWxlbWVudCkgewogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIHZhciBxdWVyeSA9IGRvY3VtZW50LmV2YWx1YXRlKGV4cHJlc3Npb24sICQocGFyZW50RWxlbWVudCkgfHwgZG9jdW1lbnQsCiAgICAgIG51bGwsIFhQYXRoUmVzdWx0Lk9SREVSRURfTk9ERV9TTkFQU0hPVF9UWVBFLCBudWxsKTsKICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBxdWVyeS5zbmFwc2hvdExlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKQogICAgICByZXN1bHRzLnB1c2goRWxlbWVudC5leHRlbmQocXVlcnkuc25hcHNob3RJdGVtKGkpKSk7CiAgICByZXR1cm4gcmVzdWx0czsKICB9Owp9CgovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCmlmICghTm9kZSkgdmFyIE5vZGUgPSB7IH07CgppZiAoIU5vZGUuRUxFTUVOVF9OT0RFKSB7CiAgT2JqZWN0LmV4dGVuZChOb2RlLCB7CiAgICBFTEVNRU5UX05PREU6IDEsCiAgICBBVFRSSUJVVEVfTk9ERTogMiwKICAgIFRFWFRfTk9ERTogMywKICAgIENEQVRBX1NFQ1RJT05fTk9ERTogNCwKICAgIEVOVElUWV9SRUZFUkVOQ0VfTk9ERTogNSwKICAgIEVOVElUWV9OT0RFOiA2LAogICAgUFJPQ0VTU0lOR19JTlNUUlVDVElPTl9OT0RFOiA3LAogICAgQ09NTUVOVF9OT0RFOiA4LAogICAgRE9DVU1FTlRfTk9ERTogOSwKICAgIERPQ1VNRU5UX1RZUEVfTk9ERTogMTAsCiAgICBET0NVTUVOVF9GUkFHTUVOVF9OT0RFOiAxMSwKICAgIE5PVEFUSU9OX05PREU6IDEyCiAgfSk7Cn0KCgoKKGZ1bmN0aW9uKGdsb2JhbCkgewogIGZ1bmN0aW9uIHNob3VsZFVzZUNhY2hlKHRhZ05hbWUsIGF0dHJpYnV0ZXMpIHsKICAgIGlmICh0YWdOYW1lID09PSAnc2VsZWN0JykgcmV0dXJuIGZhbHNlOwogICAgaWYgKCd0eXBlJyBpbiBhdHRyaWJ1dGVzKSByZXR1cm4gZmFsc2U7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIHZhciBIQVNfRVhURU5ERURfQ1JFQVRFX0VMRU1FTlRfU1lOVEFYID0gKGZ1bmN0aW9uKCl7CiAgICByZXR1cm4gZmFsc2U7CiAgfSkoKTsKCiAgdmFyIGVsZW1lbnQgPSBnbG9iYWwuRWxlbWVudDsKCiAgZ2xvYmFsLkVsZW1lbnQgPSBmdW5jdGlvbih0YWdOYW1lLCBhdHRyaWJ1dGVzKSB7CiAgICBhdHRyaWJ1dGVzID0gYXR0cmlidXRlcyB8fCB7IH07CiAgICB0YWdOYW1lID0gdGFnTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgdmFyIGNhY2hlID0gRWxlbWVudC5jYWNoZTsKCiAgICBpZiAoSEFTX0VYVEVOREVEX0NSRUFURV9FTEVNRU5UX1NZTlRBWCAmJiBhdHRyaWJ1dGVzLm5hbWUpIHsKICAgICAgdGFnTmFtZSA9ICc8JyArIHRhZ05hbWUgKyAnIG5hbWU9IicgKyBhdHRyaWJ1dGVzLm5hbWUgKyAnIj4nOwogICAgICBkZWxldGUgYXR0cmlidXRlcy5uYW1lOwogICAgICByZXR1cm4gRWxlbWVudC53cml0ZUF0dHJpYnV0ZShkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpLCBhdHRyaWJ1dGVzKTsKICAgIH0KCiAgICBpZiAoIWNhY2hlW3RhZ05hbWVdKSBjYWNoZVt0YWdOYW1lXSA9IEVsZW1lbnQuZXh0ZW5kKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSkpOwoKICAgIHZhciBub2RlID0gc2hvdWxkVXNlQ2FjaGUodGFnTmFtZSwgYXR0cmlidXRlcykgPwogICAgIGNhY2hlW3RhZ05hbWVdLmNsb25lTm9kZShmYWxzZSkgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpOwoKICAgIHJldHVybiBFbGVtZW50LndyaXRlQXR0cmlidXRlKG5vZGUsIGF0dHJpYnV0ZXMpOwogIH07CgogIE9iamVjdC5leHRlbmQoZ2xvYmFsLkVsZW1lbnQsIGVsZW1lbnQgfHwgeyB9KTsKICBpZiAoZWxlbWVudCkgZ2xvYmFsLkVsZW1lbnQucHJvdG90eXBlID0gZWxlbWVudC5wcm90b3R5cGU7Cgp9KSh0aGlzKTsKCkVsZW1lbnQuaWRDb3VudGVyID0gMTsKRWxlbWVudC5jYWNoZSA9IHsgfTsKCkVsZW1lbnQuX3B1cmdlRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICB2YXIgdWlkID0gZWxlbWVudC5fcHJvdG90eXBlVUlEOwogIGlmICh1aWQpIHsKICAgIEVsZW1lbnQuc3RvcE9ic2VydmluZyhlbGVtZW50KTsKICAgIGVsZW1lbnQuX3Byb3RvdHlwZVVJRCA9IHZvaWQgMDsKICAgIGRlbGV0ZSBFbGVtZW50LlN0b3JhZ2VbdWlkXTsKICB9Cn0KCkVsZW1lbnQuTWV0aG9kcyA9IHsKICB2aXNpYmxlOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICByZXR1cm4gJChlbGVtZW50KS5zdHlsZS5kaXNwbGF5ICE9ICdub25lJzsKICB9LAoKICB0b2dnbGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgRWxlbWVudFtFbGVtZW50LnZpc2libGUoZWxlbWVudCkgPyAnaGlkZScgOiAnc2hvdyddKGVsZW1lbnQpOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgaGlkZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICBzaG93OiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgcmVtb3ZlOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTsKICAgIHJldHVybiBlbGVtZW50OwogIH0sCgogIHVwZGF0ZTogKGZ1bmN0aW9uKCl7CgogICAgdmFyIFNFTEVDVF9FTEVNRU5UX0lOTkVSSFRNTF9CVUdHWSA9IChmdW5jdGlvbigpewogICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKSwKICAgICAgICAgIGlzQnVnZ3kgPSB0cnVlOwogICAgICBlbC5pbm5lckhUTUwgPSAiPG9wdGlvbiB2YWx1ZT1cInRlc3RcIj50ZXN0PC9vcHRpb24+IjsKICAgICAgaWYgKGVsLm9wdGlvbnMgJiYgZWwub3B0aW9uc1swXSkgewogICAgICAgIGlzQnVnZ3kgPSBlbC5vcHRpb25zWzBdLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgIT09ICJPUFRJT04iOwogICAgICB9CiAgICAgIGVsID0gbnVsbDsKICAgICAgcmV0dXJuIGlzQnVnZ3k7CiAgICB9KSgpOwoKICAgIHZhciBUQUJMRV9FTEVNRU5UX0lOTkVSSFRNTF9CVUdHWSA9IChmdW5jdGlvbigpewogICAgICB0cnkgewogICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7CiAgICAgICAgaWYgKGVsICYmIGVsLnRCb2RpZXMpIHsKICAgICAgICAgIGVsLmlubmVySFRNTCA9ICI8dGJvZHk+PHRyPjx0ZD50ZXN0PC90ZD48L3RyPjwvdGJvZHk+IjsKICAgICAgICAgIHZhciBpc0J1Z2d5ID0gdHlwZW9mIGVsLnRCb2RpZXNbMF0gPT0gInVuZGVmaW5lZCI7CiAgICAgICAgICBlbCA9IG51bGw7CiAgICAgICAgICByZXR1cm4gaXNCdWdneTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfSkoKTsKCiAgICB2YXIgTElOS19FTEVNRU5UX0lOTkVSSFRNTF9CVUdHWSA9IChmdW5jdGlvbigpIHsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICBlbC5pbm5lckhUTUwgPSAiPGxpbms+IjsKICAgICAgICB2YXIgaXNCdWdneSA9IChlbC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMCk7CiAgICAgICAgZWwgPSBudWxsOwogICAgICAgIHJldHVybiBpc0J1Z2d5OwogICAgICB9IGNhdGNoKGUpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfSkoKTsKCiAgICB2YXIgQU5ZX0lOTkVSSFRNTF9CVUdHWSA9IFNFTEVDVF9FTEVNRU5UX0lOTkVSSFRNTF9CVUdHWSB8fAogICAgIFRBQkxFX0VMRU1FTlRfSU5ORVJIVE1MX0JVR0dZIHx8IExJTktfRUxFTUVOVF9JTk5FUkhUTUxfQlVHR1k7CgogICAgdmFyIFNDUklQVF9FTEVNRU5UX1JFSkVDVFNfVEVYVE5PREVfQVBQRU5ESU5HID0gKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSwKICAgICAgICAgIGlzQnVnZ3kgPSBmYWxzZTsKICAgICAgdHJ5IHsKICAgICAgICBzLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKSk7CiAgICAgICAgaXNCdWdneSA9ICFzLmZpcnN0Q2hpbGQgfHwKICAgICAgICAgIHMuZmlyc3RDaGlsZCAmJiBzLmZpcnN0Q2hpbGQubm9kZVR5cGUgIT09IDM7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBpc0J1Z2d5ID0gdHJ1ZTsKICAgICAgfQogICAgICBzID0gbnVsbDsKICAgICAgcmV0dXJuIGlzQnVnZ3k7CiAgICB9KSgpOwoKCiAgICBmdW5jdGlvbiB1cGRhdGUoZWxlbWVudCwgY29udGVudCkgewogICAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgICAgdmFyIHB1cmdlRWxlbWVudCA9IEVsZW1lbnQuX3B1cmdlRWxlbWVudDsKCiAgICAgIHZhciBkZXNjZW5kYW50cyA9IGVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKSwKICAgICAgIGkgPSBkZXNjZW5kYW50cy5sZW5ndGg7CiAgICAgIHdoaWxlIChpLS0pIHB1cmdlRWxlbWVudChkZXNjZW5kYW50c1tpXSk7CgogICAgICBpZiAoY29udGVudCAmJiBjb250ZW50LnRvRWxlbWVudCkKICAgICAgICBjb250ZW50ID0gY29udGVudC50b0VsZW1lbnQoKTsKCiAgICAgIGlmIChPYmplY3QuaXNFbGVtZW50KGNvbnRlbnQpKQogICAgICAgIHJldHVybiBlbGVtZW50LnVwZGF0ZSgpLmluc2VydChjb250ZW50KTsKCiAgICAgIGNvbnRlbnQgPSBPYmplY3QudG9IVE1MKGNvbnRlbnQpOwoKICAgICAgdmFyIHRhZ05hbWUgPSBlbGVtZW50LnRhZ05hbWUudG9VcHBlckNhc2UoKTsKCiAgICAgIGlmICh0YWdOYW1lID09PSAnU0NSSVBUJyAmJiBTQ1JJUFRfRUxFTUVOVF9SRUpFQ1RTX1RFWFROT0RFX0FQUEVORElORykgewogICAgICAgIGVsZW1lbnQudGV4dCA9IGNvbnRlbnQ7CiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7CiAgICAgIH0KCiAgICAgIGlmIChBTllfSU5ORVJIVE1MX0JVR0dZKSB7CiAgICAgICAgaWYgKHRhZ05hbWUgaW4gRWxlbWVudC5faW5zZXJ0aW9uVHJhbnNsYXRpb25zLnRhZ3MpIHsKICAgICAgICAgIHdoaWxlIChlbGVtZW50LmZpcnN0Q2hpbGQpIHsKICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50LmZpcnN0Q2hpbGQpOwogICAgICAgICAgfQogICAgICAgICAgRWxlbWVudC5fZ2V0Q29udGVudEZyb21Bbm9ueW1vdXNFbGVtZW50KHRhZ05hbWUsIGNvbnRlbnQuc3RyaXBTY3JpcHRzKCkpCiAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uKG5vZGUpIHsKICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG5vZGUpCiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAoTElOS19FTEVNRU5UX0lOTkVSSFRNTF9CVUdHWSAmJiBPYmplY3QuaXNTdHJpbmcoY29udGVudCkgJiYgY29udGVudC5pbmRleE9mKCc8bGluaycpID4gLTEpIHsKICAgICAgICAgIHdoaWxlIChlbGVtZW50LmZpcnN0Q2hpbGQpIHsKICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50LmZpcnN0Q2hpbGQpOwogICAgICAgICAgfQogICAgICAgICAgdmFyIG5vZGVzID0gRWxlbWVudC5fZ2V0Q29udGVudEZyb21Bbm9ueW1vdXNFbGVtZW50KHRhZ05hbWUsIGNvbnRlbnQuc3RyaXBTY3JpcHRzKCksIHRydWUpOwogICAgICAgICAgbm9kZXMuZWFjaChmdW5jdGlvbihub2RlKSB7IGVsZW1lbnQuYXBwZW5kQ2hpbGQobm9kZSkgfSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBjb250ZW50LnN0cmlwU2NyaXB0cygpOwogICAgICAgIH0KICAgICAgfQogICAgICBlbHNlIHsKICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IGNvbnRlbnQuc3RyaXBTY3JpcHRzKCk7CiAgICAgIH0KCiAgICAgIGNvbnRlbnQuZXZhbFNjcmlwdHMuYmluZChjb250ZW50KS5kZWZlcigpOwogICAgICByZXR1cm4gZWxlbWVudDsKICAgIH0KCiAgICByZXR1cm4gdXBkYXRlOwogIH0pKCksCgogIHJlcGxhY2U6IGZ1bmN0aW9uKGVsZW1lbnQsIGNvbnRlbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKGNvbnRlbnQgJiYgY29udGVudC50b0VsZW1lbnQpIGNvbnRlbnQgPSBjb250ZW50LnRvRWxlbWVudCgpOwogICAgZWxzZSBpZiAoIU9iamVjdC5pc0VsZW1lbnQoY29udGVudCkpIHsKICAgICAgY29udGVudCA9IE9iamVjdC50b0hUTUwoY29udGVudCk7CiAgICAgIHZhciByYW5nZSA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpOwogICAgICByYW5nZS5zZWxlY3ROb2RlKGVsZW1lbnQpOwogICAgICBjb250ZW50LmV2YWxTY3JpcHRzLmJpbmQoY29udGVudCkuZGVmZXIoKTsKICAgICAgY29udGVudCA9IHJhbmdlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChjb250ZW50LnN0cmlwU2NyaXB0cygpKTsKICAgIH0KICAgIGVsZW1lbnQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoY29udGVudCwgZWxlbWVudCk7CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICBpbnNlcnQ6IGZ1bmN0aW9uKGVsZW1lbnQsIGluc2VydGlvbnMpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwoKICAgIGlmIChPYmplY3QuaXNTdHJpbmcoaW5zZXJ0aW9ucykgfHwgT2JqZWN0LmlzTnVtYmVyKGluc2VydGlvbnMpIHx8CiAgICAgICAgT2JqZWN0LmlzRWxlbWVudChpbnNlcnRpb25zKSB8fCAoaW5zZXJ0aW9ucyAmJiAoaW5zZXJ0aW9ucy50b0VsZW1lbnQgfHwgaW5zZXJ0aW9ucy50b0hUTUwpKSkKICAgICAgICAgIGluc2VydGlvbnMgPSB7Ym90dG9tOmluc2VydGlvbnN9OwoKICAgIHZhciBjb250ZW50LCBpbnNlcnQsIHRhZ05hbWUsIGNoaWxkTm9kZXM7CgogICAgZm9yICh2YXIgcG9zaXRpb24gaW4gaW5zZXJ0aW9ucykgewogICAgICBjb250ZW50ICA9IGluc2VydGlvbnNbcG9zaXRpb25dOwogICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uLnRvTG93ZXJDYXNlKCk7CiAgICAgIGluc2VydCA9IEVsZW1lbnQuX2luc2VydGlvblRyYW5zbGF0aW9uc1twb3NpdGlvbl07CgogICAgICBpZiAoY29udGVudCAmJiBjb250ZW50LnRvRWxlbWVudCkgY29udGVudCA9IGNvbnRlbnQudG9FbGVtZW50KCk7CiAgICAgIGlmIChPYmplY3QuaXNFbGVtZW50KGNvbnRlbnQpKSB7CiAgICAgICAgaW5zZXJ0KGVsZW1lbnQsIGNvbnRlbnQpOwogICAgICAgIGNvbnRpbnVlOwogICAgICB9CgogICAgICBjb250ZW50ID0gT2JqZWN0LnRvSFRNTChjb250ZW50KTsKCiAgICAgIHRhZ05hbWUgPSAoKHBvc2l0aW9uID09ICdiZWZvcmUnIHx8IHBvc2l0aW9uID09ICdhZnRlcicpCiAgICAgICAgPyBlbGVtZW50LnBhcmVudE5vZGUgOiBlbGVtZW50KS50YWdOYW1lLnRvVXBwZXJDYXNlKCk7CgogICAgICBjaGlsZE5vZGVzID0gRWxlbWVudC5fZ2V0Q29udGVudEZyb21Bbm9ueW1vdXNFbGVtZW50KHRhZ05hbWUsIGNvbnRlbnQuc3RyaXBTY3JpcHRzKCkpOwoKICAgICAgaWYgKHBvc2l0aW9uID09ICd0b3AnIHx8IHBvc2l0aW9uID09ICdhZnRlcicpIGNoaWxkTm9kZXMucmV2ZXJzZSgpOwogICAgICBjaGlsZE5vZGVzLmVhY2goaW5zZXJ0LmN1cnJ5KGVsZW1lbnQpKTsKCiAgICAgIGNvbnRlbnQuZXZhbFNjcmlwdHMuYmluZChjb250ZW50KS5kZWZlcigpOwogICAgfQoKICAgIHJldHVybiBlbGVtZW50OwogIH0sCgogIHdyYXA6IGZ1bmN0aW9uKGVsZW1lbnQsIHdyYXBwZXIsIGF0dHJpYnV0ZXMpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKE9iamVjdC5pc0VsZW1lbnQod3JhcHBlcikpCiAgICAgICQod3JhcHBlcikud3JpdGVBdHRyaWJ1dGUoYXR0cmlidXRlcyB8fCB7IH0pOwogICAgZWxzZSBpZiAoT2JqZWN0LmlzU3RyaW5nKHdyYXBwZXIpKSB3cmFwcGVyID0gbmV3IEVsZW1lbnQod3JhcHBlciwgYXR0cmlidXRlcyk7CiAgICBlbHNlIHdyYXBwZXIgPSBuZXcgRWxlbWVudCgnZGl2Jywgd3JhcHBlcik7CiAgICBpZiAoZWxlbWVudC5wYXJlbnROb2RlKQogICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHdyYXBwZXIsIGVsZW1lbnQpOwogICAgd3JhcHBlci5hcHBlbmRDaGlsZChlbGVtZW50KTsKICAgIHJldHVybiB3cmFwcGVyOwogIH0sCgogIGluc3BlY3Q6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIHJlc3VsdCA9ICc8JyArIGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgJEgoeydpZCc6ICdpZCcsICdjbGFzc05hbWUnOiAnY2xhc3MnfSkuZWFjaChmdW5jdGlvbihwYWlyKSB7CiAgICAgIHZhciBwcm9wZXJ0eSA9IHBhaXIuZmlyc3QoKSwKICAgICAgICAgIGF0dHJpYnV0ZSA9IHBhaXIubGFzdCgpLAogICAgICAgICAgdmFsdWUgPSAoZWxlbWVudFtwcm9wZXJ0eV0gfHwgJycpLnRvU3RyaW5nKCk7CiAgICAgIGlmICh2YWx1ZSkgcmVzdWx0ICs9ICcgJyArIGF0dHJpYnV0ZSArICc9JyArIHZhbHVlLmluc3BlY3QodHJ1ZSk7CiAgICB9KTsKICAgIHJldHVybiByZXN1bHQgKyAnPic7CiAgfSwKCiAgcmVjdXJzaXZlbHlDb2xsZWN0OiBmdW5jdGlvbihlbGVtZW50LCBwcm9wZXJ0eSwgbWF4aW11bUxlbmd0aCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBtYXhpbXVtTGVuZ3RoID0gbWF4aW11bUxlbmd0aCB8fCAtMTsKICAgIHZhciBlbGVtZW50cyA9IFtdOwoKICAgIHdoaWxlIChlbGVtZW50ID0gZWxlbWVudFtwcm9wZXJ0eV0pIHsKICAgICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT0gMSkKICAgICAgICBlbGVtZW50cy5wdXNoKEVsZW1lbnQuZXh0ZW5kKGVsZW1lbnQpKTsKICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PSBtYXhpbXVtTGVuZ3RoKQogICAgICAgIGJyZWFrOwogICAgfQoKICAgIHJldHVybiBlbGVtZW50czsKICB9LAoKICBhbmNlc3RvcnM6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHJldHVybiBFbGVtZW50LnJlY3Vyc2l2ZWx5Q29sbGVjdChlbGVtZW50LCAncGFyZW50Tm9kZScpOwogIH0sCgogIGRlc2NlbmRhbnRzOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICByZXR1cm4gRWxlbWVudC5zZWxlY3QoZWxlbWVudCwgIioiKTsKICB9LAoKICBmaXJzdERlc2NlbmRhbnQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpLmZpcnN0Q2hpbGQ7CiAgICB3aGlsZSAoZWxlbWVudCAmJiBlbGVtZW50Lm5vZGVUeXBlICE9IDEpIGVsZW1lbnQgPSBlbGVtZW50Lm5leHRTaWJsaW5nOwogICAgcmV0dXJuICQoZWxlbWVudCk7CiAgfSwKCiAgaW1tZWRpYXRlRGVzY2VuZGFudHM6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHZhciByZXN1bHRzID0gW10sIGNoaWxkID0gJChlbGVtZW50KS5maXJzdENoaWxkOwogICAgd2hpbGUgKGNoaWxkKSB7CiAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gMSkgewogICAgICAgIHJlc3VsdHMucHVzaChFbGVtZW50LmV4dGVuZChjaGlsZCkpOwogICAgICB9CiAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmc7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9LAoKICBwcmV2aW91c1NpYmxpbmdzOiBmdW5jdGlvbihlbGVtZW50LCBtYXhpbXVtTGVuZ3RoKSB7CiAgICByZXR1cm4gRWxlbWVudC5yZWN1cnNpdmVseUNvbGxlY3QoZWxlbWVudCwgJ3ByZXZpb3VzU2libGluZycpOwogIH0sCgogIG5leHRTaWJsaW5nczogZnVuY3Rpb24oZWxlbWVudCkgewogICAgcmV0dXJuIEVsZW1lbnQucmVjdXJzaXZlbHlDb2xsZWN0KGVsZW1lbnQsICduZXh0U2libGluZycpOwogIH0sCgogIHNpYmxpbmdzOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHJldHVybiBFbGVtZW50LnByZXZpb3VzU2libGluZ3MoZWxlbWVudCkucmV2ZXJzZSgpCiAgICAgIC5jb25jYXQoRWxlbWVudC5uZXh0U2libGluZ3MoZWxlbWVudCkpOwogIH0sCgogIG1hdGNoOiBmdW5jdGlvbihlbGVtZW50LCBzZWxlY3RvcikgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBpZiAoT2JqZWN0LmlzU3RyaW5nKHNlbGVjdG9yKSkKICAgICAgcmV0dXJuIFByb3RvdHlwZS5TZWxlY3Rvci5tYXRjaChlbGVtZW50LCBzZWxlY3Rvcik7CiAgICByZXR1cm4gc2VsZWN0b3IubWF0Y2goZWxlbWVudCk7CiAgfSwKCiAgdXA6IGZ1bmN0aW9uKGVsZW1lbnQsIGV4cHJlc3Npb24sIGluZGV4KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHJldHVybiAkKGVsZW1lbnQucGFyZW50Tm9kZSk7CiAgICB2YXIgYW5jZXN0b3JzID0gRWxlbWVudC5hbmNlc3RvcnMoZWxlbWVudCk7CiAgICByZXR1cm4gT2JqZWN0LmlzTnVtYmVyKGV4cHJlc3Npb24pID8gYW5jZXN0b3JzW2V4cHJlc3Npb25dIDoKICAgICAgUHJvdG90eXBlLlNlbGVjdG9yLmZpbmQoYW5jZXN0b3JzLCBleHByZXNzaW9uLCBpbmRleCk7CiAgfSwKCiAgZG93bjogZnVuY3Rpb24oZWxlbWVudCwgZXhwcmVzc2lvbiwgaW5kZXgpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkgcmV0dXJuIEVsZW1lbnQuZmlyc3REZXNjZW5kYW50KGVsZW1lbnQpOwogICAgcmV0dXJuIE9iamVjdC5pc051bWJlcihleHByZXNzaW9uKSA/IEVsZW1lbnQuZGVzY2VuZGFudHMoZWxlbWVudClbZXhwcmVzc2lvbl0gOgogICAgICBFbGVtZW50LnNlbGVjdChlbGVtZW50LCBleHByZXNzaW9uKVtpbmRleCB8fCAwXTsKICB9LAoKICBwcmV2aW91czogZnVuY3Rpb24oZWxlbWVudCwgZXhwcmVzc2lvbiwgaW5kZXgpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKE9iamVjdC5pc051bWJlcihleHByZXNzaW9uKSkgaW5kZXggPSBleHByZXNzaW9uLCBleHByZXNzaW9uID0gZmFsc2U7CiAgICBpZiAoIU9iamVjdC5pc051bWJlcihpbmRleCkpIGluZGV4ID0gMDsKCiAgICBpZiAoZXhwcmVzc2lvbikgewogICAgICByZXR1cm4gUHJvdG90eXBlLlNlbGVjdG9yLmZpbmQoZWxlbWVudC5wcmV2aW91c1NpYmxpbmdzKCksIGV4cHJlc3Npb24sIGluZGV4KTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBlbGVtZW50LnJlY3Vyc2l2ZWx5Q29sbGVjdCgicHJldmlvdXNTaWJsaW5nIiwgaW5kZXggKyAxKVtpbmRleF07CiAgICB9CiAgfSwKCiAgbmV4dDogZnVuY3Rpb24oZWxlbWVudCwgZXhwcmVzc2lvbiwgaW5kZXgpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKE9iamVjdC5pc051bWJlcihleHByZXNzaW9uKSkgaW5kZXggPSBleHByZXNzaW9uLCBleHByZXNzaW9uID0gZmFsc2U7CiAgICBpZiAoIU9iamVjdC5pc051bWJlcihpbmRleCkpIGluZGV4ID0gMDsKCiAgICBpZiAoZXhwcmVzc2lvbikgewogICAgICByZXR1cm4gUHJvdG90eXBlLlNlbGVjdG9yLmZpbmQoZWxlbWVudC5uZXh0U2libGluZ3MoKSwgZXhwcmVzc2lvbiwgaW5kZXgpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIG1heGltdW1MZW5ndGggPSBPYmplY3QuaXNOdW1iZXIoaW5kZXgpID8gaW5kZXggKyAxIDogMTsKICAgICAgcmV0dXJuIGVsZW1lbnQucmVjdXJzaXZlbHlDb2xsZWN0KCJuZXh0U2libGluZyIsIGluZGV4ICsgMSlbaW5kZXhdOwogICAgfQogIH0sCgoKICBzZWxlY3Q6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIGV4cHJlc3Npb25zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKS5qb2luKCcsICcpOwogICAgcmV0dXJuIFByb3RvdHlwZS5TZWxlY3Rvci5zZWxlY3QoZXhwcmVzc2lvbnMsIGVsZW1lbnQpOwogIH0sCgogIGFkamFjZW50OiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciBleHByZXNzaW9ucyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkuam9pbignLCAnKTsKICAgIHJldHVybiBQcm90b3R5cGUuU2VsZWN0b3Iuc2VsZWN0KGV4cHJlc3Npb25zLCBlbGVtZW50LnBhcmVudE5vZGUpLndpdGhvdXQoZWxlbWVudCk7CiAgfSwKCiAgaWRlbnRpZnk6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIGlkID0gRWxlbWVudC5yZWFkQXR0cmlidXRlKGVsZW1lbnQsICdpZCcpOwogICAgaWYgKGlkKSByZXR1cm4gaWQ7CiAgICBkbyB7IGlkID0gJ2Fub255bW91c19lbGVtZW50XycgKyBFbGVtZW50LmlkQ291bnRlcisrIH0gd2hpbGUgKCQoaWQpKTsKICAgIEVsZW1lbnQud3JpdGVBdHRyaWJ1dGUoZWxlbWVudCwgJ2lkJywgaWQpOwogICAgcmV0dXJuIGlkOwogIH0sCgogIHJlYWRBdHRyaWJ1dGU6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKFByb3RvdHlwZS5Ccm93c2VyLklFKSB7CiAgICAgIHZhciB0ID0gRWxlbWVudC5fYXR0cmlidXRlVHJhbnNsYXRpb25zLnJlYWQ7CiAgICAgIGlmICh0LnZhbHVlc1tuYW1lXSkgcmV0dXJuIHQudmFsdWVzW25hbWVdKGVsZW1lbnQsIG5hbWUpOwogICAgICBpZiAodC5uYW1lc1tuYW1lXSkgbmFtZSA9IHQubmFtZXNbbmFtZV07CiAgICAgIGlmIChuYW1lLmluY2x1ZGUoJzonKSkgewogICAgICAgIHJldHVybiAoIWVsZW1lbnQuYXR0cmlidXRlcyB8fCAhZWxlbWVudC5hdHRyaWJ1dGVzW25hbWVdKSA/IG51bGwgOgogICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXNbbmFtZV0udmFsdWU7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTsKICB9LAoKICB3cml0ZUF0dHJpYnV0ZTogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwgdmFsdWUpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIGF0dHJpYnV0ZXMgPSB7IH0sIHQgPSBFbGVtZW50Ll9hdHRyaWJ1dGVUcmFuc2xhdGlvbnMud3JpdGU7CgogICAgaWYgKHR5cGVvZiBuYW1lID09ICdvYmplY3QnKSBhdHRyaWJ1dGVzID0gbmFtZTsKICAgIGVsc2UgYXR0cmlidXRlc1tuYW1lXSA9IE9iamVjdC5pc1VuZGVmaW5lZCh2YWx1ZSkgPyB0cnVlIDogdmFsdWU7CgogICAgZm9yICh2YXIgYXR0ciBpbiBhdHRyaWJ1dGVzKSB7CiAgICAgIG5hbWUgPSB0Lm5hbWVzW2F0dHJdIHx8IGF0dHI7CiAgICAgIHZhbHVlID0gYXR0cmlidXRlc1thdHRyXTsKICAgICAgaWYgKHQudmFsdWVzW2F0dHJdKSBuYW1lID0gdC52YWx1ZXNbYXR0cl0oZWxlbWVudCwgdmFsdWUpOwogICAgICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09PSBudWxsKQogICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwogICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gdHJ1ZSkKICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCBuYW1lKTsKICAgICAgZWxzZSBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7CiAgICB9CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICBnZXRIZWlnaHQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHJldHVybiBFbGVtZW50LmdldERpbWVuc2lvbnMoZWxlbWVudCkuaGVpZ2h0OwogIH0sCgogIGdldFdpZHRoOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICByZXR1cm4gRWxlbWVudC5nZXREaW1lbnNpb25zKGVsZW1lbnQpLndpZHRoOwogIH0sCgogIGNsYXNzTmFtZXM6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHJldHVybiBuZXcgRWxlbWVudC5DbGFzc05hbWVzKGVsZW1lbnQpOwogIH0sCgogIGhhc0NsYXNzTmFtZTogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lKSB7CiAgICBpZiAoIShlbGVtZW50ID0gJChlbGVtZW50KSkpIHJldHVybjsKICAgIHZhciBlbGVtZW50Q2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWU7CiAgICByZXR1cm4gKGVsZW1lbnRDbGFzc05hbWUgJiYgZWxlbWVudENsYXNzTmFtZS5sZW5ndGggPiAwICYmIChlbGVtZW50Q2xhc3NOYW1lID09IGNsYXNzTmFtZSB8fAogICAgICBuZXcgUmVnRXhwKCIoXnxcXHMpIiArIGNsYXNzTmFtZSArICIoXFxzfCQpIikudGVzdChlbGVtZW50Q2xhc3NOYW1lKSkpOwogIH0sCgogIGFkZENsYXNzTmFtZTogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lKSB7CiAgICBpZiAoIShlbGVtZW50ID0gJChlbGVtZW50KSkpIHJldHVybjsKICAgIGlmICghRWxlbWVudC5oYXNDbGFzc05hbWUoZWxlbWVudCwgY2xhc3NOYW1lKSkKICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gKGVsZW1lbnQuY2xhc3NOYW1lID8gJyAnIDogJycpICsgY2xhc3NOYW1lOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgcmVtb3ZlQ2xhc3NOYW1lOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUpIHsKICAgIGlmICghKGVsZW1lbnQgPSAkKGVsZW1lbnQpKSkgcmV0dXJuOwogICAgZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKAogICAgICBuZXcgUmVnRXhwKCIoXnxcXHMrKSIgKyBjbGFzc05hbWUgKyAiKFxccyt8JCkiKSwgJyAnKS5zdHJpcCgpOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgdG9nZ2xlQ2xhc3NOYW1lOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUpIHsKICAgIGlmICghKGVsZW1lbnQgPSAkKGVsZW1lbnQpKSkgcmV0dXJuOwogICAgcmV0dXJuIEVsZW1lbnRbRWxlbWVudC5oYXNDbGFzc05hbWUoZWxlbWVudCwgY2xhc3NOYW1lKSA/CiAgICAgICdyZW1vdmVDbGFzc05hbWUnIDogJ2FkZENsYXNzTmFtZSddKGVsZW1lbnQsIGNsYXNzTmFtZSk7CiAgfSwKCiAgY2xlYW5XaGl0ZXNwYWNlOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciBub2RlID0gZWxlbWVudC5maXJzdENoaWxkOwogICAgd2hpbGUgKG5vZGUpIHsKICAgICAgdmFyIG5leHROb2RlID0gbm9kZS5uZXh0U2libGluZzsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMyAmJiAhL1xTLy50ZXN0KG5vZGUubm9kZVZhbHVlKSkKICAgICAgICBlbGVtZW50LnJlbW92ZUNoaWxkKG5vZGUpOwogICAgICBub2RlID0gbmV4dE5vZGU7CiAgICB9CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICBlbXB0eTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgcmV0dXJuICQoZWxlbWVudCkuaW5uZXJIVE1MLmJsYW5rKCk7CiAgfSwKCiAgZGVzY2VuZGFudE9mOiBmdW5jdGlvbihlbGVtZW50LCBhbmNlc3RvcikgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCksIGFuY2VzdG9yID0gJChhbmNlc3Rvcik7CgogICAgaWYgKGVsZW1lbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24pCiAgICAgIHJldHVybiAoZWxlbWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhbmNlc3RvcikgJiA4KSA9PT0gODsKCiAgICBpZiAoYW5jZXN0b3IuY29udGFpbnMpCiAgICAgIHJldHVybiBhbmNlc3Rvci5jb250YWlucyhlbGVtZW50KSAmJiBhbmNlc3RvciAhPT0gZWxlbWVudDsKCiAgICB3aGlsZSAoZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSkKICAgICAgaWYgKGVsZW1lbnQgPT0gYW5jZXN0b3IpIHJldHVybiB0cnVlOwoKICAgIHJldHVybiBmYWxzZTsKICB9LAoKICBzY3JvbGxUbzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgcG9zID0gRWxlbWVudC5jdW11bGF0aXZlT2Zmc2V0KGVsZW1lbnQpOwogICAgd2luZG93LnNjcm9sbFRvKHBvc1swXSwgcG9zWzFdKTsKICAgIHJldHVybiBlbGVtZW50OwogIH0sCgogIGdldFN0eWxlOiBmdW5jdGlvbihlbGVtZW50LCBzdHlsZSkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBzdHlsZSA9IHN0eWxlID09ICdmbG9hdCcgPyAnY3NzRmxvYXQnIDogc3R5bGUuY2FtZWxpemUoKTsKICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQuc3R5bGVbc3R5bGVdOwogICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZSA9PSAnYXV0bycpIHsKICAgICAgdmFyIGNzcyA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCk7CiAgICAgIHZhbHVlID0gY3NzID8gY3NzW3N0eWxlXSA6IG51bGw7CiAgICB9CiAgICBpZiAoc3R5bGUgPT0gJ29wYWNpdHknKSByZXR1cm4gdmFsdWUgPyBwYXJzZUZsb2F0KHZhbHVlKSA6IDEuMDsKICAgIHJldHVybiB2YWx1ZSA9PSAnYXV0bycgPyBudWxsIDogdmFsdWU7CiAgfSwKCiAgZ2V0T3BhY2l0eTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgcmV0dXJuICQoZWxlbWVudCkuZ2V0U3R5bGUoJ29wYWNpdHknKTsKICB9LAoKICBzZXRTdHlsZTogZnVuY3Rpb24oZWxlbWVudCwgc3R5bGVzKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciBlbGVtZW50U3R5bGUgPSBlbGVtZW50LnN0eWxlLCBtYXRjaDsKICAgIGlmIChPYmplY3QuaXNTdHJpbmcoc3R5bGVzKSkgewogICAgICBlbGVtZW50LnN0eWxlLmNzc1RleHQgKz0gJzsnICsgc3R5bGVzOwogICAgICByZXR1cm4gc3R5bGVzLmluY2x1ZGUoJ29wYWNpdHknKSA/CiAgICAgICAgZWxlbWVudC5zZXRPcGFjaXR5KHN0eWxlcy5tYXRjaCgvb3BhY2l0eTpccyooXGQ/XC4/XGQqKS8pWzFdKSA6IGVsZW1lbnQ7CiAgICB9CiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBzdHlsZXMpCiAgICAgIGlmIChwcm9wZXJ0eSA9PSAnb3BhY2l0eScpIGVsZW1lbnQuc2V0T3BhY2l0eShzdHlsZXNbcHJvcGVydHldKTsKICAgICAgZWxzZQogICAgICAgIGVsZW1lbnRTdHlsZVsocHJvcGVydHkgPT0gJ2Zsb2F0JyB8fCBwcm9wZXJ0eSA9PSAnY3NzRmxvYXQnKSA/CiAgICAgICAgICAoT2JqZWN0LmlzVW5kZWZpbmVkKGVsZW1lbnRTdHlsZS5zdHlsZUZsb2F0KSA/ICdjc3NGbG9hdCcgOiAnc3R5bGVGbG9hdCcpIDoKICAgICAgICAgICAgcHJvcGVydHldID0gc3R5bGVzW3Byb3BlcnR5XTsKCiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICBzZXRPcGFjaXR5OiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAodmFsdWUgPT0gMSB8fCB2YWx1ZSA9PT0gJycpID8gJycgOgogICAgICAodmFsdWUgPCAwLjAwMDAxKSA/IDAgOiB2YWx1ZTsKICAgIHJldHVybiBlbGVtZW50OwogIH0sCgogIG1ha2VQb3NpdGlvbmVkOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciBwb3MgPSBFbGVtZW50LmdldFN0eWxlKGVsZW1lbnQsICdwb3NpdGlvbicpOwogICAgaWYgKHBvcyA9PSAnc3RhdGljJyB8fCAhcG9zKSB7CiAgICAgIGVsZW1lbnQuX21hZGVQb3NpdGlvbmVkID0gdHJ1ZTsKICAgICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7CiAgICAgIGlmIChQcm90b3R5cGUuQnJvd3Nlci5PcGVyYSkgewogICAgICAgIGVsZW1lbnQuc3R5bGUudG9wID0gMDsKICAgICAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSAwOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICB1bmRvUG9zaXRpb25lZDogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBpZiAoZWxlbWVudC5fbWFkZVBvc2l0aW9uZWQpIHsKICAgICAgZWxlbWVudC5fbWFkZVBvc2l0aW9uZWQgPSB1bmRlZmluZWQ7CiAgICAgIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPQogICAgICAgIGVsZW1lbnQuc3R5bGUudG9wID0KICAgICAgICBlbGVtZW50LnN0eWxlLmxlZnQgPQogICAgICAgIGVsZW1lbnQuc3R5bGUuYm90dG9tID0KICAgICAgICBlbGVtZW50LnN0eWxlLnJpZ2h0ID0gJyc7CiAgICB9CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICBtYWtlQ2xpcHBpbmc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKGVsZW1lbnQuX292ZXJmbG93KSByZXR1cm4gZWxlbWVudDsKICAgIGVsZW1lbnQuX292ZXJmbG93ID0gRWxlbWVudC5nZXRTdHlsZShlbGVtZW50LCAnb3ZlcmZsb3cnKSB8fCAnYXV0byc7CiAgICBpZiAoZWxlbWVudC5fb3ZlcmZsb3cgIT09ICdoaWRkZW4nKQogICAgICBlbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICB1bmRvQ2xpcHBpbmc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKCFlbGVtZW50Ll9vdmVyZmxvdykgcmV0dXJuIGVsZW1lbnQ7CiAgICBlbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gZWxlbWVudC5fb3ZlcmZsb3cgPT0gJ2F1dG8nID8gJycgOiBlbGVtZW50Ll9vdmVyZmxvdzsKICAgIGVsZW1lbnQuX292ZXJmbG93ID0gbnVsbDsKICAgIHJldHVybiBlbGVtZW50OwogIH0sCgogIGNsb25lUG9zaXRpb246IGZ1bmN0aW9uKGVsZW1lbnQsIHNvdXJjZSkgewogICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuZXh0ZW5kKHsKICAgICAgc2V0TGVmdDogICAgdHJ1ZSwKICAgICAgc2V0VG9wOiAgICAgdHJ1ZSwKICAgICAgc2V0V2lkdGg6ICAgdHJ1ZSwKICAgICAgc2V0SGVpZ2h0OiAgdHJ1ZSwKICAgICAgb2Zmc2V0VG9wOiAgMCwKICAgICAgb2Zmc2V0TGVmdDogMAogICAgfSwgYXJndW1lbnRzWzJdIHx8IHsgfSk7CgogICAgc291cmNlID0gJChzb3VyY2UpOwogICAgdmFyIHAgPSBFbGVtZW50LnZpZXdwb3J0T2Zmc2V0KHNvdXJjZSksIGRlbHRhID0gWzAsIDBdLCBwYXJlbnQgPSBudWxsOwoKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwoKICAgIGlmIChFbGVtZW50LmdldFN0eWxlKGVsZW1lbnQsICdwb3NpdGlvbicpID09ICdhYnNvbHV0ZScpIHsKICAgICAgcGFyZW50ID0gRWxlbWVudC5nZXRPZmZzZXRQYXJlbnQoZWxlbWVudCk7CiAgICAgIGRlbHRhID0gRWxlbWVudC52aWV3cG9ydE9mZnNldChwYXJlbnQpOwogICAgfQoKICAgIGlmIChwYXJlbnQgPT0gZG9jdW1lbnQuYm9keSkgewogICAgICBkZWx0YVswXSAtPSBkb2N1bWVudC5ib2R5Lm9mZnNldExlZnQ7CiAgICAgIGRlbHRhWzFdIC09IGRvY3VtZW50LmJvZHkub2Zmc2V0VG9wOwogICAgfQoKICAgIGlmIChvcHRpb25zLnNldExlZnQpICAgZWxlbWVudC5zdHlsZS5sZWZ0ICA9IChwWzBdIC0gZGVsdGFbMF0gKyBvcHRpb25zLm9mZnNldExlZnQpICsgJ3B4JzsKICAgIGlmIChvcHRpb25zLnNldFRvcCkgICAgZWxlbWVudC5zdHlsZS50b3AgICA9IChwWzFdIC0gZGVsdGFbMV0gKyBvcHRpb25zLm9mZnNldFRvcCkgKyAncHgnOwogICAgaWYgKG9wdGlvbnMuc2V0V2lkdGgpICBlbGVtZW50LnN0eWxlLndpZHRoID0gc291cmNlLm9mZnNldFdpZHRoICsgJ3B4JzsKICAgIGlmIChvcHRpb25zLnNldEhlaWdodCkgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBzb3VyY2Uub2Zmc2V0SGVpZ2h0ICsgJ3B4JzsKICAgIHJldHVybiBlbGVtZW50OwogIH0KfTsKCk9iamVjdC5leHRlbmQoRWxlbWVudC5NZXRob2RzLCB7CiAgZ2V0RWxlbWVudHNCeVNlbGVjdG9yOiBFbGVtZW50Lk1ldGhvZHMuc2VsZWN0LAoKICBjaGlsZEVsZW1lbnRzOiBFbGVtZW50Lk1ldGhvZHMuaW1tZWRpYXRlRGVzY2VuZGFudHMKfSk7CgpFbGVtZW50Ll9hdHRyaWJ1dGVUcmFuc2xhdGlvbnMgPSB7CiAgd3JpdGU6IHsKICAgIG5hbWVzOiB7CiAgICAgIGNsYXNzTmFtZTogJ2NsYXNzJywKICAgICAgaHRtbEZvcjogICAnZm9yJwogICAgfSwKICAgIHZhbHVlczogeyB9CiAgfQp9OwoKaWYgKFByb3RvdHlwZS5Ccm93c2VyLk9wZXJhKSB7CiAgRWxlbWVudC5NZXRob2RzLmdldFN0eWxlID0gRWxlbWVudC5NZXRob2RzLmdldFN0eWxlLndyYXAoCiAgICBmdW5jdGlvbihwcm9jZWVkLCBlbGVtZW50LCBzdHlsZSkgewogICAgICBzd2l0Y2ggKHN0eWxlKSB7CiAgICAgICAgY2FzZSAnaGVpZ2h0JzogY2FzZSAnd2lkdGgnOgogICAgICAgICAgaWYgKCFFbGVtZW50LnZpc2libGUoZWxlbWVudCkpIHJldHVybiBudWxsOwoKICAgICAgICAgIHZhciBkaW0gPSBwYXJzZUludChwcm9jZWVkKGVsZW1lbnQsIHN0eWxlKSwgMTApOwoKICAgICAgICAgIGlmIChkaW0gIT09IGVsZW1lbnRbJ29mZnNldCcgKyBzdHlsZS5jYXBpdGFsaXplKCldKQogICAgICAgICAgICByZXR1cm4gZGltICsgJ3B4JzsKCiAgICAgICAgICB2YXIgcHJvcGVydGllczsKICAgICAgICAgIGlmIChzdHlsZSA9PT0gJ2hlaWdodCcpIHsKICAgICAgICAgICAgcHJvcGVydGllcyA9IFsnYm9yZGVyLXRvcC13aWR0aCcsICdwYWRkaW5nLXRvcCcsCiAgICAgICAgICAgICAncGFkZGluZy1ib3R0b20nLCAnYm9yZGVyLWJvdHRvbS13aWR0aCddOwogICAgICAgICAgfQogICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHByb3BlcnRpZXMgPSBbJ2JvcmRlci1sZWZ0LXdpZHRoJywgJ3BhZGRpbmctbGVmdCcsCiAgICAgICAgICAgICAncGFkZGluZy1yaWdodCcsICdib3JkZXItcmlnaHQtd2lkdGgnXTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBwcm9wZXJ0aWVzLmluamVjdChkaW0sIGZ1bmN0aW9uKG1lbW8sIHByb3BlcnR5KSB7CiAgICAgICAgICAgIHZhciB2YWwgPSBwcm9jZWVkKGVsZW1lbnQsIHByb3BlcnR5KTsKICAgICAgICAgICAgcmV0dXJuIHZhbCA9PT0gbnVsbCA/IG1lbW8gOiBtZW1vIC0gcGFyc2VJbnQodmFsLCAxMCk7CiAgICAgICAgICB9KSArICdweCc7CiAgICAgICAgZGVmYXVsdDogcmV0dXJuIHByb2NlZWQoZWxlbWVudCwgc3R5bGUpOwogICAgICB9CiAgICB9CiAgKTsKCiAgRWxlbWVudC5NZXRob2RzLnJlYWRBdHRyaWJ1dGUgPSBFbGVtZW50Lk1ldGhvZHMucmVhZEF0dHJpYnV0ZS53cmFwKAogICAgZnVuY3Rpb24ocHJvY2VlZCwgZWxlbWVudCwgYXR0cmlidXRlKSB7CiAgICAgIGlmIChhdHRyaWJ1dGUgPT09ICd0aXRsZScpIHJldHVybiBlbGVtZW50LnRpdGxlOwogICAgICByZXR1cm4gcHJvY2VlZChlbGVtZW50LCBhdHRyaWJ1dGUpOwogICAgfQogICk7Cn0KCmVsc2UgaWYgKFByb3RvdHlwZS5Ccm93c2VyLklFKSB7CiAgRWxlbWVudC5NZXRob2RzLmdldFN0eWxlID0gZnVuY3Rpb24oZWxlbWVudCwgc3R5bGUpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgc3R5bGUgPSAoc3R5bGUgPT0gJ2Zsb2F0JyB8fCBzdHlsZSA9PSAnY3NzRmxvYXQnKSA/ICdzdHlsZUZsb2F0JyA6IHN0eWxlLmNhbWVsaXplKCk7CiAgICB2YXIgdmFsdWUgPSBlbGVtZW50LnN0eWxlW3N0eWxlXTsKICAgIGlmICghdmFsdWUgJiYgZWxlbWVudC5jdXJyZW50U3R5bGUpIHZhbHVlID0gZWxlbWVudC5jdXJyZW50U3R5bGVbc3R5bGVdOwoKICAgIGlmIChzdHlsZSA9PSAnb3BhY2l0eScpIHsKICAgICAgaWYgKHZhbHVlID0gKGVsZW1lbnQuZ2V0U3R5bGUoJ2ZpbHRlcicpIHx8ICcnKS5tYXRjaCgvYWxwaGFcKG9wYWNpdHk9KC4qKVwpLykpCiAgICAgICAgaWYgKHZhbHVlWzFdKSByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZVsxXSkgLyAxMDA7CiAgICAgIHJldHVybiAxLjA7CiAgICB9CgogICAgaWYgKHZhbHVlID09ICdhdXRvJykgewogICAgICBpZiAoKHN0eWxlID09ICd3aWR0aCcgfHwgc3R5bGUgPT0gJ2hlaWdodCcpICYmIChlbGVtZW50LmdldFN0eWxlKCdkaXNwbGF5JykgIT0gJ25vbmUnKSkKICAgICAgICByZXR1cm4gZWxlbWVudFsnb2Zmc2V0JyArIHN0eWxlLmNhcGl0YWxpemUoKV0gKyAncHgnOwogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIHJldHVybiB2YWx1ZTsKICB9OwoKICBFbGVtZW50Lk1ldGhvZHMuc2V0T3BhY2l0eSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlKSB7CiAgICBmdW5jdGlvbiBzdHJpcEFscGhhKGZpbHRlcil7CiAgICAgIHJldHVybiBmaWx0ZXIucmVwbGFjZSgvYWxwaGFcKFteXCldKlwpL2dpLCcnKTsKICAgIH0KICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIGN1cnJlbnRTdHlsZSA9IGVsZW1lbnQuY3VycmVudFN0eWxlOwogICAgaWYgKChjdXJyZW50U3R5bGUgJiYgIWN1cnJlbnRTdHlsZS5oYXNMYXlvdXQpIHx8CiAgICAgICghY3VycmVudFN0eWxlICYmIGVsZW1lbnQuc3R5bGUuem9vbSA9PSAnbm9ybWFsJykpCiAgICAgICAgZWxlbWVudC5zdHlsZS56b29tID0gMTsKCiAgICB2YXIgZmlsdGVyID0gZWxlbWVudC5nZXRTdHlsZSgnZmlsdGVyJyksIHN0eWxlID0gZWxlbWVudC5zdHlsZTsKICAgIGlmICh2YWx1ZSA9PSAxIHx8IHZhbHVlID09PSAnJykgewogICAgICAoZmlsdGVyID0gc3RyaXBBbHBoYShmaWx0ZXIpKSA/CiAgICAgICAgc3R5bGUuZmlsdGVyID0gZmlsdGVyIDogc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdmaWx0ZXInKTsKICAgICAgcmV0dXJuIGVsZW1lbnQ7CiAgICB9IGVsc2UgaWYgKHZhbHVlIDwgMC4wMDAwMSkgdmFsdWUgPSAwOwogICAgc3R5bGUuZmlsdGVyID0gc3RyaXBBbHBoYShmaWx0ZXIpICsKICAgICAgJ2FscGhhKG9wYWNpdHk9JyArICh2YWx1ZSAqIDEwMCkgKyAnKSc7CiAgICByZXR1cm4gZWxlbWVudDsKICB9OwoKICBFbGVtZW50Ll9hdHRyaWJ1dGVUcmFuc2xhdGlvbnMgPSAoZnVuY3Rpb24oKXsKCiAgICB2YXIgY2xhc3NQcm9wID0gJ2NsYXNzTmFtZScsCiAgICAgICAgZm9yUHJvcCA9ICdmb3InLAogICAgICAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgogICAgZWwuc2V0QXR0cmlidXRlKGNsYXNzUHJvcCwgJ3gnKTsKCiAgICBpZiAoZWwuY2xhc3NOYW1lICE9PSAneCcpIHsKICAgICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICd4Jyk7CiAgICAgIGlmIChlbC5jbGFzc05hbWUgPT09ICd4JykgewogICAgICAgIGNsYXNzUHJvcCA9ICdjbGFzcyc7CiAgICAgIH0KICAgIH0KICAgIGVsID0gbnVsbDsKCiAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7CiAgICBlbC5zZXRBdHRyaWJ1dGUoZm9yUHJvcCwgJ3gnKTsKICAgIGlmIChlbC5odG1sRm9yICE9PSAneCcpIHsKICAgICAgZWwuc2V0QXR0cmlidXRlKCdodG1sRm9yJywgJ3gnKTsKICAgICAgaWYgKGVsLmh0bWxGb3IgPT09ICd4JykgewogICAgICAgIGZvclByb3AgPSAnaHRtbEZvcic7CiAgICAgIH0KICAgIH0KICAgIGVsID0gbnVsbDsKCiAgICByZXR1cm4gewogICAgICByZWFkOiB7CiAgICAgICAgbmFtZXM6IHsKICAgICAgICAgICdjbGFzcyc6ICAgICAgY2xhc3NQcm9wLAogICAgICAgICAgJ2NsYXNzTmFtZSc6ICBjbGFzc1Byb3AsCiAgICAgICAgICAnZm9yJzogICAgICAgIGZvclByb3AsCiAgICAgICAgICAnaHRtbEZvcic6ICAgIGZvclByb3AKICAgICAgICB9LAogICAgICAgIHZhbHVlczogewogICAgICAgICAgX2dldEF0dHI6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZSkgewogICAgICAgICAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKTsKICAgICAgICAgIH0sCiAgICAgICAgICBfZ2V0QXR0cjI6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZSkgewogICAgICAgICAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCAyKTsKICAgICAgICAgIH0sCiAgICAgICAgICBfZ2V0QXR0ck5vZGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZSkgewogICAgICAgICAgICB2YXIgbm9kZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlTm9kZShhdHRyaWJ1dGUpOwogICAgICAgICAgICByZXR1cm4gbm9kZSA/IG5vZGUudmFsdWUgOiAiIjsKICAgICAgICAgIH0sCiAgICAgICAgICBfZ2V0RXY6IChmdW5jdGlvbigpewoKICAgICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksIGY7CiAgICAgICAgICAgIGVsLm9uY2xpY2sgPSBQcm90b3R5cGUuZW1wdHlGdW5jdGlvbjsKICAgICAgICAgICAgdmFyIHZhbHVlID0gZWwuZ2V0QXR0cmlidXRlKCdvbmNsaWNrJyk7CgogICAgICAgICAgICBpZiAoU3RyaW5nKHZhbHVlKS5pbmRleE9mKCd7JykgPiAtMSkgewogICAgICAgICAgICAgIGYgPSBmdW5jdGlvbihlbGVtZW50LCBhdHRyaWJ1dGUpIHsKICAgICAgICAgICAgICAgIGF0dHJpYnV0ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSk7CiAgICAgICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZSkgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGUudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZS5zcGxpdCgneycpWzFdOwogICAgICAgICAgICAgICAgYXR0cmlidXRlID0gYXR0cmlidXRlLnNwbGl0KCd9JylbMF07CiAgICAgICAgICAgICAgICByZXR1cm4gYXR0cmlidXRlLnN0cmlwKCk7CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICAgICAgICBmID0gZnVuY3Rpb24oZWxlbWVudCwgYXR0cmlidXRlKSB7CiAgICAgICAgICAgICAgICBhdHRyaWJ1dGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpOwogICAgICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGUpIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZS5zdHJpcCgpOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWwgPSBudWxsOwogICAgICAgICAgICByZXR1cm4gZjsKICAgICAgICAgIH0pKCksCiAgICAgICAgICBfZmxhZzogZnVuY3Rpb24oZWxlbWVudCwgYXR0cmlidXRlKSB7CiAgICAgICAgICAgIHJldHVybiAkKGVsZW1lbnQpLmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGUpID8gYXR0cmlidXRlIDogbnVsbDsKICAgICAgICAgIH0sCiAgICAgICAgICBzdHlsZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgICAgICByZXR1cm4gZWxlbWVudC5zdHlsZS5jc3NUZXh0LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICB9LAogICAgICAgICAgdGl0bGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQudGl0bGU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSkoKTsKCiAgRWxlbWVudC5fYXR0cmlidXRlVHJhbnNsYXRpb25zLndyaXRlID0gewogICAgbmFtZXM6IE9iamVjdC5leHRlbmQoewogICAgICBjZWxscGFkZGluZzogJ2NlbGxQYWRkaW5nJywKICAgICAgY2VsbHNwYWNpbmc6ICdjZWxsU3BhY2luZycKICAgIH0sIEVsZW1lbnQuX2F0dHJpYnV0ZVRyYW5zbGF0aW9ucy5yZWFkLm5hbWVzKSwKICAgIHZhbHVlczogewogICAgICBjaGVja2VkOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSkgewogICAgICAgIGVsZW1lbnQuY2hlY2tlZCA9ICEhdmFsdWU7CiAgICAgIH0sCgogICAgICBzdHlsZTogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHsKICAgICAgICBlbGVtZW50LnN0eWxlLmNzc1RleHQgPSB2YWx1ZSA/IHZhbHVlIDogJyc7CiAgICAgIH0KICAgIH0KICB9OwoKICBFbGVtZW50Ll9hdHRyaWJ1dGVUcmFuc2xhdGlvbnMuaGFzID0ge307CgogICR3KCdjb2xTcGFuIHJvd1NwYW4gdkFsaWduIGRhdGVUaW1lIGFjY2Vzc0tleSB0YWJJbmRleCAnICsKICAgICAgJ2VuY1R5cGUgbWF4TGVuZ3RoIHJlYWRPbmx5IGxvbmdEZXNjIGZyYW1lQm9yZGVyJykuZWFjaChmdW5jdGlvbihhdHRyKSB7CiAgICBFbGVtZW50Ll9hdHRyaWJ1dGVUcmFuc2xhdGlvbnMud3JpdGUubmFtZXNbYXR0ci50b0xvd2VyQ2FzZSgpXSA9IGF0dHI7CiAgICBFbGVtZW50Ll9hdHRyaWJ1dGVUcmFuc2xhdGlvbnMuaGFzW2F0dHIudG9Mb3dlckNhc2UoKV0gPSBhdHRyOwogIH0pOwoKICAoZnVuY3Rpb24odikgewogICAgT2JqZWN0LmV4dGVuZCh2LCB7CiAgICAgIGhyZWY6ICAgICAgICB2Ll9nZXRBdHRyMiwKICAgICAgc3JjOiAgICAgICAgIHYuX2dldEF0dHIyLAogICAgICB0eXBlOiAgICAgICAgdi5fZ2V0QXR0ciwKICAgICAgYWN0aW9uOiAgICAgIHYuX2dldEF0dHJOb2RlLAogICAgICBkaXNhYmxlZDogICAgdi5fZmxhZywKICAgICAgY2hlY2tlZDogICAgIHYuX2ZsYWcsCiAgICAgIHJlYWRvbmx5OiAgICB2Ll9mbGFnLAogICAgICBtdWx0aXBsZTogICAgdi5fZmxhZywKICAgICAgb25sb2FkOiAgICAgIHYuX2dldEV2LAogICAgICBvbnVubG9hZDogICAgdi5fZ2V0RXYsCiAgICAgIG9uY2xpY2s6ICAgICB2Ll9nZXRFdiwKICAgICAgb25kYmxjbGljazogIHYuX2dldEV2LAogICAgICBvbm1vdXNlZG93bjogdi5fZ2V0RXYsCiAgICAgIG9ubW91c2V1cDogICB2Ll9nZXRFdiwKICAgICAgb25tb3VzZW92ZXI6IHYuX2dldEV2LAogICAgICBvbm1vdXNlbW92ZTogdi5fZ2V0RXYsCiAgICAgIG9ubW91c2VvdXQ6ICB2Ll9nZXRFdiwKICAgICAgb25mb2N1czogICAgIHYuX2dldEV2LAogICAgICBvbmJsdXI6ICAgICAgdi5fZ2V0RXYsCiAgICAgIG9ua2V5cHJlc3M6ICB2Ll9nZXRFdiwKICAgICAgb25rZXlkb3duOiAgIHYuX2dldEV2LAogICAgICBvbmtleXVwOiAgICAgdi5fZ2V0RXYsCiAgICAgIG9uc3VibWl0OiAgICB2Ll9nZXRFdiwKICAgICAgb25yZXNldDogICAgIHYuX2dldEV2LAogICAgICBvbnNlbGVjdDogICAgdi5fZ2V0RXYsCiAgICAgIG9uY2hhbmdlOiAgICB2Ll9nZXRFdgogICAgfSk7CiAgfSkoRWxlbWVudC5fYXR0cmlidXRlVHJhbnNsYXRpb25zLnJlYWQudmFsdWVzKTsKCiAgaWYgKFByb3RvdHlwZS5Ccm93c2VyRmVhdHVyZXMuRWxlbWVudEV4dGVuc2lvbnMpIHsKICAgIChmdW5jdGlvbigpIHsKICAgICAgZnVuY3Rpb24gX2Rlc2NlbmRhbnRzKGVsZW1lbnQpIHsKICAgICAgICB2YXIgbm9kZXMgPSBlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJyksIHJlc3VsdHMgPSBbXTsKICAgICAgICBmb3IgKHZhciBpID0gMCwgbm9kZTsgbm9kZSA9IG5vZGVzW2ldOyBpKyspCiAgICAgICAgICBpZiAobm9kZS50YWdOYW1lICE9PSAiISIpIC8vIEZpbHRlciBvdXQgY29tbWVudCBub2Rlcy4KICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5vZGUpOwogICAgICAgIHJldHVybiByZXN1bHRzOwogICAgICB9CgogICAgICBFbGVtZW50Lk1ldGhvZHMuZG93biA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV4cHJlc3Npb24sIGluZGV4KSB7CiAgICAgICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkgcmV0dXJuIGVsZW1lbnQuZmlyc3REZXNjZW5kYW50KCk7CiAgICAgICAgcmV0dXJuIE9iamVjdC5pc051bWJlcihleHByZXNzaW9uKSA/IF9kZXNjZW5kYW50cyhlbGVtZW50KVtleHByZXNzaW9uXSA6CiAgICAgICAgICBFbGVtZW50LnNlbGVjdChlbGVtZW50LCBleHByZXNzaW9uKVtpbmRleCB8fCAwXTsKICAgICAgfQogICAgfSkoKTsKICB9Cgp9CgplbHNlIGlmIChQcm90b3R5cGUuQnJvd3Nlci5HZWNrbyAmJiAvcnY6MVwuOFwuMC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkgewogIEVsZW1lbnQuTWV0aG9kcy5zZXRPcGFjaXR5ID0gZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gKHZhbHVlID09IDEpID8gMC45OTk5OTkgOgogICAgICAodmFsdWUgPT09ICcnKSA/ICcnIDogKHZhbHVlIDwgMC4wMDAwMSkgPyAwIDogdmFsdWU7CiAgICByZXR1cm4gZWxlbWVudDsKICB9Owp9CgplbHNlIGlmIChQcm90b3R5cGUuQnJvd3Nlci5XZWJLaXQpIHsKICBFbGVtZW50Lk1ldGhvZHMuc2V0T3BhY2l0eSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICh2YWx1ZSA9PSAxIHx8IHZhbHVlID09PSAnJykgPyAnJyA6CiAgICAgICh2YWx1ZSA8IDAuMDAwMDEpID8gMCA6IHZhbHVlOwoKICAgIGlmICh2YWx1ZSA9PSAxKQogICAgICBpZiAoZWxlbWVudC50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT0gJ0lNRycgJiYgZWxlbWVudC53aWR0aCkgewogICAgICAgIGVsZW1lbnQud2lkdGgrKzsgZWxlbWVudC53aWR0aC0tOwogICAgICB9IGVsc2UgdHJ5IHsKICAgICAgICB2YXIgbiA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcgJyk7CiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChuKTsKICAgICAgICBlbGVtZW50LnJlbW92ZUNoaWxkKG4pOwogICAgICB9IGNhdGNoIChlKSB7IH0KCiAgICByZXR1cm4gZWxlbWVudDsKICB9Owp9CgppZiAoJ291dGVySFRNTCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7CiAgRWxlbWVudC5NZXRob2RzLnJlcGxhY2UgPSBmdW5jdGlvbihlbGVtZW50LCBjb250ZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKCiAgICBpZiAoY29udGVudCAmJiBjb250ZW50LnRvRWxlbWVudCkgY29udGVudCA9IGNvbnRlbnQudG9FbGVtZW50KCk7CiAgICBpZiAoT2JqZWN0LmlzRWxlbWVudChjb250ZW50KSkgewogICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGNvbnRlbnQsIGVsZW1lbnQpOwogICAgICByZXR1cm4gZWxlbWVudDsKICAgIH0KCiAgICBjb250ZW50ID0gT2JqZWN0LnRvSFRNTChjb250ZW50KTsKICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGUsIHRhZ05hbWUgPSBwYXJlbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpOwoKICAgIGlmIChFbGVtZW50Ll9pbnNlcnRpb25UcmFuc2xhdGlvbnMudGFnc1t0YWdOYW1lXSkgewogICAgICB2YXIgbmV4dFNpYmxpbmcgPSBlbGVtZW50Lm5leHQoKSwKICAgICAgICAgIGZyYWdtZW50cyA9IEVsZW1lbnQuX2dldENvbnRlbnRGcm9tQW5vbnltb3VzRWxlbWVudCh0YWdOYW1lLCBjb250ZW50LnN0cmlwU2NyaXB0cygpKTsKICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpOwogICAgICBpZiAobmV4dFNpYmxpbmcpCiAgICAgICAgZnJhZ21lbnRzLmVhY2goZnVuY3Rpb24obm9kZSkgeyBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIG5leHRTaWJsaW5nKSB9KTsKICAgICAgZWxzZQogICAgICAgIGZyYWdtZW50cy5lYWNoKGZ1bmN0aW9uKG5vZGUpIHsgcGFyZW50LmFwcGVuZENoaWxkKG5vZGUpIH0pOwogICAgfQogICAgZWxzZSBlbGVtZW50Lm91dGVySFRNTCA9IGNvbnRlbnQuc3RyaXBTY3JpcHRzKCk7CgogICAgY29udGVudC5ldmFsU2NyaXB0cy5iaW5kKGNvbnRlbnQpLmRlZmVyKCk7CiAgICByZXR1cm4gZWxlbWVudDsKICB9Owp9CgpFbGVtZW50Ll9yZXR1cm5PZmZzZXQgPSBmdW5jdGlvbihsLCB0KSB7CiAgdmFyIHJlc3VsdCA9IFtsLCB0XTsKICByZXN1bHQubGVmdCA9IGw7CiAgcmVzdWx0LnRvcCA9IHQ7CiAgcmV0dXJuIHJlc3VsdDsKfTsKCkVsZW1lbnQuX2dldENvbnRlbnRGcm9tQW5vbnltb3VzRWxlbWVudCA9IGZ1bmN0aW9uKHRhZ05hbWUsIGh0bWwsIGZvcmNlKSB7CiAgdmFyIGRpdiA9IG5ldyBFbGVtZW50KCdkaXYnKSwKICAgICAgdCA9IEVsZW1lbnQuX2luc2VydGlvblRyYW5zbGF0aW9ucy50YWdzW3RhZ05hbWVdOwoKICB2YXIgd29ya2Fyb3VuZCA9IGZhbHNlOwogIGlmICh0KSB3b3JrYXJvdW5kID0gdHJ1ZTsKICBlbHNlIGlmIChmb3JjZSkgewogICAgd29ya2Fyb3VuZCA9IHRydWU7CiAgICB0ID0gWycnLCAnJywgMF07CiAgfQoKICBpZiAod29ya2Fyb3VuZCkgewogICAgZGl2LmlubmVySFRNTCA9ICcmbmJzcDsnICsgdFswXSArIGh0bWwgKyB0WzFdOwogICAgZGl2LnJlbW92ZUNoaWxkKGRpdi5maXJzdENoaWxkKTsKICAgIGZvciAodmFyIGkgPSB0WzJdOyBpLS07ICkgewogICAgICBkaXYgPSBkaXYuZmlyc3RDaGlsZDsKICAgIH0KICB9CiAgZWxzZSB7CiAgICBkaXYuaW5uZXJIVE1MID0gaHRtbDsKICB9CiAgcmV0dXJuICRBKGRpdi5jaGlsZE5vZGVzKTsKfTsKCkVsZW1lbnQuX2luc2VydGlvblRyYW5zbGF0aW9ucyA9IHsKICBiZWZvcmU6IGZ1bmN0aW9uKGVsZW1lbnQsIG5vZGUpIHsKICAgIGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgZWxlbWVudCk7CiAgfSwKICB0b3A6IGZ1bmN0aW9uKGVsZW1lbnQsIG5vZGUpIHsKICAgIGVsZW1lbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIGVsZW1lbnQuZmlyc3RDaGlsZCk7CiAgfSwKICBib3R0b206IGZ1bmN0aW9uKGVsZW1lbnQsIG5vZGUpIHsKICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQobm9kZSk7CiAgfSwKICBhZnRlcjogZnVuY3Rpb24oZWxlbWVudCwgbm9kZSkgewogICAgZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBlbGVtZW50Lm5leHRTaWJsaW5nKTsKICB9LAogIHRhZ3M6IHsKICAgIFRBQkxFOiAgWyc8dGFibGU+JywgICAgICAgICAgICAgICAgJzwvdGFibGU+JywgICAgICAgICAgICAgICAgICAgMV0sCiAgICBUQk9EWTogIFsnPHRhYmxlPjx0Ym9keT4nLCAgICAgICAgICc8L3Rib2R5PjwvdGFibGU+JywgICAgICAgICAgIDJdLAogICAgVFI6ICAgICBbJzx0YWJsZT48dGJvZHk+PHRyPicsICAgICAnPC90cj48L3Rib2R5PjwvdGFibGU+JywgICAgICAzXSwKICAgIFREOiAgICAgWyc8dGFibGU+PHRib2R5Pjx0cj48dGQ+JywgJzwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+JywgNF0sCiAgICBTRUxFQ1Q6IFsnPHNlbGVjdD4nLCAgICAgICAgICAgICAgICc8L3NlbGVjdD4nLCAgICAgICAgICAgICAgICAgIDFdCiAgfQp9OwoKKGZ1bmN0aW9uKCkgewogIHZhciB0YWdzID0gRWxlbWVudC5faW5zZXJ0aW9uVHJhbnNsYXRpb25zLnRhZ3M7CiAgT2JqZWN0LmV4dGVuZCh0YWdzLCB7CiAgICBUSEVBRDogdGFncy5UQk9EWSwKICAgIFRGT09UOiB0YWdzLlRCT0RZLAogICAgVEg6ICAgIHRhZ3MuVEQKICB9KTsKfSkoKTsKCkVsZW1lbnQuTWV0aG9kcy5TaW11bGF0ZWQgPSB7CiAgaGFzQXR0cmlidXRlOiBmdW5jdGlvbihlbGVtZW50LCBhdHRyaWJ1dGUpIHsKICAgIGF0dHJpYnV0ZSA9IEVsZW1lbnQuX2F0dHJpYnV0ZVRyYW5zbGF0aW9ucy5oYXNbYXR0cmlidXRlXSB8fCBhdHRyaWJ1dGU7CiAgICB2YXIgbm9kZSA9ICQoZWxlbWVudCkuZ2V0QXR0cmlidXRlTm9kZShhdHRyaWJ1dGUpOwogICAgcmV0dXJuICEhKG5vZGUgJiYgbm9kZS5zcGVjaWZpZWQpOwogIH0KfTsKCkVsZW1lbnQuTWV0aG9kcy5CeVRhZyA9IHsgfTsKCk9iamVjdC5leHRlbmQoRWxlbWVudCwgRWxlbWVudC5NZXRob2RzKTsKCihmdW5jdGlvbihkaXYpIHsKCiAgaWYgKCFQcm90b3R5cGUuQnJvd3NlckZlYXR1cmVzLkVsZW1lbnRFeHRlbnNpb25zICYmIGRpdlsnX19wcm90b19fJ10pIHsKICAgIHdpbmRvdy5IVE1MRWxlbWVudCA9IHsgfTsKICAgIHdpbmRvdy5IVE1MRWxlbWVudC5wcm90b3R5cGUgPSBkaXZbJ19fcHJvdG9fXyddOwogICAgUHJvdG90eXBlLkJyb3dzZXJGZWF0dXJlcy5FbGVtZW50RXh0ZW5zaW9ucyA9IHRydWU7CiAgfQoKICBkaXYgPSBudWxsOwoKfSkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpOwoKRWxlbWVudC5leHRlbmQgPSAoZnVuY3Rpb24oKSB7CgogIGZ1bmN0aW9uIGNoZWNrRGVmaWNpZW5jeSh0YWdOYW1lKSB7CiAgICBpZiAodHlwZW9mIHdpbmRvdy5FbGVtZW50ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgIHZhciBwcm90byA9IHdpbmRvdy5FbGVtZW50LnByb3RvdHlwZTsKICAgICAgaWYgKHByb3RvKSB7CiAgICAgICAgdmFyIGlkID0gJ18nICsgKE1hdGgucmFuZG9tKCkrJycpLnNsaWNlKDIpLAogICAgICAgICAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7CiAgICAgICAgcHJvdG9baWRdID0gJ3gnOwogICAgICAgIHZhciBpc0J1Z2d5ID0gKGVsW2lkXSAhPT0gJ3gnKTsKICAgICAgICBkZWxldGUgcHJvdG9baWRdOwogICAgICAgIGVsID0gbnVsbDsKICAgICAgICByZXR1cm4gaXNCdWdneTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgZnVuY3Rpb24gZXh0ZW5kRWxlbWVudFdpdGgoZWxlbWVudCwgbWV0aG9kcykgewogICAgZm9yICh2YXIgcHJvcGVydHkgaW4gbWV0aG9kcykgewogICAgICB2YXIgdmFsdWUgPSBtZXRob2RzW3Byb3BlcnR5XTsKICAgICAgaWYgKE9iamVjdC5pc0Z1bmN0aW9uKHZhbHVlKSAmJiAhKHByb3BlcnR5IGluIGVsZW1lbnQpKQogICAgICAgIGVsZW1lbnRbcHJvcGVydHldID0gdmFsdWUubWV0aG9kaXplKCk7CiAgICB9CiAgfQoKICB2YXIgSFRNTE9CSkVDVEVMRU1FTlRfUFJPVE9UWVBFX0JVR0dZID0gY2hlY2tEZWZpY2llbmN5KCdvYmplY3QnKTsKCiAgaWYgKFByb3RvdHlwZS5Ccm93c2VyRmVhdHVyZXMuU3BlY2lmaWNFbGVtZW50RXh0ZW5zaW9ucykgewogICAgaWYgKEhUTUxPQkpFQ1RFTEVNRU5UX1BST1RPVFlQRV9CVUdHWSkgewogICAgICByZXR1cm4gZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIGlmIChlbGVtZW50ICYmIHR5cGVvZiBlbGVtZW50Ll9leHRlbmRlZEJ5UHJvdG90eXBlID09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICB2YXIgdCA9IGVsZW1lbnQudGFnTmFtZTsKICAgICAgICAgIGlmICh0ICYmICgvXig/Om9iamVjdHxhcHBsZXR8ZW1iZWQpJC9pLnRlc3QodCkpKSB7CiAgICAgICAgICAgIGV4dGVuZEVsZW1lbnRXaXRoKGVsZW1lbnQsIEVsZW1lbnQuTWV0aG9kcyk7CiAgICAgICAgICAgIGV4dGVuZEVsZW1lbnRXaXRoKGVsZW1lbnQsIEVsZW1lbnQuTWV0aG9kcy5TaW11bGF0ZWQpOwogICAgICAgICAgICBleHRlbmRFbGVtZW50V2l0aChlbGVtZW50LCBFbGVtZW50Lk1ldGhvZHMuQnlUYWdbdC50b1VwcGVyQ2FzZSgpXSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBlbGVtZW50OwogICAgICB9CiAgICB9CiAgICByZXR1cm4gUHJvdG90eXBlLks7CiAgfQoKICB2YXIgTWV0aG9kcyA9IHsgfSwgQnlUYWcgPSBFbGVtZW50Lk1ldGhvZHMuQnlUYWc7CgogIHZhciBleHRlbmQgPSBPYmplY3QuZXh0ZW5kKGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGlmICghZWxlbWVudCB8fCB0eXBlb2YgZWxlbWVudC5fZXh0ZW5kZWRCeVByb3RvdHlwZSAhPSAndW5kZWZpbmVkJyB8fAogICAgICAgIGVsZW1lbnQubm9kZVR5cGUgIT0gMSB8fCBlbGVtZW50ID09IHdpbmRvdykgcmV0dXJuIGVsZW1lbnQ7CgogICAgdmFyIG1ldGhvZHMgPSBPYmplY3QuY2xvbmUoTWV0aG9kcyksCiAgICAgICAgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpOwoKICAgIGlmIChCeVRhZ1t0YWdOYW1lXSkgT2JqZWN0LmV4dGVuZChtZXRob2RzLCBCeVRhZ1t0YWdOYW1lXSk7CgogICAgZXh0ZW5kRWxlbWVudFdpdGgoZWxlbWVudCwgbWV0aG9kcyk7CgogICAgZWxlbWVudC5fZXh0ZW5kZWRCeVByb3RvdHlwZSA9IFByb3RvdHlwZS5lbXB0eUZ1bmN0aW9uOwogICAgcmV0dXJuIGVsZW1lbnQ7CgogIH0sIHsKICAgIHJlZnJlc2g6IGZ1bmN0aW9uKCkgewogICAgICBpZiAoIVByb3RvdHlwZS5Ccm93c2VyRmVhdHVyZXMuRWxlbWVudEV4dGVuc2lvbnMpIHsKICAgICAgICBPYmplY3QuZXh0ZW5kKE1ldGhvZHMsIEVsZW1lbnQuTWV0aG9kcyk7CiAgICAgICAgT2JqZWN0LmV4dGVuZChNZXRob2RzLCBFbGVtZW50Lk1ldGhvZHMuU2ltdWxhdGVkKTsKICAgICAgfQogICAgfQogIH0pOwoKICBleHRlbmQucmVmcmVzaCgpOwogIHJldHVybiBleHRlbmQ7Cn0pKCk7CgppZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZSkgewogIEVsZW1lbnQuaGFzQXR0cmlidXRlID0gZnVuY3Rpb24oZWxlbWVudCwgYXR0cmlidXRlKSB7CiAgICByZXR1cm4gZWxlbWVudC5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlKTsKICB9Owp9CmVsc2UgewogIEVsZW1lbnQuaGFzQXR0cmlidXRlID0gRWxlbWVudC5NZXRob2RzLlNpbXVsYXRlZC5oYXNBdHRyaWJ1dGU7Cn0KCkVsZW1lbnQuYWRkTWV0aG9kcyA9IGZ1bmN0aW9uKG1ldGhvZHMpIHsKICB2YXIgRiA9IFByb3RvdHlwZS5Ccm93c2VyRmVhdHVyZXMsIFQgPSBFbGVtZW50Lk1ldGhvZHMuQnlUYWc7CgogIGlmICghbWV0aG9kcykgewogICAgT2JqZWN0LmV4dGVuZChGb3JtLCBGb3JtLk1ldGhvZHMpOwogICAgT2JqZWN0LmV4dGVuZChGb3JtLkVsZW1lbnQsIEZvcm0uRWxlbWVudC5NZXRob2RzKTsKICAgIE9iamVjdC5leHRlbmQoRWxlbWVudC5NZXRob2RzLkJ5VGFnLCB7CiAgICAgICJGT1JNIjogICAgIE9iamVjdC5jbG9uZShGb3JtLk1ldGhvZHMpLAogICAgICAiSU5QVVQiOiAgICBPYmplY3QuY2xvbmUoRm9ybS5FbGVtZW50Lk1ldGhvZHMpLAogICAgICAiU0VMRUNUIjogICBPYmplY3QuY2xvbmUoRm9ybS5FbGVtZW50Lk1ldGhvZHMpLAogICAgICAiVEVYVEFSRUEiOiBPYmplY3QuY2xvbmUoRm9ybS5FbGVtZW50Lk1ldGhvZHMpLAogICAgICAiQlVUVE9OIjogICBPYmplY3QuY2xvbmUoRm9ybS5FbGVtZW50Lk1ldGhvZHMpCiAgICB9KTsKICB9CgogIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDIpIHsKICAgIHZhciB0YWdOYW1lID0gbWV0aG9kczsKICAgIG1ldGhvZHMgPSBhcmd1bWVudHNbMV07CiAgfQoKICBpZiAoIXRhZ05hbWUpIE9iamVjdC5leHRlbmQoRWxlbWVudC5NZXRob2RzLCBtZXRob2RzIHx8IHsgfSk7CiAgZWxzZSB7CiAgICBpZiAoT2JqZWN0LmlzQXJyYXkodGFnTmFtZSkpIHRhZ05hbWUuZWFjaChleHRlbmQpOwogICAgZWxzZSBleHRlbmQodGFnTmFtZSk7CiAgfQoKICBmdW5jdGlvbiBleHRlbmQodGFnTmFtZSkgewogICAgdGFnTmFtZSA9IHRhZ05hbWUudG9VcHBlckNhc2UoKTsKICAgIGlmICghRWxlbWVudC5NZXRob2RzLkJ5VGFnW3RhZ05hbWVdKQogICAgICBFbGVtZW50Lk1ldGhvZHMuQnlUYWdbdGFnTmFtZV0gPSB7IH07CiAgICBPYmplY3QuZXh0ZW5kKEVsZW1lbnQuTWV0aG9kcy5CeVRhZ1t0YWdOYW1lXSwgbWV0aG9kcyk7CiAgfQoKICBmdW5jdGlvbiBjb3B5KG1ldGhvZHMsIGRlc3RpbmF0aW9uLCBvbmx5SWZBYnNlbnQpIHsKICAgIG9ubHlJZkFic2VudCA9IG9ubHlJZkFic2VudCB8fCBmYWxzZTsKICAgIGZvciAodmFyIHByb3BlcnR5IGluIG1ldGhvZHMpIHsKICAgICAgdmFyIHZhbHVlID0gbWV0aG9kc1twcm9wZXJ0eV07CiAgICAgIGlmICghT2JqZWN0LmlzRnVuY3Rpb24odmFsdWUpKSBjb250aW51ZTsKICAgICAgaWYgKCFvbmx5SWZBYnNlbnQgfHwgIShwcm9wZXJ0eSBpbiBkZXN0aW5hdGlvbikpCiAgICAgICAgZGVzdGluYXRpb25bcHJvcGVydHldID0gdmFsdWUubWV0aG9kaXplKCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBmaW5kRE9NQ2xhc3ModGFnTmFtZSkgewogICAgdmFyIGtsYXNzOwogICAgdmFyIHRyYW5zID0gewogICAgICAiT1BUR1JPVVAiOiAiT3B0R3JvdXAiLCAiVEVYVEFSRUEiOiAiVGV4dEFyZWEiLCAiUCI6ICJQYXJhZ3JhcGgiLAogICAgICAiRklFTERTRVQiOiAiRmllbGRTZXQiLCAiVUwiOiAiVUxpc3QiLCAiT0wiOiAiT0xpc3QiLCAiREwiOiAiRExpc3QiLAogICAgICAiRElSIjogIkRpcmVjdG9yeSIsICJIMSI6ICJIZWFkaW5nIiwgIkgyIjogIkhlYWRpbmciLCAiSDMiOiAiSGVhZGluZyIsCiAgICAgICJINCI6ICJIZWFkaW5nIiwgIkg1IjogIkhlYWRpbmciLCAiSDYiOiAiSGVhZGluZyIsICJRIjogIlF1b3RlIiwKICAgICAgIklOUyI6ICJNb2QiLCAiREVMIjogIk1vZCIsICJBIjogIkFuY2hvciIsICJJTUciOiAiSW1hZ2UiLCAiQ0FQVElPTiI6CiAgICAgICJUYWJsZUNhcHRpb24iLCAiQ09MIjogIlRhYmxlQ29sIiwgIkNPTEdST1VQIjogIlRhYmxlQ29sIiwgIlRIRUFEIjoKICAgICAgIlRhYmxlU2VjdGlvbiIsICJURk9PVCI6ICJUYWJsZVNlY3Rpb24iLCAiVEJPRFkiOiAiVGFibGVTZWN0aW9uIiwgIlRSIjoKICAgICAgIlRhYmxlUm93IiwgIlRIIjogIlRhYmxlQ2VsbCIsICJURCI6ICJUYWJsZUNlbGwiLCAiRlJBTUVTRVQiOgogICAgICAiRnJhbWVTZXQiLCAiSUZSQU1FIjogIklGcmFtZSIKICAgIH07CiAgICBpZiAodHJhbnNbdGFnTmFtZV0pIGtsYXNzID0gJ0hUTUwnICsgdHJhbnNbdGFnTmFtZV0gKyAnRWxlbWVudCc7CiAgICBpZiAod2luZG93W2tsYXNzXSkgcmV0dXJuIHdpbmRvd1trbGFzc107CiAgICBrbGFzcyA9ICdIVE1MJyArIHRhZ05hbWUgKyAnRWxlbWVudCc7CiAgICBpZiAod2luZG93W2tsYXNzXSkgcmV0dXJuIHdpbmRvd1trbGFzc107CiAgICBrbGFzcyA9ICdIVE1MJyArIHRhZ05hbWUuY2FwaXRhbGl6ZSgpICsgJ0VsZW1lbnQnOwogICAgaWYgKHdpbmRvd1trbGFzc10pIHJldHVybiB3aW5kb3dba2xhc3NdOwoKICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKSwKICAgICAgICBwcm90byA9IGVsZW1lbnRbJ19fcHJvdG9fXyddIHx8IGVsZW1lbnQuY29uc3RydWN0b3IucHJvdG90eXBlOwoKICAgIGVsZW1lbnQgPSBudWxsOwogICAgcmV0dXJuIHByb3RvOwogIH0KCiAgdmFyIGVsZW1lbnRQcm90b3R5cGUgPSB3aW5kb3cuSFRNTEVsZW1lbnQgPyBIVE1MRWxlbWVudC5wcm90b3R5cGUgOgogICBFbGVtZW50LnByb3RvdHlwZTsKCiAgaWYgKEYuRWxlbWVudEV4dGVuc2lvbnMpIHsKICAgIGNvcHkoRWxlbWVudC5NZXRob2RzLCBlbGVtZW50UHJvdG90eXBlKTsKICAgIGNvcHkoRWxlbWVudC5NZXRob2RzLlNpbXVsYXRlZCwgZWxlbWVudFByb3RvdHlwZSwgdHJ1ZSk7CiAgfQoKICBpZiAoRi5TcGVjaWZpY0VsZW1lbnRFeHRlbnNpb25zKSB7CiAgICBmb3IgKHZhciB0YWcgaW4gRWxlbWVudC5NZXRob2RzLkJ5VGFnKSB7CiAgICAgIHZhciBrbGFzcyA9IGZpbmRET01DbGFzcyh0YWcpOwogICAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKGtsYXNzKSkgY29udGludWU7CiAgICAgIGNvcHkoVFt0YWddLCBrbGFzcy5wcm90b3R5cGUpOwogICAgfQogIH0KCiAgT2JqZWN0LmV4dGVuZChFbGVtZW50LCBFbGVtZW50Lk1ldGhvZHMpOwogIGRlbGV0ZSBFbGVtZW50LkJ5VGFnOwoKICBpZiAoRWxlbWVudC5leHRlbmQucmVmcmVzaCkgRWxlbWVudC5leHRlbmQucmVmcmVzaCgpOwogIEVsZW1lbnQuY2FjaGUgPSB7IH07Cn07CgoKZG9jdW1lbnQudmlld3BvcnQgPSB7CgogIGdldERpbWVuc2lvbnM6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsgd2lkdGg6IHRoaXMuZ2V0V2lkdGgoKSwgaGVpZ2h0OiB0aGlzLmdldEhlaWdodCgpIH07CiAgfSwKCiAgZ2V0U2Nyb2xsT2Zmc2V0czogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gRWxlbWVudC5fcmV0dXJuT2Zmc2V0KAogICAgICB3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0LAogICAgICB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCAgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApOwogIH0KfTsKCihmdW5jdGlvbih2aWV3cG9ydCkgewogIHZhciBCID0gUHJvdG90eXBlLkJyb3dzZXIsIGRvYyA9IGRvY3VtZW50LCBlbGVtZW50LCBwcm9wZXJ0eSA9IHt9OwoKICBmdW5jdGlvbiBnZXRSb290RWxlbWVudCgpIHsKICAgIGlmIChCLldlYktpdCAmJiAhZG9jLmV2YWx1YXRlKQogICAgICByZXR1cm4gZG9jdW1lbnQ7CgogICAgaWYgKEIuT3BlcmEgJiYgd2luZG93LnBhcnNlRmxvYXQod2luZG93Lm9wZXJhLnZlcnNpb24oKSkgPCA5LjUpCiAgICAgIHJldHVybiBkb2N1bWVudC5ib2R5OwoKICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CiAgfQoKICBmdW5jdGlvbiBkZWZpbmUoRCkgewogICAgaWYgKCFlbGVtZW50KSBlbGVtZW50ID0gZ2V0Um9vdEVsZW1lbnQoKTsKCiAgICBwcm9wZXJ0eVtEXSA9ICdjbGllbnQnICsgRDsKCiAgICB2aWV3cG9ydFsnZ2V0JyArIERdID0gZnVuY3Rpb24oKSB7IHJldHVybiBlbGVtZW50W3Byb3BlcnR5W0RdXSB9OwogICAgcmV0dXJuIHZpZXdwb3J0WydnZXQnICsgRF0oKTsKICB9CgogIHZpZXdwb3J0LmdldFdpZHRoICA9IGRlZmluZS5jdXJyeSgnV2lkdGgnKTsKCiAgdmlld3BvcnQuZ2V0SGVpZ2h0ID0gZGVmaW5lLmN1cnJ5KCdIZWlnaHQnKTsKfSkoZG9jdW1lbnQudmlld3BvcnQpOwoKCkVsZW1lbnQuU3RvcmFnZSA9IHsKICBVSUQ6IDEKfTsKCkVsZW1lbnQuYWRkTWV0aG9kcyh7CiAgZ2V0U3RvcmFnZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgaWYgKCEoZWxlbWVudCA9ICQoZWxlbWVudCkpKSByZXR1cm47CgogICAgdmFyIHVpZDsKICAgIGlmIChlbGVtZW50ID09PSB3aW5kb3cpIHsKICAgICAgdWlkID0gMDsKICAgIH0gZWxzZSB7CiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5fcHJvdG90eXBlVUlEID09PSAidW5kZWZpbmVkIikKICAgICAgICBlbGVtZW50Ll9wcm90b3R5cGVVSUQgPSBFbGVtZW50LlN0b3JhZ2UuVUlEKys7CiAgICAgIHVpZCA9IGVsZW1lbnQuX3Byb3RvdHlwZVVJRDsKICAgIH0KCiAgICBpZiAoIUVsZW1lbnQuU3RvcmFnZVt1aWRdKQogICAgICBFbGVtZW50LlN0b3JhZ2VbdWlkXSA9ICRIKCk7CgogICAgcmV0dXJuIEVsZW1lbnQuU3RvcmFnZVt1aWRdOwogIH0sCgogIHN0b3JlOiBmdW5jdGlvbihlbGVtZW50LCBrZXksIHZhbHVlKSB7CiAgICBpZiAoIShlbGVtZW50ID0gJChlbGVtZW50KSkpIHJldHVybjsKCiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgewogICAgICBFbGVtZW50LmdldFN0b3JhZ2UoZWxlbWVudCkudXBkYXRlKGtleSk7CiAgICB9IGVsc2UgewogICAgICBFbGVtZW50LmdldFN0b3JhZ2UoZWxlbWVudCkuc2V0KGtleSwgdmFsdWUpOwogICAgfQoKICAgIHJldHVybiBlbGVtZW50OwogIH0sCgogIHJldHJpZXZlOiBmdW5jdGlvbihlbGVtZW50LCBrZXksIGRlZmF1bHRWYWx1ZSkgewogICAgaWYgKCEoZWxlbWVudCA9ICQoZWxlbWVudCkpKSByZXR1cm47CiAgICB2YXIgaGFzaCA9IEVsZW1lbnQuZ2V0U3RvcmFnZShlbGVtZW50KSwgdmFsdWUgPSBoYXNoLmdldChrZXkpOwoKICAgIGlmIChPYmplY3QuaXNVbmRlZmluZWQodmFsdWUpKSB7CiAgICAgIGhhc2guc2V0KGtleSwgZGVmYXVsdFZhbHVlKTsKICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7CiAgICB9CgogICAgcmV0dXJuIHZhbHVlOwogIH0sCgogIGNsb25lOiBmdW5jdGlvbihlbGVtZW50LCBkZWVwKSB7CiAgICBpZiAoIShlbGVtZW50ID0gJChlbGVtZW50KSkpIHJldHVybjsKICAgIHZhciBjbG9uZSA9IGVsZW1lbnQuY2xvbmVOb2RlKGRlZXApOwogICAgY2xvbmUuX3Byb3RvdHlwZVVJRCA9IHZvaWQgMDsKICAgIGlmIChkZWVwKSB7CiAgICAgIHZhciBkZXNjZW5kYW50cyA9IEVsZW1lbnQuc2VsZWN0KGNsb25lLCAnKicpLAogICAgICAgICAgaSA9IGRlc2NlbmRhbnRzLmxlbmd0aDsKICAgICAgd2hpbGUgKGktLSkgewogICAgICAgIGRlc2NlbmRhbnRzW2ldLl9wcm90b3R5cGVVSUQgPSB2b2lkIDA7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBFbGVtZW50LmV4dGVuZChjbG9uZSk7CiAgfSwKCiAgcHVyZ2U6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGlmICghKGVsZW1lbnQgPSAkKGVsZW1lbnQpKSkgcmV0dXJuOwogICAgdmFyIHB1cmdlRWxlbWVudCA9IEVsZW1lbnQuX3B1cmdlRWxlbWVudDsKCiAgICBwdXJnZUVsZW1lbnQoZWxlbWVudCk7CgogICAgdmFyIGRlc2NlbmRhbnRzID0gZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpLAogICAgIGkgPSBkZXNjZW5kYW50cy5sZW5ndGg7CgogICAgd2hpbGUgKGktLSkgcHVyZ2VFbGVtZW50KGRlc2NlbmRhbnRzW2ldKTsKCiAgICByZXR1cm4gbnVsbDsKICB9Cn0pOwoKKGZ1bmN0aW9uKCkgewoKICBmdW5jdGlvbiB0b0RlY2ltYWwocGN0U3RyaW5nKSB7CiAgICB2YXIgbWF0Y2ggPSBwY3RTdHJpbmcubWF0Y2goL14oXGQrKSU/JC9pKTsKICAgIGlmICghbWF0Y2gpIHJldHVybiBudWxsOwogICAgcmV0dXJuIChOdW1iZXIobWF0Y2hbMV0pIC8gMTAwKTsKICB9CgogIGZ1bmN0aW9uIGdldFBpeGVsVmFsdWUodmFsdWUsIHByb3BlcnR5LCBjb250ZXh0KSB7CiAgICB2YXIgZWxlbWVudCA9IG51bGw7CiAgICBpZiAoT2JqZWN0LmlzRWxlbWVudCh2YWx1ZSkpIHsKICAgICAgZWxlbWVudCA9IHZhbHVlOwogICAgICB2YWx1ZSA9IGVsZW1lbnQuZ2V0U3R5bGUocHJvcGVydHkpOwogICAgfQoKICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICBpZiAoKC9eKD86LSk/XGQrKFwuXGQrKT8ocHgpPyQvaSkudGVzdCh2YWx1ZSkpIHsKICAgICAgcmV0dXJuIHdpbmRvdy5wYXJzZUZsb2F0KHZhbHVlKTsKICAgIH0KCiAgICB2YXIgaXNQZXJjZW50YWdlID0gdmFsdWUuaW5jbHVkZSgnJScpLCBpc1ZpZXdwb3J0ID0gKGNvbnRleHQgPT09IGRvY3VtZW50LnZpZXdwb3J0KTsKCiAgICBpZiAoL1xkLy50ZXN0KHZhbHVlKSAmJiBlbGVtZW50ICYmIGVsZW1lbnQucnVudGltZVN0eWxlICYmICEoaXNQZXJjZW50YWdlICYmIGlzVmlld3BvcnQpKSB7CiAgICAgIHZhciBzdHlsZSA9IGVsZW1lbnQuc3R5bGUubGVmdCwgclN0eWxlID0gZWxlbWVudC5ydW50aW1lU3R5bGUubGVmdDsKICAgICAgZWxlbWVudC5ydW50aW1lU3R5bGUubGVmdCA9IGVsZW1lbnQuY3VycmVudFN0eWxlLmxlZnQ7CiAgICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IHZhbHVlIHx8IDA7CiAgICAgIHZhbHVlID0gZWxlbWVudC5zdHlsZS5waXhlbExlZnQ7CiAgICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IHN0eWxlOwogICAgICBlbGVtZW50LnJ1bnRpbWVTdHlsZS5sZWZ0ID0gclN0eWxlOwoKICAgICAgcmV0dXJuIHZhbHVlOwogICAgfQoKICAgIGlmIChlbGVtZW50ICYmIGlzUGVyY2VudGFnZSkgewogICAgICBjb250ZXh0ID0gY29udGV4dCB8fCBlbGVtZW50LnBhcmVudE5vZGU7CiAgICAgIHZhciBkZWNpbWFsID0gdG9EZWNpbWFsKHZhbHVlKTsKICAgICAgdmFyIHdob2xlID0gbnVsbDsKICAgICAgdmFyIHBvc2l0aW9uID0gZWxlbWVudC5nZXRTdHlsZSgncG9zaXRpb24nKTsKCiAgICAgIHZhciBpc0hvcml6b250YWwgPSBwcm9wZXJ0eS5pbmNsdWRlKCdsZWZ0JykgfHwgcHJvcGVydHkuaW5jbHVkZSgncmlnaHQnKSB8fAogICAgICAgcHJvcGVydHkuaW5jbHVkZSgnd2lkdGgnKTsKCiAgICAgIHZhciBpc1ZlcnRpY2FsID0gIHByb3BlcnR5LmluY2x1ZGUoJ3RvcCcpIHx8IHByb3BlcnR5LmluY2x1ZGUoJ2JvdHRvbScpIHx8CiAgICAgICAgcHJvcGVydHkuaW5jbHVkZSgnaGVpZ2h0Jyk7CgogICAgICBpZiAoY29udGV4dCA9PT0gZG9jdW1lbnQudmlld3BvcnQpIHsKICAgICAgICBpZiAoaXNIb3Jpem9udGFsKSB7CiAgICAgICAgICB3aG9sZSA9IGRvY3VtZW50LnZpZXdwb3J0LmdldFdpZHRoKCk7CiAgICAgICAgfSBlbHNlIGlmIChpc1ZlcnRpY2FsKSB7CiAgICAgICAgICB3aG9sZSA9IGRvY3VtZW50LnZpZXdwb3J0LmdldEhlaWdodCgpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoaXNIb3Jpem9udGFsKSB7CiAgICAgICAgICB3aG9sZSA9ICQoY29udGV4dCkubWVhc3VyZSgnd2lkdGgnKTsKICAgICAgICB9IGVsc2UgaWYgKGlzVmVydGljYWwpIHsKICAgICAgICAgIHdob2xlID0gJChjb250ZXh0KS5tZWFzdXJlKCdoZWlnaHQnKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiAod2hvbGUgPT09IG51bGwpID8gMCA6IHdob2xlICogZGVjaW1hbDsKICAgIH0KCiAgICByZXR1cm4gMDsKICB9CgogIGZ1bmN0aW9uIHRvQ1NTUGl4ZWxzKG51bWJlcikgewogICAgaWYgKE9iamVjdC5pc1N0cmluZyhudW1iZXIpICYmIG51bWJlci5lbmRzV2l0aCgncHgnKSkgewogICAgICByZXR1cm4gbnVtYmVyOwogICAgfQogICAgcmV0dXJuIG51bWJlciArICdweCc7CiAgfQoKICBmdW5jdGlvbiBpc0Rpc3BsYXllZChlbGVtZW50KSB7CiAgICB2YXIgb3JpZ2luYWxFbGVtZW50ID0gZWxlbWVudDsKICAgIHdoaWxlIChlbGVtZW50ICYmIGVsZW1lbnQucGFyZW50Tm9kZSkgewogICAgICB2YXIgZGlzcGxheSA9IGVsZW1lbnQuZ2V0U3R5bGUoJ2Rpc3BsYXknKTsKICAgICAgaWYgKGRpc3BsYXkgPT09ICdub25lJykgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBlbGVtZW50ID0gJChlbGVtZW50LnBhcmVudE5vZGUpOwogICAgfQogICAgcmV0dXJuIHRydWU7CiAgfQoKICB2YXIgaGFzTGF5b3V0ID0gUHJvdG90eXBlLks7CiAgaWYgKCdjdXJyZW50U3R5bGUnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgewogICAgaGFzTGF5b3V0ID0gZnVuY3Rpb24oZWxlbWVudCkgewogICAgICBpZiAoIWVsZW1lbnQuY3VycmVudFN0eWxlLmhhc0xheW91dCkgewogICAgICAgIGVsZW1lbnQuc3R5bGUuem9vbSA9IDE7CiAgICAgIH0KICAgICAgcmV0dXJuIGVsZW1lbnQ7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gY3NzTmFtZUZvcihrZXkpIHsKICAgIGlmIChrZXkuaW5jbHVkZSgnYm9yZGVyJykpIGtleSA9IGtleSArICctd2lkdGgnOwogICAgcmV0dXJuIGtleS5jYW1lbGl6ZSgpOwogIH0KCiAgRWxlbWVudC5MYXlvdXQgPSBDbGFzcy5jcmVhdGUoSGFzaCwgewogICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oJHN1cGVyLCBlbGVtZW50LCBwcmVDb21wdXRlKSB7CiAgICAgICRzdXBlcigpOwogICAgICB0aGlzLmVsZW1lbnQgPSAkKGVsZW1lbnQpOwoKICAgICAgRWxlbWVudC5MYXlvdXQuUFJPUEVSVElFUy5lYWNoKCBmdW5jdGlvbihwcm9wZXJ0eSkgewogICAgICAgIHRoaXMuX3NldChwcm9wZXJ0eSwgbnVsbCk7CiAgICAgIH0sIHRoaXMpOwoKICAgICAgaWYgKHByZUNvbXB1dGUpIHsKICAgICAgICB0aGlzLl9wcmVDb21wdXRpbmcgPSB0cnVlOwogICAgICAgIHRoaXMuX2JlZ2luKCk7CiAgICAgICAgRWxlbWVudC5MYXlvdXQuUFJPUEVSVElFUy5lYWNoKCB0aGlzLl9jb21wdXRlLCB0aGlzICk7CiAgICAgICAgdGhpcy5fZW5kKCk7CiAgICAgICAgdGhpcy5fcHJlQ29tcHV0aW5nID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgX3NldDogZnVuY3Rpb24ocHJvcGVydHksIHZhbHVlKSB7CiAgICAgIHJldHVybiBIYXNoLnByb3RvdHlwZS5zZXQuY2FsbCh0aGlzLCBwcm9wZXJ0eSwgdmFsdWUpOwogICAgfSwKCiAgICBzZXQ6IGZ1bmN0aW9uKHByb3BlcnR5LCB2YWx1ZSkgewogICAgICB0aHJvdyAiUHJvcGVydGllcyBvZiBFbGVtZW50LkxheW91dCBhcmUgcmVhZC1vbmx5LiI7CiAgICB9LAoKICAgIGdldDogZnVuY3Rpb24oJHN1cGVyLCBwcm9wZXJ0eSkgewogICAgICB2YXIgdmFsdWUgPSAkc3VwZXIocHJvcGVydHkpOwogICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgPyB0aGlzLl9jb21wdXRlKHByb3BlcnR5KSA6IHZhbHVlOwogICAgfSwKCiAgICBfYmVnaW46IGZ1bmN0aW9uKCkgewogICAgICBpZiAodGhpcy5fcHJlcGFyZWQpIHJldHVybjsKCiAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50OwogICAgICBpZiAoaXNEaXNwbGF5ZWQoZWxlbWVudCkpIHsKICAgICAgICB0aGlzLl9wcmVwYXJlZCA9IHRydWU7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgb3JpZ2luYWxTdHlsZXMgPSB7CiAgICAgICAgcG9zaXRpb246ICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiAgIHx8ICcnLAogICAgICAgIHdpZHRoOiAgICAgIGVsZW1lbnQuc3R5bGUud2lkdGggICAgICB8fCAnJywKICAgICAgICB2aXNpYmlsaXR5OiBlbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgfHwgJycsCiAgICAgICAgZGlzcGxheTogICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ICAgIHx8ICcnCiAgICAgIH07CgogICAgICBlbGVtZW50LnN0b3JlKCdwcm90b3R5cGVfb3JpZ2luYWxfc3R5bGVzJywgb3JpZ2luYWxTdHlsZXMpOwoKICAgICAgdmFyIHBvc2l0aW9uID0gZWxlbWVudC5nZXRTdHlsZSgncG9zaXRpb24nKSwKICAgICAgIHdpZHRoID0gZWxlbWVudC5nZXRTdHlsZSgnd2lkdGgnKTsKCiAgICAgIGlmICh3aWR0aCA9PT0gIjBweCIgfHwgd2lkdGggPT09IG51bGwpIHsKICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgIHdpZHRoID0gZWxlbWVudC5nZXRTdHlsZSgnd2lkdGgnKTsKICAgICAgfQoKICAgICAgdmFyIGNvbnRleHQgPSAocG9zaXRpb24gPT09ICdmaXhlZCcpID8gZG9jdW1lbnQudmlld3BvcnQgOgogICAgICAgZWxlbWVudC5wYXJlbnROb2RlOwoKICAgICAgZWxlbWVudC5zZXRTdHlsZSh7CiAgICAgICAgcG9zaXRpb246ICAgJ2Fic29sdXRlJywKICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJywKICAgICAgICBkaXNwbGF5OiAgICAnYmxvY2snCiAgICAgIH0pOwoKICAgICAgdmFyIHBvc2l0aW9uZWRXaWR0aCA9IGVsZW1lbnQuZ2V0U3R5bGUoJ3dpZHRoJyk7CgogICAgICB2YXIgbmV3V2lkdGg7CiAgICAgIGlmICh3aWR0aCAmJiAocG9zaXRpb25lZFdpZHRoID09PSB3aWR0aCkpIHsKICAgICAgICBuZXdXaWR0aCA9IGdldFBpeGVsVmFsdWUoZWxlbWVudCwgJ3dpZHRoJywgY29udGV4dCk7CiAgICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09ICdhYnNvbHV0ZScgfHwgcG9zaXRpb24gPT09ICdmaXhlZCcpIHsKICAgICAgICBuZXdXaWR0aCA9IGdldFBpeGVsVmFsdWUoZWxlbWVudCwgJ3dpZHRoJywgY29udGV4dCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSwgcExheW91dCA9ICQocGFyZW50KS5nZXRMYXlvdXQoKTsKCiAgICAgICAgbmV3V2lkdGggPSBwTGF5b3V0LmdldCgnd2lkdGgnKSAtCiAgICAgICAgIHRoaXMuZ2V0KCdtYXJnaW4tbGVmdCcpIC0KICAgICAgICAgdGhpcy5nZXQoJ2JvcmRlci1sZWZ0JykgLQogICAgICAgICB0aGlzLmdldCgncGFkZGluZy1sZWZ0JykgLQogICAgICAgICB0aGlzLmdldCgncGFkZGluZy1yaWdodCcpIC0KICAgICAgICAgdGhpcy5nZXQoJ2JvcmRlci1yaWdodCcpIC0KICAgICAgICAgdGhpcy5nZXQoJ21hcmdpbi1yaWdodCcpOwogICAgICB9CgogICAgICBlbGVtZW50LnNldFN0eWxlKHsgd2lkdGg6IG5ld1dpZHRoICsgJ3B4JyB9KTsKCiAgICAgIHRoaXMuX3ByZXBhcmVkID0gdHJ1ZTsKICAgIH0sCgogICAgX2VuZDogZnVuY3Rpb24oKSB7CiAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50OwogICAgICB2YXIgb3JpZ2luYWxTdHlsZXMgPSBlbGVtZW50LnJldHJpZXZlKCdwcm90b3R5cGVfb3JpZ2luYWxfc3R5bGVzJyk7CiAgICAgIGVsZW1lbnQuc3RvcmUoJ3Byb3RvdHlwZV9vcmlnaW5hbF9zdHlsZXMnLCBudWxsKTsKICAgICAgZWxlbWVudC5zZXRTdHlsZShvcmlnaW5hbFN0eWxlcyk7CiAgICAgIHRoaXMuX3ByZXBhcmVkID0gZmFsc2U7CiAgICB9LAoKICAgIF9jb21wdXRlOiBmdW5jdGlvbihwcm9wZXJ0eSkgewogICAgICB2YXIgQ09NUFVUQVRJT05TID0gRWxlbWVudC5MYXlvdXQuQ09NUFVUQVRJT05TOwogICAgICBpZiAoIShwcm9wZXJ0eSBpbiBDT01QVVRBVElPTlMpKSB7CiAgICAgICAgdGhyb3cgIlByb3BlcnR5IG5vdCBmb3VuZC4iOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5fc2V0KHByb3BlcnR5LCBDT01QVVRBVElPTlNbcHJvcGVydHldLmNhbGwodGhpcywgdGhpcy5lbGVtZW50KSk7CiAgICB9LAoKICAgIHRvT2JqZWN0OiBmdW5jdGlvbigpIHsKICAgICAgdmFyIGFyZ3MgPSAkQShhcmd1bWVudHMpOwogICAgICB2YXIga2V5cyA9IChhcmdzLmxlbmd0aCA9PT0gMCkgPyBFbGVtZW50LkxheW91dC5QUk9QRVJUSUVTIDoKICAgICAgIGFyZ3Muam9pbignICcpLnNwbGl0KCcgJyk7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAga2V5cy5lYWNoKCBmdW5jdGlvbihrZXkpIHsKICAgICAgICBpZiAoIUVsZW1lbnQuTGF5b3V0LlBST1BFUlRJRVMuaW5jbHVkZShrZXkpKSByZXR1cm47CiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5nZXQoa2V5KTsKICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkgb2JqW2tleV0gPSB2YWx1ZTsKICAgICAgfSwgdGhpcyk7CiAgICAgIHJldHVybiBvYmo7CiAgICB9LAoKICAgIHRvSGFzaDogZnVuY3Rpb24oKSB7CiAgICAgIHZhciBvYmogPSB0aGlzLnRvT2JqZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIHJldHVybiBuZXcgSGFzaChvYmopOwogICAgfSwKCiAgICB0b0NTUzogZnVuY3Rpb24oKSB7CiAgICAgIHZhciBhcmdzID0gJEEoYXJndW1lbnRzKTsKICAgICAgdmFyIGtleXMgPSAoYXJncy5sZW5ndGggPT09IDApID8gRWxlbWVudC5MYXlvdXQuUFJPUEVSVElFUyA6CiAgICAgICBhcmdzLmpvaW4oJyAnKS5zcGxpdCgnICcpOwogICAgICB2YXIgY3NzID0ge307CgogICAgICBrZXlzLmVhY2goIGZ1bmN0aW9uKGtleSkgewogICAgICAgIGlmICghRWxlbWVudC5MYXlvdXQuUFJPUEVSVElFUy5pbmNsdWRlKGtleSkpIHJldHVybjsKICAgICAgICBpZiAoRWxlbWVudC5MYXlvdXQuQ09NUE9TSVRFX1BST1BFUlRJRVMuaW5jbHVkZShrZXkpKSByZXR1cm47CgogICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0KGtleSk7CiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIGNzc1tjc3NOYW1lRm9yKGtleSldID0gdmFsdWUgKyAncHgnOwogICAgICB9LCB0aGlzKTsKICAgICAgcmV0dXJuIGNzczsKICAgIH0sCgogICAgaW5zcGVjdDogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiAiIzxFbGVtZW50LkxheW91dD4iOwogICAgfQogIH0pOwoKICBPYmplY3QuZXh0ZW5kKEVsZW1lbnQuTGF5b3V0LCB7CiAgICBQUk9QRVJUSUVTOiAkdygnaGVpZ2h0IHdpZHRoIHRvcCBsZWZ0IHJpZ2h0IGJvdHRvbSBib3JkZXItbGVmdCBib3JkZXItcmlnaHQgYm9yZGVyLXRvcCBib3JkZXItYm90dG9tIHBhZGRpbmctbGVmdCBwYWRkaW5nLXJpZ2h0IHBhZGRpbmctdG9wIHBhZGRpbmctYm90dG9tIG1hcmdpbi10b3AgbWFyZ2luLWJvdHRvbSBtYXJnaW4tbGVmdCBtYXJnaW4tcmlnaHQgcGFkZGluZy1ib3gtd2lkdGggcGFkZGluZy1ib3gtaGVpZ2h0IGJvcmRlci1ib3gtd2lkdGggYm9yZGVyLWJveC1oZWlnaHQgbWFyZ2luLWJveC13aWR0aCBtYXJnaW4tYm94LWhlaWdodCcpLAoKICAgIENPTVBPU0lURV9QUk9QRVJUSUVTOiAkdygncGFkZGluZy1ib3gtd2lkdGggcGFkZGluZy1ib3gtaGVpZ2h0IG1hcmdpbi1ib3gtd2lkdGggbWFyZ2luLWJveC1oZWlnaHQgYm9yZGVyLWJveC13aWR0aCBib3JkZXItYm94LWhlaWdodCcpLAoKICAgIENPTVBVVEFUSU9OUzogewogICAgICAnaGVpZ2h0JzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIGlmICghdGhpcy5fcHJlQ29tcHV0aW5nKSB0aGlzLl9iZWdpbigpOwoKICAgICAgICB2YXIgYkhlaWdodCA9IHRoaXMuZ2V0KCdib3JkZXItYm94LWhlaWdodCcpOwogICAgICAgIGlmIChiSGVpZ2h0IDw9IDApIHsKICAgICAgICAgIGlmICghdGhpcy5fcHJlQ29tcHV0aW5nKSB0aGlzLl9lbmQoKTsKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KCiAgICAgICAgdmFyIGJUb3AgPSB0aGlzLmdldCgnYm9yZGVyLXRvcCcpLAogICAgICAgICBiQm90dG9tID0gdGhpcy5nZXQoJ2JvcmRlci1ib3R0b20nKTsKCiAgICAgICAgdmFyIHBUb3AgPSB0aGlzLmdldCgncGFkZGluZy10b3AnKSwKICAgICAgICAgcEJvdHRvbSA9IHRoaXMuZ2V0KCdwYWRkaW5nLWJvdHRvbScpOwoKICAgICAgICBpZiAoIXRoaXMuX3ByZUNvbXB1dGluZykgdGhpcy5fZW5kKCk7CgogICAgICAgIHJldHVybiBiSGVpZ2h0IC0gYlRvcCAtIGJCb3R0b20gLSBwVG9wIC0gcEJvdHRvbTsKICAgICAgfSwKCiAgICAgICd3aWR0aCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICBpZiAoIXRoaXMuX3ByZUNvbXB1dGluZykgdGhpcy5fYmVnaW4oKTsKCiAgICAgICAgdmFyIGJXaWR0aCA9IHRoaXMuZ2V0KCdib3JkZXItYm94LXdpZHRoJyk7CiAgICAgICAgaWYgKGJXaWR0aCA8PSAwKSB7CiAgICAgICAgICBpZiAoIXRoaXMuX3ByZUNvbXB1dGluZykgdGhpcy5fZW5kKCk7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CgogICAgICAgIHZhciBiTGVmdCA9IHRoaXMuZ2V0KCdib3JkZXItbGVmdCcpLAogICAgICAgICBiUmlnaHQgPSB0aGlzLmdldCgnYm9yZGVyLXJpZ2h0Jyk7CgogICAgICAgIHZhciBwTGVmdCA9IHRoaXMuZ2V0KCdwYWRkaW5nLWxlZnQnKSwKICAgICAgICAgcFJpZ2h0ID0gdGhpcy5nZXQoJ3BhZGRpbmctcmlnaHQnKTsKCiAgICAgICAgaWYgKCF0aGlzLl9wcmVDb21wdXRpbmcpIHRoaXMuX2VuZCgpOwoKICAgICAgICByZXR1cm4gYldpZHRoIC0gYkxlZnQgLSBiUmlnaHQgLSBwTGVmdCAtIHBSaWdodDsKICAgICAgfSwKCiAgICAgICdwYWRkaW5nLWJveC1oZWlnaHQnOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuZ2V0KCdoZWlnaHQnKSwKICAgICAgICAgcFRvcCA9IHRoaXMuZ2V0KCdwYWRkaW5nLXRvcCcpLAogICAgICAgICBwQm90dG9tID0gdGhpcy5nZXQoJ3BhZGRpbmctYm90dG9tJyk7CgogICAgICAgIHJldHVybiBoZWlnaHQgKyBwVG9wICsgcEJvdHRvbTsKICAgICAgfSwKCiAgICAgICdwYWRkaW5nLWJveC13aWR0aCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldCgnd2lkdGgnKSwKICAgICAgICAgcExlZnQgPSB0aGlzLmdldCgncGFkZGluZy1sZWZ0JyksCiAgICAgICAgIHBSaWdodCA9IHRoaXMuZ2V0KCdwYWRkaW5nLXJpZ2h0Jyk7CgogICAgICAgIHJldHVybiB3aWR0aCArIHBMZWZ0ICsgcFJpZ2h0OwogICAgICB9LAoKICAgICAgJ2JvcmRlci1ib3gtaGVpZ2h0JzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIGlmICghdGhpcy5fcHJlQ29tcHV0aW5nKSB0aGlzLl9iZWdpbigpOwogICAgICAgIHZhciBoZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodDsKICAgICAgICBpZiAoIXRoaXMuX3ByZUNvbXB1dGluZykgdGhpcy5fZW5kKCk7CiAgICAgICAgcmV0dXJuIGhlaWdodDsKICAgICAgfSwKCiAgICAgICdib3JkZXItYm94LXdpZHRoJzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIGlmICghdGhpcy5fcHJlQ29tcHV0aW5nKSB0aGlzLl9iZWdpbigpOwogICAgICAgIHZhciB3aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGg7CiAgICAgICAgaWYgKCF0aGlzLl9wcmVDb21wdXRpbmcpIHRoaXMuX2VuZCgpOwogICAgICAgIHJldHVybiB3aWR0aDsKICAgICAgfSwKCiAgICAgICdtYXJnaW4tYm94LWhlaWdodCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICB2YXIgYkhlaWdodCA9IHRoaXMuZ2V0KCdib3JkZXItYm94LWhlaWdodCcpLAogICAgICAgICBtVG9wID0gdGhpcy5nZXQoJ21hcmdpbi10b3AnKSwKICAgICAgICAgbUJvdHRvbSA9IHRoaXMuZ2V0KCdtYXJnaW4tYm90dG9tJyk7CgogICAgICAgIGlmIChiSGVpZ2h0IDw9IDApIHJldHVybiAwOwoKICAgICAgICByZXR1cm4gYkhlaWdodCArIG1Ub3AgKyBtQm90dG9tOwogICAgICB9LAoKICAgICAgJ21hcmdpbi1ib3gtd2lkdGgnOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgdmFyIGJXaWR0aCA9IHRoaXMuZ2V0KCdib3JkZXItYm94LXdpZHRoJyksCiAgICAgICAgIG1MZWZ0ID0gdGhpcy5nZXQoJ21hcmdpbi1sZWZ0JyksCiAgICAgICAgIG1SaWdodCA9IHRoaXMuZ2V0KCdtYXJnaW4tcmlnaHQnKTsKCiAgICAgICAgaWYgKGJXaWR0aCA8PSAwKSByZXR1cm4gMDsKCiAgICAgICAgcmV0dXJuIGJXaWR0aCArIG1MZWZ0ICsgbVJpZ2h0OwogICAgICB9LAoKICAgICAgJ3RvcCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICB2YXIgb2Zmc2V0ID0gZWxlbWVudC5wb3NpdGlvbmVkT2Zmc2V0KCk7CiAgICAgICAgcmV0dXJuIG9mZnNldC50b3A7CiAgICAgIH0sCgogICAgICAnYm90dG9tJzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHZhciBvZmZzZXQgPSBlbGVtZW50LnBvc2l0aW9uZWRPZmZzZXQoKSwKICAgICAgICAgcGFyZW50ID0gZWxlbWVudC5nZXRPZmZzZXRQYXJlbnQoKSwKICAgICAgICAgcEhlaWdodCA9IHBhcmVudC5tZWFzdXJlKCdoZWlnaHQnKTsKCiAgICAgICAgdmFyIG1IZWlnaHQgPSB0aGlzLmdldCgnYm9yZGVyLWJveC1oZWlnaHQnKTsKCiAgICAgICAgcmV0dXJuIHBIZWlnaHQgLSBtSGVpZ2h0IC0gb2Zmc2V0LnRvcDsKICAgICAgfSwKCiAgICAgICdsZWZ0JzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHZhciBvZmZzZXQgPSBlbGVtZW50LnBvc2l0aW9uZWRPZmZzZXQoKTsKICAgICAgICByZXR1cm4gb2Zmc2V0LmxlZnQ7CiAgICAgIH0sCgogICAgICAncmlnaHQnOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgdmFyIG9mZnNldCA9IGVsZW1lbnQucG9zaXRpb25lZE9mZnNldCgpLAogICAgICAgICBwYXJlbnQgPSBlbGVtZW50LmdldE9mZnNldFBhcmVudCgpLAogICAgICAgICBwV2lkdGggPSBwYXJlbnQubWVhc3VyZSgnd2lkdGgnKTsKCiAgICAgICAgdmFyIG1XaWR0aCA9IHRoaXMuZ2V0KCdib3JkZXItYm94LXdpZHRoJyk7CgogICAgICAgIHJldHVybiBwV2lkdGggLSBtV2lkdGggLSBvZmZzZXQubGVmdDsKICAgICAgfSwKCiAgICAgICdwYWRkaW5nLXRvcCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gZ2V0UGl4ZWxWYWx1ZShlbGVtZW50LCAncGFkZGluZ1RvcCcpOwogICAgICB9LAoKICAgICAgJ3BhZGRpbmctYm90dG9tJzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHJldHVybiBnZXRQaXhlbFZhbHVlKGVsZW1lbnQsICdwYWRkaW5nQm90dG9tJyk7CiAgICAgIH0sCgogICAgICAncGFkZGluZy1sZWZ0JzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHJldHVybiBnZXRQaXhlbFZhbHVlKGVsZW1lbnQsICdwYWRkaW5nTGVmdCcpOwogICAgICB9LAoKICAgICAgJ3BhZGRpbmctcmlnaHQnOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgcmV0dXJuIGdldFBpeGVsVmFsdWUoZWxlbWVudCwgJ3BhZGRpbmdSaWdodCcpOwogICAgICB9LAoKICAgICAgJ2JvcmRlci10b3AnOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgcmV0dXJuIGdldFBpeGVsVmFsdWUoZWxlbWVudCwgJ2JvcmRlclRvcFdpZHRoJyk7CiAgICAgIH0sCgogICAgICAnYm9yZGVyLWJvdHRvbSc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gZ2V0UGl4ZWxWYWx1ZShlbGVtZW50LCAnYm9yZGVyQm90dG9tV2lkdGgnKTsKICAgICAgfSwKCiAgICAgICdib3JkZXItbGVmdCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gZ2V0UGl4ZWxWYWx1ZShlbGVtZW50LCAnYm9yZGVyTGVmdFdpZHRoJyk7CiAgICAgIH0sCgogICAgICAnYm9yZGVyLXJpZ2h0JzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHJldHVybiBnZXRQaXhlbFZhbHVlKGVsZW1lbnQsICdib3JkZXJSaWdodFdpZHRoJyk7CiAgICAgIH0sCgogICAgICAnbWFyZ2luLXRvcCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gZ2V0UGl4ZWxWYWx1ZShlbGVtZW50LCAnbWFyZ2luVG9wJyk7CiAgICAgIH0sCgogICAgICAnbWFyZ2luLWJvdHRvbSc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gZ2V0UGl4ZWxWYWx1ZShlbGVtZW50LCAnbWFyZ2luQm90dG9tJyk7CiAgICAgIH0sCgogICAgICAnbWFyZ2luLWxlZnQnOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgcmV0dXJuIGdldFBpeGVsVmFsdWUoZWxlbWVudCwgJ21hcmdpbkxlZnQnKTsKICAgICAgfSwKCiAgICAgICdtYXJnaW4tcmlnaHQnOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgcmV0dXJuIGdldFBpeGVsVmFsdWUoZWxlbWVudCwgJ21hcmdpblJpZ2h0Jyk7CiAgICAgIH0KICAgIH0KICB9KTsKCiAgaWYgKCdnZXRCb3VuZGluZ0NsaWVudFJlY3QnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgewogICAgT2JqZWN0LmV4dGVuZChFbGVtZW50LkxheW91dC5DT01QVVRBVElPTlMsIHsKICAgICAgJ3JpZ2h0JzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHZhciBwYXJlbnQgPSBoYXNMYXlvdXQoZWxlbWVudC5nZXRPZmZzZXRQYXJlbnQoKSk7CiAgICAgICAgdmFyIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLAogICAgICAgICBwUmVjdCA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCiAgICAgICAgcmV0dXJuIChwUmVjdC5yaWdodCAtIHJlY3QucmlnaHQpLnJvdW5kKCk7CiAgICAgIH0sCgogICAgICAnYm90dG9tJzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHZhciBwYXJlbnQgPSBoYXNMYXlvdXQoZWxlbWVudC5nZXRPZmZzZXRQYXJlbnQoKSk7CiAgICAgICAgdmFyIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLAogICAgICAgICBwUmVjdCA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCiAgICAgICAgcmV0dXJuIChwUmVjdC5ib3R0b20gLSByZWN0LmJvdHRvbSkucm91bmQoKTsKICAgICAgfQogICAgfSk7CiAgfQoKICBFbGVtZW50Lk9mZnNldCA9IENsYXNzLmNyZWF0ZSh7CiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihsZWZ0LCB0b3ApIHsKICAgICAgdGhpcy5sZWZ0ID0gbGVmdC5yb3VuZCgpOwogICAgICB0aGlzLnRvcCAgPSB0b3Aucm91bmQoKTsKCiAgICAgIHRoaXNbMF0gPSB0aGlzLmxlZnQ7CiAgICAgIHRoaXNbMV0gPSB0aGlzLnRvcDsKICAgIH0sCgogICAgcmVsYXRpdmVUbzogZnVuY3Rpb24ob2Zmc2V0KSB7CiAgICAgIHJldHVybiBuZXcgRWxlbWVudC5PZmZzZXQoCiAgICAgICAgdGhpcy5sZWZ0IC0gb2Zmc2V0LmxlZnQsCiAgICAgICAgdGhpcy50b3AgIC0gb2Zmc2V0LnRvcAogICAgICApOwogICAgfSwKCiAgICBpbnNwZWN0OiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuICIjPEVsZW1lbnQuT2Zmc2V0IGxlZnQ6ICN7bGVmdH0gdG9wOiAje3RvcH0+Ii5pbnRlcnBvbGF0ZSh0aGlzKTsKICAgIH0sCgogICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gIlsje2xlZnR9LCAje3RvcH1dIi5pbnRlcnBvbGF0ZSh0aGlzKTsKICAgIH0sCgogICAgdG9BcnJheTogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiBbdGhpcy5sZWZ0LCB0aGlzLnRvcF07CiAgICB9CiAgfSk7CgogIGZ1bmN0aW9uIGdldExheW91dChlbGVtZW50LCBwcmVDb21wdXRlKSB7CiAgICByZXR1cm4gbmV3IEVsZW1lbnQuTGF5b3V0KGVsZW1lbnQsIHByZUNvbXB1dGUpOwogIH0KCiAgZnVuY3Rpb24gbWVhc3VyZShlbGVtZW50LCBwcm9wZXJ0eSkgewogICAgcmV0dXJuICQoZWxlbWVudCkuZ2V0TGF5b3V0KCkuZ2V0KHByb3BlcnR5KTsKICB9CgogIGZ1bmN0aW9uIGdldERpbWVuc2lvbnMoZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgZGlzcGxheSA9IEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVudCwgJ2Rpc3BsYXknKTsKCiAgICBpZiAoZGlzcGxheSAmJiBkaXNwbGF5ICE9PSAnbm9uZScpIHsKICAgICAgcmV0dXJuIHsgd2lkdGg6IGVsZW1lbnQub2Zmc2V0V2lkdGgsIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHQgfTsKICAgIH0KCiAgICB2YXIgc3R5bGUgPSBlbGVtZW50LnN0eWxlOwogICAgdmFyIG9yaWdpbmFsU3R5bGVzID0gewogICAgICB2aXNpYmlsaXR5OiBzdHlsZS52aXNpYmlsaXR5LAogICAgICBwb3NpdGlvbjogICBzdHlsZS5wb3NpdGlvbiwKICAgICAgZGlzcGxheTogICAgc3R5bGUuZGlzcGxheQogICAgfTsKCiAgICB2YXIgbmV3U3R5bGVzID0gewogICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJywKICAgICAgZGlzcGxheTogICAgJ2Jsb2NrJwogICAgfTsKCiAgICBpZiAob3JpZ2luYWxTdHlsZXMucG9zaXRpb24gIT09ICdmaXhlZCcpCiAgICAgIG5ld1N0eWxlcy5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7CgogICAgRWxlbWVudC5zZXRTdHlsZShlbGVtZW50LCBuZXdTdHlsZXMpOwoKICAgIHZhciBkaW1lbnNpb25zID0gewogICAgICB3aWR0aDogIGVsZW1lbnQub2Zmc2V0V2lkdGgsCiAgICAgIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHQKICAgIH07CgogICAgRWxlbWVudC5zZXRTdHlsZShlbGVtZW50LCBvcmlnaW5hbFN0eWxlcyk7CgogICAgcmV0dXJuIGRpbWVuc2lvbnM7CiAgfQoKICBmdW5jdGlvbiBnZXRPZmZzZXRQYXJlbnQoZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CgogICAgaWYgKGlzRG9jdW1lbnQoZWxlbWVudCkgfHwgaXNEZXRhY2hlZChlbGVtZW50KSB8fCBpc0JvZHkoZWxlbWVudCkgfHwgaXNIdG1sKGVsZW1lbnQpKQogICAgICByZXR1cm4gJChkb2N1bWVudC5ib2R5KTsKCiAgICB2YXIgaXNJbmxpbmUgPSAoRWxlbWVudC5nZXRTdHlsZShlbGVtZW50LCAnZGlzcGxheScpID09PSAnaW5saW5lJyk7CiAgICBpZiAoIWlzSW5saW5lICYmIGVsZW1lbnQub2Zmc2V0UGFyZW50KSByZXR1cm4gJChlbGVtZW50Lm9mZnNldFBhcmVudCk7CgogICAgd2hpbGUgKChlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlKSAmJiBlbGVtZW50ICE9PSBkb2N1bWVudC5ib2R5KSB7CiAgICAgIGlmIChFbGVtZW50LmdldFN0eWxlKGVsZW1lbnQsICdwb3NpdGlvbicpICE9PSAnc3RhdGljJykgewogICAgICAgIHJldHVybiBpc0h0bWwoZWxlbWVudCkgPyAkKGRvY3VtZW50LmJvZHkpIDogJChlbGVtZW50KTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiAkKGRvY3VtZW50LmJvZHkpOwogIH0KCgogIGZ1bmN0aW9uIGN1bXVsYXRpdmVPZmZzZXQoZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgdmFsdWVUID0gMCwgdmFsdWVMID0gMDsKICAgIGlmIChlbGVtZW50LnBhcmVudE5vZGUpIHsKICAgICAgZG8gewogICAgICAgIHZhbHVlVCArPSBlbGVtZW50Lm9mZnNldFRvcCAgfHwgMDsKICAgICAgICB2YWx1ZUwgKz0gZWxlbWVudC5vZmZzZXRMZWZ0IHx8IDA7CiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50OwogICAgICB9IHdoaWxlIChlbGVtZW50KTsKICAgIH0KICAgIHJldHVybiBuZXcgRWxlbWVudC5PZmZzZXQodmFsdWVMLCB2YWx1ZVQpOwogIH0KCiAgZnVuY3Rpb24gcG9zaXRpb25lZE9mZnNldChlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKCiAgICB2YXIgbGF5b3V0ID0gZWxlbWVudC5nZXRMYXlvdXQoKTsKCiAgICB2YXIgdmFsdWVUID0gMCwgdmFsdWVMID0gMDsKICAgIGRvIHsKICAgICAgdmFsdWVUICs9IGVsZW1lbnQub2Zmc2V0VG9wICB8fCAwOwogICAgICB2YWx1ZUwgKz0gZWxlbWVudC5vZmZzZXRMZWZ0IHx8IDA7CiAgICAgIGVsZW1lbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudDsKICAgICAgaWYgKGVsZW1lbnQpIHsKICAgICAgICBpZiAoaXNCb2R5KGVsZW1lbnQpKSBicmVhazsKICAgICAgICB2YXIgcCA9IEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVudCwgJ3Bvc2l0aW9uJyk7CiAgICAgICAgaWYgKHAgIT09ICdzdGF0aWMnKSBicmVhazsKICAgICAgfQogICAgfSB3aGlsZSAoZWxlbWVudCk7CgogICAgdmFsdWVMIC09IGxheW91dC5nZXQoJ21hcmdpbi10b3AnKTsKICAgIHZhbHVlVCAtPSBsYXlvdXQuZ2V0KCdtYXJnaW4tbGVmdCcpOwoKICAgIHJldHVybiBuZXcgRWxlbWVudC5PZmZzZXQodmFsdWVMLCB2YWx1ZVQpOwogIH0KCiAgZnVuY3Rpb24gY3VtdWxhdGl2ZVNjcm9sbE9mZnNldChlbGVtZW50KSB7CiAgICB2YXIgdmFsdWVUID0gMCwgdmFsdWVMID0gMDsKICAgIGRvIHsKICAgICAgdmFsdWVUICs9IGVsZW1lbnQuc2Nyb2xsVG9wICB8fCAwOwogICAgICB2YWx1ZUwgKz0gZWxlbWVudC5zY3JvbGxMZWZ0IHx8IDA7CiAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7CiAgICB9IHdoaWxlIChlbGVtZW50KTsKICAgIHJldHVybiBuZXcgRWxlbWVudC5PZmZzZXQodmFsdWVMLCB2YWx1ZVQpOwogIH0KCiAgZnVuY3Rpb24gdmlld3BvcnRPZmZzZXQoZm9yRWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgdmFsdWVUID0gMCwgdmFsdWVMID0gMCwgZG9jQm9keSA9IGRvY3VtZW50LmJvZHk7CgogICAgdmFyIGVsZW1lbnQgPSBmb3JFbGVtZW50OwogICAgZG8gewogICAgICB2YWx1ZVQgKz0gZWxlbWVudC5vZmZzZXRUb3AgIHx8IDA7CiAgICAgIHZhbHVlTCArPSBlbGVtZW50Lm9mZnNldExlZnQgfHwgMDsKICAgICAgaWYgKGVsZW1lbnQub2Zmc2V0UGFyZW50ID09IGRvY0JvZHkgJiYKICAgICAgICBFbGVtZW50LmdldFN0eWxlKGVsZW1lbnQsICdwb3NpdGlvbicpID09ICdhYnNvbHV0ZScpIGJyZWFrOwogICAgfSB3aGlsZSAoZWxlbWVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50KTsKCiAgICBlbGVtZW50ID0gZm9yRWxlbWVudDsKICAgIGRvIHsKICAgICAgaWYgKGVsZW1lbnQgIT0gZG9jQm9keSkgewogICAgICAgIHZhbHVlVCAtPSBlbGVtZW50LnNjcm9sbFRvcCAgfHwgMDsKICAgICAgICB2YWx1ZUwgLT0gZWxlbWVudC5zY3JvbGxMZWZ0IHx8IDA7CiAgICAgIH0KICAgIH0gd2hpbGUgKGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGUpOwogICAgcmV0dXJuIG5ldyBFbGVtZW50Lk9mZnNldCh2YWx1ZUwsIHZhbHVlVCk7CiAgfQoKICBmdW5jdGlvbiBhYnNvbHV0aXplKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwoKICAgIGlmIChFbGVtZW50LmdldFN0eWxlKGVsZW1lbnQsICdwb3NpdGlvbicpID09PSAnYWJzb2x1dGUnKSB7CiAgICAgIHJldHVybiBlbGVtZW50OwogICAgfQoKICAgIHZhciBvZmZzZXRQYXJlbnQgPSBnZXRPZmZzZXRQYXJlbnQoZWxlbWVudCk7CiAgICB2YXIgZU9mZnNldCA9IGVsZW1lbnQudmlld3BvcnRPZmZzZXQoKSwKICAgICBwT2Zmc2V0ID0gb2Zmc2V0UGFyZW50LnZpZXdwb3J0T2Zmc2V0KCk7CgogICAgdmFyIG9mZnNldCA9IGVPZmZzZXQucmVsYXRpdmVUbyhwT2Zmc2V0KTsKICAgIHZhciBsYXlvdXQgPSBlbGVtZW50LmdldExheW91dCgpOwoKICAgIGVsZW1lbnQuc3RvcmUoJ3Byb3RvdHlwZV9hYnNvbHV0aXplX29yaWdpbmFsX3N0eWxlcycsIHsKICAgICAgbGVmdDogICBlbGVtZW50LmdldFN0eWxlKCdsZWZ0JyksCiAgICAgIHRvcDogICAgZWxlbWVudC5nZXRTdHlsZSgndG9wJyksCiAgICAgIHdpZHRoOiAgZWxlbWVudC5nZXRTdHlsZSgnd2lkdGgnKSwKICAgICAgaGVpZ2h0OiBlbGVtZW50LmdldFN0eWxlKCdoZWlnaHQnKQogICAgfSk7CgogICAgZWxlbWVudC5zZXRTdHlsZSh7CiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLAogICAgICB0b3A6ICAgIG9mZnNldC50b3AgKyAncHgnLAogICAgICBsZWZ0OiAgIG9mZnNldC5sZWZ0ICsgJ3B4JywKICAgICAgd2lkdGg6ICBsYXlvdXQuZ2V0KCd3aWR0aCcpICsgJ3B4JywKICAgICAgaGVpZ2h0OiBsYXlvdXQuZ2V0KCdoZWlnaHQnKSArICdweCcKICAgIH0pOwoKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gcmVsYXRpdml6ZShlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGlmIChFbGVtZW50LmdldFN0eWxlKGVsZW1lbnQsICdwb3NpdGlvbicpID09PSAncmVsYXRpdmUnKSB7CiAgICAgIHJldHVybiBlbGVtZW50OwogICAgfQoKICAgIHZhciBvcmlnaW5hbFN0eWxlcyA9CiAgICAgZWxlbWVudC5yZXRyaWV2ZSgncHJvdG90eXBlX2Fic29sdXRpemVfb3JpZ2luYWxfc3R5bGVzJyk7CgogICAgaWYgKG9yaWdpbmFsU3R5bGVzKSBlbGVtZW50LnNldFN0eWxlKG9yaWdpbmFsU3R5bGVzKTsKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgaWYgKFByb3RvdHlwZS5Ccm93c2VyLklFKSB7CiAgICBnZXRPZmZzZXRQYXJlbnQgPSBnZXRPZmZzZXRQYXJlbnQud3JhcCgKICAgICAgZnVuY3Rpb24ocHJvY2VlZCwgZWxlbWVudCkgewogICAgICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwoKICAgICAgICBpZiAoaXNEb2N1bWVudChlbGVtZW50KSB8fCBpc0RldGFjaGVkKGVsZW1lbnQpIHx8IGlzQm9keShlbGVtZW50KSB8fCBpc0h0bWwoZWxlbWVudCkpCiAgICAgICAgICByZXR1cm4gJChkb2N1bWVudC5ib2R5KTsKCiAgICAgICAgdmFyIHBvc2l0aW9uID0gZWxlbWVudC5nZXRTdHlsZSgncG9zaXRpb24nKTsKICAgICAgICBpZiAocG9zaXRpb24gIT09ICdzdGF0aWMnKSByZXR1cm4gcHJvY2VlZChlbGVtZW50KTsKCiAgICAgICAgZWxlbWVudC5zZXRTdHlsZSh7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH0pOwogICAgICAgIHZhciB2YWx1ZSA9IHByb2NlZWQoZWxlbWVudCk7CiAgICAgICAgZWxlbWVudC5zZXRTdHlsZSh7IHBvc2l0aW9uOiBwb3NpdGlvbiB9KTsKICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgIH0KICAgICk7CgogICAgcG9zaXRpb25lZE9mZnNldCA9IHBvc2l0aW9uZWRPZmZzZXQud3JhcChmdW5jdGlvbihwcm9jZWVkLCBlbGVtZW50KSB7CiAgICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgICBpZiAoIWVsZW1lbnQucGFyZW50Tm9kZSkgcmV0dXJuIG5ldyBFbGVtZW50Lk9mZnNldCgwLCAwKTsKICAgICAgdmFyIHBvc2l0aW9uID0gZWxlbWVudC5nZXRTdHlsZSgncG9zaXRpb24nKTsKICAgICAgaWYgKHBvc2l0aW9uICE9PSAnc3RhdGljJykgcmV0dXJuIHByb2NlZWQoZWxlbWVudCk7CgogICAgICB2YXIgb2Zmc2V0UGFyZW50ID0gZWxlbWVudC5nZXRPZmZzZXRQYXJlbnQoKTsKICAgICAgaWYgKG9mZnNldFBhcmVudCAmJiBvZmZzZXRQYXJlbnQuZ2V0U3R5bGUoJ3Bvc2l0aW9uJykgPT09ICdmaXhlZCcpCiAgICAgICAgaGFzTGF5b3V0KG9mZnNldFBhcmVudCk7CgogICAgICBlbGVtZW50LnNldFN0eWxlKHsgcG9zaXRpb246ICdyZWxhdGl2ZScgfSk7CiAgICAgIHZhciB2YWx1ZSA9IHByb2NlZWQoZWxlbWVudCk7CiAgICAgIGVsZW1lbnQuc2V0U3R5bGUoeyBwb3NpdGlvbjogcG9zaXRpb24gfSk7CiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0pOwogIH0gZWxzZSBpZiAoUHJvdG90eXBlLkJyb3dzZXIuV2Via2l0KSB7CiAgICBjdW11bGF0aXZlT2Zmc2V0ID0gZnVuY3Rpb24oZWxlbWVudCkgewogICAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgICAgdmFyIHZhbHVlVCA9IDAsIHZhbHVlTCA9IDA7CiAgICAgIGRvIHsKICAgICAgICB2YWx1ZVQgKz0gZWxlbWVudC5vZmZzZXRUb3AgIHx8IDA7CiAgICAgICAgdmFsdWVMICs9IGVsZW1lbnQub2Zmc2V0TGVmdCB8fCAwOwogICAgICAgIGlmIChlbGVtZW50Lm9mZnNldFBhcmVudCA9PSBkb2N1bWVudC5ib2R5KQogICAgICAgICAgaWYgKEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVudCwgJ3Bvc2l0aW9uJykgPT0gJ2Fic29sdXRlJykgYnJlYWs7CgogICAgICAgIGVsZW1lbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudDsKICAgICAgfSB3aGlsZSAoZWxlbWVudCk7CgogICAgICByZXR1cm4gbmV3IEVsZW1lbnQuT2Zmc2V0KHZhbHVlTCwgdmFsdWVUKTsKICAgIH07CiAgfQoKCiAgRWxlbWVudC5hZGRNZXRob2RzKHsKICAgIGdldExheW91dDogICAgICAgICAgICAgIGdldExheW91dCwKICAgIG1lYXN1cmU6ICAgICAgICAgICAgICAgIG1lYXN1cmUsCiAgICBnZXREaW1lbnNpb25zOiAgICAgICAgICBnZXREaW1lbnNpb25zLAogICAgZ2V0T2Zmc2V0UGFyZW50OiAgICAgICAgZ2V0T2Zmc2V0UGFyZW50LAogICAgY3VtdWxhdGl2ZU9mZnNldDogICAgICAgY3VtdWxhdGl2ZU9mZnNldCwKICAgIHBvc2l0aW9uZWRPZmZzZXQ6ICAgICAgIHBvc2l0aW9uZWRPZmZzZXQsCiAgICBjdW11bGF0aXZlU2Nyb2xsT2Zmc2V0OiBjdW11bGF0aXZlU2Nyb2xsT2Zmc2V0LAogICAgdmlld3BvcnRPZmZzZXQ6ICAgICAgICAgdmlld3BvcnRPZmZzZXQsCiAgICBhYnNvbHV0aXplOiAgICAgICAgICAgICBhYnNvbHV0aXplLAogICAgcmVsYXRpdml6ZTogICAgICAgICAgICAgcmVsYXRpdml6ZQogIH0pOwoKICBmdW5jdGlvbiBpc0JvZHkoZWxlbWVudCkgewogICAgcmV0dXJuIGVsZW1lbnQubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PT0gJ0JPRFknOwogIH0KCiAgZnVuY3Rpb24gaXNIdG1sKGVsZW1lbnQpIHsKICAgIHJldHVybiBlbGVtZW50Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09ICdIVE1MJzsKICB9CgogIGZ1bmN0aW9uIGlzRG9jdW1lbnQoZWxlbWVudCkgewogICAgcmV0dXJuIGVsZW1lbnQubm9kZVR5cGUgPT09IE5vZGUuRE9DVU1FTlRfTk9ERTsKICB9CgogIGZ1bmN0aW9uIGlzRGV0YWNoZWQoZWxlbWVudCkgewogICAgcmV0dXJuIGVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkgJiYKICAgICAhRWxlbWVudC5kZXNjZW5kYW50T2YoZWxlbWVudCwgZG9jdW1lbnQuYm9keSk7CiAgfQoKICBpZiAoJ2dldEJvdW5kaW5nQ2xpZW50UmVjdCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7CiAgICBFbGVtZW50LmFkZE1ldGhvZHMoewogICAgICB2aWV3cG9ydE9mZnNldDogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgICAgIGlmIChpc0RldGFjaGVkKGVsZW1lbnQpKSByZXR1cm4gbmV3IEVsZW1lbnQuT2Zmc2V0KDAsIDApOwoKICAgICAgICB2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksCiAgICAgICAgIGRvY0VsID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwogICAgICAgIHJldHVybiBuZXcgRWxlbWVudC5PZmZzZXQocmVjdC5sZWZ0IC0gZG9jRWwuY2xpZW50TGVmdCwKICAgICAgICAgcmVjdC50b3AgLSBkb2NFbC5jbGllbnRUb3ApOwogICAgICB9CiAgICB9KTsKICB9Cn0pKCk7CndpbmRvdy4kJCA9IGZ1bmN0aW9uKCkgewogIHZhciBleHByZXNzaW9uID0gJEEoYXJndW1lbnRzKS5qb2luKCcsICcpOwogIHJldHVybiBQcm90b3R5cGUuU2VsZWN0b3Iuc2VsZWN0KGV4cHJlc3Npb24sIGRvY3VtZW50KTsKfTsKClByb3RvdHlwZS5TZWxlY3RvciA9IChmdW5jdGlvbigpIHsKCiAgZnVuY3Rpb24gc2VsZWN0KCkgewogICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2QgIlByb3RvdHlwZS5TZWxlY3Rvci5zZWxlY3QiIG11c3QgYmUgZGVmaW5lZC4nKTsKICB9CgogIGZ1bmN0aW9uIG1hdGNoKCkgewogICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2QgIlByb3RvdHlwZS5TZWxlY3Rvci5tYXRjaCIgbXVzdCBiZSBkZWZpbmVkLicpOwogIH0KCiAgZnVuY3Rpb24gZmluZChlbGVtZW50cywgZXhwcmVzc2lvbiwgaW5kZXgpIHsKICAgIGluZGV4ID0gaW5kZXggfHwgMDsKICAgIHZhciBtYXRjaCA9IFByb3RvdHlwZS5TZWxlY3Rvci5tYXRjaCwgbGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoLCBtYXRjaEluZGV4ID0gMCwgaTsKCiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKG1hdGNoKGVsZW1lbnRzW2ldLCBleHByZXNzaW9uKSAmJiBpbmRleCA9PSBtYXRjaEluZGV4KyspIHsKICAgICAgICByZXR1cm4gRWxlbWVudC5leHRlbmQoZWxlbWVudHNbaV0pOwogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBleHRlbmRFbGVtZW50cyhlbGVtZW50cykgewogICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIEVsZW1lbnQuZXh0ZW5kKGVsZW1lbnRzW2ldKTsKICAgIH0KICAgIHJldHVybiBlbGVtZW50czsKICB9CgoKICB2YXIgSyA9IFByb3RvdHlwZS5LOwoKICByZXR1cm4gewogICAgc2VsZWN0OiBzZWxlY3QsCiAgICBtYXRjaDogbWF0Y2gsCiAgICBmaW5kOiBmaW5kLAogICAgZXh0ZW5kRWxlbWVudHM6IChFbGVtZW50LmV4dGVuZCA9PT0gSykgPyBLIDogZXh0ZW5kRWxlbWVudHMsCiAgICBleHRlbmRFbGVtZW50OiBFbGVtZW50LmV4dGVuZAogIH07Cn0pKCk7ClByb3RvdHlwZS5fb3JpZ2luYWxfcHJvcGVydHkgPSB3aW5kb3cuU2l6emxlOwovKiEKICogU2l6emxlIENTUyBTZWxlY3RvciBFbmdpbmUgLSB2MS4wCiAqICBDb3B5cmlnaHQgMjAwOSwgVGhlIERvam8gRm91bmRhdGlvbgogKiAgUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCwgQlNELCBhbmQgR1BMIExpY2Vuc2VzLgogKiAgTW9yZSBpbmZvcm1hdGlvbjogaHR0cDovL3NpenpsZWpzLmNvbS8KICovCihmdW5jdGlvbigpewoKdmFyIGNodW5rZXIgPSAvKCg/OlwoKD86XChbXigpXStcKXxbXigpXSspK1wpfFxbKD86XFtbXltcXV0qXF18WyciXVteJyJdKlsnIl18W15bXF0nIl0rKStcXXxcXC58W14gPit+LChcW1xcXSspK3xbPit+XSkoXHMqLFxzKik/KCg/Oi58XHJ8XG4pKikvZywKCWRvbmUgPSAwLAoJdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLAoJaGFzRHVwbGljYXRlID0gZmFsc2UsCgliYXNlSGFzRHVwbGljYXRlID0gdHJ1ZTsKClswLCAwXS5zb3J0KGZ1bmN0aW9uKCl7CgliYXNlSGFzRHVwbGljYXRlID0gZmFsc2U7CglyZXR1cm4gMDsKfSk7Cgp2YXIgU2l6emxlID0gZnVuY3Rpb24oc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQpIHsKCXJlc3VsdHMgPSByZXN1bHRzIHx8IFtdOwoJdmFyIG9yaWdDb250ZXh0ID0gY29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7CgoJaWYgKCBjb250ZXh0Lm5vZGVUeXBlICE9PSAxICYmIGNvbnRleHQubm9kZVR5cGUgIT09IDkgKSB7CgkJcmV0dXJuIFtdOwoJfQoKCWlmICggIXNlbGVjdG9yIHx8IHR5cGVvZiBzZWxlY3RvciAhPT0gInN0cmluZyIgKSB7CgkJcmV0dXJuIHJlc3VsdHM7Cgl9CgoJdmFyIHBhcnRzID0gW10sIG0sIHNldCwgY2hlY2tTZXQsIGNoZWNrLCBtb2RlLCBleHRyYSwgcHJ1bmUgPSB0cnVlLCBjb250ZXh0WE1MID0gaXNYTUwoY29udGV4dCksCgkJc29GYXIgPSBzZWxlY3RvcjsKCgl3aGlsZSAoIChjaHVua2VyLmV4ZWMoIiIpLCBtID0gY2h1bmtlci5leGVjKHNvRmFyKSkgIT09IG51bGwgKSB7CgkJc29GYXIgPSBtWzNdOwoKCQlwYXJ0cy5wdXNoKCBtWzFdICk7CgoJCWlmICggbVsyXSApIHsKCQkJZXh0cmEgPSBtWzNdOwoJCQlicmVhazsKCQl9Cgl9CgoJaWYgKCBwYXJ0cy5sZW5ndGggPiAxICYmIG9yaWdQT1MuZXhlYyggc2VsZWN0b3IgKSApIHsKCQlpZiAoIHBhcnRzLmxlbmd0aCA9PT0gMiAmJiBFeHByLnJlbGF0aXZlWyBwYXJ0c1swXSBdICkgewoJCQlzZXQgPSBwb3NQcm9jZXNzKCBwYXJ0c1swXSArIHBhcnRzWzFdLCBjb250ZXh0ICk7CgkJfSBlbHNlIHsKCQkJc2V0ID0gRXhwci5yZWxhdGl2ZVsgcGFydHNbMF0gXSA/CgkJCQlbIGNvbnRleHQgXSA6CgkJCQlTaXp6bGUoIHBhcnRzLnNoaWZ0KCksIGNvbnRleHQgKTsKCgkJCXdoaWxlICggcGFydHMubGVuZ3RoICkgewoJCQkJc2VsZWN0b3IgPSBwYXJ0cy5zaGlmdCgpOwoKCQkJCWlmICggRXhwci5yZWxhdGl2ZVsgc2VsZWN0b3IgXSApCgkJCQkJc2VsZWN0b3IgKz0gcGFydHMuc2hpZnQoKTsKCgkJCQlzZXQgPSBwb3NQcm9jZXNzKCBzZWxlY3Rvciwgc2V0ICk7CgkJCX0KCQl9Cgl9IGVsc2UgewoJCWlmICggIXNlZWQgJiYgcGFydHMubGVuZ3RoID4gMSAmJiBjb250ZXh0Lm5vZGVUeXBlID09PSA5ICYmICFjb250ZXh0WE1MICYmCgkJCQlFeHByLm1hdGNoLklELnRlc3QocGFydHNbMF0pICYmICFFeHByLm1hdGNoLklELnRlc3QocGFydHNbcGFydHMubGVuZ3RoIC0gMV0pICkgewoJCQl2YXIgcmV0ID0gU2l6emxlLmZpbmQoIHBhcnRzLnNoaWZ0KCksIGNvbnRleHQsIGNvbnRleHRYTUwgKTsKCQkJY29udGV4dCA9IHJldC5leHByID8gU2l6emxlLmZpbHRlciggcmV0LmV4cHIsIHJldC5zZXQgKVswXSA6IHJldC5zZXRbMF07CgkJfQoKCQlpZiAoIGNvbnRleHQgKSB7CgkJCXZhciByZXQgPSBzZWVkID8KCQkJCXsgZXhwcjogcGFydHMucG9wKCksIHNldDogbWFrZUFycmF5KHNlZWQpIH0gOgoJCQkJU2l6emxlLmZpbmQoIHBhcnRzLnBvcCgpLCBwYXJ0cy5sZW5ndGggPT09IDEgJiYgKHBhcnRzWzBdID09PSAifiIgfHwgcGFydHNbMF0gPT09ICIrIikgJiYgY29udGV4dC5wYXJlbnROb2RlID8gY29udGV4dC5wYXJlbnROb2RlIDogY29udGV4dCwgY29udGV4dFhNTCApOwoJCQlzZXQgPSByZXQuZXhwciA/IFNpenpsZS5maWx0ZXIoIHJldC5leHByLCByZXQuc2V0ICkgOiByZXQuc2V0OwoKCQkJaWYgKCBwYXJ0cy5sZW5ndGggPiAwICkgewoJCQkJY2hlY2tTZXQgPSBtYWtlQXJyYXkoc2V0KTsKCQkJfSBlbHNlIHsKCQkJCXBydW5lID0gZmFsc2U7CgkJCX0KCgkJCXdoaWxlICggcGFydHMubGVuZ3RoICkgewoJCQkJdmFyIGN1ciA9IHBhcnRzLnBvcCgpLCBwb3AgPSBjdXI7CgoJCQkJaWYgKCAhRXhwci5yZWxhdGl2ZVsgY3VyIF0gKSB7CgkJCQkJY3VyID0gIiI7CgkJCQl9IGVsc2UgewoJCQkJCXBvcCA9IHBhcnRzLnBvcCgpOwoJCQkJfQoKCQkJCWlmICggcG9wID09IG51bGwgKSB7CgkJCQkJcG9wID0gY29udGV4dDsKCQkJCX0KCgkJCQlFeHByLnJlbGF0aXZlWyBjdXIgXSggY2hlY2tTZXQsIHBvcCwgY29udGV4dFhNTCApOwoJCQl9CgkJfSBlbHNlIHsKCQkJY2hlY2tTZXQgPSBwYXJ0cyA9IFtdOwoJCX0KCX0KCglpZiAoICFjaGVja1NldCApIHsKCQljaGVja1NldCA9IHNldDsKCX0KCglpZiAoICFjaGVja1NldCApIHsKCQl0aHJvdyAiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIiArIChjdXIgfHwgc2VsZWN0b3IpOwoJfQoKCWlmICggdG9TdHJpbmcuY2FsbChjaGVja1NldCkgPT09ICJbb2JqZWN0IEFycmF5XSIgKSB7CgkJaWYgKCAhcHJ1bmUgKSB7CgkJCXJlc3VsdHMucHVzaC5hcHBseSggcmVzdWx0cywgY2hlY2tTZXQgKTsKCQl9IGVsc2UgaWYgKCBjb250ZXh0ICYmIGNvbnRleHQubm9kZVR5cGUgPT09IDEgKSB7CgkJCWZvciAoIHZhciBpID0gMDsgY2hlY2tTZXRbaV0gIT0gbnVsbDsgaSsrICkgewoJCQkJaWYgKCBjaGVja1NldFtpXSAmJiAoY2hlY2tTZXRbaV0gPT09IHRydWUgfHwgY2hlY2tTZXRbaV0ubm9kZVR5cGUgPT09IDEgJiYgY29udGFpbnMoY29udGV4dCwgY2hlY2tTZXRbaV0pKSApIHsKCQkJCQlyZXN1bHRzLnB1c2goIHNldFtpXSApOwoJCQkJfQoJCQl9CgkJfSBlbHNlIHsKCQkJZm9yICggdmFyIGkgPSAwOyBjaGVja1NldFtpXSAhPSBudWxsOyBpKysgKSB7CgkJCQlpZiAoIGNoZWNrU2V0W2ldICYmIGNoZWNrU2V0W2ldLm5vZGVUeXBlID09PSAxICkgewoJCQkJCXJlc3VsdHMucHVzaCggc2V0W2ldICk7CgkJCQl9CgkJCX0KCQl9Cgl9IGVsc2UgewoJCW1ha2VBcnJheSggY2hlY2tTZXQsIHJlc3VsdHMgKTsKCX0KCglpZiAoIGV4dHJhICkgewoJCVNpenpsZSggZXh0cmEsIG9yaWdDb250ZXh0LCByZXN1bHRzLCBzZWVkICk7CgkJU2l6emxlLnVuaXF1ZVNvcnQoIHJlc3VsdHMgKTsKCX0KCglyZXR1cm4gcmVzdWx0czsKfTsKClNpenpsZS51bmlxdWVTb3J0ID0gZnVuY3Rpb24ocmVzdWx0cyl7CglpZiAoIHNvcnRPcmRlciApIHsKCQloYXNEdXBsaWNhdGUgPSBiYXNlSGFzRHVwbGljYXRlOwoJCXJlc3VsdHMuc29ydChzb3J0T3JkZXIpOwoKCQlpZiAoIGhhc0R1cGxpY2F0ZSApIHsKCQkJZm9yICggdmFyIGkgPSAxOyBpIDwgcmVzdWx0cy5sZW5ndGg7IGkrKyApIHsKCQkJCWlmICggcmVzdWx0c1tpXSA9PT0gcmVzdWx0c1tpLTFdICkgewoJCQkJCXJlc3VsdHMuc3BsaWNlKGktLSwgMSk7CgkJCQl9CgkJCX0KCQl9Cgl9CgoJcmV0dXJuIHJlc3VsdHM7Cn07CgpTaXp6bGUubWF0Y2hlcyA9IGZ1bmN0aW9uKGV4cHIsIHNldCl7CglyZXR1cm4gU2l6emxlKGV4cHIsIG51bGwsIG51bGwsIHNldCk7Cn07CgpTaXp6bGUuZmluZCA9IGZ1bmN0aW9uKGV4cHIsIGNvbnRleHQsIGlzWE1MKXsKCXZhciBzZXQsIG1hdGNoOwoKCWlmICggIWV4cHIgKSB7CgkJcmV0dXJuIFtdOwoJfQoKCWZvciAoIHZhciBpID0gMCwgbCA9IEV4cHIub3JkZXIubGVuZ3RoOyBpIDwgbDsgaSsrICkgewoJCXZhciB0eXBlID0gRXhwci5vcmRlcltpXSwgbWF0Y2g7CgoJCWlmICggKG1hdGNoID0gRXhwci5sZWZ0TWF0Y2hbIHR5cGUgXS5leGVjKCBleHByICkpICkgewoJCQl2YXIgbGVmdCA9IG1hdGNoWzFdOwoJCQltYXRjaC5zcGxpY2UoMSwxKTsKCgkJCWlmICggbGVmdC5zdWJzdHIoIGxlZnQubGVuZ3RoIC0gMSApICE9PSAiXFwiICkgewoJCQkJbWF0Y2hbMV0gPSAobWF0Y2hbMV0gfHwgIiIpLnJlcGxhY2UoL1xcL2csICIiKTsKCQkJCXNldCA9IEV4cHIuZmluZFsgdHlwZSBdKCBtYXRjaCwgY29udGV4dCwgaXNYTUwgKTsKCQkJCWlmICggc2V0ICE9IG51bGwgKSB7CgkJCQkJZXhwciA9IGV4cHIucmVwbGFjZSggRXhwci5tYXRjaFsgdHlwZSBdLCAiIiApOwoJCQkJCWJyZWFrOwoJCQkJfQoJCQl9CgkJfQoJfQoKCWlmICggIXNldCApIHsKCQlzZXQgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIik7Cgl9CgoJcmV0dXJuIHtzZXQ6IHNldCwgZXhwcjogZXhwcn07Cn07CgpTaXp6bGUuZmlsdGVyID0gZnVuY3Rpb24oZXhwciwgc2V0LCBpbnBsYWNlLCBub3QpewoJdmFyIG9sZCA9IGV4cHIsIHJlc3VsdCA9IFtdLCBjdXJMb29wID0gc2V0LCBtYXRjaCwgYW55Rm91bmQsCgkJaXNYTUxGaWx0ZXIgPSBzZXQgJiYgc2V0WzBdICYmIGlzWE1MKHNldFswXSk7CgoJd2hpbGUgKCBleHByICYmIHNldC5sZW5ndGggKSB7CgkJZm9yICggdmFyIHR5cGUgaW4gRXhwci5maWx0ZXIgKSB7CgkJCWlmICggKG1hdGNoID0gRXhwci5tYXRjaFsgdHlwZSBdLmV4ZWMoIGV4cHIgKSkgIT0gbnVsbCApIHsKCQkJCXZhciBmaWx0ZXIgPSBFeHByLmZpbHRlclsgdHlwZSBdLCBmb3VuZCwgaXRlbTsKCQkJCWFueUZvdW5kID0gZmFsc2U7CgoJCQkJaWYgKCBjdXJMb29wID09IHJlc3VsdCApIHsKCQkJCQlyZXN1bHQgPSBbXTsKCQkJCX0KCgkJCQlpZiAoIEV4cHIucHJlRmlsdGVyWyB0eXBlIF0gKSB7CgkJCQkJbWF0Y2ggPSBFeHByLnByZUZpbHRlclsgdHlwZSBdKCBtYXRjaCwgY3VyTG9vcCwgaW5wbGFjZSwgcmVzdWx0LCBub3QsIGlzWE1MRmlsdGVyICk7CgoJCQkJCWlmICggIW1hdGNoICkgewoJCQkJCQlhbnlGb3VuZCA9IGZvdW5kID0gdHJ1ZTsKCQkJCQl9IGVsc2UgaWYgKCBtYXRjaCA9PT0gdHJ1ZSApIHsKCQkJCQkJY29udGludWU7CgkJCQkJfQoJCQkJfQoKCQkJCWlmICggbWF0Y2ggKSB7CgkJCQkJZm9yICggdmFyIGkgPSAwOyAoaXRlbSA9IGN1ckxvb3BbaV0pICE9IG51bGw7IGkrKyApIHsKCQkJCQkJaWYgKCBpdGVtICkgewoJCQkJCQkJZm91bmQgPSBmaWx0ZXIoIGl0ZW0sIG1hdGNoLCBpLCBjdXJMb29wICk7CgkJCQkJCQl2YXIgcGFzcyA9IG5vdCBeICEhZm91bmQ7CgoJCQkJCQkJaWYgKCBpbnBsYWNlICYmIGZvdW5kICE9IG51bGwgKSB7CgkJCQkJCQkJaWYgKCBwYXNzICkgewoJCQkJCQkJCQlhbnlGb3VuZCA9IHRydWU7CgkJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQkJY3VyTG9vcFtpXSA9IGZhbHNlOwoJCQkJCQkJCX0KCQkJCQkJCX0gZWxzZSBpZiAoIHBhc3MgKSB7CgkJCQkJCQkJcmVzdWx0LnB1c2goIGl0ZW0gKTsKCQkJCQkJCQlhbnlGb3VuZCA9IHRydWU7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgoJCQkJaWYgKCBmb3VuZCAhPT0gdW5kZWZpbmVkICkgewoJCQkJCWlmICggIWlucGxhY2UgKSB7CgkJCQkJCWN1ckxvb3AgPSByZXN1bHQ7CgkJCQkJfQoKCQkJCQlleHByID0gZXhwci5yZXBsYWNlKCBFeHByLm1hdGNoWyB0eXBlIF0sICIiICk7CgoJCQkJCWlmICggIWFueUZvdW5kICkgewoJCQkJCQlyZXR1cm4gW107CgkJCQkJfQoKCQkJCQlicmVhazsKCQkJCX0KCQkJfQoJCX0KCgkJaWYgKCBleHByID09IG9sZCApIHsKCQkJaWYgKCBhbnlGb3VuZCA9PSBudWxsICkgewoJCQkJdGhyb3cgIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIgKyBleHByOwoJCQl9IGVsc2UgewoJCQkJYnJlYWs7CgkJCX0KCQl9CgoJCW9sZCA9IGV4cHI7Cgl9CgoJcmV0dXJuIGN1ckxvb3A7Cn07Cgp2YXIgRXhwciA9IFNpenpsZS5zZWxlY3RvcnMgPSB7CglvcmRlcjogWyAiSUQiLCAiTkFNRSIsICJUQUciIF0sCgltYXRjaDogewoJCUlEOiAvIygoPzpbXHdcdTAwYzAtXHVGRkZGLV18XFwuKSspLywKCQlDTEFTUzogL1wuKCg/Oltcd1x1MDBjMC1cdUZGRkYtXXxcXC4pKykvLAoJCU5BTUU6IC9cW25hbWU9WyciXSooKD86W1x3XHUwMGMwLVx1RkZGRi1dfFxcLikrKVsnIl0qXF0vLAoJCUFUVFI6IC9cW1xzKigoPzpbXHdcdTAwYzAtXHVGRkZGLV18XFwuKSspXHMqKD86KFxTPz0pXHMqKFsnIl0qKSguKj8pXDN8KVxzKlxdLywKCQlUQUc6IC9eKCg/Oltcd1x1MDBjMC1cdUZGRkZcKi1dfFxcLikrKS8sCgkJQ0hJTEQ6IC86KG9ubHl8bnRofGxhc3R8Zmlyc3QpLWNoaWxkKD86XCgoZXZlbnxvZGR8W1xkbistXSopXCkpPy8sCgkJUE9TOiAvOihudGh8ZXF8Z3R8bHR8Zmlyc3R8bGFzdHxldmVufG9kZCkoPzpcKChcZCopXCkpPyg/PVteLV18JCkvLAoJCVBTRVVETzogLzooKD86W1x3XHUwMGMwLVx1RkZGRi1dfFxcLikrKSg/OlwoKFsnIl0qKSgoPzpcKFteXCldK1wpfFteXDJcKFwpXSopKylcMlwpKT8vCgl9LAoJbGVmdE1hdGNoOiB7fSwKCWF0dHJNYXA6IHsKCQkiY2xhc3MiOiAiY2xhc3NOYW1lIiwKCQkiZm9yIjogImh0bWxGb3IiCgl9LAoJYXR0ckhhbmRsZTogewoJCWhyZWY6IGZ1bmN0aW9uKGVsZW0pewoJCQlyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKCQl9Cgl9LAoJcmVsYXRpdmU6IHsKCQkiKyI6IGZ1bmN0aW9uKGNoZWNrU2V0LCBwYXJ0LCBpc1hNTCl7CgkJCXZhciBpc1BhcnRTdHIgPSB0eXBlb2YgcGFydCA9PT0gInN0cmluZyIsCgkJCQlpc1RhZyA9IGlzUGFydFN0ciAmJiAhL1xXLy50ZXN0KHBhcnQpLAoJCQkJaXNQYXJ0U3RyTm90VGFnID0gaXNQYXJ0U3RyICYmICFpc1RhZzsKCgkJCWlmICggaXNUYWcgJiYgIWlzWE1MICkgewoJCQkJcGFydCA9IHBhcnQudG9VcHBlckNhc2UoKTsKCQkJfQoKCQkJZm9yICggdmFyIGkgPSAwLCBsID0gY2hlY2tTZXQubGVuZ3RoLCBlbGVtOyBpIDwgbDsgaSsrICkgewoJCQkJaWYgKCAoZWxlbSA9IGNoZWNrU2V0W2ldKSApIHsKCQkJCQl3aGlsZSAoIChlbGVtID0gZWxlbS5wcmV2aW91c1NpYmxpbmcpICYmIGVsZW0ubm9kZVR5cGUgIT09IDEgKSB7fQoKCQkJCQljaGVja1NldFtpXSA9IGlzUGFydFN0ck5vdFRhZyB8fCBlbGVtICYmIGVsZW0ubm9kZU5hbWUgPT09IHBhcnQgPwoJCQkJCQllbGVtIHx8IGZhbHNlIDoKCQkJCQkJZWxlbSA9PT0gcGFydDsKCQkJCX0KCQkJfQoKCQkJaWYgKCBpc1BhcnRTdHJOb3RUYWcgKSB7CgkJCQlTaXp6bGUuZmlsdGVyKCBwYXJ0LCBjaGVja1NldCwgdHJ1ZSApOwoJCQl9CgkJfSwKCQkiPiI6IGZ1bmN0aW9uKGNoZWNrU2V0LCBwYXJ0LCBpc1hNTCl7CgkJCXZhciBpc1BhcnRTdHIgPSB0eXBlb2YgcGFydCA9PT0gInN0cmluZyI7CgoJCQlpZiAoIGlzUGFydFN0ciAmJiAhL1xXLy50ZXN0KHBhcnQpICkgewoJCQkJcGFydCA9IGlzWE1MID8gcGFydCA6IHBhcnQudG9VcHBlckNhc2UoKTsKCgkJCQlmb3IgKCB2YXIgaSA9IDAsIGwgPSBjaGVja1NldC5sZW5ndGg7IGkgPCBsOyBpKysgKSB7CgkJCQkJdmFyIGVsZW0gPSBjaGVja1NldFtpXTsKCQkJCQlpZiAoIGVsZW0gKSB7CgkJCQkJCXZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7CgkJCQkJCWNoZWNrU2V0W2ldID0gcGFyZW50Lm5vZGVOYW1lID09PSBwYXJ0ID8gcGFyZW50IDogZmFsc2U7CgkJCQkJfQoJCQkJfQoJCQl9IGVsc2UgewoJCQkJZm9yICggdmFyIGkgPSAwLCBsID0gY2hlY2tTZXQubGVuZ3RoOyBpIDwgbDsgaSsrICkgewoJCQkJCXZhciBlbGVtID0gY2hlY2tTZXRbaV07CgkJCQkJaWYgKCBlbGVtICkgewoJCQkJCQljaGVja1NldFtpXSA9IGlzUGFydFN0ciA/CgkJCQkJCQllbGVtLnBhcmVudE5vZGUgOgoJCQkJCQkJZWxlbS5wYXJlbnROb2RlID09PSBwYXJ0OwoJCQkJCX0KCQkJCX0KCgkJCQlpZiAoIGlzUGFydFN0ciApIHsKCQkJCQlTaXp6bGUuZmlsdGVyKCBwYXJ0LCBjaGVja1NldCwgdHJ1ZSApOwoJCQkJfQoJCQl9CgkJfSwKCQkiIjogZnVuY3Rpb24oY2hlY2tTZXQsIHBhcnQsIGlzWE1MKXsKCQkJdmFyIGRvbmVOYW1lID0gZG9uZSsrLCBjaGVja0ZuID0gZGlyQ2hlY2s7CgoJCQlpZiAoICEvXFcvLnRlc3QocGFydCkgKSB7CgkJCQl2YXIgbm9kZUNoZWNrID0gcGFydCA9IGlzWE1MID8gcGFydCA6IHBhcnQudG9VcHBlckNhc2UoKTsKCQkJCWNoZWNrRm4gPSBkaXJOb2RlQ2hlY2s7CgkJCX0KCgkJCWNoZWNrRm4oInBhcmVudE5vZGUiLCBwYXJ0LCBkb25lTmFtZSwgY2hlY2tTZXQsIG5vZGVDaGVjaywgaXNYTUwpOwoJCX0sCgkJIn4iOiBmdW5jdGlvbihjaGVja1NldCwgcGFydCwgaXNYTUwpewoJCQl2YXIgZG9uZU5hbWUgPSBkb25lKyssIGNoZWNrRm4gPSBkaXJDaGVjazsKCgkJCWlmICggdHlwZW9mIHBhcnQgPT09ICJzdHJpbmciICYmICEvXFcvLnRlc3QocGFydCkgKSB7CgkJCQl2YXIgbm9kZUNoZWNrID0gcGFydCA9IGlzWE1MID8gcGFydCA6IHBhcnQudG9VcHBlckNhc2UoKTsKCQkJCWNoZWNrRm4gPSBkaXJOb2RlQ2hlY2s7CgkJCX0KCgkJCWNoZWNrRm4oInByZXZpb3VzU2libGluZyIsIHBhcnQsIGRvbmVOYW1lLCBjaGVja1NldCwgbm9kZUNoZWNrLCBpc1hNTCk7CgkJfQoJfSwKCWZpbmQ6IHsKCQlJRDogZnVuY3Rpb24obWF0Y2gsIGNvbnRleHQsIGlzWE1MKXsKCQkJaWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gInVuZGVmaW5lZCIgJiYgIWlzWE1MICkgewoJCQkJdmFyIG0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKG1hdGNoWzFdKTsKCQkJCXJldHVybiBtID8gW21dIDogW107CgkJCX0KCQl9LAoJCU5BTUU6IGZ1bmN0aW9uKG1hdGNoLCBjb250ZXh0LCBpc1hNTCl7CgkJCWlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeU5hbWUgIT09ICJ1bmRlZmluZWQiICkgewoJCQkJdmFyIHJldCA9IFtdLCByZXN1bHRzID0gY29udGV4dC5nZXRFbGVtZW50c0J5TmFtZShtYXRjaFsxXSk7CgoJCQkJZm9yICggdmFyIGkgPSAwLCBsID0gcmVzdWx0cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7CgkJCQkJaWYgKCByZXN1bHRzW2ldLmdldEF0dHJpYnV0ZSgibmFtZSIpID09PSBtYXRjaFsxXSApIHsKCQkJCQkJcmV0LnB1c2goIHJlc3VsdHNbaV0gKTsKCQkJCQl9CgkJCQl9CgoJCQkJcmV0dXJuIHJldC5sZW5ndGggPT09IDAgPyBudWxsIDogcmV0OwoJCQl9CgkJfSwKCQlUQUc6IGZ1bmN0aW9uKG1hdGNoLCBjb250ZXh0KXsKCQkJcmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUobWF0Y2hbMV0pOwoJCX0KCX0sCglwcmVGaWx0ZXI6IHsKCQlDTEFTUzogZnVuY3Rpb24obWF0Y2gsIGN1ckxvb3AsIGlucGxhY2UsIHJlc3VsdCwgbm90LCBpc1hNTCl7CgkJCW1hdGNoID0gIiAiICsgbWF0Y2hbMV0ucmVwbGFjZSgvXFwvZywgIiIpICsgIiAiOwoKCQkJaWYgKCBpc1hNTCApIHsKCQkJCXJldHVybiBtYXRjaDsKCQkJfQoKCQkJZm9yICggdmFyIGkgPSAwLCBlbGVtOyAoZWxlbSA9IGN1ckxvb3BbaV0pICE9IG51bGw7IGkrKyApIHsKCQkJCWlmICggZWxlbSApIHsKCQkJCQlpZiAoIG5vdCBeIChlbGVtLmNsYXNzTmFtZSAmJiAoIiAiICsgZWxlbS5jbGFzc05hbWUgKyAiICIpLmluZGV4T2YobWF0Y2gpID49IDApICkgewoJCQkJCQlpZiAoICFpbnBsYWNlICkKCQkJCQkJCXJlc3VsdC5wdXNoKCBlbGVtICk7CgkJCQkJfSBlbHNlIGlmICggaW5wbGFjZSApIHsKCQkJCQkJY3VyTG9vcFtpXSA9IGZhbHNlOwoJCQkJCX0KCQkJCX0KCQkJfQoKCQkJcmV0dXJuIGZhbHNlOwoJCX0sCgkJSUQ6IGZ1bmN0aW9uKG1hdGNoKXsKCQkJcmV0dXJuIG1hdGNoWzFdLnJlcGxhY2UoL1xcL2csICIiKTsKCQl9LAoJCVRBRzogZnVuY3Rpb24obWF0Y2gsIGN1ckxvb3ApewoJCQlmb3IgKCB2YXIgaSA9IDA7IGN1ckxvb3BbaV0gPT09IGZhbHNlOyBpKysgKXt9CgkJCXJldHVybiBjdXJMb29wW2ldICYmIGlzWE1MKGN1ckxvb3BbaV0pID8gbWF0Y2hbMV0gOiBtYXRjaFsxXS50b1VwcGVyQ2FzZSgpOwoJCX0sCgkJQ0hJTEQ6IGZ1bmN0aW9uKG1hdGNoKXsKCQkJaWYgKCBtYXRjaFsxXSA9PSAibnRoIiApIHsKCQkJCXZhciB0ZXN0ID0gLygtPykoXGQqKW4oKD86XCt8LSk/XGQqKS8uZXhlYygKCQkJCQltYXRjaFsyXSA9PSAiZXZlbiIgJiYgIjJuIiB8fCBtYXRjaFsyXSA9PSAib2RkIiAmJiAiMm4rMSIgfHwKCQkJCQkhL1xELy50ZXN0KCBtYXRjaFsyXSApICYmICIwbisiICsgbWF0Y2hbMl0gfHwgbWF0Y2hbMl0pOwoKCQkJCW1hdGNoWzJdID0gKHRlc3RbMV0gKyAodGVzdFsyXSB8fCAxKSkgLSAwOwoJCQkJbWF0Y2hbM10gPSB0ZXN0WzNdIC0gMDsKCQkJfQoKCQkJbWF0Y2hbMF0gPSBkb25lKys7CgoJCQlyZXR1cm4gbWF0Y2g7CgkJfSwKCQlBVFRSOiBmdW5jdGlvbihtYXRjaCwgY3VyTG9vcCwgaW5wbGFjZSwgcmVzdWx0LCBub3QsIGlzWE1MKXsKCQkJdmFyIG5hbWUgPSBtYXRjaFsxXS5yZXBsYWNlKC9cXC9nLCAiIik7CgoJCQlpZiAoICFpc1hNTCAmJiBFeHByLmF0dHJNYXBbbmFtZV0gKSB7CgkJCQltYXRjaFsxXSA9IEV4cHIuYXR0ck1hcFtuYW1lXTsKCQkJfQoKCQkJaWYgKCBtYXRjaFsyXSA9PT0gIn49IiApIHsKCQkJCW1hdGNoWzRdID0gIiAiICsgbWF0Y2hbNF0gKyAiICI7CgkJCX0KCgkJCXJldHVybiBtYXRjaDsKCQl9LAoJCVBTRVVETzogZnVuY3Rpb24obWF0Y2gsIGN1ckxvb3AsIGlucGxhY2UsIHJlc3VsdCwgbm90KXsKCQkJaWYgKCBtYXRjaFsxXSA9PT0gIm5vdCIgKSB7CgkJCQlpZiAoICggY2h1bmtlci5leGVjKG1hdGNoWzNdKSB8fCAiIiApLmxlbmd0aCA+IDEgfHwgL15cdy8udGVzdChtYXRjaFszXSkgKSB7CgkJCQkJbWF0Y2hbM10gPSBTaXp6bGUobWF0Y2hbM10sIG51bGwsIG51bGwsIGN1ckxvb3ApOwoJCQkJfSBlbHNlIHsKCQkJCQl2YXIgcmV0ID0gU2l6emxlLmZpbHRlcihtYXRjaFszXSwgY3VyTG9vcCwgaW5wbGFjZSwgdHJ1ZSBeIG5vdCk7CgkJCQkJaWYgKCAhaW5wbGFjZSApIHsKCQkJCQkJcmVzdWx0LnB1c2guYXBwbHkoIHJlc3VsdCwgcmV0ICk7CgkJCQkJfQoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0KCQkJfSBlbHNlIGlmICggRXhwci5tYXRjaC5QT1MudGVzdCggbWF0Y2hbMF0gKSB8fCBFeHByLm1hdGNoLkNISUxELnRlc3QoIG1hdGNoWzBdICkgKSB7CgkJCQlyZXR1cm4gdHJ1ZTsKCQkJfQoKCQkJcmV0dXJuIG1hdGNoOwoJCX0sCgkJUE9TOiBmdW5jdGlvbihtYXRjaCl7CgkJCW1hdGNoLnVuc2hpZnQoIHRydWUgKTsKCQkJcmV0dXJuIG1hdGNoOwoJCX0KCX0sCglmaWx0ZXJzOiB7CgkJZW5hYmxlZDogZnVuY3Rpb24oZWxlbSl7CgkJCXJldHVybiBlbGVtLmRpc2FibGVkID09PSBmYWxzZSAmJiBlbGVtLnR5cGUgIT09ICJoaWRkZW4iOwoJCX0sCgkJZGlzYWJsZWQ6IGZ1bmN0aW9uKGVsZW0pewoJCQlyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gdHJ1ZTsKCQl9LAoJCWNoZWNrZWQ6IGZ1bmN0aW9uKGVsZW0pewoJCQlyZXR1cm4gZWxlbS5jaGVja2VkID09PSB0cnVlOwoJCX0sCgkJc2VsZWN0ZWQ6IGZ1bmN0aW9uKGVsZW0pewoJCQllbGVtLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDsKCQkJcmV0dXJuIGVsZW0uc2VsZWN0ZWQgPT09IHRydWU7CgkJfSwKCQlwYXJlbnQ6IGZ1bmN0aW9uKGVsZW0pewoJCQlyZXR1cm4gISFlbGVtLmZpcnN0Q2hpbGQ7CgkJfSwKCQllbXB0eTogZnVuY3Rpb24oZWxlbSl7CgkJCXJldHVybiAhZWxlbS5maXJzdENoaWxkOwoJCX0sCgkJaGFzOiBmdW5jdGlvbihlbGVtLCBpLCBtYXRjaCl7CgkJCXJldHVybiAhIVNpenpsZSggbWF0Y2hbM10sIGVsZW0gKS5sZW5ndGg7CgkJfSwKCQloZWFkZXI6IGZ1bmN0aW9uKGVsZW0pewoJCQlyZXR1cm4gL2hcZC9pLnRlc3QoIGVsZW0ubm9kZU5hbWUgKTsKCQl9LAoJCXRleHQ6IGZ1bmN0aW9uKGVsZW0pewoJCQlyZXR1cm4gInRleHQiID09PSBlbGVtLnR5cGU7CgkJfSwKCQlyYWRpbzogZnVuY3Rpb24oZWxlbSl7CgkJCXJldHVybiAicmFkaW8iID09PSBlbGVtLnR5cGU7CgkJfSwKCQljaGVja2JveDogZnVuY3Rpb24oZWxlbSl7CgkJCXJldHVybiAiY2hlY2tib3giID09PSBlbGVtLnR5cGU7CgkJfSwKCQlmaWxlOiBmdW5jdGlvbihlbGVtKXsKCQkJcmV0dXJuICJmaWxlIiA9PT0gZWxlbS50eXBlOwoJCX0sCgkJcGFzc3dvcmQ6IGZ1bmN0aW9uKGVsZW0pewoJCQlyZXR1cm4gInBhc3N3b3JkIiA9PT0gZWxlbS50eXBlOwoJCX0sCgkJc3VibWl0OiBmdW5jdGlvbihlbGVtKXsKCQkJcmV0dXJuICJzdWJtaXQiID09PSBlbGVtLnR5cGU7CgkJfSwKCQlpbWFnZTogZnVuY3Rpb24oZWxlbSl7CgkJCXJldHVybiAiaW1hZ2UiID09PSBlbGVtLnR5cGU7CgkJfSwKCQlyZXNldDogZnVuY3Rpb24oZWxlbSl7CgkJCXJldHVybiAicmVzZXQiID09PSBlbGVtLnR5cGU7CgkJfSwKCQlidXR0b246IGZ1bmN0aW9uKGVsZW0pewoJCQlyZXR1cm4gImJ1dHRvbiIgPT09IGVsZW0udHlwZSB8fCBlbGVtLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09ICJCVVRUT04iOwoJCX0sCgkJaW5wdXQ6IGZ1bmN0aW9uKGVsZW0pewoJCQlyZXR1cm4gL2lucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24vaS50ZXN0KGVsZW0ubm9kZU5hbWUpOwoJCX0KCX0sCglzZXRGaWx0ZXJzOiB7CgkJZmlyc3Q6IGZ1bmN0aW9uKGVsZW0sIGkpewoJCQlyZXR1cm4gaSA9PT0gMDsKCQl9LAoJCWxhc3Q6IGZ1bmN0aW9uKGVsZW0sIGksIG1hdGNoLCBhcnJheSl7CgkJCXJldHVybiBpID09PSBhcnJheS5sZW5ndGggLSAxOwoJCX0sCgkJZXZlbjogZnVuY3Rpb24oZWxlbSwgaSl7CgkJCXJldHVybiBpICUgMiA9PT0gMDsKCQl9LAoJCW9kZDogZnVuY3Rpb24oZWxlbSwgaSl7CgkJCXJldHVybiBpICUgMiA9PT0gMTsKCQl9LAoJCWx0OiBmdW5jdGlvbihlbGVtLCBpLCBtYXRjaCl7CgkJCXJldHVybiBpIDwgbWF0Y2hbM10gLSAwOwoJCX0sCgkJZ3Q6IGZ1bmN0aW9uKGVsZW0sIGksIG1hdGNoKXsKCQkJcmV0dXJuIGkgPiBtYXRjaFszXSAtIDA7CgkJfSwKCQludGg6IGZ1bmN0aW9uKGVsZW0sIGksIG1hdGNoKXsKCQkJcmV0dXJuIG1hdGNoWzNdIC0gMCA9PSBpOwoJCX0sCgkJZXE6IGZ1bmN0aW9uKGVsZW0sIGksIG1hdGNoKXsKCQkJcmV0dXJuIG1hdGNoWzNdIC0gMCA9PSBpOwoJCX0KCX0sCglmaWx0ZXI6IHsKCQlQU0VVRE86IGZ1bmN0aW9uKGVsZW0sIG1hdGNoLCBpLCBhcnJheSl7CgkJCXZhciBuYW1lID0gbWF0Y2hbMV0sIGZpbHRlciA9IEV4cHIuZmlsdGVyc1sgbmFtZSBdOwoKCQkJaWYgKCBmaWx0ZXIgKSB7CgkJCQlyZXR1cm4gZmlsdGVyKCBlbGVtLCBpLCBtYXRjaCwgYXJyYXkgKTsKCQkJfSBlbHNlIGlmICggbmFtZSA9PT0gImNvbnRhaW5zIiApIHsKCQkJCXJldHVybiAoZWxlbS50ZXh0Q29udGVudCB8fCBlbGVtLmlubmVyVGV4dCB8fCAiIikuaW5kZXhPZihtYXRjaFszXSkgPj0gMDsKCQkJfSBlbHNlIGlmICggbmFtZSA9PT0gIm5vdCIgKSB7CgkJCQl2YXIgbm90ID0gbWF0Y2hbM107CgoJCQkJZm9yICggdmFyIGkgPSAwLCBsID0gbm90Lmxlbmd0aDsgaSA8IGw7IGkrKyApIHsKCQkJCQlpZiAoIG5vdFtpXSA9PT0gZWxlbSApIHsKCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCX0KCQkJCX0KCgkJCQlyZXR1cm4gdHJ1ZTsKCQkJfQoJCX0sCgkJQ0hJTEQ6IGZ1bmN0aW9uKGVsZW0sIG1hdGNoKXsKCQkJdmFyIHR5cGUgPSBtYXRjaFsxXSwgbm9kZSA9IGVsZW07CgkJCXN3aXRjaCAodHlwZSkgewoJCQkJY2FzZSAnb25seSc6CgkJCQljYXNlICdmaXJzdCc6CgkJCQkJd2hpbGUgKCAobm9kZSA9IG5vZGUucHJldmlvdXNTaWJsaW5nKSApICB7CgkJCQkJCWlmICggbm9kZS5ub2RlVHlwZSA9PT0gMSApIHJldHVybiBmYWxzZTsKCQkJCQl9CgkJCQkJaWYgKCB0eXBlID09ICdmaXJzdCcpIHJldHVybiB0cnVlOwoJCQkJCW5vZGUgPSBlbGVtOwoJCQkJY2FzZSAnbGFzdCc6CgkJCQkJd2hpbGUgKCAobm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpICkgIHsKCQkJCQkJaWYgKCBub2RlLm5vZGVUeXBlID09PSAxICkgcmV0dXJuIGZhbHNlOwoJCQkJCX0KCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCWNhc2UgJ250aCc6CgkJCQkJdmFyIGZpcnN0ID0gbWF0Y2hbMl0sIGxhc3QgPSBtYXRjaFszXTsKCgkJCQkJaWYgKCBmaXJzdCA9PSAxICYmIGxhc3QgPT0gMCApIHsKCQkJCQkJcmV0dXJuIHRydWU7CgkJCQkJfQoKCQkJCQl2YXIgZG9uZU5hbWUgPSBtYXRjaFswXSwKCQkJCQkJcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlOwoKCQkJCQlpZiAoIHBhcmVudCAmJiAocGFyZW50LnNpemNhY2hlICE9PSBkb25lTmFtZSB8fCAhZWxlbS5ub2RlSW5kZXgpICkgewoJCQkJCQl2YXIgY291bnQgPSAwOwoJCQkJCQlmb3IgKCBub2RlID0gcGFyZW50LmZpcnN0Q2hpbGQ7IG5vZGU7IG5vZGUgPSBub2RlLm5leHRTaWJsaW5nICkgewoJCQkJCQkJaWYgKCBub2RlLm5vZGVUeXBlID09PSAxICkgewoJCQkJCQkJCW5vZGUubm9kZUluZGV4ID0gKytjb3VudDsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCQlwYXJlbnQuc2l6Y2FjaGUgPSBkb25lTmFtZTsKCQkJCQl9CgoJCQkJCXZhciBkaWZmID0gZWxlbS5ub2RlSW5kZXggLSBsYXN0OwoJCQkJCWlmICggZmlyc3QgPT0gMCApIHsKCQkJCQkJcmV0dXJuIGRpZmYgPT0gMDsKCQkJCQl9IGVsc2UgewoJCQkJCQlyZXR1cm4gKCBkaWZmICUgZmlyc3QgPT0gMCAmJiBkaWZmIC8gZmlyc3QgPj0gMCApOwoJCQkJCX0KCQkJfQoJCX0sCgkJSUQ6IGZ1bmN0aW9uKGVsZW0sIG1hdGNoKXsKCQkJcmV0dXJuIGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgZWxlbS5nZXRBdHRyaWJ1dGUoImlkIikgPT09IG1hdGNoOwoJCX0sCgkJVEFHOiBmdW5jdGlvbihlbGVtLCBtYXRjaCl7CgkJCXJldHVybiAobWF0Y2ggPT09ICIqIiAmJiBlbGVtLm5vZGVUeXBlID09PSAxKSB8fCBlbGVtLm5vZGVOYW1lID09PSBtYXRjaDsKCQl9LAoJCUNMQVNTOiBmdW5jdGlvbihlbGVtLCBtYXRjaCl7CgkJCXJldHVybiAoIiAiICsgKGVsZW0uY2xhc3NOYW1lIHx8IGVsZW0uZ2V0QXR0cmlidXRlKCJjbGFzcyIpKSArICIgIikKCQkJCS5pbmRleE9mKCBtYXRjaCApID4gLTE7CgkJfSwKCQlBVFRSOiBmdW5jdGlvbihlbGVtLCBtYXRjaCl7CgkJCXZhciBuYW1lID0gbWF0Y2hbMV0sCgkJCQlyZXN1bHQgPSBFeHByLmF0dHJIYW5kbGVbIG5hbWUgXSA/CgkJCQkJRXhwci5hdHRySGFuZGxlWyBuYW1lIF0oIGVsZW0gKSA6CgkJCQkJZWxlbVsgbmFtZSBdICE9IG51bGwgPwoJCQkJCQllbGVtWyBuYW1lIF0gOgoJCQkJCQllbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApLAoJCQkJdmFsdWUgPSByZXN1bHQgKyAiIiwKCQkJCXR5cGUgPSBtYXRjaFsyXSwKCQkJCWNoZWNrID0gbWF0Y2hbNF07CgoJCQlyZXR1cm4gcmVzdWx0ID09IG51bGwgPwoJCQkJdHlwZSA9PT0gIiE9IiA6CgkJCQl0eXBlID09PSAiPSIgPwoJCQkJdmFsdWUgPT09IGNoZWNrIDoKCQkJCXR5cGUgPT09ICIqPSIgPwoJCQkJdmFsdWUuaW5kZXhPZihjaGVjaykgPj0gMCA6CgkJCQl0eXBlID09PSAifj0iID8KCQkJCSgiICIgKyB2YWx1ZSArICIgIikuaW5kZXhPZihjaGVjaykgPj0gMCA6CgkJCQkhY2hlY2sgPwoJCQkJdmFsdWUgJiYgcmVzdWx0ICE9PSBmYWxzZSA6CgkJCQl0eXBlID09PSAiIT0iID8KCQkJCXZhbHVlICE9IGNoZWNrIDoKCQkJCXR5cGUgPT09ICJePSIgPwoJCQkJdmFsdWUuaW5kZXhPZihjaGVjaykgPT09IDAgOgoJCQkJdHlwZSA9PT0gIiQ9IiA/CgkJCQl2YWx1ZS5zdWJzdHIodmFsdWUubGVuZ3RoIC0gY2hlY2subGVuZ3RoKSA9PT0gY2hlY2sgOgoJCQkJdHlwZSA9PT0gInw9IiA/CgkJCQl2YWx1ZSA9PT0gY2hlY2sgfHwgdmFsdWUuc3Vic3RyKDAsIGNoZWNrLmxlbmd0aCArIDEpID09PSBjaGVjayArICItIiA6CgkJCQlmYWxzZTsKCQl9LAoJCVBPUzogZnVuY3Rpb24oZWxlbSwgbWF0Y2gsIGksIGFycmF5KXsKCQkJdmFyIG5hbWUgPSBtYXRjaFsyXSwgZmlsdGVyID0gRXhwci5zZXRGaWx0ZXJzWyBuYW1lIF07CgoJCQlpZiAoIGZpbHRlciApIHsKCQkJCXJldHVybiBmaWx0ZXIoIGVsZW0sIGksIG1hdGNoLCBhcnJheSApOwoJCQl9CgkJfQoJfQp9OwoKdmFyIG9yaWdQT1MgPSBFeHByLm1hdGNoLlBPUzsKCmZvciAoIHZhciB0eXBlIGluIEV4cHIubWF0Y2ggKSB7CglFeHByLm1hdGNoWyB0eXBlIF0gPSBuZXcgUmVnRXhwKCBFeHByLm1hdGNoWyB0eXBlIF0uc291cmNlICsgLyg/IVteXFtdKlxdKSg/IVteXChdKlwpKS8uc291cmNlICk7CglFeHByLmxlZnRNYXRjaFsgdHlwZSBdID0gbmV3IFJlZ0V4cCggLyheKD86LnxccnxcbikqPykvLnNvdXJjZSArIEV4cHIubWF0Y2hbIHR5cGUgXS5zb3VyY2UgKTsKfQoKdmFyIG1ha2VBcnJheSA9IGZ1bmN0aW9uKGFycmF5LCByZXN1bHRzKSB7CglhcnJheSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKCBhcnJheSwgMCApOwoKCWlmICggcmVzdWx0cyApIHsKCQlyZXN1bHRzLnB1c2guYXBwbHkoIHJlc3VsdHMsIGFycmF5ICk7CgkJcmV0dXJuIHJlc3VsdHM7Cgl9CgoJcmV0dXJuIGFycmF5Owp9OwoKdHJ5IHsKCUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2hpbGROb2RlcywgMCApOwoKfSBjYXRjaChlKXsKCW1ha2VBcnJheSA9IGZ1bmN0aW9uKGFycmF5LCByZXN1bHRzKSB7CgkJdmFyIHJldCA9IHJlc3VsdHMgfHwgW107CgoJCWlmICggdG9TdHJpbmcuY2FsbChhcnJheSkgPT09ICJbb2JqZWN0IEFycmF5XSIgKSB7CgkJCUFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KCByZXQsIGFycmF5ICk7CgkJfSBlbHNlIHsKCQkJaWYgKCB0eXBlb2YgYXJyYXkubGVuZ3RoID09PSAibnVtYmVyIiApIHsKCQkJCWZvciAoIHZhciBpID0gMCwgbCA9IGFycmF5Lmxlbmd0aDsgaSA8IGw7IGkrKyApIHsKCQkJCQlyZXQucHVzaCggYXJyYXlbaV0gKTsKCQkJCX0KCQkJfSBlbHNlIHsKCQkJCWZvciAoIHZhciBpID0gMDsgYXJyYXlbaV07IGkrKyApIHsKCQkJCQlyZXQucHVzaCggYXJyYXlbaV0gKTsKCQkJCX0KCQkJfQoJCX0KCgkJcmV0dXJuIHJldDsKCX07Cn0KCnZhciBzb3J0T3JkZXI7CgppZiAoIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiApIHsKCXNvcnRPcmRlciA9IGZ1bmN0aW9uKCBhLCBiICkgewoJCWlmICggIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gfHwgIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb24gKSB7CgkJCWlmICggYSA9PSBiICkgewoJCQkJaGFzRHVwbGljYXRlID0gdHJ1ZTsKCQkJfQoJCQlyZXR1cm4gMDsKCQl9CgoJCXZhciByZXQgPSBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpICYgNCA/IC0xIDogYSA9PT0gYiA/IDAgOiAxOwoJCWlmICggcmV0ID09PSAwICkgewoJCQloYXNEdXBsaWNhdGUgPSB0cnVlOwoJCX0KCQlyZXR1cm4gcmV0OwoJfTsKfSBlbHNlIGlmICggInNvdXJjZUluZGV4IiBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgKSB7Cglzb3J0T3JkZXIgPSBmdW5jdGlvbiggYSwgYiApIHsKCQlpZiAoICFhLnNvdXJjZUluZGV4IHx8ICFiLnNvdXJjZUluZGV4ICkgewoJCQlpZiAoIGEgPT0gYiApIHsKCQkJCWhhc0R1cGxpY2F0ZSA9IHRydWU7CgkJCX0KCQkJcmV0dXJuIDA7CgkJfQoKCQl2YXIgcmV0ID0gYS5zb3VyY2VJbmRleCAtIGIuc291cmNlSW5kZXg7CgkJaWYgKCByZXQgPT09IDAgKSB7CgkJCWhhc0R1cGxpY2F0ZSA9IHRydWU7CgkJfQoJCXJldHVybiByZXQ7Cgl9Owp9IGVsc2UgaWYgKCBkb2N1bWVudC5jcmVhdGVSYW5nZSApIHsKCXNvcnRPcmRlciA9IGZ1bmN0aW9uKCBhLCBiICkgewoJCWlmICggIWEub3duZXJEb2N1bWVudCB8fCAhYi5vd25lckRvY3VtZW50ICkgewoJCQlpZiAoIGEgPT0gYiApIHsKCQkJCWhhc0R1cGxpY2F0ZSA9IHRydWU7CgkJCX0KCQkJcmV0dXJuIDA7CgkJfQoKCQl2YXIgYVJhbmdlID0gYS5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCksIGJSYW5nZSA9IGIub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpOwoJCWFSYW5nZS5zZXRTdGFydChhLCAwKTsKCQlhUmFuZ2Uuc2V0RW5kKGEsIDApOwoJCWJSYW5nZS5zZXRTdGFydChiLCAwKTsKCQliUmFuZ2Uuc2V0RW5kKGIsIDApOwoJCXZhciByZXQgPSBhUmFuZ2UuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKFJhbmdlLlNUQVJUX1RPX0VORCwgYlJhbmdlKTsKCQlpZiAoIHJldCA9PT0gMCApIHsKCQkJaGFzRHVwbGljYXRlID0gdHJ1ZTsKCQl9CgkJcmV0dXJuIHJldDsKCX07Cn0KCihmdW5jdGlvbigpewoJdmFyIGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwKCQlpZCA9ICJzY3JpcHQiICsgKG5ldyBEYXRlKS5nZXRUaW1lKCk7Cglmb3JtLmlubmVySFRNTCA9ICI8YSBuYW1lPSciICsgaWQgKyAiJy8+IjsKCgl2YXIgcm9vdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKCXJvb3QuaW5zZXJ0QmVmb3JlKCBmb3JtLCByb290LmZpcnN0Q2hpbGQgKTsKCglpZiAoICEhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIGlkICkgKSB7CgkJRXhwci5maW5kLklEID0gZnVuY3Rpb24obWF0Y2gsIGNvbnRleHQsIGlzWE1MKXsKCQkJaWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gInVuZGVmaW5lZCIgJiYgIWlzWE1MICkgewoJCQkJdmFyIG0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKG1hdGNoWzFdKTsKCQkJCXJldHVybiBtID8gbS5pZCA9PT0gbWF0Y2hbMV0gfHwgdHlwZW9mIG0uZ2V0QXR0cmlidXRlTm9kZSAhPT0gInVuZGVmaW5lZCIgJiYgbS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpLm5vZGVWYWx1ZSA9PT0gbWF0Y2hbMV0gPyBbbV0gOiB1bmRlZmluZWQgOiBbXTsKCQkJfQoJCX07CgoJCUV4cHIuZmlsdGVyLklEID0gZnVuY3Rpb24oZWxlbSwgbWF0Y2gpewoJCQl2YXIgbm9kZSA9IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZU5vZGUgIT09ICJ1bmRlZmluZWQiICYmIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTsKCQkJcmV0dXJuIGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgbm9kZSAmJiBub2RlLm5vZGVWYWx1ZSA9PT0gbWF0Y2g7CgkJfTsKCX0KCglyb290LnJlbW92ZUNoaWxkKCBmb3JtICk7Cglyb290ID0gZm9ybSA9IG51bGw7IC8vIHJlbGVhc2UgbWVtb3J5IGluIElFCn0pKCk7CgooZnVuY3Rpb24oKXsKCgl2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CglkaXYuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoIiIpICk7CgoJaWYgKCBkaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKS5sZW5ndGggPiAwICkgewoJCUV4cHIuZmluZC5UQUcgPSBmdW5jdGlvbihtYXRjaCwgY29udGV4dCl7CgkJCXZhciByZXN1bHRzID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZShtYXRjaFsxXSk7CgoJCQlpZiAoIG1hdGNoWzFdID09PSAiKiIgKSB7CgkJCQl2YXIgdG1wID0gW107CgoJCQkJZm9yICggdmFyIGkgPSAwOyByZXN1bHRzW2ldOyBpKysgKSB7CgkJCQkJaWYgKCByZXN1bHRzW2ldLm5vZGVUeXBlID09PSAxICkgewoJCQkJCQl0bXAucHVzaCggcmVzdWx0c1tpXSApOwoJCQkJCX0KCQkJCX0KCgkJCQlyZXN1bHRzID0gdG1wOwoJCQl9CgoJCQlyZXR1cm4gcmVzdWx0czsKCQl9OwoJfQoKCWRpdi5pbm5lckhUTUwgPSAiPGEgaHJlZj0nIyc+PC9hPiI7CglpZiAoIGRpdi5maXJzdENoaWxkICYmIHR5cGVvZiBkaXYuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUgIT09ICJ1bmRlZmluZWQiICYmCgkJCWRpdi5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpICE9PSAiIyIgKSB7CgkJRXhwci5hdHRySGFuZGxlLmhyZWYgPSBmdW5jdGlvbihlbGVtKXsKCQkJcmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCJocmVmIiwgMik7CgkJfTsKCX0KCglkaXYgPSBudWxsOyAvLyByZWxlYXNlIG1lbW9yeSBpbiBJRQp9KSgpOwoKaWYgKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsICkgKGZ1bmN0aW9uKCl7Cgl2YXIgb2xkU2l6emxlID0gU2l6emxlLCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKCWRpdi5pbm5lckhUTUwgPSAiPHAgY2xhc3M9J1RFU1QnPjwvcD4iOwoKCWlmICggZGl2LnF1ZXJ5U2VsZWN0b3JBbGwgJiYgZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoIi5URVNUIikubGVuZ3RoID09PSAwICkgewoJCXJldHVybjsKCX0KCglTaXp6bGUgPSBmdW5jdGlvbihxdWVyeSwgY29udGV4dCwgZXh0cmEsIHNlZWQpewoJCWNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50OwoKCQlpZiAoICFzZWVkICYmIGNvbnRleHQubm9kZVR5cGUgPT09IDkgJiYgIWlzWE1MKGNvbnRleHQpICkgewoJCQl0cnkgewoJCQkJcmV0dXJuIG1ha2VBcnJheSggY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5KSwgZXh0cmEgKTsKCQkJfSBjYXRjaChlKXt9CgkJfQoKCQlyZXR1cm4gb2xkU2l6emxlKHF1ZXJ5LCBjb250ZXh0LCBleHRyYSwgc2VlZCk7Cgl9OwoKCWZvciAoIHZhciBwcm9wIGluIG9sZFNpenpsZSApIHsKCQlTaXp6bGVbIHByb3AgXSA9IG9sZFNpenpsZVsgcHJvcCBdOwoJfQoKCWRpdiA9IG51bGw7IC8vIHJlbGVhc2UgbWVtb3J5IGluIElFCn0pKCk7CgppZiAoIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgKSAoZnVuY3Rpb24oKXsKCXZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKCWRpdi5pbm5lckhUTUwgPSAiPGRpdiBjbGFzcz0ndGVzdCBlJz48L2Rpdj48ZGl2IGNsYXNzPSd0ZXN0Jz48L2Rpdj4iOwoKCWlmICggZGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImUiKS5sZW5ndGggPT09IDAgKQoJCXJldHVybjsKCglkaXYubGFzdENoaWxkLmNsYXNzTmFtZSA9ICJlIjsKCglpZiAoIGRpdi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJlIikubGVuZ3RoID09PSAxICkKCQlyZXR1cm47CgoJRXhwci5vcmRlci5zcGxpY2UoMSwgMCwgIkNMQVNTIik7CglFeHByLmZpbmQuQ0xBU1MgPSBmdW5jdGlvbihtYXRjaCwgY29udGV4dCwgaXNYTUwpIHsKCQlpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgIT09ICJ1bmRlZmluZWQiICYmICFpc1hNTCApIHsKCQkJcmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShtYXRjaFsxXSk7CgkJfQoJfTsKCglkaXYgPSBudWxsOyAvLyByZWxlYXNlIG1lbW9yeSBpbiBJRQp9KSgpOwoKZnVuY3Rpb24gZGlyTm9kZUNoZWNrKCBkaXIsIGN1ciwgZG9uZU5hbWUsIGNoZWNrU2V0LCBub2RlQ2hlY2ssIGlzWE1MICkgewoJdmFyIHNpYkRpciA9IGRpciA9PSAicHJldmlvdXNTaWJsaW5nIiAmJiAhaXNYTUw7Cglmb3IgKCB2YXIgaSA9IDAsIGwgPSBjaGVja1NldC5sZW5ndGg7IGkgPCBsOyBpKysgKSB7CgkJdmFyIGVsZW0gPSBjaGVja1NldFtpXTsKCQlpZiAoIGVsZW0gKSB7CgkJCWlmICggc2liRGlyICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKXsKCQkJCWVsZW0uc2l6Y2FjaGUgPSBkb25lTmFtZTsKCQkJCWVsZW0uc2l6c2V0ID0gaTsKCQkJfQoJCQllbGVtID0gZWxlbVtkaXJdOwoJCQl2YXIgbWF0Y2ggPSBmYWxzZTsKCgkJCXdoaWxlICggZWxlbSApIHsKCQkJCWlmICggZWxlbS5zaXpjYWNoZSA9PT0gZG9uZU5hbWUgKSB7CgkJCQkJbWF0Y2ggPSBjaGVja1NldFtlbGVtLnNpenNldF07CgkJCQkJYnJlYWs7CgkJCQl9CgoJCQkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmICFpc1hNTCApewoJCQkJCWVsZW0uc2l6Y2FjaGUgPSBkb25lTmFtZTsKCQkJCQllbGVtLnNpenNldCA9IGk7CgkJCQl9CgoJCQkJaWYgKCBlbGVtLm5vZGVOYW1lID09PSBjdXIgKSB7CgkJCQkJbWF0Y2ggPSBlbGVtOwoJCQkJCWJyZWFrOwoJCQkJfQoKCQkJCWVsZW0gPSBlbGVtW2Rpcl07CgkJCX0KCgkJCWNoZWNrU2V0W2ldID0gbWF0Y2g7CgkJfQoJfQp9CgpmdW5jdGlvbiBkaXJDaGVjayggZGlyLCBjdXIsIGRvbmVOYW1lLCBjaGVja1NldCwgbm9kZUNoZWNrLCBpc1hNTCApIHsKCXZhciBzaWJEaXIgPSBkaXIgPT0gInByZXZpb3VzU2libGluZyIgJiYgIWlzWE1MOwoJZm9yICggdmFyIGkgPSAwLCBsID0gY2hlY2tTZXQubGVuZ3RoOyBpIDwgbDsgaSsrICkgewoJCXZhciBlbGVtID0gY2hlY2tTZXRbaV07CgkJaWYgKCBlbGVtICkgewoJCQlpZiAoIHNpYkRpciAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkgewoJCQkJZWxlbS5zaXpjYWNoZSA9IGRvbmVOYW1lOwoJCQkJZWxlbS5zaXpzZXQgPSBpOwoJCQl9CgkJCWVsZW0gPSBlbGVtW2Rpcl07CgkJCXZhciBtYXRjaCA9IGZhbHNlOwoKCQkJd2hpbGUgKCBlbGVtICkgewoJCQkJaWYgKCBlbGVtLnNpemNhY2hlID09PSBkb25lTmFtZSApIHsKCQkJCQltYXRjaCA9IGNoZWNrU2V0W2VsZW0uc2l6c2V0XTsKCQkJCQlicmVhazsKCQkJCX0KCgkJCQlpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7CgkJCQkJaWYgKCAhaXNYTUwgKSB7CgkJCQkJCWVsZW0uc2l6Y2FjaGUgPSBkb25lTmFtZTsKCQkJCQkJZWxlbS5zaXpzZXQgPSBpOwoJCQkJCX0KCQkJCQlpZiAoIHR5cGVvZiBjdXIgIT09ICJzdHJpbmciICkgewoJCQkJCQlpZiAoIGVsZW0gPT09IGN1ciApIHsKCQkJCQkJCW1hdGNoID0gdHJ1ZTsKCQkJCQkJCWJyZWFrOwoJCQkJCQl9CgoJCQkJCX0gZWxzZSBpZiAoIFNpenpsZS5maWx0ZXIoIGN1ciwgW2VsZW1dICkubGVuZ3RoID4gMCApIHsKCQkJCQkJbWF0Y2ggPSBlbGVtOwoJCQkJCQlicmVhazsKCQkJCQl9CgkJCQl9CgoJCQkJZWxlbSA9IGVsZW1bZGlyXTsKCQkJfQoKCQkJY2hlY2tTZXRbaV0gPSBtYXRjaDsKCQl9Cgl9Cn0KCnZhciBjb250YWlucyA9IGRvY3VtZW50LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uID8gIGZ1bmN0aW9uKGEsIGIpewoJcmV0dXJuIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYikgJiAxNjsKfSA6IGZ1bmN0aW9uKGEsIGIpewoJcmV0dXJuIGEgIT09IGIgJiYgKGEuY29udGFpbnMgPyBhLmNvbnRhaW5zKGIpIDogdHJ1ZSk7Cn07Cgp2YXIgaXNYTUwgPSBmdW5jdGlvbihlbGVtKXsKCXJldHVybiBlbGVtLm5vZGVUeXBlID09PSA5ICYmIGVsZW0uZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lICE9PSAiSFRNTCIgfHwKCQkhIWVsZW0ub3duZXJEb2N1bWVudCAmJiBlbGVtLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lICE9PSAiSFRNTCI7Cn07Cgp2YXIgcG9zUHJvY2VzcyA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBjb250ZXh0KXsKCXZhciB0bXBTZXQgPSBbXSwgbGF0ZXIgPSAiIiwgbWF0Y2gsCgkJcm9vdCA9IGNvbnRleHQubm9kZVR5cGUgPyBbY29udGV4dF0gOiBjb250ZXh0OwoKCXdoaWxlICggKG1hdGNoID0gRXhwci5tYXRjaC5QU0VVRE8uZXhlYyggc2VsZWN0b3IgKSkgKSB7CgkJbGF0ZXIgKz0gbWF0Y2hbMF07CgkJc2VsZWN0b3IgPSBzZWxlY3Rvci5yZXBsYWNlKCBFeHByLm1hdGNoLlBTRVVETywgIiIgKTsKCX0KCglzZWxlY3RvciA9IEV4cHIucmVsYXRpdmVbc2VsZWN0b3JdID8gc2VsZWN0b3IgKyAiKiIgOiBzZWxlY3RvcjsKCglmb3IgKCB2YXIgaSA9IDAsIGwgPSByb290Lmxlbmd0aDsgaSA8IGw7IGkrKyApIHsKCQlTaXp6bGUoIHNlbGVjdG9yLCByb290W2ldLCB0bXBTZXQgKTsKCX0KCglyZXR1cm4gU2l6emxlLmZpbHRlciggbGF0ZXIsIHRtcFNldCApOwp9OwoKCndpbmRvdy5TaXp6bGUgPSBTaXp6bGU7Cgp9KSgpOwoKOyhmdW5jdGlvbihlbmdpbmUpIHsKICB2YXIgZXh0ZW5kRWxlbWVudHMgPSBQcm90b3R5cGUuU2VsZWN0b3IuZXh0ZW5kRWxlbWVudHM7CgogIGZ1bmN0aW9uIHNlbGVjdChzZWxlY3Rvciwgc2NvcGUpIHsKICAgIHJldHVybiBleHRlbmRFbGVtZW50cyhlbmdpbmUoc2VsZWN0b3IsIHNjb3BlIHx8IGRvY3VtZW50KSk7CiAgfQoKICBmdW5jdGlvbiBtYXRjaChlbGVtZW50LCBzZWxlY3RvcikgewogICAgcmV0dXJuIGVuZ2luZS5tYXRjaGVzKHNlbGVjdG9yLCBbZWxlbWVudF0pLmxlbmd0aCA9PSAxOwogIH0KCiAgUHJvdG90eXBlLlNlbGVjdG9yLmVuZ2luZSA9IGVuZ2luZTsKICBQcm90b3R5cGUuU2VsZWN0b3Iuc2VsZWN0ID0gc2VsZWN0OwogIFByb3RvdHlwZS5TZWxlY3Rvci5tYXRjaCA9IG1hdGNoOwp9KShTaXp6bGUpOwoKd2luZG93LlNpenpsZSA9IFByb3RvdHlwZS5fb3JpZ2luYWxfcHJvcGVydHk7CmRlbGV0ZSBQcm90b3R5cGUuX29yaWdpbmFsX3Byb3BlcnR5OwoKdmFyIEZvcm0gPSB7CiAgcmVzZXQ6IGZ1bmN0aW9uKGZvcm0pIHsKICAgIGZvcm0gPSAkKGZvcm0pOwogICAgZm9ybS5yZXNldCgpOwogICAgcmV0dXJuIGZvcm07CiAgfSwKCiAgc2VyaWFsaXplRWxlbWVudHM6IGZ1bmN0aW9uKGVsZW1lbnRzLCBvcHRpb25zKSB7CiAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT0gJ29iamVjdCcpIG9wdGlvbnMgPSB7IGhhc2g6ICEhb3B0aW9ucyB9OwogICAgZWxzZSBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKG9wdGlvbnMuaGFzaCkpIG9wdGlvbnMuaGFzaCA9IHRydWU7CiAgICB2YXIga2V5LCB2YWx1ZSwgc3VibWl0dGVkID0gZmFsc2UsIHN1Ym1pdCA9IG9wdGlvbnMuc3VibWl0LCBhY2N1bXVsYXRvciwgaW5pdGlhbDsKCiAgICBpZiAob3B0aW9ucy5oYXNoKSB7CiAgICAgIGluaXRpYWwgPSB7fTsKICAgICAgYWNjdW11bGF0b3IgPSBmdW5jdGlvbihyZXN1bHQsIGtleSwgdmFsdWUpIHsKICAgICAgICBpZiAoa2V5IGluIHJlc3VsdCkgewogICAgICAgICAgaWYgKCFPYmplY3QuaXNBcnJheShyZXN1bHRba2V5XSkpIHJlc3VsdFtrZXldID0gW3Jlc3VsdFtrZXldXTsKICAgICAgICAgIHJlc3VsdFtrZXldLnB1c2godmFsdWUpOwogICAgICAgIH0gZWxzZSByZXN1bHRba2V5XSA9IHZhbHVlOwogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICBpbml0aWFsID0gJyc7CiAgICAgIGFjY3VtdWxhdG9yID0gZnVuY3Rpb24ocmVzdWx0LCBrZXksIHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHJlc3VsdCArIChyZXN1bHQgPyAnJicgOiAnJykgKyBlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZWxlbWVudHMuaW5qZWN0KGluaXRpYWwsIGZ1bmN0aW9uKHJlc3VsdCwgZWxlbWVudCkgewogICAgICBpZiAoIWVsZW1lbnQuZGlzYWJsZWQgJiYgZWxlbWVudC5uYW1lKSB7CiAgICAgICAga2V5ID0gZWxlbWVudC5uYW1lOyB2YWx1ZSA9ICQoZWxlbWVudCkuZ2V0VmFsdWUoKTsKICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiBlbGVtZW50LnR5cGUgIT0gJ2ZpbGUnICYmIChlbGVtZW50LnR5cGUgIT0gJ3N1Ym1pdCcgfHwgKCFzdWJtaXR0ZWQgJiYKICAgICAgICAgICAgc3VibWl0ICE9PSBmYWxzZSAmJiAoIXN1Ym1pdCB8fCBrZXkgPT0gc3VibWl0KSAmJiAoc3VibWl0dGVkID0gdHJ1ZSkpKSkgewogICAgICAgICAgcmVzdWx0ID0gYWNjdW11bGF0b3IocmVzdWx0LCBrZXksIHZhbHVlKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0pOwogIH0KfTsKCkZvcm0uTWV0aG9kcyA9IHsKICBzZXJpYWxpemU6IGZ1bmN0aW9uKGZvcm0sIG9wdGlvbnMpIHsKICAgIHJldHVybiBGb3JtLnNlcmlhbGl6ZUVsZW1lbnRzKEZvcm0uZ2V0RWxlbWVudHMoZm9ybSksIG9wdGlvbnMpOwogIH0sCgogIGdldEVsZW1lbnRzOiBmdW5jdGlvbihmb3JtKSB7CiAgICB2YXIgZWxlbWVudHMgPSAkKGZvcm0pLmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJyksCiAgICAgICAgZWxlbWVudCwKICAgICAgICBhcnIgPSBbIF0sCiAgICAgICAgc2VyaWFsaXplcnMgPSBGb3JtLkVsZW1lbnQuU2VyaWFsaXplcnM7CiAgICBmb3IgKHZhciBpID0gMDsgZWxlbWVudCA9IGVsZW1lbnRzW2ldOyBpKyspIHsKICAgICAgYXJyLnB1c2goZWxlbWVudCk7CiAgICB9CiAgICByZXR1cm4gYXJyLmluamVjdChbXSwgZnVuY3Rpb24oZWxlbWVudHMsIGNoaWxkKSB7CiAgICAgIGlmIChzZXJpYWxpemVyc1tjaGlsZC50YWdOYW1lLnRvTG93ZXJDYXNlKCldKQogICAgICAgIGVsZW1lbnRzLnB1c2goRWxlbWVudC5leHRlbmQoY2hpbGQpKTsKICAgICAgcmV0dXJuIGVsZW1lbnRzOwogICAgfSkKICB9LAoKICBnZXRJbnB1dHM6IGZ1bmN0aW9uKGZvcm0sIHR5cGVOYW1lLCBuYW1lKSB7CiAgICBmb3JtID0gJChmb3JtKTsKICAgIHZhciBpbnB1dHMgPSBmb3JtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpOwogICAgdmFyIHRleHRhcmVhcyA9IGZvcm0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RleHRhcmVhJyk7CiAgICAvLyBLSyBwYXRjaAogICAgdmFyIHNlbGVjdHMgPSBmb3JtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzZWxlY3QnKTsKCiAgICBpZiAoIXR5cGVOYW1lICYmICFuYW1lKSByZXR1cm4gJEEoaW5wdXRzKS5jb25jYXQoJEEodGV4dGFyZWFzKSkuY29uY2F0KCRBKHNlbGVjdHMpKS5tYXAoRWxlbWVudC5leHRlbmQpOwoKICAgIHZhciBtYXRjaGluZ0lucHV0cyA9IFtdOwogICAgdmFyIGYgPSBmdW5jdGlvbihpbnB1dHMpIHsKICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGlucHV0cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgIHZhciBpbnB1dCA9IGlucHV0c1tpXTsKICAgICAgICBpZiAoKHR5cGVOYW1lICYmIGlucHV0LnR5cGUgIT0gdHlwZU5hbWUpIHx8IChuYW1lICYmIGlucHV0Lm5hbWUgIT0gbmFtZSkpCiAgICAgICAgICBjb250aW51ZTsKICAgICAgICBtYXRjaGluZ0lucHV0cy5wdXNoKEVsZW1lbnQuZXh0ZW5kKGlucHV0KSk7CiAgICAgIH0KICAgIH07CiAgICBmKGlucHV0cyk7CiAgICBmKHRleHRhcmVhcyk7CiAgICBmKHNlbGVjdHMpOwoKICAgIHJldHVybiBtYXRjaGluZ0lucHV0czsKICB9LAoKICBkaXNhYmxlOiBmdW5jdGlvbihmb3JtKSB7CiAgICBmb3JtID0gJChmb3JtKTsKICAgIEZvcm0uZ2V0RWxlbWVudHMoZm9ybSkuaW52b2tlKCdkaXNhYmxlJyk7CiAgICByZXR1cm4gZm9ybTsKICB9LAoKICBlbmFibGU6IGZ1bmN0aW9uKGZvcm0pIHsKICAgIGZvcm0gPSAkKGZvcm0pOwogICAgRm9ybS5nZXRFbGVtZW50cyhmb3JtKS5pbnZva2UoJ2VuYWJsZScpOwogICAgcmV0dXJuIGZvcm07CiAgfSwKCiAgZmluZEZpcnN0RWxlbWVudDogZnVuY3Rpb24oZm9ybSkgewogICAgdmFyIGVsZW1lbnRzID0gJChmb3JtKS5nZXRFbGVtZW50cygpLmZpbmRBbGwoZnVuY3Rpb24oZWxlbWVudCkgewogICAgICByZXR1cm4gJ2hpZGRlbicgIT0gZWxlbWVudC50eXBlICYmICFlbGVtZW50LmRpc2FibGVkOwogICAgfSk7CiAgICB2YXIgZmlyc3RCeUluZGV4ID0gZWxlbWVudHMuZmluZEFsbChmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgIHJldHVybiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgndGFiSW5kZXgnKSAmJiBlbGVtZW50LnRhYkluZGV4ID49IDA7CiAgICB9KS5zb3J0QnkoZnVuY3Rpb24oZWxlbWVudCkgeyByZXR1cm4gZWxlbWVudC50YWJJbmRleCB9KS5maXJzdCgpOwoKICAgIHJldHVybiBmaXJzdEJ5SW5kZXggPyBmaXJzdEJ5SW5kZXggOiBlbGVtZW50cy5maW5kKGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgcmV0dXJuIC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhKSQvaS50ZXN0KGVsZW1lbnQudGFnTmFtZSk7CiAgICB9KTsKICB9LAoKICBmb2N1c0ZpcnN0RWxlbWVudDogZnVuY3Rpb24oZm9ybSkgewogICAgZm9ybSA9ICQoZm9ybSk7CiAgICB2YXIgZWxlbWVudCA9IGZvcm0uZmluZEZpcnN0RWxlbWVudCgpOwogICAgaWYgKGVsZW1lbnQpIGVsZW1lbnQuYWN0aXZhdGUoKTsKICAgIHJldHVybiBmb3JtOwogIH0sCgogIHJlcXVlc3Q6IGZ1bmN0aW9uKGZvcm0sIG9wdGlvbnMpIHsKICAgIGZvcm0gPSAkKGZvcm0pLCBvcHRpb25zID0gT2JqZWN0LmNsb25lKG9wdGlvbnMgfHwgeyB9KTsKCiAgICB2YXIgcGFyYW1zID0gb3B0aW9ucy5wYXJhbWV0ZXJzLCBhY3Rpb24gPSBmb3JtLnJlYWRBdHRyaWJ1dGUoJ2FjdGlvbicpIHx8ICcnOwogICAgaWYgKGFjdGlvbi5ibGFuaygpKSBhY3Rpb24gPSB3aW5kb3cubG9jYXRpb24uaHJlZjsKICAgIG9wdGlvbnMucGFyYW1ldGVycyA9IGZvcm0uc2VyaWFsaXplKHRydWUpOwoKICAgIGlmIChwYXJhbXMpIHsKICAgICAgaWYgKE9iamVjdC5pc1N0cmluZyhwYXJhbXMpKSBwYXJhbXMgPSBwYXJhbXMudG9RdWVyeVBhcmFtcygpOwogICAgICBPYmplY3QuZXh0ZW5kKG9wdGlvbnMucGFyYW1ldGVycywgcGFyYW1zKTsKICAgIH0KCiAgICBpZiAoZm9ybS5oYXNBdHRyaWJ1dGUoJ21ldGhvZCcpICYmICFvcHRpb25zLm1ldGhvZCkKICAgICAgb3B0aW9ucy5tZXRob2QgPSBmb3JtLm1ldGhvZDsKCiAgICByZXR1cm4gbmV3IEFqYXguUmVxdWVzdChhY3Rpb24sIG9wdGlvbnMpOwogIH0KfTsKCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKCkZvcm0uRWxlbWVudCA9IHsKICBmb2N1czogZnVuY3Rpb24oZWxlbWVudCkgewogICAgJChlbGVtZW50KS5mb2N1cygpOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgc2VsZWN0OiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAkKGVsZW1lbnQpLnNlbGVjdCgpOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfQp9OwoKRm9ybS5FbGVtZW50Lk1ldGhvZHMgPSB7CgogIHNlcmlhbGl6ZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBpZiAoIWVsZW1lbnQuZGlzYWJsZWQgJiYgZWxlbWVudC5uYW1lKSB7CiAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQuZ2V0VmFsdWUoKTsKICAgICAgaWYgKHZhbHVlICE9IHVuZGVmaW5lZCkgewogICAgICAgIHZhciBwYWlyID0geyB9OwogICAgICAgIHBhaXJbZWxlbWVudC5uYW1lXSA9IHZhbHVlOwogICAgICAgIHJldHVybiBPYmplY3QudG9RdWVyeVN0cmluZyhwYWlyKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuICcnOwogIH0sCgogIGdldFZhbHVlOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciBtZXRob2QgPSBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTsKICAgIHJldHVybiBGb3JtLkVsZW1lbnQuU2VyaWFsaXplcnNbbWV0aG9kXShlbGVtZW50KTsKICB9LAoKICBzZXRWYWx1ZTogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIG1ldGhvZCA9IGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgRm9ybS5FbGVtZW50LlNlcmlhbGl6ZXJzW21ldGhvZF0oZWxlbWVudCwgdmFsdWUpOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgY2xlYXI6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICQoZWxlbWVudCkudmFsdWUgPSAnJzsKICAgIHJldHVybiBlbGVtZW50OwogIH0sCgogIHByZXNlbnQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHJldHVybiAkKGVsZW1lbnQpLnZhbHVlICE9ICcnOwogIH0sCgogIGFjdGl2YXRlOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHRyeSB7CiAgICAgIGVsZW1lbnQuZm9jdXMoKTsKICAgICAgaWYgKGVsZW1lbnQuc2VsZWN0ICYmIChlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPSAnaW5wdXQnIHx8CiAgICAgICAgICAhKC9eKD86YnV0dG9ufHJlc2V0fHN1Ym1pdCkkL2kudGVzdChlbGVtZW50LnR5cGUpKSkpCiAgICAgICAgZWxlbWVudC5zZWxlY3QoKTsKICAgIH0gY2F0Y2ggKGUpIHsgfQogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgZGlzYWJsZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBlbGVtZW50LmRpc2FibGVkID0gdHJ1ZTsKICAgIHJldHVybiBlbGVtZW50OwogIH0sCgogIGVuYWJsZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBlbGVtZW50LmRpc2FibGVkID0gZmFsc2U7CiAgICByZXR1cm4gZWxlbWVudDsKICB9Cn07CgovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCnZhciBGaWVsZCA9IEZvcm0uRWxlbWVudDsKCnZhciAkRiA9IEZvcm0uRWxlbWVudC5NZXRob2RzLmdldFZhbHVlOwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgpGb3JtLkVsZW1lbnQuU2VyaWFsaXplcnMgPSAoZnVuY3Rpb24oKSB7CiAgZnVuY3Rpb24gaW5wdXQoZWxlbWVudCwgdmFsdWUpIHsKICAgIHN3aXRjaCAoZWxlbWVudC50eXBlLnRvTG93ZXJDYXNlKCkpIHsKICAgICAgY2FzZSAnY2hlY2tib3gnOgogICAgICBjYXNlICdyYWRpbyc6CiAgICAgICAgcmV0dXJuIGlucHV0U2VsZWN0b3IoZWxlbWVudCwgdmFsdWUpOwogICAgICBkZWZhdWx0OgogICAgICAgIHJldHVybiB2YWx1ZVNlbGVjdG9yKGVsZW1lbnQsIHZhbHVlKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGlucHV0U2VsZWN0b3IoZWxlbWVudCwgdmFsdWUpIHsKICAgIGlmIChPYmplY3QuaXNVbmRlZmluZWQodmFsdWUpKQogICAgICByZXR1cm4gZWxlbWVudC5jaGVja2VkID8gZWxlbWVudC52YWx1ZSA6IG51bGw7CiAgICBlbHNlIGVsZW1lbnQuY2hlY2tlZCA9ICEhdmFsdWU7CiAgfQoKICBmdW5jdGlvbiB2YWx1ZVNlbGVjdG9yKGVsZW1lbnQsIHZhbHVlKSB7CiAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKHZhbHVlKSkgcmV0dXJuIGVsZW1lbnQudmFsdWU7CiAgICBlbHNlIGVsZW1lbnQudmFsdWUgPSB2YWx1ZTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdChlbGVtZW50LCB2YWx1ZSkgewogICAgaWYgKE9iamVjdC5pc1VuZGVmaW5lZCh2YWx1ZSkpCiAgICAgIHJldHVybiAoZWxlbWVudC50eXBlID09PSAnc2VsZWN0LW9uZScgPyBzZWxlY3RPbmUgOiBzZWxlY3RNYW55KShlbGVtZW50KTsKCiAgICB2YXIgb3B0LCBjdXJyZW50VmFsdWUsIHNpbmdsZSA9ICFPYmplY3QuaXNBcnJheSh2YWx1ZSk7CiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZWxlbWVudC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICBvcHQgPSBlbGVtZW50Lm9wdGlvbnNbaV07CiAgICAgIGN1cnJlbnRWYWx1ZSA9IHRoaXMub3B0aW9uVmFsdWUob3B0KTsKICAgICAgaWYgKHNpbmdsZSkgewogICAgICAgIGlmIChjdXJyZW50VmFsdWUgPT0gdmFsdWUpIHsKICAgICAgICAgIG9wdC5zZWxlY3RlZCA9IHRydWU7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICAgIGVsc2Ugb3B0LnNlbGVjdGVkID0gdmFsdWUuaW5jbHVkZShjdXJyZW50VmFsdWUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gc2VsZWN0T25lKGVsZW1lbnQpIHsKICAgIHZhciBpbmRleCA9IGVsZW1lbnQuc2VsZWN0ZWRJbmRleDsKICAgIHJldHVybiBpbmRleCA+PSAwID8gb3B0aW9uVmFsdWUoZWxlbWVudC5vcHRpb25zW2luZGV4XSkgOiBudWxsOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0TWFueShlbGVtZW50KSB7CiAgICB2YXIgdmFsdWVzLCBsZW5ndGggPSBlbGVtZW50Lmxlbmd0aDsKICAgIGlmICghbGVuZ3RoKSByZXR1cm4gbnVsbDsKCiAgICBmb3IgKHZhciBpID0gMCwgdmFsdWVzID0gW107IGkgPCBsZW5ndGg7IGkrKykgewogICAgICB2YXIgb3B0ID0gZWxlbWVudC5vcHRpb25zW2ldOwogICAgICBpZiAob3B0LnNlbGVjdGVkKSB2YWx1ZXMucHVzaChvcHRpb25WYWx1ZShvcHQpKTsKICAgIH0KICAgIHJldHVybiB2YWx1ZXM7CiAgfQoKICBmdW5jdGlvbiBvcHRpb25WYWx1ZShvcHQpIHsKICAgIHJldHVybiBFbGVtZW50Lmhhc0F0dHJpYnV0ZShvcHQsICd2YWx1ZScpID8gb3B0LnZhbHVlIDogb3B0LnRleHQ7CiAgfQoKICByZXR1cm4gewogICAgaW5wdXQ6ICAgICAgICAgaW5wdXQsCiAgICBpbnB1dFNlbGVjdG9yOiBpbnB1dFNlbGVjdG9yLAogICAgdGV4dGFyZWE6ICAgICAgdmFsdWVTZWxlY3RvciwKICAgIHNlbGVjdDogICAgICAgIHNlbGVjdCwKICAgIHNlbGVjdE9uZTogICAgIHNlbGVjdE9uZSwKICAgIHNlbGVjdE1hbnk6ICAgIHNlbGVjdE1hbnksCiAgICBvcHRpb25WYWx1ZTogICBvcHRpb25WYWx1ZSwKICAgIGJ1dHRvbjogICAgICAgIHZhbHVlU2VsZWN0b3IKICB9Owp9KSgpOwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoKQWJzdHJhY3QuVGltZWRPYnNlcnZlciA9IENsYXNzLmNyZWF0ZShQZXJpb2RpY2FsRXhlY3V0ZXIsIHsKICBpbml0aWFsaXplOiBmdW5jdGlvbigkc3VwZXIsIGVsZW1lbnQsIGZyZXF1ZW5jeSwgY2FsbGJhY2spIHsKICAgICRzdXBlcihjYWxsYmFjaywgZnJlcXVlbmN5KTsKICAgIHRoaXMuZWxlbWVudCAgID0gJChlbGVtZW50KTsKICAgIHRoaXMubGFzdFZhbHVlID0gdGhpcy5nZXRWYWx1ZSgpOwogIH0sCgogIGV4ZWN1dGU6IGZ1bmN0aW9uKCkgewogICAgdmFyIHZhbHVlID0gdGhpcy5nZXRWYWx1ZSgpOwogICAgaWYgKE9iamVjdC5pc1N0cmluZyh0aGlzLmxhc3RWYWx1ZSkgJiYgT2JqZWN0LmlzU3RyaW5nKHZhbHVlKSA/CiAgICAgICAgdGhpcy5sYXN0VmFsdWUgIT0gdmFsdWUgOiBTdHJpbmcodGhpcy5sYXN0VmFsdWUpICE9IFN0cmluZyh2YWx1ZSkpIHsKICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLmVsZW1lbnQsIHZhbHVlKTsKICAgICAgdGhpcy5sYXN0VmFsdWUgPSB2YWx1ZTsKICAgIH0KICB9Cn0pOwoKRm9ybS5FbGVtZW50Lk9ic2VydmVyID0gQ2xhc3MuY3JlYXRlKEFic3RyYWN0LlRpbWVkT2JzZXJ2ZXIsIHsKICBnZXRWYWx1ZTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gRm9ybS5FbGVtZW50LmdldFZhbHVlKHRoaXMuZWxlbWVudCk7CiAgfQp9KTsKCkZvcm0uT2JzZXJ2ZXIgPSBDbGFzcy5jcmVhdGUoQWJzdHJhY3QuVGltZWRPYnNlcnZlciwgewogIGdldFZhbHVlOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiBGb3JtLnNlcmlhbGl6ZSh0aGlzLmVsZW1lbnQpOwogIH0KfSk7CgovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCkFic3RyYWN0LkV2ZW50T2JzZXJ2ZXIgPSBDbGFzcy5jcmVhdGUoewogIGluaXRpYWxpemU6IGZ1bmN0aW9uKGVsZW1lbnQsIGNhbGxiYWNrKSB7CiAgICB0aGlzLmVsZW1lbnQgID0gJChlbGVtZW50KTsKICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjazsKCiAgICB0aGlzLmxhc3RWYWx1ZSA9IHRoaXMuZ2V0VmFsdWUoKTsKICAgIGlmICh0aGlzLmVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09ICdmb3JtJykKICAgICAgdGhpcy5yZWdpc3RlckZvcm1DYWxsYmFja3MoKTsKICAgIGVsc2UKICAgICAgdGhpcy5yZWdpc3RlckNhbGxiYWNrKHRoaXMuZWxlbWVudCk7CiAgfSwKCiAgb25FbGVtZW50RXZlbnQ6IGZ1bmN0aW9uKCkgewogICAgdmFyIHZhbHVlID0gdGhpcy5nZXRWYWx1ZSgpOwogICAgaWYgKHRoaXMubGFzdFZhbHVlICE9IHZhbHVlKSB7CiAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5lbGVtZW50LCB2YWx1ZSk7CiAgICAgIHRoaXMubGFzdFZhbHVlID0gdmFsdWU7CiAgICB9CiAgfSwKCiAgcmVnaXN0ZXJGb3JtQ2FsbGJhY2tzOiBmdW5jdGlvbigpIHsKICAgIEZvcm0uZ2V0RWxlbWVudHModGhpcy5lbGVtZW50KS5lYWNoKHRoaXMucmVnaXN0ZXJDYWxsYmFjaywgdGhpcyk7CiAgfSwKCiAgcmVnaXN0ZXJDYWxsYmFjazogZnVuY3Rpb24oZWxlbWVudCkgewogICAgaWYgKGVsZW1lbnQudHlwZSkgewogICAgICBzd2l0Y2ggKGVsZW1lbnQudHlwZS50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgY2FzZSAnY2hlY2tib3gnOgogICAgICAgIGNhc2UgJ3JhZGlvJzoKICAgICAgICAgIEV2ZW50Lm9ic2VydmUoZWxlbWVudCwgJ2NsaWNrJywgdGhpcy5vbkVsZW1lbnRFdmVudC5iaW5kKHRoaXMpKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBFdmVudC5vYnNlcnZlKGVsZW1lbnQsICdjaGFuZ2UnLCB0aGlzLm9uRWxlbWVudEV2ZW50LmJpbmQodGhpcykpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICB9Cn0pOwoKRm9ybS5FbGVtZW50LkV2ZW50T2JzZXJ2ZXIgPSBDbGFzcy5jcmVhdGUoQWJzdHJhY3QuRXZlbnRPYnNlcnZlciwgewogIGdldFZhbHVlOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiBGb3JtLkVsZW1lbnQuZ2V0VmFsdWUodGhpcy5lbGVtZW50KTsKICB9Cn0pOwoKRm9ybS5FdmVudE9ic2VydmVyID0gQ2xhc3MuY3JlYXRlKEFic3RyYWN0LkV2ZW50T2JzZXJ2ZXIsIHsKICBnZXRWYWx1ZTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gRm9ybS5zZXJpYWxpemUodGhpcy5lbGVtZW50KTsKICB9Cn0pOwooZnVuY3Rpb24oKSB7CgogIHZhciBFdmVudCA9IHsKICAgIEtFWV9CQUNLU1BBQ0U6IDgsCiAgICBLRVlfVEFCOiAgICAgICA5LAogICAgS0VZX1JFVFVSTjogICAxMywKICAgIEtFWV9FU0M6ICAgICAgMjcsCiAgICBLRVlfTEVGVDogICAgIDM3LAogICAgS0VZX1VQOiAgICAgICAzOCwKICAgIEtFWV9SSUdIVDogICAgMzksCiAgICBLRVlfRE9XTjogICAgIDQwLAogICAgS0VZX0RFTEVURTogICA0NiwKICAgIEtFWV9IT01FOiAgICAgMzYsCiAgICBLRVlfRU5EOiAgICAgIDM1LAogICAgS0VZX1BBR0VVUDogICAzMywKICAgIEtFWV9QQUdFRE9XTjogMzQsCiAgICBLRVlfSU5TRVJUOiAgIDQ1LAoKICAgIGNhY2hlOiB7fQogIH07CgogIHZhciBkb2NFbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKICB2YXIgTU9VU0VFTlRFUl9NT1VTRUxFQVZFX0VWRU5UU19TVVBQT1JURUQgPSAnb25tb3VzZWVudGVyJyBpbiBkb2NFbAogICAgJiYgJ29ubW91c2VsZWF2ZScgaW4gZG9jRWw7CgoKCiAgdmFyIGlzSUVMZWdhY3lFdmVudCA9IGZ1bmN0aW9uKGV2ZW50KSB7IHJldHVybiBmYWxzZTsgfTsKCiAgaWYgKHdpbmRvdy5hdHRhY2hFdmVudCkgewogICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgIGlzSUVMZWdhY3lFdmVudCA9IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgcmV0dXJuICEoZXZlbnQgaW5zdGFuY2VvZiB3aW5kb3cuRXZlbnQpOwogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgaXNJRUxlZ2FjeUV2ZW50ID0gZnVuY3Rpb24oZXZlbnQpIHsgcmV0dXJuIHRydWU7IH07CiAgICB9CiAgfQoKICB2YXIgX2lzQnV0dG9uOwoKICBmdW5jdGlvbiBfaXNCdXR0b25Gb3JET01FdmVudHMoZXZlbnQsIGNvZGUpIHsKICAgIHJldHVybiBldmVudC53aGljaCA/IChldmVudC53aGljaCA9PT0gY29kZSArIDEpIDogKGV2ZW50LmJ1dHRvbiA9PT0gY29kZSk7CiAgfQoKICB2YXIgbGVnYWN5QnV0dG9uTWFwID0geyAwOiAxLCAxOiA0LCAyOiAyIH07CiAgZnVuY3Rpb24gX2lzQnV0dG9uRm9yTGVnYWN5RXZlbnRzKGV2ZW50LCBjb2RlKSB7CiAgICByZXR1cm4gZXZlbnQuYnV0dG9uID09PSBsZWdhY3lCdXR0b25NYXBbY29kZV07CiAgfQoKICBmdW5jdGlvbiBfaXNCdXR0b25Gb3JXZWJLaXQoZXZlbnQsIGNvZGUpIHsKICAgIHN3aXRjaCAoY29kZSkgewogICAgICBjYXNlIDA6IHJldHVybiBldmVudC53aGljaCA9PSAxICYmICFldmVudC5tZXRhS2V5OwogICAgICBjYXNlIDE6IHJldHVybiBldmVudC53aGljaCA9PSAyIHx8IChldmVudC53aGljaCA9PSAxICYmIGV2ZW50Lm1ldGFLZXkpOwogICAgICBjYXNlIDI6IHJldHVybiBldmVudC53aGljaCA9PSAzOwogICAgICBkZWZhdWx0OiByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQoKICBpZiAod2luZG93LmF0dGFjaEV2ZW50KSB7CiAgICBpZiAoIXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgIF9pc0J1dHRvbiA9IF9pc0J1dHRvbkZvckxlZ2FjeUV2ZW50czsKICAgIH0gZWxzZSB7CiAgICAgIF9pc0J1dHRvbiA9IGZ1bmN0aW9uKGV2ZW50LCBjb2RlKSB7CiAgICAgICAgcmV0dXJuIGlzSUVMZWdhY3lFdmVudChldmVudCkgPyBfaXNCdXR0b25Gb3JMZWdhY3lFdmVudHMoZXZlbnQsIGNvZGUpIDoKICAgICAgICAgX2lzQnV0dG9uRm9yRE9NRXZlbnRzKGV2ZW50LCBjb2RlKTsKICAgICAgfQogICAgfQogIH0gZWxzZSBpZiAoUHJvdG90eXBlLkJyb3dzZXIuV2ViS2l0KSB7CiAgICBfaXNCdXR0b24gPSBfaXNCdXR0b25Gb3JXZWJLaXQ7CiAgfSBlbHNlIHsKICAgIF9pc0J1dHRvbiA9IF9pc0J1dHRvbkZvckRPTUV2ZW50czsKICB9CgogIGZ1bmN0aW9uIGlzTGVmdENsaWNrKGV2ZW50KSAgIHsgcmV0dXJuIF9pc0J1dHRvbihldmVudCwgMCkgfQoKICBmdW5jdGlvbiBpc01pZGRsZUNsaWNrKGV2ZW50KSB7IHJldHVybiBfaXNCdXR0b24oZXZlbnQsIDEpIH0KCiAgZnVuY3Rpb24gaXNSaWdodENsaWNrKGV2ZW50KSAgeyByZXR1cm4gX2lzQnV0dG9uKGV2ZW50LCAyKSB9CgogIGZ1bmN0aW9uIGVsZW1lbnQoZXZlbnQpIHsKICAgIGV2ZW50ID0gRXZlbnQuZXh0ZW5kKGV2ZW50KTsKCiAgICB2YXIgbm9kZSA9IGV2ZW50LnRhcmdldCwgdHlwZSA9IGV2ZW50LnR5cGUsCiAgICAgY3VycmVudFRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7CgogICAgaWYgKGN1cnJlbnRUYXJnZXQgJiYgY3VycmVudFRhcmdldC50YWdOYW1lKSB7CiAgICAgIGlmICh0eXBlID09PSAnbG9hZCcgfHwgdHlwZSA9PT0gJ2Vycm9yJyB8fAogICAgICAgICh0eXBlID09PSAnY2xpY2snICYmIGN1cnJlbnRUYXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW5wdXQnCiAgICAgICAgICAmJiBjdXJyZW50VGFyZ2V0LnR5cGUgPT09ICdyYWRpbycpKQogICAgICAgICAgICBub2RlID0gY3VycmVudFRhcmdldDsKICAgIH0KCiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSBOb2RlLlRFWFRfTk9ERSkKICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTsKCiAgICByZXR1cm4gRWxlbWVudC5leHRlbmQobm9kZSk7CiAgfQoKICBmdW5jdGlvbiBmaW5kRWxlbWVudChldmVudCwgZXhwcmVzc2lvbikgewogICAgdmFyIGVsZW1lbnQgPSBFdmVudC5lbGVtZW50KGV2ZW50KTsKCiAgICBpZiAoIWV4cHJlc3Npb24pIHJldHVybiBlbGVtZW50OwogICAgd2hpbGUgKGVsZW1lbnQpIHsKICAgICAgaWYgKE9iamVjdC5pc0VsZW1lbnQoZWxlbWVudCkgJiYgUHJvdG90eXBlLlNlbGVjdG9yLm1hdGNoKGVsZW1lbnQsIGV4cHJlc3Npb24pKSB7CiAgICAgICAgcmV0dXJuIEVsZW1lbnQuZXh0ZW5kKGVsZW1lbnQpOwogICAgICB9CiAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBwb2ludGVyKGV2ZW50KSB7CiAgICByZXR1cm4geyB4OiBwb2ludGVyWChldmVudCksIHk6IHBvaW50ZXJZKGV2ZW50KSB9OwogIH0KCiAgZnVuY3Rpb24gcG9pbnRlclgoZXZlbnQpIHsKICAgIHZhciBkb2NFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LAogICAgIGJvZHkgPSBkb2N1bWVudC5ib2R5IHx8IHsgc2Nyb2xsTGVmdDogMCB9OwoKICAgIHJldHVybiBldmVudC5wYWdlWCB8fCAoZXZlbnQuY2xpZW50WCArCiAgICAgIChkb2NFbGVtZW50LnNjcm9sbExlZnQgfHwgYm9keS5zY3JvbGxMZWZ0KSAtCiAgICAgIChkb2NFbGVtZW50LmNsaWVudExlZnQgfHwgMCkpOwogIH0KCiAgZnVuY3Rpb24gcG9pbnRlclkoZXZlbnQpIHsKICAgIHZhciBkb2NFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LAogICAgIGJvZHkgPSBkb2N1bWVudC5ib2R5IHx8IHsgc2Nyb2xsVG9wOiAwIH07CgogICAgcmV0dXJuICBldmVudC5wYWdlWSB8fCAoZXZlbnQuY2xpZW50WSArCiAgICAgICAoZG9jRWxlbWVudC5zY3JvbGxUb3AgfHwgYm9keS5zY3JvbGxUb3ApIC0KICAgICAgIChkb2NFbGVtZW50LmNsaWVudFRvcCB8fCAwKSk7CiAgfQoKCiAgZnVuY3Rpb24gc3RvcChldmVudCkgewogICAgRXZlbnQuZXh0ZW5kKGV2ZW50KTsKICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKCiAgICBldmVudC5zdG9wcGVkID0gdHJ1ZTsKICB9CgoKICBFdmVudC5NZXRob2RzID0gewogICAgaXNMZWZ0Q2xpY2s6ICAgaXNMZWZ0Q2xpY2ssCiAgICBpc01pZGRsZUNsaWNrOiBpc01pZGRsZUNsaWNrLAogICAgaXNSaWdodENsaWNrOiAgaXNSaWdodENsaWNrLAoKICAgIGVsZW1lbnQ6ICAgICBlbGVtZW50LAogICAgZmluZEVsZW1lbnQ6IGZpbmRFbGVtZW50LAoKICAgIHBvaW50ZXI6ICBwb2ludGVyLAogICAgcG9pbnRlclg6IHBvaW50ZXJYLAogICAgcG9pbnRlclk6IHBvaW50ZXJZLAoKICAgIHN0b3A6IHN0b3AKICB9OwoKICB2YXIgbWV0aG9kcyA9IE9iamVjdC5rZXlzKEV2ZW50Lk1ldGhvZHMpLmluamVjdCh7IH0sIGZ1bmN0aW9uKG0sIG5hbWUpIHsKICAgIG1bbmFtZV0gPSBFdmVudC5NZXRob2RzW25hbWVdLm1ldGhvZGl6ZSgpOwogICAgcmV0dXJuIG07CiAgfSk7CgogIGlmICh3aW5kb3cuYXR0YWNoRXZlbnQpIHsKICAgIGZ1bmN0aW9uIF9yZWxhdGVkVGFyZ2V0KGV2ZW50KSB7CiAgICAgIHZhciBlbGVtZW50OwogICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHsKICAgICAgICBjYXNlICdtb3VzZW92ZXInOgogICAgICAgIGNhc2UgJ21vdXNlZW50ZXInOgogICAgICAgICAgZWxlbWVudCA9IGV2ZW50LmZyb21FbGVtZW50OwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnbW91c2VvdXQnOgogICAgICAgIGNhc2UgJ21vdXNlbGVhdmUnOgogICAgICAgICAgZWxlbWVudCA9IGV2ZW50LnRvRWxlbWVudDsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICByZXR1cm4gRWxlbWVudC5leHRlbmQoZWxlbWVudCk7CiAgICB9CgogICAgdmFyIGFkZGl0aW9uYWxNZXRob2RzID0gewogICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkgeyB0aGlzLmNhbmNlbEJ1YmJsZSA9IHRydWUgfSwKICAgICAgcHJldmVudERlZmF1bHQ6ICBmdW5jdGlvbigpIHsgdGhpcy5yZXR1cm5WYWx1ZSA9IGZhbHNlIH0sCiAgICAgIGluc3BlY3Q6IGZ1bmN0aW9uKCkgeyByZXR1cm4gJ1tvYmplY3QgRXZlbnRdJyB9CiAgICB9OwoKICAgIEV2ZW50LmV4dGVuZCA9IGZ1bmN0aW9uKGV2ZW50LCBlbGVtZW50KSB7CiAgICAgIGlmICghZXZlbnQpIHJldHVybiBmYWxzZTsKCiAgICAgIGlmICghaXNJRUxlZ2FjeUV2ZW50KGV2ZW50KSkgcmV0dXJuIGV2ZW50OwoKICAgICAgaWYgKGV2ZW50Ll9leHRlbmRlZEJ5UHJvdG90eXBlKSByZXR1cm4gZXZlbnQ7CiAgICAgIGV2ZW50Ll9leHRlbmRlZEJ5UHJvdG90eXBlID0gUHJvdG90eXBlLmVtcHR5RnVuY3Rpb247CgogICAgICB2YXIgcG9pbnRlciA9IEV2ZW50LnBvaW50ZXIoZXZlbnQpOwoKICAgICAgT2JqZWN0LmV4dGVuZChldmVudCwgewogICAgICAgIHRhcmdldDogZXZlbnQuc3JjRWxlbWVudCB8fCBlbGVtZW50LAogICAgICAgIHJlbGF0ZWRUYXJnZXQ6IF9yZWxhdGVkVGFyZ2V0KGV2ZW50KSwKICAgICAgICBwYWdlWDogIHBvaW50ZXIueCwKICAgICAgICBwYWdlWTogIHBvaW50ZXIueQogICAgICB9KTsKCiAgICAgIE9iamVjdC5leHRlbmQoZXZlbnQsIG1ldGhvZHMpOwogICAgICBPYmplY3QuZXh0ZW5kKGV2ZW50LCBhZGRpdGlvbmFsTWV0aG9kcyk7CgogICAgICByZXR1cm4gZXZlbnQ7CiAgICB9OwogIH0gZWxzZSB7CiAgICBFdmVudC5leHRlbmQgPSBQcm90b3R5cGUuSzsKICB9CgogIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikgewogICAgRXZlbnQucHJvdG90eXBlID0gd2luZG93LkV2ZW50LnByb3RvdHlwZSB8fCBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpLl9fcHJvdG9fXzsKICAgIE9iamVjdC5leHRlbmQoRXZlbnQucHJvdG90eXBlLCBtZXRob2RzKTsKICB9CgogIGZ1bmN0aW9uIF9jcmVhdGVSZXNwb25kZXIoZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyKSB7CiAgICB2YXIgcmVnaXN0cnkgPSBFbGVtZW50LnJldHJpZXZlKGVsZW1lbnQsICdwcm90b3R5cGVfZXZlbnRfcmVnaXN0cnknKTsKCiAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKHJlZ2lzdHJ5KSkgewogICAgICBDQUNIRS5wdXNoKGVsZW1lbnQpOwogICAgICByZWdpc3RyeSA9IEVsZW1lbnQucmV0cmlldmUoZWxlbWVudCwgJ3Byb3RvdHlwZV9ldmVudF9yZWdpc3RyeScsICRIKCkpOwogICAgfQoKICAgIHZhciByZXNwb25kZXJzRm9yRXZlbnQgPSByZWdpc3RyeS5nZXQoZXZlbnROYW1lKTsKICAgIGlmIChPYmplY3QuaXNVbmRlZmluZWQocmVzcG9uZGVyc0ZvckV2ZW50KSkgewogICAgICByZXNwb25kZXJzRm9yRXZlbnQgPSBbXTsKICAgICAgcmVnaXN0cnkuc2V0KGV2ZW50TmFtZSwgcmVzcG9uZGVyc0ZvckV2ZW50KTsKICAgIH0KCiAgICBpZiAocmVzcG9uZGVyc0ZvckV2ZW50LnBsdWNrKCdoYW5kbGVyJykuaW5jbHVkZShoYW5kbGVyKSkgcmV0dXJuIGZhbHNlOwoKICAgIHZhciByZXNwb25kZXI7CiAgICBpZiAoZXZlbnROYW1lLmluY2x1ZGUoIjoiKSkgewogICAgICByZXNwb25kZXIgPSBmdW5jdGlvbihldmVudCkgewogICAgICAgIGlmIChPYmplY3QuaXNVbmRlZmluZWQoZXZlbnQuZXZlbnROYW1lKSkKICAgICAgICAgIHJldHVybiBmYWxzZTsKCiAgICAgICAgaWYgKGV2ZW50LmV2ZW50TmFtZSAhPT0gZXZlbnROYW1lKQogICAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgICAgICBFdmVudC5leHRlbmQoZXZlbnQsIGVsZW1lbnQpOwogICAgICAgIGhhbmRsZXIuY2FsbChlbGVtZW50LCBldmVudCk7CiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICBpZiAoIU1PVVNFRU5URVJfTU9VU0VMRUFWRV9FVkVOVFNfU1VQUE9SVEVEICYmCiAgICAgICAoZXZlbnROYW1lID09PSAibW91c2VlbnRlciIgfHwgZXZlbnROYW1lID09PSAibW91c2VsZWF2ZSIpKSB7CiAgICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gIm1vdXNlZW50ZXIiIHx8IGV2ZW50TmFtZSA9PT0gIm1vdXNlbGVhdmUiKSB7CiAgICAgICAgICByZXNwb25kZXIgPSBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICBFdmVudC5leHRlbmQoZXZlbnQsIGVsZW1lbnQpOwoKICAgICAgICAgICAgdmFyIHBhcmVudCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7CiAgICAgICAgICAgIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50ICE9PSBlbGVtZW50KSB7CiAgICAgICAgICAgICAgdHJ5IHsgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7IH0KICAgICAgICAgICAgICBjYXRjaChlKSB7IHBhcmVudCA9IGVsZW1lbnQ7IH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHBhcmVudCA9PT0gZWxlbWVudCkgcmV0dXJuOwoKICAgICAgICAgICAgaGFuZGxlci5jYWxsKGVsZW1lbnQsIGV2ZW50KTsKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJlc3BvbmRlciA9IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICBFdmVudC5leHRlbmQoZXZlbnQsIGVsZW1lbnQpOwogICAgICAgICAgaGFuZGxlci5jYWxsKGVsZW1lbnQsIGV2ZW50KTsKICAgICAgICB9OwogICAgICB9CiAgICB9CgogICAgcmVzcG9uZGVyLmhhbmRsZXIgPSBoYW5kbGVyOwogICAgcmVzcG9uZGVyc0ZvckV2ZW50LnB1c2gocmVzcG9uZGVyKTsKICAgIHJldHVybiByZXNwb25kZXI7CiAgfQoKICBmdW5jdGlvbiBfZGVzdHJveUNhY2hlKCkgewogICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IENBQ0hFLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIEV2ZW50LnN0b3BPYnNlcnZpbmcoQ0FDSEVbaV0pOwogICAgICBDQUNIRVtpXSA9IG51bGw7CiAgICB9CiAgfQoKICB2YXIgQ0FDSEUgPSBbXTsKCiAgaWYgKFByb3RvdHlwZS5Ccm93c2VyLklFKQogICAgd2luZG93LmF0dGFjaEV2ZW50KCdvbnVubG9hZCcsIF9kZXN0cm95Q2FjaGUpOwoKICBpZiAoUHJvdG90eXBlLkJyb3dzZXIuV2ViS2l0KQogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VubG9hZCcsIFByb3RvdHlwZS5lbXB0eUZ1bmN0aW9uLCBmYWxzZSk7CgoKICB2YXIgX2dldERPTUV2ZW50TmFtZSA9IFByb3RvdHlwZS5LLAogICAgICB0cmFuc2xhdGlvbnMgPSB7IG1vdXNlZW50ZXI6ICJtb3VzZW92ZXIiLCBtb3VzZWxlYXZlOiAibW91c2VvdXQiIH07CgogIGlmICghTU9VU0VFTlRFUl9NT1VTRUxFQVZFX0VWRU5UU19TVVBQT1JURUQpIHsKICAgIF9nZXRET01FdmVudE5hbWUgPSBmdW5jdGlvbihldmVudE5hbWUpIHsKICAgICAgcmV0dXJuICh0cmFuc2xhdGlvbnNbZXZlbnROYW1lXSB8fCBldmVudE5hbWUpOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIG9ic2VydmUoZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKCiAgICB2YXIgcmVzcG9uZGVyID0gX2NyZWF0ZVJlc3BvbmRlcihlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIpOwoKICAgIGlmICghcmVzcG9uZGVyKSByZXR1cm4gZWxlbWVudDsKCiAgICBpZiAoZXZlbnROYW1lLmluY2x1ZGUoJzonKSkgewogICAgICBpZiAoZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKQogICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiZGF0YWF2YWlsYWJsZSIsIHJlc3BvbmRlciwgZmFsc2UpOwogICAgICBlbHNlIHsKICAgICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCJvbmRhdGFhdmFpbGFibGUiLCByZXNwb25kZXIpOwogICAgICAgIGVsZW1lbnQuYXR0YWNoRXZlbnQoIm9ubG9zZWNhcHR1cmUiLCByZXNwb25kZXIpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB2YXIgYWN0dWFsRXZlbnROYW1lID0gX2dldERPTUV2ZW50TmFtZShldmVudE5hbWUpOwoKICAgICAgaWYgKGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikKICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoYWN0dWFsRXZlbnROYW1lLCByZXNwb25kZXIsIGZhbHNlKTsKICAgICAgZWxzZQogICAgICAgIGVsZW1lbnQuYXR0YWNoRXZlbnQoIm9uIiArIGFjdHVhbEV2ZW50TmFtZSwgcmVzcG9uZGVyKTsKICAgIH0KCiAgICByZXR1cm4gZWxlbWVudDsKICB9CgogIGZ1bmN0aW9uIHN0b3BPYnNlcnZpbmcoZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKCiAgICB2YXIgcmVnaXN0cnkgPSBFbGVtZW50LnJldHJpZXZlKGVsZW1lbnQsICdwcm90b3R5cGVfZXZlbnRfcmVnaXN0cnknKTsKICAgIGlmICghcmVnaXN0cnkpIHJldHVybiBlbGVtZW50OwoKICAgIGlmICghZXZlbnROYW1lKSB7CiAgICAgIHJlZ2lzdHJ5LmVhY2goIGZ1bmN0aW9uKHBhaXIpIHsKICAgICAgICB2YXIgZXZlbnROYW1lID0gcGFpci5rZXk7CiAgICAgICAgc3RvcE9ic2VydmluZyhlbGVtZW50LCBldmVudE5hbWUpOwogICAgICB9KTsKICAgICAgcmV0dXJuIGVsZW1lbnQ7CiAgICB9CgogICAgdmFyIHJlc3BvbmRlcnMgPSByZWdpc3RyeS5nZXQoZXZlbnROYW1lKTsKICAgIGlmICghcmVzcG9uZGVycykgcmV0dXJuIGVsZW1lbnQ7CgogICAgaWYgKCFoYW5kbGVyKSB7CiAgICAgIHJlc3BvbmRlcnMuZWFjaChmdW5jdGlvbihyKSB7CiAgICAgICAgc3RvcE9ic2VydmluZyhlbGVtZW50LCBldmVudE5hbWUsIHIuaGFuZGxlcik7CiAgICAgIH0pOwogICAgICByZXR1cm4gZWxlbWVudDsKICAgIH0KCiAgICB2YXIgaSA9IHJlc3BvbmRlcnMubGVuZ3RoLCByZXNwb25kZXI7CiAgICB3aGlsZSAoaS0tKSB7CiAgICAgIGlmIChyZXNwb25kZXJzW2ldLmhhbmRsZXIgPT09IGhhbmRsZXIpIHsKICAgICAgICByZXNwb25kZXIgPSByZXNwb25kZXJzW2ldOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICBpZiAoIXJlc3BvbmRlcikgcmV0dXJuIGVsZW1lbnQ7CgogICAgaWYgKGV2ZW50TmFtZS5pbmNsdWRlKCc6JykpIHsKICAgICAgaWYgKGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcikKICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImRhdGFhdmFpbGFibGUiLCByZXNwb25kZXIsIGZhbHNlKTsKICAgICAgZWxzZSB7CiAgICAgICAgZWxlbWVudC5kZXRhY2hFdmVudCgib25kYXRhYXZhaWxhYmxlIiwgcmVzcG9uZGVyKTsKICAgICAgICBlbGVtZW50LmRldGFjaEV2ZW50KCJvbmxvc2VjYXB0dXJlIiwgcmVzcG9uZGVyKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdmFyIGFjdHVhbEV2ZW50TmFtZSA9IF9nZXRET01FdmVudE5hbWUoZXZlbnROYW1lKTsKICAgICAgaWYgKGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcikKICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoYWN0dWFsRXZlbnROYW1lLCByZXNwb25kZXIsIGZhbHNlKTsKICAgICAgZWxzZQogICAgICAgIGVsZW1lbnQuZGV0YWNoRXZlbnQoJ29uJyArIGFjdHVhbEV2ZW50TmFtZSwgcmVzcG9uZGVyKTsKICAgIH0KCiAgICByZWdpc3RyeS5zZXQoZXZlbnROYW1lLCByZXNwb25kZXJzLndpdGhvdXQocmVzcG9uZGVyKSk7CgogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfQoKICBmdW5jdGlvbiBmaXJlKGVsZW1lbnQsIGV2ZW50TmFtZSwgbWVtbywgYnViYmxlKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKCiAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKGJ1YmJsZSkpCiAgICAgIGJ1YmJsZSA9IHRydWU7CgogICAgaWYgKGVsZW1lbnQgPT0gZG9jdW1lbnQgJiYgZG9jdW1lbnQuY3JlYXRlRXZlbnQgJiYgIWVsZW1lbnQuZGlzcGF0Y2hFdmVudCkKICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKCiAgICB2YXIgZXZlbnQ7CiAgICBpZiAoZG9jdW1lbnQuY3JlYXRlRXZlbnQpIHsKICAgICAgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpOwogICAgICBldmVudC5pbml0RXZlbnQoJ2RhdGFhdmFpbGFibGUnLCBidWJibGUsIHRydWUpOwogICAgfSBlbHNlIHsKICAgICAgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpOwogICAgICBldmVudC5ldmVudFR5cGUgPSBidWJibGUgPyAnb25kYXRhYXZhaWxhYmxlJyA6ICdvbmxvc2VjYXB0dXJlJzsKICAgIH0KCiAgICBldmVudC5ldmVudE5hbWUgPSBldmVudE5hbWU7CiAgICBldmVudC5tZW1vID0gbWVtbyB8fCB7IH07CgogICAgaWYgKGRvY3VtZW50LmNyZWF0ZUV2ZW50KQogICAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpOwogICAgZWxzZQogICAgICBlbGVtZW50LmZpcmVFdmVudChldmVudC5ldmVudFR5cGUsIGV2ZW50KTsKCiAgICByZXR1cm4gRXZlbnQuZXh0ZW5kKGV2ZW50KTsKICB9CgogIEV2ZW50LkhhbmRsZXIgPSBDbGFzcy5jcmVhdGUoewogICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWxlbWVudCwgZXZlbnROYW1lLCBzZWxlY3RvciwgY2FsbGJhY2spIHsKICAgICAgdGhpcy5lbGVtZW50ICAgPSAkKGVsZW1lbnQpOwogICAgICB0aGlzLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTsKICAgICAgdGhpcy5zZWxlY3RvciAgPSBzZWxlY3RvcjsKICAgICAgdGhpcy5jYWxsYmFjayAgPSBjYWxsYmFjazsKICAgICAgdGhpcy5oYW5kbGVyICAgPSB0aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyk7CiAgICB9LAoKICAgIHN0YXJ0OiBmdW5jdGlvbigpIHsKICAgICAgRXZlbnQub2JzZXJ2ZSh0aGlzLmVsZW1lbnQsIHRoaXMuZXZlbnROYW1lLCB0aGlzLmhhbmRsZXIpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0sCgogICAgc3RvcDogZnVuY3Rpb24oKSB7CiAgICAgIEV2ZW50LnN0b3BPYnNlcnZpbmcodGhpcy5lbGVtZW50LCB0aGlzLmV2ZW50TmFtZSwgdGhpcy5oYW5kbGVyKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAoKICAgIGhhbmRsZUV2ZW50OiBmdW5jdGlvbihldmVudCkgewogICAgICB2YXIgZWxlbWVudCA9IEV2ZW50LmZpbmRFbGVtZW50KGV2ZW50LCB0aGlzLnNlbGVjdG9yKTsKICAgICAgaWYgKGVsZW1lbnQpIHRoaXMuY2FsbGJhY2suY2FsbCh0aGlzLmVsZW1lbnQsIGV2ZW50LCBlbGVtZW50KTsKICAgIH0KICB9KTsKCiAgZnVuY3Rpb24gb24oZWxlbWVudCwgZXZlbnROYW1lLCBzZWxlY3RvciwgY2FsbGJhY2spIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKE9iamVjdC5pc0Z1bmN0aW9uKHNlbGVjdG9yKSAmJiBPYmplY3QuaXNVbmRlZmluZWQoY2FsbGJhY2spKSB7CiAgICAgIGNhbGxiYWNrID0gc2VsZWN0b3IsIHNlbGVjdG9yID0gbnVsbDsKICAgIH0KCiAgICByZXR1cm4gbmV3IEV2ZW50LkhhbmRsZXIoZWxlbWVudCwgZXZlbnROYW1lLCBzZWxlY3RvciwgY2FsbGJhY2spLnN0YXJ0KCk7CiAgfQoKICBPYmplY3QuZXh0ZW5kKEV2ZW50LCBFdmVudC5NZXRob2RzKTsKCiAgT2JqZWN0LmV4dGVuZChFdmVudCwgewogICAgZmlyZTogICAgICAgICAgZmlyZSwKICAgIG9ic2VydmU6ICAgICAgIG9ic2VydmUsCiAgICBzdG9wT2JzZXJ2aW5nOiBzdG9wT2JzZXJ2aW5nLAogICAgb246ICAgICAgICAgICAgb24KICB9KTsKCiAgRWxlbWVudC5hZGRNZXRob2RzKHsKICAgIGZpcmU6ICAgICAgICAgIGZpcmUsCgogICAgb2JzZXJ2ZTogICAgICAgb2JzZXJ2ZSwKCiAgICBzdG9wT2JzZXJ2aW5nOiBzdG9wT2JzZXJ2aW5nLAoKICAgIG9uOiAgICAgICAgICAgIG9uCiAgfSk7CgogIE9iamVjdC5leHRlbmQoZG9jdW1lbnQsIHsKICAgIGZpcmU6ICAgICAgICAgIGZpcmUubWV0aG9kaXplKCksCgogICAgb2JzZXJ2ZTogICAgICAgb2JzZXJ2ZS5tZXRob2RpemUoKSwKCiAgICBzdG9wT2JzZXJ2aW5nOiBzdG9wT2JzZXJ2aW5nLm1ldGhvZGl6ZSgpLAoKICAgIG9uOiAgICAgICAgICAgIG9uLm1ldGhvZGl6ZSgpLAoKICAgIGxvYWRlZDogICAgICAgIGZhbHNlCiAgfSk7CgogIGlmICh3aW5kb3cuRXZlbnQpIE9iamVjdC5leHRlbmQod2luZG93LkV2ZW50LCBFdmVudCk7CiAgZWxzZSB3aW5kb3cuRXZlbnQgPSBFdmVudDsKfSkoKTsKCihmdW5jdGlvbigpIHsKICAvKiBTdXBwb3J0IGZvciB0aGUgRE9NQ29udGVudExvYWRlZCBldmVudCBpcyBiYXNlZCBvbiB3b3JrIGJ5IERhbiBXZWJiLAogICAgIE1hdHRoaWFzIE1pbGxlciwgRGVhbiBFZHdhcmRzLCBKb2huIFJlc2lnLCBhbmQgRGllZ28gUGVyaW5pLiAqLwoKICB2YXIgdGltZXI7CgogIGZ1bmN0aW9uIGZpcmVDb250ZW50TG9hZGVkRXZlbnQoKSB7CiAgICBpZiAoZG9jdW1lbnQubG9hZGVkKSByZXR1cm47CiAgICBpZiAodGltZXIpIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZXIpOwogICAgZG9jdW1lbnQubG9hZGVkID0gdHJ1ZTsKICAgIGRvY3VtZW50LmZpcmUoJ2RvbTpsb2FkZWQnKTsKICB9CgogIGZ1bmN0aW9uIGNoZWNrUmVhZHlTdGF0ZSgpIHsKICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7CiAgICAgIGRvY3VtZW50LnN0b3BPYnNlcnZpbmcoJ3JlYWR5c3RhdGVjaGFuZ2UnLCBjaGVja1JlYWR5U3RhdGUpOwogICAgICBmaXJlQ29udGVudExvYWRlZEV2ZW50KCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBwb2xsRG9TY3JvbGwoKSB7CiAgICB0cnkgeyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwoJ2xlZnQnKTsgfQogICAgY2F0Y2goZSkgewogICAgICB0aW1lciA9IHBvbGxEb1Njcm9sbC5kZWZlcigpOwogICAgICByZXR1cm47CiAgICB9CiAgICBmaXJlQ29udGVudExvYWRlZEV2ZW50KCk7CiAgfQoKICBpZiAoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikgewogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZpcmVDb250ZW50TG9hZGVkRXZlbnQsIGZhbHNlKTsKICB9IGVsc2UgewogICAgZG9jdW1lbnQub2JzZXJ2ZSgncmVhZHlzdGF0ZWNoYW5nZScsIGNoZWNrUmVhZHlTdGF0ZSk7CiAgICBpZiAod2luZG93ID09IHRvcCkKICAgICAgdGltZXIgPSBwb2xsRG9TY3JvbGwuZGVmZXIoKTsKICB9CgogIEV2ZW50Lm9ic2VydmUod2luZG93LCAnbG9hZCcsIGZpcmVDb250ZW50TG9hZGVkRXZlbnQpOwp9KSgpOwoKRWxlbWVudC5hZGRNZXRob2RzKCk7CgovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gREVQUkVDQVRFRCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCkhhc2gudG9RdWVyeVN0cmluZyA9IE9iamVjdC50b1F1ZXJ5U3RyaW5nOwoKdmFyIFRvZ2dsZSA9IHsgZGlzcGxheTogRWxlbWVudC50b2dnbGUgfTsKCkVsZW1lbnQuTWV0aG9kcy5jaGlsZE9mID0gRWxlbWVudC5NZXRob2RzLmRlc2NlbmRhbnRPZjsKCnZhciBJbnNlcnRpb24gPSB7CiAgQmVmb3JlOiBmdW5jdGlvbihlbGVtZW50LCBjb250ZW50KSB7CiAgICByZXR1cm4gRWxlbWVudC5pbnNlcnQoZWxlbWVudCwge2JlZm9yZTpjb250ZW50fSk7CiAgfSwKCiAgVG9wOiBmdW5jdGlvbihlbGVtZW50LCBjb250ZW50KSB7CiAgICByZXR1cm4gRWxlbWVudC5pbnNlcnQoZWxlbWVudCwge3RvcDpjb250ZW50fSk7CiAgfSwKCiAgQm90dG9tOiBmdW5jdGlvbihlbGVtZW50LCBjb250ZW50KSB7CiAgICByZXR1cm4gRWxlbWVudC5pbnNlcnQoZWxlbWVudCwge2JvdHRvbTpjb250ZW50fSk7CiAgfSwKCiAgQWZ0ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIGNvbnRlbnQpIHsKICAgIHJldHVybiBFbGVtZW50Lmluc2VydChlbGVtZW50LCB7YWZ0ZXI6Y29udGVudH0pOwogIH0KfTsKCnZhciAkY29udGludWUgPSBuZXcgRXJyb3IoJyJ0aHJvdyAkY29udGludWUiIGlzIGRlcHJlY2F0ZWQsIHVzZSAicmV0dXJuIiBpbnN0ZWFkJyk7Cgp2YXIgUG9zaXRpb24gPSB7CiAgaW5jbHVkZVNjcm9sbE9mZnNldHM6IGZhbHNlLAoKICBwcmVwYXJlOiBmdW5jdGlvbigpIHsKICAgIHRoaXMuZGVsdGFYID0gIHdpbmRvdy5wYWdlWE9mZnNldAogICAgICAgICAgICAgICAgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQKICAgICAgICAgICAgICAgIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdAogICAgICAgICAgICAgICAgfHwgMDsKICAgIHRoaXMuZGVsdGFZID0gIHdpbmRvdy5wYWdlWU9mZnNldAogICAgICAgICAgICAgICAgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcAogICAgICAgICAgICAgICAgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AKICAgICAgICAgICAgICAgIHx8IDA7CiAgfSwKCiAgd2l0aGluOiBmdW5jdGlvbihlbGVtZW50LCB4LCB5KSB7CiAgICBpZiAodGhpcy5pbmNsdWRlU2Nyb2xsT2Zmc2V0cykKICAgICAgcmV0dXJuIHRoaXMud2l0aGluSW5jbHVkaW5nU2Nyb2xsb2Zmc2V0cyhlbGVtZW50LCB4LCB5KTsKICAgIHRoaXMueGNvbXAgPSB4OwogICAgdGhpcy55Y29tcCA9IHk7CiAgICB0aGlzLm9mZnNldCA9IEVsZW1lbnQuY3VtdWxhdGl2ZU9mZnNldChlbGVtZW50KTsKCiAgICByZXR1cm4gKHkgPj0gdGhpcy5vZmZzZXRbMV0gJiYKICAgICAgICAgICAgeSA8ICB0aGlzLm9mZnNldFsxXSArIGVsZW1lbnQub2Zmc2V0SGVpZ2h0ICYmCiAgICAgICAgICAgIHggPj0gdGhpcy5vZmZzZXRbMF0gJiYKICAgICAgICAgICAgeCA8ICB0aGlzLm9mZnNldFswXSArIGVsZW1lbnQub2Zmc2V0V2lkdGgpOwogIH0sCgogIHdpdGhpbkluY2x1ZGluZ1Njcm9sbG9mZnNldHM6IGZ1bmN0aW9uKGVsZW1lbnQsIHgsIHkpIHsKICAgIHZhciBvZmZzZXRjYWNoZSA9IEVsZW1lbnQuY3VtdWxhdGl2ZVNjcm9sbE9mZnNldChlbGVtZW50KTsKCiAgICB0aGlzLnhjb21wID0geCArIG9mZnNldGNhY2hlWzBdIC0gdGhpcy5kZWx0YVg7CiAgICB0aGlzLnljb21wID0geSArIG9mZnNldGNhY2hlWzFdIC0gdGhpcy5kZWx0YVk7CiAgICB0aGlzLm9mZnNldCA9IEVsZW1lbnQuY3VtdWxhdGl2ZU9mZnNldChlbGVtZW50KTsKCiAgICByZXR1cm4gKHRoaXMueWNvbXAgPj0gdGhpcy5vZmZzZXRbMV0gJiYKICAgICAgICAgICAgdGhpcy55Y29tcCA8ICB0aGlzLm9mZnNldFsxXSArIGVsZW1lbnQub2Zmc2V0SGVpZ2h0ICYmCiAgICAgICAgICAgIHRoaXMueGNvbXAgPj0gdGhpcy5vZmZzZXRbMF0gJiYKICAgICAgICAgICAgdGhpcy54Y29tcCA8ICB0aGlzLm9mZnNldFswXSArIGVsZW1lbnQub2Zmc2V0V2lkdGgpOwogIH0sCgogIG92ZXJsYXA6IGZ1bmN0aW9uKG1vZGUsIGVsZW1lbnQpIHsKICAgIGlmICghbW9kZSkgcmV0dXJuIDA7CiAgICBpZiAobW9kZSA9PSAndmVydGljYWwnKQogICAgICByZXR1cm4gKCh0aGlzLm9mZnNldFsxXSArIGVsZW1lbnQub2Zmc2V0SGVpZ2h0KSAtIHRoaXMueWNvbXApIC8KICAgICAgICBlbGVtZW50Lm9mZnNldEhlaWdodDsKICAgIGlmIChtb2RlID09ICdob3Jpem9udGFsJykKICAgICAgcmV0dXJuICgodGhpcy5vZmZzZXRbMF0gKyBlbGVtZW50Lm9mZnNldFdpZHRoKSAtIHRoaXMueGNvbXApIC8KICAgICAgICBlbGVtZW50Lm9mZnNldFdpZHRoOwogIH0sCgoKICBjdW11bGF0aXZlT2Zmc2V0OiBFbGVtZW50Lk1ldGhvZHMuY3VtdWxhdGl2ZU9mZnNldCwKCiAgcG9zaXRpb25lZE9mZnNldDogRWxlbWVudC5NZXRob2RzLnBvc2l0aW9uZWRPZmZzZXQsCgogIGFic29sdXRpemU6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIFBvc2l0aW9uLnByZXBhcmUoKTsKICAgIHJldHVybiBFbGVtZW50LmFic29sdXRpemUoZWxlbWVudCk7CiAgfSwKCiAgcmVsYXRpdml6ZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgUG9zaXRpb24ucHJlcGFyZSgpOwogICAgcmV0dXJuIEVsZW1lbnQucmVsYXRpdml6ZShlbGVtZW50KTsKICB9LAoKICByZWFsT2Zmc2V0OiBFbGVtZW50Lk1ldGhvZHMuY3VtdWxhdGl2ZVNjcm9sbE9mZnNldCwKCiAgb2Zmc2V0UGFyZW50OiBFbGVtZW50Lk1ldGhvZHMuZ2V0T2Zmc2V0UGFyZW50LAoKICBwYWdlOiBFbGVtZW50Lk1ldGhvZHMudmlld3BvcnRPZmZzZXQsCgogIGNsb25lOiBmdW5jdGlvbihzb3VyY2UsIHRhcmdldCwgb3B0aW9ucykgewogICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyB9OwogICAgcmV0dXJuIEVsZW1lbnQuY2xvbmVQb3NpdGlvbih0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucyk7CiAgfQp9OwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgppZiAoIWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgPSBmdW5jdGlvbihpbnN0YW5jZU1ldGhvZHMpewogIGZ1bmN0aW9uIGl0ZXIobmFtZSkgewogICAgcmV0dXJuIG5hbWUuYmxhbmsoKSA/IG51bGwgOiAiW2NvbnRhaW5zKGNvbmNhdCgnICcsIEBjbGFzcywgJyAnKSwgJyAiICsgbmFtZSArICIgJyldIjsKICB9CgogIGluc3RhbmNlTWV0aG9kcy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gUHJvdG90eXBlLkJyb3dzZXJGZWF0dXJlcy5YUGF0aCA/CiAgZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lKSB7CiAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUudG9TdHJpbmcoKS5zdHJpcCgpOwogICAgdmFyIGNvbmQgPSAvXHMvLnRlc3QoY2xhc3NOYW1lKSA/ICR3KGNsYXNzTmFtZSkubWFwKGl0ZXIpLmpvaW4oJycpIDogaXRlcihjbGFzc05hbWUpOwogICAgcmV0dXJuIGNvbmQgPyBkb2N1bWVudC5fZ2V0RWxlbWVudHNCeVhQYXRoKCcuLy8qJyArIGNvbmQsIGVsZW1lbnQpIDogW107CiAgfSA6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSkgewogICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnRvU3RyaW5nKCkuc3RyaXAoKTsKICAgIHZhciBlbGVtZW50cyA9IFtdLCBjbGFzc05hbWVzID0gKC9ccy8udGVzdChjbGFzc05hbWUpID8gJHcoY2xhc3NOYW1lKSA6IG51bGwpOwogICAgaWYgKCFjbGFzc05hbWVzICYmICFjbGFzc05hbWUpIHJldHVybiBlbGVtZW50czsKCiAgICB2YXIgbm9kZXMgPSAkKGVsZW1lbnQpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJyk7CiAgICBjbGFzc05hbWUgPSAnICcgKyBjbGFzc05hbWUgKyAnICc7CgogICAgZm9yICh2YXIgaSA9IDAsIGNoaWxkLCBjbjsgY2hpbGQgPSBub2Rlc1tpXTsgaSsrKSB7CiAgICAgIGlmIChjaGlsZC5jbGFzc05hbWUgJiYgKGNuID0gJyAnICsgY2hpbGQuY2xhc3NOYW1lICsgJyAnKSAmJiAoY24uaW5jbHVkZShjbGFzc05hbWUpIHx8CiAgICAgICAgICAoY2xhc3NOYW1lcyAmJiBjbGFzc05hbWVzLmFsbChmdW5jdGlvbihuYW1lKSB7CiAgICAgICAgICAgIHJldHVybiAhbmFtZS50b1N0cmluZygpLmJsYW5rKCkgJiYgY24uaW5jbHVkZSgnICcgKyBuYW1lICsgJyAnKTsKICAgICAgICAgIH0pKSkpCiAgICAgICAgZWxlbWVudHMucHVzaChFbGVtZW50LmV4dGVuZChjaGlsZCkpOwogICAgfQogICAgcmV0dXJuIGVsZW1lbnRzOwogIH07CgogIHJldHVybiBmdW5jdGlvbihjbGFzc05hbWUsIHBhcmVudEVsZW1lbnQpIHsKICAgIHJldHVybiAkKHBhcmVudEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keSkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpOwogIH07Cn0oRWxlbWVudC5NZXRob2RzKTsKCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKRWxlbWVudC5DbGFzc05hbWVzID0gQ2xhc3MuY3JlYXRlKCk7CkVsZW1lbnQuQ2xhc3NOYW1lcy5wcm90b3R5cGUgPSB7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgdGhpcy5lbGVtZW50ID0gJChlbGVtZW50KTsKICB9LAoKICBfZWFjaDogZnVuY3Rpb24oaXRlcmF0b3IpIHsKICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUuc3BsaXQoL1xzKy8pLnNlbGVjdChmdW5jdGlvbihuYW1lKSB7CiAgICAgIHJldHVybiBuYW1lLmxlbmd0aCA+IDA7CiAgICB9KS5fZWFjaChpdGVyYXRvcik7CiAgfSwKCiAgc2V0OiBmdW5jdGlvbihjbGFzc05hbWUpIHsKICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc05hbWU7CiAgfSwKCiAgYWRkOiBmdW5jdGlvbihjbGFzc05hbWVUb0FkZCkgewogICAgaWYgKHRoaXMuaW5jbHVkZShjbGFzc05hbWVUb0FkZCkpIHJldHVybjsKICAgIHRoaXMuc2V0KCRBKHRoaXMpLmNvbmNhdChjbGFzc05hbWVUb0FkZCkuam9pbignICcpKTsKICB9LAoKICByZW1vdmU6IGZ1bmN0aW9uKGNsYXNzTmFtZVRvUmVtb3ZlKSB7CiAgICBpZiAoIXRoaXMuaW5jbHVkZShjbGFzc05hbWVUb1JlbW92ZSkpIHJldHVybjsKICAgIHRoaXMuc2V0KCRBKHRoaXMpLndpdGhvdXQoY2xhc3NOYW1lVG9SZW1vdmUpLmpvaW4oJyAnKSk7CiAgfSwKCiAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuICRBKHRoaXMpLmpvaW4oJyAnKTsKICB9Cn07CgpPYmplY3QuZXh0ZW5kKEVsZW1lbnQuQ2xhc3NOYW1lcy5wcm90b3R5cGUsIEVudW1lcmFibGUpOwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgooZnVuY3Rpb24oKSB7CiAgd2luZG93LlNlbGVjdG9yID0gQ2xhc3MuY3JlYXRlKHsKICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGV4cHJlc3Npb24pIHsKICAgICAgdGhpcy5leHByZXNzaW9uID0gZXhwcmVzc2lvbi5zdHJpcCgpOwogICAgfSwKCiAgICBmaW5kRWxlbWVudHM6IGZ1bmN0aW9uKHJvb3RFbGVtZW50KSB7CiAgICAgIHJldHVybiBQcm90b3R5cGUuU2VsZWN0b3Iuc2VsZWN0KHRoaXMuZXhwcmVzc2lvbiwgcm9vdEVsZW1lbnQpOwogICAgfSwKCiAgICBtYXRjaDogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICByZXR1cm4gUHJvdG90eXBlLlNlbGVjdG9yLm1hdGNoKGVsZW1lbnQsIHRoaXMuZXhwcmVzc2lvbik7CiAgICB9LAoKICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuZXhwcmVzc2lvbjsKICAgIH0sCgogICAgaW5zcGVjdDogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiAiIzxTZWxlY3RvcjogIiArIHRoaXMuZXhwcmVzc2lvbiArICI+IjsKICAgIH0KICB9KTsKCiAgT2JqZWN0LmV4dGVuZChTZWxlY3RvciwgewogICAgbWF0Y2hFbGVtZW50czogZnVuY3Rpb24oZWxlbWVudHMsIGV4cHJlc3Npb24pIHsKICAgICAgdmFyIG1hdGNoID0gUHJvdG90eXBlLlNlbGVjdG9yLm1hdGNoLAogICAgICAgICAgcmVzdWx0cyA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpXTsKICAgICAgICBpZiAobWF0Y2goZWxlbWVudCwgZXhwcmVzc2lvbikpIHsKICAgICAgICAgIHJlc3VsdHMucHVzaChFbGVtZW50LmV4dGVuZChlbGVtZW50KSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiByZXN1bHRzOwogICAgfSwKCiAgICBmaW5kRWxlbWVudDogZnVuY3Rpb24oZWxlbWVudHMsIGV4cHJlc3Npb24sIGluZGV4KSB7CiAgICAgIGluZGV4ID0gaW5kZXggfHwgMDsKICAgICAgdmFyIG1hdGNoSW5kZXggPSAwLCBlbGVtZW50OwogICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBlbGVtZW50ID0gZWxlbWVudHNbaV07CiAgICAgICAgaWYgKFByb3RvdHlwZS5TZWxlY3Rvci5tYXRjaChlbGVtZW50LCBleHByZXNzaW9uKSAmJiBpbmRleCA9PT0gbWF0Y2hJbmRleCsrKSB7CiAgICAgICAgICByZXR1cm4gRWxlbWVudC5leHRlbmQoZWxlbWVudCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIGZpbmRDaGlsZEVsZW1lbnRzOiBmdW5jdGlvbihlbGVtZW50LCBleHByZXNzaW9ucykgewogICAgICB2YXIgc2VsZWN0b3IgPSBleHByZXNzaW9ucy50b0FycmF5KCkuam9pbignLCAnKTsKICAgICAgcmV0dXJuIFByb3RvdHlwZS5TZWxlY3Rvci5zZWxlY3Qoc2VsZWN0b3IsIGVsZW1lbnQgfHwgZG9jdW1lbnQpOwogICAgfQogIH0pOwp9KSgpOwo=",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 318,
          "bodySize": 220008
        },
        "cache": {},
        "timings": {
          "send": 1,
          "wait": 20,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27311"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.871-06:00",
        "time": 29,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/behavior.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 323,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:35 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "2360"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 8564,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "LyoKICAgQmVoYXZpb3VyIHYxLjEgYnkgQmVuIE5vbGFuLCBKdW5lIDIwMDUuIEJhc2VkIGxhcmdlbHkgb24gdGhlIHdvcmsKICAgb2YgU2ltb24gV2lsbGlzb24gKHNlZSBjb21tZW50cyBieSBTaW1vbiBiZWxvdykuCgogICBEZXNjcmlwdGlvbjoKCiAgIAlVc2VzIGNzcyBzZWxlY3RvcnMgdG8gYXBwbHkgamF2YXNjcmlwdCBiZWhhdmlvdXJzIHRvIGVuYWJsZQogICAJdW5vYnRydXNpdmUgamF2YXNjcmlwdCBpbiBodG1sIGRvY3VtZW50cy4KCiAgIFVzYWdlOgoKICAgICAgICBCZWhhdmlvdXIuc3BlY2lmeSgnYi5zb21lY2xhc3MnLCAnbXlydWxlcy5hbGVydCcsIDEwLCBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgICAgIGVsZW1lbnQub25jbGljayA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgYWxlcnQodGhpcy5pbm5lckhUTUwpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgQmVoYXZpb3VyLnNwZWNpZnkoJyNzb21laWQgdScsICdteXJ1bGVzLmJsYWgnLCAwLCBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgICAgIGVsZW1lbnQub25tb3VzZW92ZXIgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHRoaXMuaW5uZXJIVE1MID0gIkJMQUghIjsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKCS8vIENhbGwgQmVoYXZpb3VyLmFwcGx5KCkgdG8gcmUtYXBwbHkgdGhlIHJ1bGVzIChpZiB5b3UKCS8vIHVwZGF0ZSB0aGUgZG9tLCBldGMpLgoKICAgTGljZW5zZToKCiAgIAlUaGlzIGZpbGUgaXMgZW50aXJlbHkgQlNEIGxpY2Vuc2VkLgoKICAgTW9yZSBpbmZvcm1hdGlvbjoKCiAgIAlodHRwOi8vcmlwY29yZC5jby5uei9iZWhhdmlvdXIvCgoqLwoKdmFyIEJlaGF2aW91ciA9IChmdW5jdGlvbigpIHsKICAgIHZhciBzdG9yYWdlID0gW3tzZWxlY3RvcjogJycsIGlkOiAnX2RlcHJlY2F0ZWQnLCBwcmlvcml0eTogMH1dOwogICAgcmV0dXJuIHsKCiAgICAvKioKICAgICAqIFNwZWNpZmllcyBzb21ldGhpbmcgdG8gZG8gd2hlbiBhbiBlbGVtZW50IG1hdGNoaW5nIGEgQ1NTIHNlbGVjdG9yIGlzIGVuY291bnRlcmVkLgogICAgICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yIGEgQ1NTIHNlbGVjdG9yIHRyaWdnZXJpbmcgeW91ciBiZWhhdmlvcgogICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIGNvbWJpbmVkIHdpdGggc2VsZWN0b3IsIHVuaXF1ZWx5IGlkZW50aWZpZXMgdGhpcyBiZWhhdmlvcjsgcHJldmVudHMgZHVwbGljYXRlIHJlZ2lzdHJhdGlvbnMKICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcmlvcml0eSByZWxhdGl2ZSBwb3NpdGlvbiBvZiB0aGlzIGJlaGF2aW9yIGluIGNhc2UgbXVsdGlwbGUgYXBwbHkgdG8gYSBnaXZlbiBlbGVtZW50OyBsb3dlciBudW1iZXJzIGFwcGxpZWQgZmlyc3QgKHNvcnRlZCBieSBpZCB0aGVuIHNlbGVjdG9yIGluIGNhc2Ugb2YgdGllKTsgY2hvb3NlIDAgaWYgeW91IGRvIG5vdCBjYXJlCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBiZWhhdmlvciBjYWxsYmFjayBmdW5jdGlvbiB0YWtpbmcgb25lIHBhcmFtZXRlciwgYSAoRE9NKSB7QGxpbmsgRWxlbWVudH0sIGFuZCByZXR1cm5pbmcgdm9pZAogICAgICovCiAgICBzcGVjaWZ5IDogZnVuY3Rpb24oc2VsZWN0b3IsIGlkLCBwcmlvcml0eSwgYmVoYXZpb3IpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0b3JhZ2UubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKHN0b3JhZ2VbaV0uc2VsZWN0b3IgPT0gc2VsZWN0b3IgJiYgc3RvcmFnZVtpXS5pZCA9PSBpZCkgewogICAgICAgICAgICAgICAgc3RvcmFnZS5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdG9yYWdlLnB1c2goe3NlbGVjdG9yOiBzZWxlY3RvciwgaWQ6IGlkLCBwcmlvcml0eTogcHJpb3JpdHksIGJlaGF2aW9yOiBiZWhhdmlvcn0pOwogICAgICAgIHN0b3JhZ2Uuc29ydChmdW5jdGlvbihhLCBiKSB7CiAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IGEucHJpb3JpdHkgLSBiLnByaW9yaXR5OwogICAgICAgICAgICByZXR1cm4gbG9jYXRpb24gIT0gMCA/IGxvY2F0aW9uIDogYS5pZCA8IGIuaWQgPyAtMSA6IGEuaWQgPiBiLmlkID8gMSA6IGEuc2VsZWN0b3IgPCBiLnNlbGVjdG9yID8gLTEgOiBhLnNlbGVjdG9yID4gYi5zZWxlY3RvciA/IDEgOiAwOwogICAgICAgIH0pOwogICAgfSwKCiAgICAgICAgLyoqIEBkZXByZWNhdGVkIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IG9ubHk7IHVzZSB7QGxpbmsgc3BlY2lmeX0gaW5zdGVhZC4gKi8KCWxpc3QgOiBuZXcgQXJyYXksCgogICAgICAgIC8qKiBAZGVwcmVjYXRlZCBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSBvbmx5OyB1c2Uge0BsaW5rIHNwZWNpZnl9IGluc3RlYWQuICovCglyZWdpc3RlciA6IGZ1bmN0aW9uKHNoZWV0KXsKCQlCZWhhdmlvdXIubGlzdC5wdXNoKHNoZWV0KTsKCX0sCgoJc3RhcnQgOiBmdW5jdGlvbigpewoJCUJlaGF2aW91ci5hZGRMb2FkRXZlbnQoZnVuY3Rpb24oKXsKCQkJQmVoYXZpb3VyLmFwcGx5KCk7CgkJfSk7Cgl9LAoKCWFwcGx5IDogZnVuY3Rpb24oKXsKICAgICAgICB0aGlzLmFwcGx5U3VidHJlZShkb2N1bWVudCk7CiAgICB9LAoKICAgIC8qKgogICAgICogQXBwbGllcyBiZWhhdmlvdXIgcnVsZXMgdG8gYSBzdWJ0cmVlL3N1YmZvcmVzdC4KICAgICAqCiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fEhUTUxFbGVtZW50W119IHN0YXJ0Tm9kZQogICAgICogICAgICBTdWJ0cmVlL2ZvcmVzdCB0byBhcHBseSBydWxlcy4KICAgICAqCiAgICAgKiAgICAgIFdpdGhpbiBhIHNpbmdsZSBzdWJ0cmVlLCBydWxlcyBhcmUgdGhlIG91dGVyIGxvb3AgYW5kIHRoZSBub2RlcyBpbiB0aGUgdHJlZSBhcmUgdGhlIGlubmVyIGxvb3AsCiAgICAgKiAgICAgIGFuZCBzb21ldGltZXMgdGhlIGJlaGF2aW91ciBydWxlcyByZWx5IG9uIHRoaXMgb3JkZXJpbmcgdG8gd29yayBjb3JyZWN0bHkuIFdoZW4geW91IHBhc3MgYSBmb3Jlc3QsCiAgICAgKiAgICAgIHRoaXMgc2VtYW50aWNzIGlzIHByZXNlcnZlZC4KICAgICAqLwogICAgYXBwbHlTdWJ0cmVlIDogZnVuY3Rpb24oc3RhcnROb2RlLGluY2x1ZGVTZWxmKSB7CiAgICAgICAgaWYgKCEoc3RhcnROb2RlIGluc3RhbmNlb2YgQXJyYXkpKSB7CiAgICAgICAgICAgIHN0YXJ0Tm9kZSA9IFtzdGFydE5vZGVdOwogICAgICAgIH0KICAgICAgICBzdG9yYWdlLl9lYWNoKGZ1bmN0aW9uIChyZWdpc3RyYXRpb24pIHsKICAgICAgICAgICAgaWYgKHJlZ2lzdHJhdGlvbi5pZCA9PSAnX2RlcHJlY2F0ZWQnKSB7CiAgICAgICAgICAgICAgICBCZWhhdmlvdXIubGlzdC5fZWFjaChmdW5jdGlvbihzaGVldCkgewogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHNlbGVjdG9yIGluIHNoZWV0KXsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnROb2RlLl9lYWNoKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IGZpbmRFbGVtZW50c0J5U2VsZWN0b3Iobiwgc2VsZWN0b3IsIGluY2x1ZGVTZWxmKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaXN0Lmxlbmd0aCA+IDApIHsgLy8ganVzdCB0byBzaW1wbGlmeSBzZXR0aW5nIG9mIGEgYnJlYWtwb2ludC4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdkZXByZWNhdGVkOicgKyBzZWxlY3RvciArICcgb24gJyArIGxpc3QubGVuZ3RoICsgJyBlbGVtZW50cycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QuX2VhY2goc2hlZXRbc2VsZWN0b3JdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzdGFydE5vZGUuX2VhY2goZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IGZpbmRFbGVtZW50c0J5U2VsZWN0b3Iobm9kZSwgcmVnaXN0cmF0aW9uLnNlbGVjdG9yLCBpbmNsdWRlU2VsZik7CiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlZ2lzdHJhdGlvbi5pZCArICc6JyArIHJlZ2lzdHJhdGlvbi5zZWxlY3RvciArICcgQCcgKyByZWdpc3RyYXRpb24ucHJpb3JpdHkgKyAnIG9uICcgKyBsaXN0Lmxlbmd0aCArICcgZWxlbWVudHMnKTsKICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5fZWFjaChyZWdpc3RyYXRpb24uYmVoYXZpb3IpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAoKICAgIGFkZExvYWRFdmVudCA6IGZ1bmN0aW9uKGZ1bmMpewoJCXZhciBvbGRvbmxvYWQgPSB3aW5kb3cub25sb2FkOwoKCQlpZiAodHlwZW9mIHdpbmRvdy5vbmxvYWQgIT0gJ2Z1bmN0aW9uJykgewoJCQl3aW5kb3cub25sb2FkID0gZnVuYzsKCQl9IGVsc2UgewoJCQl3aW5kb3cub25sb2FkID0gZnVuY3Rpb24oZSkgewoJCQkJb2xkb25sb2FkKGUpOwoJCQkJZnVuYyhlKTsKCQkJfQoJCX0KCX0KfX0pKCk7CgpCZWhhdmlvdXIuc3RhcnQoKTsKCi8qCiAgIFRoZSBmb2xsb3dpbmcgY29kZSBpcyBDb3B5cmlnaHQgKEMpIFNpbW9uIFdpbGxpc29uIDIwMDQuCgogICBkb2N1bWVudC5nZXRFbGVtZW50c0J5U2VsZWN0b3Ioc2VsZWN0b3IpCiAgIC0gcmV0dXJucyBhbiBhcnJheSBvZiBlbGVtZW50IG9iamVjdHMgZnJvbSB0aGUgY3VycmVudCBkb2N1bWVudAogICAgIG1hdGNoaW5nIHRoZSBDU1Mgc2VsZWN0b3IuIFNlbGVjdG9ycyBjYW4gY29udGFpbiBlbGVtZW50IG5hbWVzLAogICAgIGNsYXNzIG5hbWVzIGFuZCBpZHMgYW5kIGNhbiBiZSBuZXN0ZWQuIEZvciBleGFtcGxlOgoKICAgICAgIGVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVNlbGVjdCgnZGl2I21haW4gcCBhLmV4dGVybmFsJykKCiAgICAgV2lsbCByZXR1cm4gYW4gYXJyYXkgb2YgYWxsICdhJyBlbGVtZW50cyB3aXRoICdleHRlcm5hbCcgaW4gdGhlaXIKICAgICBjbGFzcyBhdHRyaWJ1dGUgdGhhdCBhcmUgY29udGFpbmVkIGluc2lkZSAncCcgZWxlbWVudHMgdGhhdCBhcmUKICAgICBjb250YWluZWQgaW5zaWRlIHRoZSAnZGl2JyBlbGVtZW50IHdoaWNoIGhhcyBpZD0ibWFpbiIKCiAgIE5ldyBpbiB2ZXJzaW9uIDAuNDogU3VwcG9ydCBmb3IgQ1NTMiBhbmQgQ1NTMyBhdHRyaWJ1dGUgc2VsZWN0b3JzOgogICBTZWUgaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1zZWxlY3RvcnMvI2F0dHJpYnV0ZS1zZWxlY3RvcnMKCiAgIFZlcnNpb24gMC40IC0gU2ltb24gV2lsbGlzb24sIE1hcmNoIDI1dGggMjAwMwogICAtLSBXb3JrcyBpbiBQaG9lbml4IDAuNSwgTW96aWxsYSAxLjMsIE9wZXJhIDcsIEludGVybmV0IEV4cGxvcmVyIDYsIEludGVybmV0IEV4cGxvcmVyIDUgb24gV2luZG93cwogICAtLSBPcGVyYSA3IGZhaWxzCiovCgpmdW5jdGlvbiBmaW5kRWxlbWVudHNCeVNlbGVjdG9yKHN0YXJ0Tm9kZSxzZWxlY3RvcixpbmNsdWRlU2VsZikgewogICAgaWYoaW5jbHVkZVNlbGYpIHsKICAgICAgICBmdW5jdGlvbiBpc1NlbGZPckNoaWxkKGMpIHsKICAgICAgICAgIHdoaWxlKHRydWUpIHsKICAgICAgICAgICAgICBpZihzdGFydE5vZGUgPT0gYykgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgaWYoYyA9PSBudWxsKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgYyA9IGMucGFyZW50Tm9kZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIFByb3RvdHlwZS5TZWxlY3Rvci5zZWxlY3Qoc2VsZWN0b3IsIHN0YXJ0Tm9kZS5wYXJlbnROb2RlKS5maWx0ZXIoaXNTZWxmT3JDaGlsZCk7CiAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBQcm90b3R5cGUuU2VsZWN0b3Iuc2VsZWN0KHNlbGVjdG9yLCBzdGFydE5vZGUpOwogICAgfQp9Cgpkb2N1bWVudC5nZXRFbGVtZW50c0J5U2VsZWN0b3IgPSBmdW5jdGlvbihzZWxlY3RvcikgewogICAgcmV0dXJuIGZpbmRFbGVtZW50c0J5U2VsZWN0b3IoZG9jdW1lbnQsc2VsZWN0b3IpOwp9CgovKiBUaGF0IHJldm9sdGluZyByZWd1bGFyIGV4cHJlc3Npb24gZXhwbGFpbmVkCi9eKFx3KylcWyhcdyspKFs9flx8XF5cJFwqXT8pPT8iPyhbXlxdIl0qKSI/XF0kLwogIFwtLS0vICBcLS0tL1wtLS0tLS0tLS0tLS0tLyAgICBcLS0tLS0tLS8KICAgIHwgICAgICB8ICAgICAgICAgfCAgICAgICAgICAgICAgIHwKICAgIHwgICAgICB8ICAgICAgICAgfCAgICAgICAgICAgVGhlIHZhbHVlCiAgICB8ICAgICAgfCAgICB+LHwsXiwkLCogb3IgPQogICAgfCAgIEF0dHJpYnV0ZQogICBUYWcKKi8K",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 8564
        },
        "cache": {},
        "timings": {
          "send": 10,
          "wait": 0,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27305"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.871-06:00",
        "time": 35,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/adjuncts/e0747a62/org/kohsuke/stapler/bind.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 333,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "936"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 3576,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "Ly8gYmluZCB0YWcgdGFrZXMgY2FyZSBvZiB0aGUgZGVwZW5kZW5jeSBhcyBhbiBhZGp1bmN0CgpmdW5jdGlvbiBtYWtlU3RhcGxlclByb3h5KHVybCxjcnVtYixtZXRob2RzKSB7CiAgICBpZiAodXJsLnN1YnN0cmluZyh1cmwubGVuZ3RoIC0gMSkgIT09ICcvJykgdXJsKz0nLyc7CiAgICB2YXIgcHJveHkgPSB7fTsKCiAgICB2YXIgc3RyaW5naWZ5OwogICAgaWYgKE9iamVjdC50b0pTT04pIC8vIG5lZWRzIHRvIHVzZSBQcm90b3R5cGUuanMgaWYgaXQncyBwcmVzZW50LiBTZWUgY29tbWl0IGNvbW1lbnQgZm9yIGRpc2N1c3Npb24KICAgICAgICBzdHJpbmdpZnkgPSBPYmplY3QudG9KU09OOyAgLy8gZnJvbSBwcm90b3R5cGUKICAgIGVsc2UgaWYgKHR5cGVvZihKU09OKT09Im9iamVjdCIgJiYgSlNPTi5zdHJpbmdpZnkpCiAgICAgICAgc3RyaW5naWZ5ID0gSlNPTi5zdHJpbmdpZnk7IC8vIHN0YW5kYXJkCgogICAgdmFyIGdlbk1ldGhvZCA9IGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHsKICAgICAgICBwcm94eVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50czsKCiAgICAgICAgICAgIC8vIHRoZSBmaW5hbCBhcmd1bWVudCBjYW4gYmUgYSBjYWxsYmFjayB0aGF0IHJlY2VpdmVzIHRoZSByZXR1cm4gdmFsdWUKICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGg9PTApIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgdmFyIHRhaWwgPSBhcmdzW2FyZ3MubGVuZ3RoLTFdOwogICAgICAgICAgICAgICAgcmV0dXJuICh0eXBlb2YodGFpbCk9PSdmdW5jdGlvbicpID8gdGFpbCA6IG51bGw7CiAgICAgICAgICAgIH0pKCk7CgogICAgICAgICAgICAvLyAnYXJndW1lbnRzJyBpcyBub3QgYW4gYXJyYXkgc28gd2UgY29udmVydCBpdCBpbnRvIGFuIGFycmF5CiAgICAgICAgICAgIHZhciBhID0gW107CiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxhcmdzLmxlbmd0aC0oY2FsbGJhY2shPW51bGw/MTowKTsgaSsrKQogICAgICAgICAgICAgICAgYS5wdXNoKGFyZ3NbaV0pOwoKICAgICAgICAgICAgaWYod2luZG93LmpRdWVyeSA9PT0gd2luZG93LiQpIHsgLy9JcyBqUXVlcnkgdGhlIGFjdGl2ZSBmcmFtZXdvcms/CiAgICAgICAgICAgICAgICAkLmFqYXgoewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCttZXRob2ROYW1lLAogICAgICAgICAgICAgICAgICAgIGRhdGE6IHN0cmluZ2lmeShhKSwKICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL3gtc3RhcGxlci1tZXRob2QtaW52b2NhdGlvbjtjaGFyc2V0PVVURi04JywKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7J0NydW1iJzpjcnVtYn0sCiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIiwKICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUikgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2shPW51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0ge307CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LnJlc3BvbnNlT2JqZWN0ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsgLy9Bc3N1bWUgcHJvdG90eXBlIHNob3VsZCB3b3JrCiAgICAgICAgICAgICAgICBuZXcgQWpheC5SZXF1ZXN0KHVybCttZXRob2ROYW1lLCB7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEhlYWRlcnM6IHsnQ29udGVudC10eXBlJzonYXBwbGljYXRpb24veC1zdGFwbGVyLW1ldGhvZC1pbnZvY2F0aW9uO2NoYXJzZXQ9VVRGLTgnLCdDcnVtYic6Y3J1bWJ9LAogICAgICAgICAgICAgICAgICAgIHBvc3RCb2R5OiBzdHJpbmdpZnkoYSksCiAgICAgICAgICAgICAgICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbih0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayE9bnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5yZXNwb25zZU9iamVjdCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldmFsKCcoJyt0aGlzLnJlc3BvbnNlVGV4dCsnKScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwoKICAgIGZvcih2YXIgbWkgPSAwOyBtaSA8IG1ldGhvZHMubGVuZ3RoOyBtaSsrKSB7CiAgICAgICAgZ2VuTWV0aG9kKG1ldGhvZHNbbWldKTsKICAgIH0KCiAgICByZXR1cm4gcHJveHk7Cn0=",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 225,
          "bodySize": 3576
        },
        "cache": {},
        "timings": {
          "send": 2,
          "wait": 1,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27305"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.871-06:00",
        "time": 38,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/yui/yahoo/yahoo-min.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 334,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:35 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "3038"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 9496,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "LyoKQ29weXJpZ2h0IChjKSAyMDExLCBZYWhvbyEgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLgpDb2RlIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgTGljZW5zZToKaHR0cDovL2RldmVsb3Blci55YWhvby5jb20veXVpL2xpY2Vuc2UuaHRtbAp2ZXJzaW9uOiAyLjkuMAoqLwppZih0eXBlb2YgWUFIT089PSJ1bmRlZmluZWQifHwhWUFIT08pe3ZhciBZQUhPTz17fTt9WUFIT08ubmFtZXNwYWNlPWZ1bmN0aW9uKCl7dmFyIGI9YXJndW1lbnRzLGc9bnVsbCxlLGMsZjtmb3IoZT0wO2U8Yi5sZW5ndGg7ZT1lKzEpe2Y9KCIiK2JbZV0pLnNwbGl0KCIuIik7Zz1ZQUhPTztmb3IoYz0oZlswXT09IllBSE9PIik/MTowO2M8Zi5sZW5ndGg7Yz1jKzEpe2dbZltjXV09Z1tmW2NdXXx8e307Zz1nW2ZbY11dO319cmV0dXJuIGc7fTtZQUhPTy5sb2c9ZnVuY3Rpb24oZCxhLGMpe3ZhciBiPVlBSE9PLndpZGdldC5Mb2dnZXI7aWYoYiYmYi5sb2cpe3JldHVybiBiLmxvZyhkLGEsYyk7fWVsc2V7cmV0dXJuIGZhbHNlO319O1lBSE9PLnJlZ2lzdGVyPWZ1bmN0aW9uKGEsZixlKXt2YXIgaz1ZQUhPTy5lbnYubW9kdWxlcyxjLGosaCxnLGQ7aWYoIWtbYV0pe2tbYV09e3ZlcnNpb25zOltdLGJ1aWxkczpbXX07fWM9a1thXTtqPWUudmVyc2lvbjtoPWUuYnVpbGQ7Zz1ZQUhPTy5lbnYubGlzdGVuZXJzO2MubmFtZT1hO2MudmVyc2lvbj1qO2MuYnVpbGQ9aDtjLnZlcnNpb25zLnB1c2goaik7Yy5idWlsZHMucHVzaChoKTtjLm1haW5DbGFzcz1mO2ZvcihkPTA7ZDxnLmxlbmd0aDtkPWQrMSl7Z1tkXShjKTt9aWYoZil7Zi5WRVJTSU9OPWo7Zi5CVUlMRD1oO31lbHNle1lBSE9PLmxvZygibWFpbkNsYXNzIGlzIHVuZGVmaW5lZCBmb3IgbW9kdWxlICIrYSwid2FybiIpO319O1lBSE9PLmVudj1ZQUhPTy5lbnZ8fHttb2R1bGVzOltdLGxpc3RlbmVyczpbXX07WUFIT08uZW52LmdldFZlcnNpb249ZnVuY3Rpb24oYSl7cmV0dXJuIFlBSE9PLmVudi5tb2R1bGVzW2FdfHxudWxsO307WUFIT08uZW52LnBhcnNlVUE9ZnVuY3Rpb24oZCl7dmFyIGU9ZnVuY3Rpb24oaSl7dmFyIGo9MDtyZXR1cm4gcGFyc2VGbG9hdChpLnJlcGxhY2UoL1wuL2csZnVuY3Rpb24oKXtyZXR1cm4oaisrPT0xKT8iIjoiLiI7fSkpO30saD1uYXZpZ2F0b3IsZz17aWU6MCxvcGVyYTowLGdlY2tvOjAsd2Via2l0OjAsY2hyb21lOjAsbW9iaWxlOm51bGwsYWlyOjAsaXBhZDowLGlwaG9uZTowLGlwb2Q6MCxpb3M6bnVsbCxhbmRyb2lkOjAsd2Vib3M6MCxjYWphOmgmJmguY2FqYVZlcnNpb24sc2VjdXJlOmZhbHNlLG9zOm51bGx9LGM9ZHx8KG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCksZj13aW5kb3cmJndpbmRvdy5sb2NhdGlvbixiPWYmJmYuaHJlZixhO2cuc2VjdXJlPWImJihiLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiaHR0cHMiKT09PTApO2lmKGMpe2lmKCgvd2luZG93c3x3aW4zMi9pKS50ZXN0KGMpKXtnLm9zPSJ3aW5kb3dzIjt9ZWxzZXtpZigoL21hY2ludG9zaC9pKS50ZXN0KGMpKXtnLm9zPSJtYWNpbnRvc2giO31lbHNle2lmKCgvcmhpbm8vaSkudGVzdChjKSl7Zy5vcz0icmhpbm8iO319fWlmKCgvS0hUTUwvKS50ZXN0KGMpKXtnLndlYmtpdD0xO31hPWMubWF0Y2goL0FwcGxlV2ViS2l0XC8oW15cc10qKS8pO2lmKGEmJmFbMV0pe2cud2Via2l0PWUoYVsxXSk7aWYoLyBNb2JpbGVcLy8udGVzdChjKSl7Zy5tb2JpbGU9IkFwcGxlIjthPWMubWF0Y2goL09TIChbXlxzXSopLyk7aWYoYSYmYVsxXSl7YT1lKGFbMV0ucmVwbGFjZSgiXyIsIi4iKSk7fWcuaW9zPWE7Zy5pcGFkPWcuaXBvZD1nLmlwaG9uZT0wO2E9Yy5tYXRjaCgvaVBhZHxpUG9kfGlQaG9uZS8pO2lmKGEmJmFbMF0pe2dbYVswXS50b0xvd2VyQ2FzZSgpXT1nLmlvczt9fWVsc2V7YT1jLm1hdGNoKC9Ob2tpYU5bXlwvXSp8QW5kcm9pZCBcZFwuXGR8d2ViT1NcL1xkXC5cZC8pO2lmKGEpe2cubW9iaWxlPWFbMF07fWlmKC93ZWJPUy8udGVzdChjKSl7Zy5tb2JpbGU9IldlYk9TIjthPWMubWF0Y2goL3dlYk9TXC8oW15cc10qKTsvKTtpZihhJiZhWzFdKXtnLndlYm9zPWUoYVsxXSk7fX1pZigvIEFuZHJvaWQvLnRlc3QoYykpe2cubW9iaWxlPSJBbmRyb2lkIjthPWMubWF0Y2goL0FuZHJvaWQgKFteXHNdKik7Lyk7aWYoYSYmYVsxXSl7Zy5hbmRyb2lkPWUoYVsxXSk7fX19YT1jLm1hdGNoKC9DaHJvbWVcLyhbXlxzXSopLyk7aWYoYSYmYVsxXSl7Zy5jaHJvbWU9ZShhWzFdKTt9ZWxzZXthPWMubWF0Y2goL0Fkb2JlQUlSXC8oW15cc10qKS8pO2lmKGEpe2cuYWlyPWFbMF07fX19aWYoIWcud2Via2l0KXthPWMubWF0Y2goL09wZXJhW1xzXC9dKFteXHNdKikvKTtpZihhJiZhWzFdKXtnLm9wZXJhPWUoYVsxXSk7YT1jLm1hdGNoKC9WZXJzaW9uXC8oW15cc10qKS8pO2lmKGEmJmFbMV0pe2cub3BlcmE9ZShhWzFdKTt9YT1jLm1hdGNoKC9PcGVyYSBNaW5pW147XSovKTtpZihhKXtnLm1vYmlsZT1hWzBdO319ZWxzZXthPWMubWF0Y2goL01TSUUgKFteO10qKXxUcmlkZW50Lio7IHJ2OihbMC05Ll0rKS8pO2lmKGEmJihhWzFdfHxhWzJdKSl7Zy5pZT1lKGFbMV18fGFbMl0pO31lbHNle2E9Yy5tYXRjaCgvR2Vja29cLyhbXlxzXSopLyk7aWYoYSl7Zy5nZWNrbz0xO2E9Yy5tYXRjaCgvcnY6KFteXHNcKV0qKS8pO2lmKGEmJmFbMV0pe2cuZ2Vja289ZShhWzFdKTt9fX19fX1yZXR1cm4gZzt9O1lBSE9PLmVudi51YT1ZQUhPTy5lbnYucGFyc2VVQSgpOyhmdW5jdGlvbigpe1lBSE9PLm5hbWVzcGFjZSgidXRpbCIsIndpZGdldCIsImV4YW1wbGUiKTtpZigidW5kZWZpbmVkIiE9PXR5cGVvZiBZQUhPT19jb25maWcpe3ZhciBiPVlBSE9PX2NvbmZpZy5saXN0ZW5lcixhPVlBSE9PLmVudi5saXN0ZW5lcnMsZD10cnVlLGM7aWYoYil7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyl7aWYoYVtjXT09Yil7ZD1mYWxzZTticmVhazt9fWlmKGQpe2EucHVzaChiKTt9fX19KSgpO1lBSE9PLmxhbmc9WUFIT08ubGFuZ3x8e307KGZ1bmN0aW9uKCl7dmFyIGY9WUFIT08ubGFuZyxhPU9iamVjdC5wcm90b3R5cGUsYz0iW29iamVjdCBBcnJheV0iLGg9IltvYmplY3QgRnVuY3Rpb25dIixpPSJbb2JqZWN0IE9iamVjdF0iLGI9W10sZz17IiYiOiImYW1wOyIsIjwiOiImbHQ7IiwiPiI6IiZndDsiLCciJzoiJnF1b3Q7IiwiJyI6IiYjeDI3OyIsIi8iOiImI3gyRjsiLCJgIjoiJiN4NjA7In0sZD1bInRvU3RyaW5nIiwidmFsdWVPZiJdLGU9e2lzQXJyYXk6ZnVuY3Rpb24oail7cmV0dXJuIGEudG9TdHJpbmcuYXBwbHkoaik9PT1jO30saXNCb29sZWFuOmZ1bmN0aW9uKGope3JldHVybiB0eXBlb2Ygaj09PSJib29sZWFuIjt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oail7cmV0dXJuKHR5cGVvZiBqPT09ImZ1bmN0aW9uIil8fGEudG9TdHJpbmcuYXBwbHkoaik9PT1oO30saXNOdWxsOmZ1bmN0aW9uKGope3JldHVybiBqPT09bnVsbDt9LGlzTnVtYmVyOmZ1bmN0aW9uKGope3JldHVybiB0eXBlb2Ygaj09PSJudW1iZXIiJiZpc0Zpbml0ZShqKTt9LGlzT2JqZWN0OmZ1bmN0aW9uKGope3JldHVybihqJiYodHlwZW9mIGo9PT0ib2JqZWN0Inx8Zi5pc0Z1bmN0aW9uKGopKSl8fGZhbHNlO30saXNTdHJpbmc6ZnVuY3Rpb24oail7cmV0dXJuIHR5cGVvZiBqPT09InN0cmluZyI7fSxpc1VuZGVmaW5lZDpmdW5jdGlvbihqKXtyZXR1cm4gdHlwZW9mIGo9PT0idW5kZWZpbmVkIjt9LF9JRUVudW1GaXg6KFlBSE9PLmVudi51YS5pZSk/ZnVuY3Rpb24obCxrKXt2YXIgaixuLG07Zm9yKGo9MDtqPGQubGVuZ3RoO2o9aisxKXtuPWRbal07bT1rW25dO2lmKGYuaXNGdW5jdGlvbihtKSYmbSE9YVtuXSl7bFtuXT1tO319fTpmdW5jdGlvbigpe30sZXNjYXBlSFRNTDpmdW5jdGlvbihqKXtyZXR1cm4gai5yZXBsYWNlKC9bJjw+IidcL2BdL2csZnVuY3Rpb24oayl7cmV0dXJuIGdba107fSk7fSxleHRlbmQ6ZnVuY3Rpb24obSxuLGwpe2lmKCFufHwhbSl7dGhyb3cgbmV3IEVycm9yKCJleHRlbmQgZmFpbGVkLCBwbGVhc2UgY2hlY2sgdGhhdCAiKyJhbGwgZGVwZW5kZW5jaWVzIGFyZSBpbmNsdWRlZC4iKTt9dmFyIGs9ZnVuY3Rpb24oKXt9LGo7ay5wcm90b3R5cGU9bi5wcm90b3R5cGU7bS5wcm90b3R5cGU9bmV3IGsoKTttLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1tO20uc3VwZXJjbGFzcz1uLnByb3RvdHlwZTtpZihuLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj09YS5jb25zdHJ1Y3Rvcil7bi5wcm90b3R5cGUuY29uc3RydWN0b3I9bjt9aWYobCl7Zm9yKGogaW4gbCl7aWYoZi5oYXNPd25Qcm9wZXJ0eShsLGopKXttLnByb3RvdHlwZVtqXT1sW2pdO319Zi5fSUVFbnVtRml4KG0ucHJvdG90eXBlLGwpO319LGF1Z21lbnRPYmplY3Q6ZnVuY3Rpb24obixtKXtpZighbXx8IW4pe3Rocm93IG5ldyBFcnJvcigiQWJzb3JiIGZhaWxlZCwgdmVyaWZ5IGRlcGVuZGVuY2llcy4iKTt9dmFyIGo9YXJndW1lbnRzLGwsbyxrPWpbMl07aWYoayYmayE9PXRydWUpe2ZvcihsPTI7bDxqLmxlbmd0aDtsPWwrMSl7bltqW2xdXT1tW2pbbF1dO319ZWxzZXtmb3IobyBpbiBtKXtpZihrfHwhKG8gaW4gbikpe25bb109bVtvXTt9fWYuX0lFRW51bUZpeChuLG0pO31yZXR1cm4gbjt9LGF1Z21lbnRQcm90bzpmdW5jdGlvbihtLGwpe2lmKCFsfHwhbSl7dGhyb3cgbmV3IEVycm9yKCJBdWdtZW50IGZhaWxlZCwgdmVyaWZ5IGRlcGVuZGVuY2llcy4iKTt9dmFyIGo9W20ucHJvdG90eXBlLGwucHJvdG90eXBlXSxrO2ZvcihrPTI7azxhcmd1bWVudHMubGVuZ3RoO2s9aysxKXtqLnB1c2goYXJndW1lbnRzW2tdKTt9Zi5hdWdtZW50T2JqZWN0LmFwcGx5KHRoaXMsaik7cmV0dXJuIG07fSxkdW1wOmZ1bmN0aW9uKGoscCl7dmFyIGwsbixyPVtdLHQ9InsuLi59IixrPSJmKCl7Li4ufSIscT0iLCAiLG09IiA9PiAiO2lmKCFmLmlzT2JqZWN0KGopKXtyZXR1cm4gaisiIjt9ZWxzZXtpZihqIGluc3RhbmNlb2YgRGF0ZXx8KCJub2RlVHlwZSIgaW4gaiYmInRhZ05hbWUiIGluIGopKXtyZXR1cm4gajt9ZWxzZXtpZihmLmlzRnVuY3Rpb24oaikpe3JldHVybiBrO319fXA9KGYuaXNOdW1iZXIocCkpP3A6MztpZihmLmlzQXJyYXkoaikpe3IucHVzaCgiWyIpO2ZvcihsPTAsbj1qLmxlbmd0aDtsPG47bD1sKzEpe2lmKGYuaXNPYmplY3QoaltsXSkpe3IucHVzaCgocD4wKT9mLmR1bXAoaltsXSxwLTEpOnQpO31lbHNle3IucHVzaChqW2xdKTt9ci5wdXNoKHEpO31pZihyLmxlbmd0aD4xKXtyLnBvcCgpO31yLnB1c2goIl0iKTt9ZWxzZXtyLnB1c2goInsiKTtmb3IobCBpbiBqKXtpZihmLmhhc093blByb3BlcnR5KGosbCkpe3IucHVzaChsK20pO2lmKGYuaXNPYmplY3QoaltsXSkpe3IucHVzaCgocD4wKT9mLmR1bXAoaltsXSxwLTEpOnQpO31lbHNle3IucHVzaChqW2xdKTt9ci5wdXNoKHEpO319aWYoci5sZW5ndGg+MSl7ci5wb3AoKTt9ci5wdXNoKCJ9Iik7fXJldHVybiByLmpvaW4oIiIpO30sc3Vic3RpdHV0ZTpmdW5jdGlvbih4LHksRSxsKXt2YXIgRCxDLEIsRyx0LHUsRj1bXSxwLHo9eC5sZW5ndGgsQT0iZHVtcCIscj0iICIscT0ieyIsbT0ifSIsbix3O2Zvcig7Oyl7RD14Lmxhc3RJbmRleE9mKHEseik7aWYoRDwwKXticmVhazt9Qz14LmluZGV4T2YobSxEKTtpZihEKzE+Qyl7YnJlYWs7fXA9eC5zdWJzdHJpbmcoRCsxLEMpO0c9cDt1PW51bGw7Qj1HLmluZGV4T2Yocik7aWYoQj4tMSl7dT1HLnN1YnN0cmluZyhCKzEpO0c9Ry5zdWJzdHJpbmcoMCxCKTt9dD15W0ddO2lmKEUpe3Q9RShHLHQsdSk7fWlmKGYuaXNPYmplY3QodCkpe2lmKGYuaXNBcnJheSh0KSl7dD1mLmR1bXAodCxwYXJzZUludCh1LDEwKSk7fWVsc2V7dT11fHwiIjtuPXUuaW5kZXhPZihBKTtpZihuPi0xKXt1PXUuc3Vic3RyaW5nKDQpO313PXQudG9TdHJpbmcoKTtpZih3PT09aXx8bj4tMSl7dD1mLmR1bXAodCxwYXJzZUludCh1LDEwKSk7fWVsc2V7dD13O319fWVsc2V7aWYoIWYuaXNTdHJpbmcodCkmJiFmLmlzTnVtYmVyKHQpKXt0PSJ+LSIrRi5sZW5ndGgrIi1+IjtGW0YubGVuZ3RoXT1wO319eD14LnN1YnN0cmluZygwLEQpK3QreC5zdWJzdHJpbmcoQysxKTtpZihsPT09ZmFsc2Upe3o9RC0xO319Zm9yKEQ9Ri5sZW5ndGgtMTtEPj0wO0Q9RC0xKXt4PXgucmVwbGFjZShuZXcgUmVnRXhwKCJ+LSIrRCsiLX4iKSwieyIrRltEXSsifSIsImciKTt9cmV0dXJuIHg7fSx0cmltOmZ1bmN0aW9uKGope3RyeXtyZXR1cm4gai5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIik7fWNhdGNoKGspe3JldHVybiBqOwp9fSxtZXJnZTpmdW5jdGlvbigpe3ZhciBuPXt9LGs9YXJndW1lbnRzLGo9ay5sZW5ndGgsbTtmb3IobT0wO208ajttPW0rMSl7Zi5hdWdtZW50T2JqZWN0KG4sa1ttXSx0cnVlKTt9cmV0dXJuIG47fSxsYXRlcjpmdW5jdGlvbih0LGssdSxuLHApe3Q9dHx8MDtrPWt8fHt9O3ZhciBsPXUscz1uLHEsajtpZihmLmlzU3RyaW5nKHUpKXtsPWtbdV07fWlmKCFsKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJtZXRob2QgdW5kZWZpbmVkIik7fWlmKCFmLmlzVW5kZWZpbmVkKG4pJiYhZi5pc0FycmF5KHMpKXtzPVtuXTt9cT1mdW5jdGlvbigpe2wuYXBwbHkoayxzfHxiKTt9O2o9KHApP3NldEludGVydmFsKHEsdCk6c2V0VGltZW91dChxLHQpO3JldHVybntpbnRlcnZhbDpwLGNhbmNlbDpmdW5jdGlvbigpe2lmKHRoaXMuaW50ZXJ2YWwpe2NsZWFySW50ZXJ2YWwoaik7fWVsc2V7Y2xlYXJUaW1lb3V0KGopO319fTt9LGlzVmFsdWU6ZnVuY3Rpb24oail7cmV0dXJuKGYuaXNPYmplY3Qoail8fGYuaXNTdHJpbmcoail8fGYuaXNOdW1iZXIoail8fGYuaXNCb29sZWFuKGopKTt9fTtmLmhhc093blByb3BlcnR5PShhLmhhc093blByb3BlcnR5KT9mdW5jdGlvbihqLGspe3JldHVybiBqJiZqLmhhc093blByb3BlcnR5JiZqLmhhc093blByb3BlcnR5KGspO306ZnVuY3Rpb24oaixrKXtyZXR1cm4gIWYuaXNVbmRlZmluZWQoaltrXSkmJmouY29uc3RydWN0b3IucHJvdG90eXBlW2tdIT09altrXTt9O2UuYXVnbWVudE9iamVjdChmLGUsdHJ1ZSk7WUFIT08udXRpbC5MYW5nPWY7Zi5hdWdtZW50PWYuYXVnbWVudFByb3RvO1lBSE9PLmF1Z21lbnQ9Zi5hdWdtZW50UHJvdG87WUFIT08uZXh0ZW5kPWYuZXh0ZW5kO30pKCk7WUFIT08ucmVnaXN0ZXIoInlhaG9vIixZQUhPTyx7dmVyc2lvbjoiMi45LjAiLGJ1aWxkOiIyODAwIn0pOw==",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 9496
        },
        "cache": {},
        "timings": {
          "send": 1,
          "wait": 2,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27305"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.872-06:00",
        "time": 41,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/yui/dom/dom-min.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 330,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:35 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "5739"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 21444,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "LyoKQ29weXJpZ2h0IChjKSAyMDExLCBZYWhvbyEgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLgpDb2RlIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgTGljZW5zZToKaHR0cDovL2RldmVsb3Blci55YWhvby5jb20veXVpL2xpY2Vuc2UuaHRtbAp2ZXJzaW9uOiAyLjkuMAoqLwooZnVuY3Rpb24oKXtZQUhPTy5lbnYuX2lkX2NvdW50ZXI9WUFIT08uZW52Ll9pZF9jb3VudGVyfHwwO3ZhciBlPVlBSE9PLnV0aWwsaz1ZQUhPTy5sYW5nLEw9WUFIT08uZW52LnVhLGE9WUFIT08ubGFuZy50cmltLEI9e30sRj17fSxtPS9edCg/OmFibGV8ZHxoKSQvaSx3PS9jb2xvciQvaSxqPXdpbmRvdy5kb2N1bWVudCx2PWouZG9jdW1lbnRFbGVtZW50LEM9Im93bmVyRG9jdW1lbnQiLE09ImRlZmF1bHRWaWV3IixVPSJkb2N1bWVudEVsZW1lbnQiLFM9ImNvbXBhdE1vZGUiLHo9Im9mZnNldExlZnQiLG89Im9mZnNldFRvcCIsVD0ib2Zmc2V0UGFyZW50Iix4PSJwYXJlbnROb2RlIixLPSJub2RlVHlwZSIsYz0idGFnTmFtZSIsbj0ic2Nyb2xsTGVmdCIsSD0ic2Nyb2xsVG9wIixwPSJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLFY9ImdldENvbXB1dGVkU3R5bGUiLHk9ImN1cnJlbnRTdHlsZSIsbD0iQ1NTMUNvbXBhdCIsQT0iQmFja0NvbXBhdCIsRT0iY2xhc3MiLGY9ImNsYXNzTmFtZSIsaT0iIixiPSIgIixSPSIoPzpefFxccykiLEo9Iig/PSB8JCkiLHQ9ImciLE89InBvc2l0aW9uIixEPSJmaXhlZCIsdT0icmVsYXRpdmUiLEk9ImxlZnQiLE49InRvcCIsUT0ibWVkaXVtIixQPSJib3JkZXJMZWZ0V2lkdGgiLHE9ImJvcmRlclRvcFdpZHRoIixkPUwub3BlcmEsaD1MLndlYmtpdCxnPUwuZ2Vja28scz1MLmllO2UuRG9tPXtDVVNUT01fQVRUUklCVVRFUzooIXYuaGFzQXR0cmlidXRlKT97ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6Zn06eyJodG1sRm9yIjoiZm9yIiwiY2xhc3NOYW1lIjpFfSxET1RfQVRUUklCVVRFUzp7Y2hlY2tlZDp0cnVlfSxnZXQ6ZnVuY3Rpb24oYWEpe3ZhciBhYyxYLGFiLFosVyxHLFk9bnVsbDtpZihhYSl7aWYodHlwZW9mIGFhPT0ic3RyaW5nInx8dHlwZW9mIGFhPT0ibnVtYmVyIil7YWM9YWErIiI7YWE9ai5nZXRFbGVtZW50QnlJZChhYSk7Rz0oYWEpP2FhLmF0dHJpYnV0ZXM6bnVsbDtpZihhYSYmRyYmRy5pZCYmRy5pZC52YWx1ZT09PWFjKXtyZXR1cm4gYWE7fWVsc2V7aWYoYWEmJmouYWxsKXthYT1udWxsO1g9ai5hbGxbYWNdO2lmKFgmJlgubGVuZ3RoKXtmb3IoWj0wLFc9WC5sZW5ndGg7WjxXOysrWil7aWYoWFtaXS5pZD09PWFjKXtyZXR1cm4gWFtaXTt9fX19fX1lbHNle2lmKGUuRWxlbWVudCYmYWEgaW5zdGFuY2VvZiBlLkVsZW1lbnQpe2FhPWFhLmdldCgiZWxlbWVudCIpO31lbHNle2lmKCFhYS5ub2RlVHlwZSYmImxlbmd0aCIgaW4gYWEpe2FiPVtdO2ZvcihaPTAsVz1hYS5sZW5ndGg7WjxXOysrWil7YWJbYWIubGVuZ3RoXT1lLkRvbS5nZXQoYWFbWl0pO31hYT1hYjt9fX1ZPWFhO31yZXR1cm4gWTt9LGdldENvbXB1dGVkU3R5bGU6ZnVuY3Rpb24oRyxXKXtpZih3aW5kb3dbVl0pe3JldHVybiBHW0NdW01dW1ZdKEcsbnVsbClbV107fWVsc2V7aWYoR1t5XSl7cmV0dXJuIGUuRG9tLklFX0NvbXB1dGVkU3R5bGUuZ2V0KEcsVyk7fX19LGdldFN0eWxlOmZ1bmN0aW9uKEcsVyl7cmV0dXJuIGUuRG9tLmJhdGNoKEcsZS5Eb20uX2dldFN0eWxlLFcpO30sX2dldFN0eWxlOmZ1bmN0aW9uKCl7aWYod2luZG93W1ZdKXtyZXR1cm4gZnVuY3Rpb24oRyxZKXtZPShZPT09ImZsb2F0Iik/WT0iY3NzRmxvYXQiOmUuRG9tLl90b0NhbWVsKFkpO3ZhciBYPUcuc3R5bGVbWV0sVztpZighWCl7Vz1HW0NdW01dW1ZdKEcsbnVsbCk7aWYoVyl7WD1XW1ldO319cmV0dXJuIFg7fTt9ZWxzZXtpZih2W3ldKXtyZXR1cm4gZnVuY3Rpb24oRyxZKXt2YXIgWDtzd2l0Y2goWSl7Y2FzZSJvcGFjaXR5IjpYPTEwMDt0cnl7WD1HLmZpbHRlcnNbIkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhIl0ub3BhY2l0eTt9Y2F0Y2goWil7dHJ5e1g9Ry5maWx0ZXJzKCJhbHBoYSIpLm9wYWNpdHk7fWNhdGNoKFcpe319cmV0dXJuIFgvMTAwO2Nhc2UiZmxvYXQiOlk9InN0eWxlRmxvYXQiO2RlZmF1bHQ6WT1lLkRvbS5fdG9DYW1lbChZKTtYPUdbeV0/R1t5XVtZXTpudWxsO3JldHVybihHLnN0eWxlW1ldfHxYKTt9fTt9fX0oKSxzZXRTdHlsZTpmdW5jdGlvbihHLFcsWCl7ZS5Eb20uYmF0Y2goRyxlLkRvbS5fc2V0U3R5bGUse3Byb3A6Vyx2YWw6WH0pO30sX3NldFN0eWxlOmZ1bmN0aW9uKCl7aWYoIXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlJiZqLmRvY3VtZW50RWxlbWVudC5jdXJyZW50U3R5bGUpe3JldHVybiBmdW5jdGlvbihXLEcpe3ZhciBYPWUuRG9tLl90b0NhbWVsKEcucHJvcCksWT1HLnZhbDtpZihXKXtzd2l0Y2goWCl7Y2FzZSJvcGFjaXR5IjppZihZPT09IiJ8fFk9PT1udWxsfHxZPT09MSl7Vy5zdHlsZS5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpO31lbHNle2lmKGsuaXNTdHJpbmcoVy5zdHlsZS5maWx0ZXIpKXtXLnN0eWxlLmZpbHRlcj0iYWxwaGEob3BhY2l0eT0iK1kqMTAwKyIpIjtpZighV1t5XXx8IVdbeV0uaGFzTGF5b3V0KXtXLnN0eWxlLnpvb209MTt9fX1icmVhaztjYXNlImZsb2F0IjpYPSJzdHlsZUZsb2F0IjtkZWZhdWx0Olcuc3R5bGVbWF09WTt9fWVsc2V7fX07fWVsc2V7cmV0dXJuIGZ1bmN0aW9uKFcsRyl7dmFyIFg9ZS5Eb20uX3RvQ2FtZWwoRy5wcm9wKSxZPUcudmFsO2lmKFcpe2lmKFg9PSJmbG9hdCIpe1g9ImNzc0Zsb2F0Ijt9Vy5zdHlsZVtYXT1ZO31lbHNle319O319KCksZ2V0WFk6ZnVuY3Rpb24oRyl7cmV0dXJuIGUuRG9tLmJhdGNoKEcsZS5Eb20uX2dldFhZKTt9LF9jYW5Qb3NpdGlvbjpmdW5jdGlvbihHKXtyZXR1cm4oZS5Eb20uX2dldFN0eWxlKEcsImRpc3BsYXkiKSE9PSJub25lIiYmZS5Eb20uX2luRG9jKEcpKTt9LF9nZXRYWTpmdW5jdGlvbihXKXt2YXIgWCxHLFosYWIsWSxhYSxhYz1NYXRoLnJvdW5kLGFkPWZhbHNlO2lmKGUuRG9tLl9jYW5Qb3NpdGlvbihXKSl7Wj1XW3BdKCk7YWI9V1tDXTtYPWUuRG9tLmdldERvY3VtZW50U2Nyb2xsTGVmdChhYik7Rz1lLkRvbS5nZXREb2N1bWVudFNjcm9sbFRvcChhYik7YWQ9W1pbSV0sWltOXV07aWYoWXx8YWEpe2FkWzBdLT1hYTthZFsxXS09WTt9aWYoKEd8fFgpKXthZFswXSs9WDthZFsxXSs9Rzt9YWRbMF09YWMoYWRbMF0pO2FkWzFdPWFjKGFkWzFdKTt9ZWxzZXt9cmV0dXJuIGFkO30sZ2V0WDpmdW5jdGlvbihHKXt2YXIgVz1mdW5jdGlvbihYKXtyZXR1cm4gZS5Eb20uZ2V0WFkoWClbMF07fTtyZXR1cm4gZS5Eb20uYmF0Y2goRyxXLGUuRG9tLHRydWUpO30sZ2V0WTpmdW5jdGlvbihHKXt2YXIgVz1mdW5jdGlvbihYKXtyZXR1cm4gZS5Eb20uZ2V0WFkoWClbMV07fTtyZXR1cm4gZS5Eb20uYmF0Y2goRyxXLGUuRG9tLHRydWUpO30sc2V0WFk6ZnVuY3Rpb24oRyxYLFcpe2UuRG9tLmJhdGNoKEcsZS5Eb20uX3NldFhZLHtwb3M6WCxub1JldHJ5Old9KTt9LF9zZXRYWTpmdW5jdGlvbihHLFope3ZhciBhYT1lLkRvbS5fZ2V0U3R5bGUoRyxPKSxZPWUuRG9tLnNldFN0eWxlLGFkPVoucG9zLFc9Wi5ub1JldHJ5LGFiPVtwYXJzZUludChlLkRvbS5nZXRDb21wdXRlZFN0eWxlKEcsSSksMTApLHBhcnNlSW50KGUuRG9tLmdldENvbXB1dGVkU3R5bGUoRyxOKSwxMCldLGFjLFg7YWM9ZS5Eb20uX2dldFhZKEcpO2lmKCFhZHx8YWM9PT1mYWxzZSl7cmV0dXJuIGZhbHNlO31pZihhYT09InN0YXRpYyIpe2FhPXU7WShHLE8sYWEpO31pZihpc05hTihhYlswXSkpe2FiWzBdPShhYT09dSk/MDpHW3pdO31pZihpc05hTihhYlsxXSkpe2FiWzFdPShhYT09dSk/MDpHW29dO31pZihhZFswXSE9PW51bGwpe1koRyxJLGFkWzBdLWFjWzBdK2FiWzBdKyJweCIpO31pZihhZFsxXSE9PW51bGwpe1koRyxOLGFkWzFdLWFjWzFdK2FiWzFdKyJweCIpO31pZighVyl7WD1lLkRvbS5fZ2V0WFkoRyk7aWYoKGFkWzBdIT09bnVsbCYmWFswXSE9YWRbMF0pfHwoYWRbMV0hPT1udWxsJiZYWzFdIT1hZFsxXSkpe2UuRG9tLl9zZXRYWShHLHtwb3M6YWQsbm9SZXRyeTp0cnVlfSk7fX19LHNldFg6ZnVuY3Rpb24oVyxHKXtlLkRvbS5zZXRYWShXLFtHLG51bGxdKTt9LHNldFk6ZnVuY3Rpb24oRyxXKXtlLkRvbS5zZXRYWShHLFtudWxsLFddKTt9LGdldFJlZ2lvbjpmdW5jdGlvbihHKXt2YXIgVz1mdW5jdGlvbihYKXt2YXIgWT1mYWxzZTtpZihlLkRvbS5fY2FuUG9zaXRpb24oWCkpe1k9ZS5SZWdpb24uZ2V0UmVnaW9uKFgpO31lbHNle31yZXR1cm4gWTt9O3JldHVybiBlLkRvbS5iYXRjaChHLFcsZS5Eb20sdHJ1ZSk7fSxnZXRDbGllbnRXaWR0aDpmdW5jdGlvbigpe3JldHVybiBlLkRvbS5nZXRWaWV3cG9ydFdpZHRoKCk7fSxnZXRDbGllbnRIZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5Eb20uZ2V0Vmlld3BvcnRIZWlnaHQoKTt9LGdldEVsZW1lbnRzQnlDbGFzc05hbWU6ZnVuY3Rpb24oYWIsYWYsYWMsYWUsWCxhZCl7YWY9YWZ8fCIqIjthYz0oYWMpP2UuRG9tLmdldChhYyk6bnVsbHx8ajtpZighYWMpe3JldHVybltdO312YXIgVz1bXSxHPWFjLmdldEVsZW1lbnRzQnlUYWdOYW1lKGFmKSxaPWUuRG9tLmhhc0NsYXNzO2Zvcih2YXIgWT0wLGFhPUcubGVuZ3RoO1k8YWE7KytZKXtpZihaKEdbWV0sYWIpKXtXW1cubGVuZ3RoXT1HW1ldO319aWYoYWUpe2UuRG9tLmJhdGNoKFcsYWUsWCxhZCk7fXJldHVybiBXO30saGFzQ2xhc3M6ZnVuY3Rpb24oVyxHKXtyZXR1cm4gZS5Eb20uYmF0Y2goVyxlLkRvbS5faGFzQ2xhc3MsRyk7fSxfaGFzQ2xhc3M6ZnVuY3Rpb24oWCxXKXt2YXIgRz1mYWxzZSxZO2lmKFgmJlcpe1k9ZS5Eb20uX2dldEF0dHJpYnV0ZShYLGYpfHxpO2lmKFkpe1k9WS5yZXBsYWNlKC9ccysvZyxiKTt9aWYoVy5leGVjKXtHPVcudGVzdChZKTt9ZWxzZXtHPVcmJihiK1krYikuaW5kZXhPZihiK1crYik+LTE7fX1lbHNle31yZXR1cm4gRzt9LGFkZENsYXNzOmZ1bmN0aW9uKFcsRyl7cmV0dXJuIGUuRG9tLmJhdGNoKFcsZS5Eb20uX2FkZENsYXNzLEcpO30sX2FkZENsYXNzOmZ1bmN0aW9uKFgsVyl7dmFyIEc9ZmFsc2UsWTtpZihYJiZXKXtZPWUuRG9tLl9nZXRBdHRyaWJ1dGUoWCxmKXx8aTtpZighZS5Eb20uX2hhc0NsYXNzKFgsVykpe2UuRG9tLnNldEF0dHJpYnV0ZShYLGYsYShZK2IrVykpO0c9dHJ1ZTt9fWVsc2V7fXJldHVybiBHO30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oVyxHKXtyZXR1cm4gZS5Eb20uYmF0Y2goVyxlLkRvbS5fcmVtb3ZlQ2xhc3MsRyk7fSxfcmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oWSxYKXt2YXIgVz1mYWxzZSxhYSxaLEc7aWYoWSYmWCl7YWE9ZS5Eb20uX2dldEF0dHJpYnV0ZShZLGYpfHxpO2UuRG9tLnNldEF0dHJpYnV0ZShZLGYsYWEucmVwbGFjZShlLkRvbS5fZ2V0Q2xhc3NSZWdleChYKSxpKSk7Wj1lLkRvbS5fZ2V0QXR0cmlidXRlKFksZik7aWYoYWEhPT1aKXtlLkRvbS5zZXRBdHRyaWJ1dGUoWSxmLGEoWikpO1c9dHJ1ZTtpZihlLkRvbS5fZ2V0QXR0cmlidXRlKFksZik9PT0iIil7Rz0oWS5oYXNBdHRyaWJ1dGUmJlkuaGFzQXR0cmlidXRlKEUpKT9FOmY7WS5yZW1vdmVBdHRyaWJ1dGUoRyk7fX19ZWxzZXt9cmV0dXJuIFc7fSxyZXBsYWNlQ2xhc3M6ZnVuY3Rpb24oWCxXLEcpe3JldHVybiBlLkRvbS5iYXRjaChYLGUuRG9tLl9yZXBsYWNlQ2xhc3Mse2Zyb206Vyx0bzpHfSk7fSxfcmVwbGFjZUNsYXNzOmZ1bmN0aW9uKFksWCl7dmFyIFcsYWIsYWEsRz1mYWxzZSxaO2lmKFkmJlgpe2FiPVguZnJvbTthYT1YLnRvO2lmKCFhYSl7Rz1mYWxzZTt9ZWxzZXtpZighYWIpe0c9ZS5Eb20uX2FkZENsYXNzKFksWC50byk7fWVsc2V7aWYoYWIhPT1hYSl7Wj1lLkRvbS5fZ2V0QXR0cmlidXRlKFksZil8fGk7Vz0oYitaLnJlcGxhY2UoZS5Eb20uX2dldENsYXNzUmVnZXgoYWIpLGIrYWEpLnJlcGxhY2UoL1xzKy9nLGIpKS5zcGxpdChlLkRvbS5fZ2V0Q2xhc3NSZWdleChhYSkpO1cuc3BsaWNlKDEsMCxiK2FhKTtlLkRvbS5zZXRBdHRyaWJ1dGUoWSxmLGEoVy5qb2luKGkpKSk7Rz10cnVlO319fX1lbHNle31yZXR1cm4gRzt9LGdlbmVyYXRlSWQ6ZnVuY3Rpb24oRyxYKXtYPVh8fCJ5dWktZ2VuIjt2YXIgVz1mdW5jdGlvbihZKXtpZihZJiZZLmlkKXtyZXR1cm4gWS5pZDt9dmFyIFo9WCtZQUhPTy5lbnYuX2lkX2NvdW50ZXIrKzsKaWYoWSl7aWYoWVtDXSYmWVtDXS5nZXRFbGVtZW50QnlJZChaKSl7cmV0dXJuIGUuRG9tLmdlbmVyYXRlSWQoWSxaK1gpO31ZLmlkPVo7fXJldHVybiBaO307cmV0dXJuIGUuRG9tLmJhdGNoKEcsVyxlLkRvbSx0cnVlKXx8Vy5hcHBseShlLkRvbSxhcmd1bWVudHMpO30saXNBbmNlc3RvcjpmdW5jdGlvbihXLFgpe1c9ZS5Eb20uZ2V0KFcpO1g9ZS5Eb20uZ2V0KFgpO3ZhciBHPWZhbHNlO2lmKChXJiZYKSYmKFdbS10mJlhbS10pKXtpZihXLmNvbnRhaW5zJiZXIT09WCl7Rz1XLmNvbnRhaW5zKFgpO31lbHNle2lmKFcuY29tcGFyZURvY3VtZW50UG9zaXRpb24pe0c9ISEoVy5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihYKSYxNik7fX19ZWxzZXt9cmV0dXJuIEc7fSxpbkRvY3VtZW50OmZ1bmN0aW9uKEcsVyl7cmV0dXJuIGUuRG9tLl9pbkRvYyhlLkRvbS5nZXQoRyksVyk7fSxfaW5Eb2M6ZnVuY3Rpb24oVyxYKXt2YXIgRz1mYWxzZTtpZihXJiZXW2NdKXtYPVh8fFdbQ107Rz1lLkRvbS5pc0FuY2VzdG9yKFhbVV0sVyk7fWVsc2V7fXJldHVybiBHO30sZ2V0RWxlbWVudHNCeTpmdW5jdGlvbihXLGFmLGFiLGFkLFgsYWMsYWUpe2FmPWFmfHwiKiI7YWI9KGFiKT9lLkRvbS5nZXQoYWIpOm51bGx8fGo7dmFyIGFhPShhZSk/bnVsbDpbXSxHO2lmKGFiKXtHPWFiLmdldEVsZW1lbnRzQnlUYWdOYW1lKGFmKTtmb3IodmFyIFk9MCxaPUcubGVuZ3RoO1k8WjsrK1kpe2lmKFcoR1tZXSkpe2lmKGFlKXthYT1HW1ldO2JyZWFrO31lbHNle2FhW2FhLmxlbmd0aF09R1tZXTt9fX1pZihhZCl7ZS5Eb20uYmF0Y2goYWEsYWQsWCxhYyk7fX1yZXR1cm4gYWE7fSxnZXRFbGVtZW50Qnk6ZnVuY3Rpb24oWCxHLFcpe3JldHVybiBlLkRvbS5nZXRFbGVtZW50c0J5KFgsRyxXLG51bGwsbnVsbCxudWxsLHRydWUpO30sYmF0Y2g6ZnVuY3Rpb24oWCxhYixhYSxaKXt2YXIgWT1bXSxXPShaKT9hYTpudWxsO1g9KFgmJihYW2NdfHxYLml0ZW0pKT9YOmUuRG9tLmdldChYKTtpZihYJiZhYil7aWYoWFtjXXx8WC5sZW5ndGg9PT11bmRlZmluZWQpe3JldHVybiBhYi5jYWxsKFcsWCxhYSk7fWZvcih2YXIgRz0wO0c8WC5sZW5ndGg7KytHKXtZW1kubGVuZ3RoXT1hYi5jYWxsKFd8fFhbR10sWFtHXSxhYSk7fX1lbHNle3JldHVybiBmYWxzZTt9cmV0dXJuIFk7fSxnZXREb2N1bWVudEhlaWdodDpmdW5jdGlvbigpe3ZhciBXPShqW1NdIT1sfHxoKT9qLmJvZHkuc2Nyb2xsSGVpZ2h0OnYuc2Nyb2xsSGVpZ2h0LEc9TWF0aC5tYXgoVyxlLkRvbS5nZXRWaWV3cG9ydEhlaWdodCgpKTtyZXR1cm4gRzt9LGdldERvY3VtZW50V2lkdGg6ZnVuY3Rpb24oKXt2YXIgVz0oaltTXSE9bHx8aCk/ai5ib2R5LnNjcm9sbFdpZHRoOnYuc2Nyb2xsV2lkdGgsRz1NYXRoLm1heChXLGUuRG9tLmdldFZpZXdwb3J0V2lkdGgoKSk7cmV0dXJuIEc7fSxnZXRWaWV3cG9ydEhlaWdodDpmdW5jdGlvbigpe3ZhciBHPXNlbGYuaW5uZXJIZWlnaHQsVz1qW1NdO2lmKChXfHxzKSYmIWQpe0c9KFc9PWwpP3YuY2xpZW50SGVpZ2h0OmouYm9keS5jbGllbnRIZWlnaHQ7fXJldHVybiBHO30sZ2V0Vmlld3BvcnRXaWR0aDpmdW5jdGlvbigpe3ZhciBHPXNlbGYuaW5uZXJXaWR0aCxXPWpbU107aWYoV3x8cyl7Rz0oVz09bCk/di5jbGllbnRXaWR0aDpqLmJvZHkuY2xpZW50V2lkdGg7fXJldHVybiBHO30sZ2V0QW5jZXN0b3JCeTpmdW5jdGlvbihHLFcpe3doaWxlKChHPUdbeF0pKXtpZihlLkRvbS5fdGVzdEVsZW1lbnQoRyxXKSl7cmV0dXJuIEc7fX1yZXR1cm4gbnVsbDt9LGdldEFuY2VzdG9yQnlDbGFzc05hbWU6ZnVuY3Rpb24oVyxHKXtXPWUuRG9tLmdldChXKTtpZighVyl7cmV0dXJuIG51bGw7fXZhciBYPWZ1bmN0aW9uKFkpe3JldHVybiBlLkRvbS5oYXNDbGFzcyhZLEcpO307cmV0dXJuIGUuRG9tLmdldEFuY2VzdG9yQnkoVyxYKTt9LGdldEFuY2VzdG9yQnlUYWdOYW1lOmZ1bmN0aW9uKFcsRyl7Vz1lLkRvbS5nZXQoVyk7aWYoIVcpe3JldHVybiBudWxsO312YXIgWD1mdW5jdGlvbihZKXtyZXR1cm4gWVtjXSYmWVtjXS50b1VwcGVyQ2FzZSgpPT1HLnRvVXBwZXJDYXNlKCk7fTtyZXR1cm4gZS5Eb20uZ2V0QW5jZXN0b3JCeShXLFgpO30sZ2V0UHJldmlvdXNTaWJsaW5nQnk6ZnVuY3Rpb24oRyxXKXt3aGlsZShHKXtHPUcucHJldmlvdXNTaWJsaW5nO2lmKGUuRG9tLl90ZXN0RWxlbWVudChHLFcpKXtyZXR1cm4gRzt9fXJldHVybiBudWxsO30sZ2V0UHJldmlvdXNTaWJsaW5nOmZ1bmN0aW9uKEcpe0c9ZS5Eb20uZ2V0KEcpO2lmKCFHKXtyZXR1cm4gbnVsbDt9cmV0dXJuIGUuRG9tLmdldFByZXZpb3VzU2libGluZ0J5KEcpO30sZ2V0TmV4dFNpYmxpbmdCeTpmdW5jdGlvbihHLFcpe3doaWxlKEcpe0c9Ry5uZXh0U2libGluZztpZihlLkRvbS5fdGVzdEVsZW1lbnQoRyxXKSl7cmV0dXJuIEc7fX1yZXR1cm4gbnVsbDt9LGdldE5leHRTaWJsaW5nOmZ1bmN0aW9uKEcpe0c9ZS5Eb20uZ2V0KEcpO2lmKCFHKXtyZXR1cm4gbnVsbDt9cmV0dXJuIGUuRG9tLmdldE5leHRTaWJsaW5nQnkoRyk7fSxnZXRGaXJzdENoaWxkQnk6ZnVuY3Rpb24oRyxYKXt2YXIgVz0oZS5Eb20uX3Rlc3RFbGVtZW50KEcuZmlyc3RDaGlsZCxYKSk/Ry5maXJzdENoaWxkOm51bGw7cmV0dXJuIFd8fGUuRG9tLmdldE5leHRTaWJsaW5nQnkoRy5maXJzdENoaWxkLFgpO30sZ2V0Rmlyc3RDaGlsZDpmdW5jdGlvbihHLFcpe0c9ZS5Eb20uZ2V0KEcpO2lmKCFHKXtyZXR1cm4gbnVsbDt9cmV0dXJuIGUuRG9tLmdldEZpcnN0Q2hpbGRCeShHKTt9LGdldExhc3RDaGlsZEJ5OmZ1bmN0aW9uKEcsWCl7aWYoIUcpe3JldHVybiBudWxsO312YXIgVz0oZS5Eb20uX3Rlc3RFbGVtZW50KEcubGFzdENoaWxkLFgpKT9HLmxhc3RDaGlsZDpudWxsO3JldHVybiBXfHxlLkRvbS5nZXRQcmV2aW91c1NpYmxpbmdCeShHLmxhc3RDaGlsZCxYKTt9LGdldExhc3RDaGlsZDpmdW5jdGlvbihHKXtHPWUuRG9tLmdldChHKTtyZXR1cm4gZS5Eb20uZ2V0TGFzdENoaWxkQnkoRyk7fSxnZXRDaGlsZHJlbkJ5OmZ1bmN0aW9uKFcsWSl7dmFyIFg9ZS5Eb20uZ2V0Rmlyc3RDaGlsZEJ5KFcsWSksRz1YP1tYXTpbXTtlLkRvbS5nZXROZXh0U2libGluZ0J5KFgsZnVuY3Rpb24oWil7aWYoIVl8fFkoWikpe0dbRy5sZW5ndGhdPVo7fXJldHVybiBmYWxzZTt9KTtyZXR1cm4gRzt9LGdldENoaWxkcmVuOmZ1bmN0aW9uKEcpe0c9ZS5Eb20uZ2V0KEcpO2lmKCFHKXt9cmV0dXJuIGUuRG9tLmdldENoaWxkcmVuQnkoRyk7fSxnZXREb2N1bWVudFNjcm9sbExlZnQ6ZnVuY3Rpb24oRyl7Rz1HfHxqO3JldHVybiBNYXRoLm1heChHW1VdLnNjcm9sbExlZnQsRy5ib2R5LnNjcm9sbExlZnQpO30sZ2V0RG9jdW1lbnRTY3JvbGxUb3A6ZnVuY3Rpb24oRyl7Rz1HfHxqO3JldHVybiBNYXRoLm1heChHW1VdLnNjcm9sbFRvcCxHLmJvZHkuc2Nyb2xsVG9wKTt9LGluc2VydEJlZm9yZTpmdW5jdGlvbihXLEcpe1c9ZS5Eb20uZ2V0KFcpO0c9ZS5Eb20uZ2V0KEcpO2lmKCFXfHwhR3x8IUdbeF0pe3JldHVybiBudWxsO31yZXR1cm4gR1t4XS5pbnNlcnRCZWZvcmUoVyxHKTt9LGluc2VydEFmdGVyOmZ1bmN0aW9uKFcsRyl7Vz1lLkRvbS5nZXQoVyk7Rz1lLkRvbS5nZXQoRyk7aWYoIVd8fCFHfHwhR1t4XSl7cmV0dXJuIG51bGw7fWlmKEcubmV4dFNpYmxpbmcpe3JldHVybiBHW3hdLmluc2VydEJlZm9yZShXLEcubmV4dFNpYmxpbmcpO31lbHNle3JldHVybiBHW3hdLmFwcGVuZENoaWxkKFcpO319LGdldENsaWVudFJlZ2lvbjpmdW5jdGlvbigpe3ZhciBYPWUuRG9tLmdldERvY3VtZW50U2Nyb2xsVG9wKCksVz1lLkRvbS5nZXREb2N1bWVudFNjcm9sbExlZnQoKSxZPWUuRG9tLmdldFZpZXdwb3J0V2lkdGgoKStXLEc9ZS5Eb20uZ2V0Vmlld3BvcnRIZWlnaHQoKStYO3JldHVybiBuZXcgZS5SZWdpb24oWCxZLEcsVyk7fSxzZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oVyxHLFgpe2UuRG9tLmJhdGNoKFcsZS5Eb20uX3NldEF0dHJpYnV0ZSx7YXR0cjpHLHZhbDpYfSk7fSxfc2V0QXR0cmlidXRlOmZ1bmN0aW9uKFgsVyl7dmFyIEc9ZS5Eb20uX3RvQ2FtZWwoVy5hdHRyKSxZPVcudmFsO2lmKFgmJlguc2V0QXR0cmlidXRlKXtpZihlLkRvbS5ET1RfQVRUUklCVVRFU1tHXSYmWC50YWdOYW1lJiZYLnRhZ05hbWUhPSJCVVRUT04iKXtYW0ddPVk7fWVsc2V7Rz1lLkRvbS5DVVNUT01fQVRUUklCVVRFU1tHXXx8RztYLnNldEF0dHJpYnV0ZShHLFkpO319ZWxzZXt9fSxnZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oVyxHKXtyZXR1cm4gZS5Eb20uYmF0Y2goVyxlLkRvbS5fZ2V0QXR0cmlidXRlLEcpO30sX2dldEF0dHJpYnV0ZTpmdW5jdGlvbihXLEcpe3ZhciBYO0c9ZS5Eb20uQ1VTVE9NX0FUVFJJQlVURVNbR118fEc7aWYoZS5Eb20uRE9UX0FUVFJJQlVURVNbR10pe1g9V1tHXTt9ZWxzZXtpZihXJiYiZ2V0QXR0cmlidXRlIiBpbiBXKXtpZigvXig/OmhyZWZ8c3JjKSQvLnRlc3QoRykpe1g9Vy5nZXRBdHRyaWJ1dGUoRywyKTt9ZWxzZXtYPVcuZ2V0QXR0cmlidXRlKEcpO319ZWxzZXt9fXJldHVybiBYO30sX3RvQ2FtZWw6ZnVuY3Rpb24oVyl7dmFyIFg9QjtmdW5jdGlvbiBHKFksWil7cmV0dXJuIFoudG9VcHBlckNhc2UoKTt9cmV0dXJuIFhbV118fChYW1ddPVcuaW5kZXhPZigiLSIpPT09LTE/VzpXLnJlcGxhY2UoLy0oW2Etel0pL2dpLEcpKTt9LF9nZXRDbGFzc1JlZ2V4OmZ1bmN0aW9uKFcpe3ZhciBHO2lmKFchPT11bmRlZmluZWQpe2lmKFcuZXhlYyl7Rz1XO31lbHNle0c9RltXXTtpZighRyl7Vz1XLnJlcGxhY2UoZS5Eb20uX3BhdHRlcm5zLkNMQVNTX1JFX1RPS0VOUywiXFwkMSIpO1c9Vy5yZXBsYWNlKC9ccysvZyxiKTtHPUZbV109bmV3IFJlZ0V4cChSK1crSix0KTt9fX1yZXR1cm4gRzt9LF9wYXR0ZXJuczp7Uk9PVF9UQUc6L15ib2R5fGh0bWwkL2ksQ0xBU1NfUkVfVE9LRU5TOi8oW1wuXChcKVxeXCRcKlwrXD9cfFxbXF1ce1x9XFxdKS9nfSxfdGVzdEVsZW1lbnQ6ZnVuY3Rpb24oRyxXKXtyZXR1cm4gRyYmR1tLXT09MSYmKCFXfHxXKEcpKTt9LF9jYWxjQm9yZGVyczpmdW5jdGlvbihYLFkpe3ZhciBXPXBhcnNlSW50KGUuRG9tW1ZdKFgscSksMTApfHwwLEc9cGFyc2VJbnQoZS5Eb21bVl0oWCxQKSwxMCl8fDA7aWYoZyl7aWYobS50ZXN0KFhbY10pKXtXPTA7Rz0wO319WVswXSs9RztZWzFdKz1XO3JldHVybiBZO319O3ZhciByPWUuRG9tW1ZdO2lmKEwub3BlcmEpe2UuRG9tW1ZdPWZ1bmN0aW9uKFcsRyl7dmFyIFg9cihXLEcpO2lmKHcudGVzdChHKSl7WD1lLkRvbS5Db2xvci50b1JHQihYKTt9cmV0dXJuIFg7fTt9aWYoTC53ZWJraXQpe2UuRG9tW1ZdPWZ1bmN0aW9uKFcsRyl7dmFyIFg9cihXLEcpO2lmKFg9PT0icmdiYSgwLCAwLCAwLCAwKSIpe1g9InRyYW5zcGFyZW50Ijt9cmV0dXJuIFg7fTt9aWYoTC5pZSYmTC5pZT49OCl7ZS5Eb20uRE9UX0FUVFJJQlVURVMudHlwZT10cnVlO319KSgpO1lBSE9PLnV0aWwuUmVnaW9uPWZ1bmN0aW9uKGQsZSxhLGMpe3RoaXMudG9wPWQ7dGhpcy55PWQ7dGhpc1sxXT1kO3RoaXMucmlnaHQ9ZTt0aGlzLmJvdHRvbT1hO3RoaXMubGVmdD1jO3RoaXMueD1jO3RoaXNbMF09Yzt0aGlzLndpZHRoPXRoaXMucmlnaHQtdGhpcy5sZWZ0O3RoaXMuaGVpZ2h0PXRoaXMuYm90dG9tLXRoaXMudG9wO307WUFIT08udXRpbC5SZWdpb24ucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGEpe3JldHVybihhLmxlZnQ+PXRoaXMubGVmdCYmYS5yaWdodDw9dGhpcy5yaWdodCYmYS50b3A+PXRoaXMudG9wJiZhLmJvdHRvbTw9dGhpcy5ib3R0b20pO307WUFIT08udXRpbC5SZWdpb24ucHJvdG90eXBlLmdldEFyZWE9ZnVuY3Rpb24oKXtyZXR1cm4oKHRoaXMuYm90dG9tLXRoaXMudG9wKSoodGhpcy5yaWdodC10aGlzLmxlZnQpKTt9O1lBSE9PLnV0aWwuUmVnaW9uLnByb3RvdHlwZS5pbnRlcnNlY3Q9ZnVuY3Rpb24oZil7dmFyIGQ9TWF0aC5tYXgodGhpcy50b3AsZi50b3ApLGU9TWF0aC5taW4odGhpcy5yaWdodCxmLnJpZ2h0KSxhPU1hdGgubWluKHRoaXMuYm90dG9tLGYuYm90dG9tKSxjPU1hdGgubWF4KHRoaXMubGVmdCxmLmxlZnQpOwppZihhPj1kJiZlPj1jKXtyZXR1cm4gbmV3IFlBSE9PLnV0aWwuUmVnaW9uKGQsZSxhLGMpO31lbHNle3JldHVybiBudWxsO319O1lBSE9PLnV0aWwuUmVnaW9uLnByb3RvdHlwZS51bmlvbj1mdW5jdGlvbihmKXt2YXIgZD1NYXRoLm1pbih0aGlzLnRvcCxmLnRvcCksZT1NYXRoLm1heCh0aGlzLnJpZ2h0LGYucmlnaHQpLGE9TWF0aC5tYXgodGhpcy5ib3R0b20sZi5ib3R0b20pLGM9TWF0aC5taW4odGhpcy5sZWZ0LGYubGVmdCk7cmV0dXJuIG5ldyBZQUhPTy51dGlsLlJlZ2lvbihkLGUsYSxjKTt9O1lBSE9PLnV0aWwuUmVnaW9uLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybigiUmVnaW9uIHsiKyJ0b3A6ICIrdGhpcy50b3ArIiwgcmlnaHQ6ICIrdGhpcy5yaWdodCsiLCBib3R0b206ICIrdGhpcy5ib3R0b20rIiwgbGVmdDogIit0aGlzLmxlZnQrIiwgaGVpZ2h0OiAiK3RoaXMuaGVpZ2h0KyIsIHdpZHRoOiAiK3RoaXMud2lkdGgrIn0iKTt9O1lBSE9PLnV0aWwuUmVnaW9uLmdldFJlZ2lvbj1mdW5jdGlvbihlKXt2YXIgZz1ZQUhPTy51dGlsLkRvbS5nZXRYWShlKSxkPWdbMV0sZj1nWzBdK2Uub2Zmc2V0V2lkdGgsYT1nWzFdK2Uub2Zmc2V0SGVpZ2h0LGM9Z1swXTtyZXR1cm4gbmV3IFlBSE9PLnV0aWwuUmVnaW9uKGQsZixhLGMpO307WUFIT08udXRpbC5Qb2ludD1mdW5jdGlvbihhLGIpe2lmKFlBSE9PLmxhbmcuaXNBcnJheShhKSl7Yj1hWzFdO2E9YVswXTt9WUFIT08udXRpbC5Qb2ludC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxiLGEsYixhKTt9O1lBSE9PLmV4dGVuZChZQUhPTy51dGlsLlBvaW50LFlBSE9PLnV0aWwuUmVnaW9uKTsoZnVuY3Rpb24oKXt2YXIgYj1ZQUhPTy51dGlsLGE9ImNsaWVudFRvcCIsZj0iY2xpZW50TGVmdCIsaj0icGFyZW50Tm9kZSIsaz0icmlnaHQiLHc9Imhhc0xheW91dCIsaT0icHgiLHU9Im9wYWNpdHkiLGw9ImF1dG8iLGQ9ImJvcmRlckxlZnRXaWR0aCIsZz0iYm9yZGVyVG9wV2lkdGgiLHA9ImJvcmRlclJpZ2h0V2lkdGgiLHY9ImJvcmRlckJvdHRvbVdpZHRoIixzPSJ2aXNpYmxlIixxPSJ0cmFuc3BhcmVudCIsbj0iaGVpZ2h0IixlPSJ3aWR0aCIsaD0ic3R5bGUiLHQ9ImN1cnJlbnRTdHlsZSIscj0vXndpZHRofGhlaWdodCQvLG89L14oXGRbLlxkXSopKyhlbXxleHxweHxnZHxyZW18dnd8dmh8dm18Y2h8bW18Y218aW58cHR8cGN8ZGVnfHJhZHxtc3xzfGh6fGtoenwlKXsxfT8vaSxtPXtnZXQ6ZnVuY3Rpb24oeCx6KXt2YXIgeT0iIixBPXhbdF1bel07aWYoej09PXUpe3k9Yi5Eb20uZ2V0U3R5bGUoeCx1KTt9ZWxzZXtpZighQXx8KEEuaW5kZXhPZiYmQS5pbmRleE9mKGkpPi0xKSl7eT1BO31lbHNle2lmKGIuRG9tLklFX0NPTVBVVEVEW3pdKXt5PWIuRG9tLklFX0NPTVBVVEVEW3pdKHgseik7fWVsc2V7aWYoby50ZXN0KEEpKXt5PWIuRG9tLklFLkNvbXB1dGVkU3R5bGUuZ2V0UGl4ZWwoeCx6KTt9ZWxzZXt5PUE7fX19fXJldHVybiB5O30sZ2V0T2Zmc2V0OmZ1bmN0aW9uKHosRSl7dmFyIEI9elt0XVtFXSx4PUUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrRS5zdWJzdHIoMSksQz0ib2Zmc2V0Iit4LHk9InBpeGVsIit4LEE9IiIsRDtpZihCPT1sKXtEPXpbQ107aWYoRD09PXVuZGVmaW5lZCl7QT0wO31BPUQ7aWYoci50ZXN0KEUpKXt6W2hdW0VdPUQ7aWYoeltDXT5EKXtBPUQtKHpbQ10tRCk7fXpbaF1bRV09bDt9fWVsc2V7aWYoIXpbaF1beV0mJiF6W2hdW0VdKXt6W2hdW0VdPUI7fUE9eltoXVt5XTt9cmV0dXJuIEEraTt9LGdldEJvcmRlcldpZHRoOmZ1bmN0aW9uKHgseil7dmFyIHk9bnVsbDtpZigheFt0XVt3XSl7eFtoXS56b29tPTE7fXN3aXRjaCh6KXtjYXNlIGc6eT14W2FdO2JyZWFrO2Nhc2Ugdjp5PXgub2Zmc2V0SGVpZ2h0LXguY2xpZW50SGVpZ2h0LXhbYV07YnJlYWs7Y2FzZSBkOnk9eFtmXTticmVhaztjYXNlIHA6eT14Lm9mZnNldFdpZHRoLXguY2xpZW50V2lkdGgteFtmXTticmVhazt9cmV0dXJuIHkraTt9LGdldFBpeGVsOmZ1bmN0aW9uKHkseCl7dmFyIEE9bnVsbCxCPXlbdF1ba10sej15W3RdW3hdO3lbaF1ba109ejtBPXlbaF0ucGl4ZWxSaWdodDt5W2hdW2tdPUI7cmV0dXJuIEEraTt9LGdldE1hcmdpbjpmdW5jdGlvbih5LHgpe3ZhciB6O2lmKHlbdF1beF09PWwpe3o9MCtpO31lbHNle3o9Yi5Eb20uSUUuQ29tcHV0ZWRTdHlsZS5nZXRQaXhlbCh5LHgpO31yZXR1cm4gejt9LGdldFZpc2liaWxpdHk6ZnVuY3Rpb24oeSx4KXt2YXIgejt3aGlsZSgoej15W3RdKSYmelt4XT09ImluaGVyaXQiKXt5PXlbal07fXJldHVybih6KT96W3hdOnM7fSxnZXRDb2xvcjpmdW5jdGlvbih5LHgpe3JldHVybiBiLkRvbS5Db2xvci50b1JHQih5W3RdW3hdKXx8cTt9LGdldEJvcmRlckNvbG9yOmZ1bmN0aW9uKHkseCl7dmFyIHo9eVt0XSxBPXpbeF18fHouY29sb3I7cmV0dXJuIGIuRG9tLkNvbG9yLnRvUkdCKGIuRG9tLkNvbG9yLnRvSGV4KEEpKTt9fSxjPXt9O2MudG9wPWMucmlnaHQ9Yy5ib3R0b209Yy5sZWZ0PWNbZV09Y1tuXT1tLmdldE9mZnNldDtjLmNvbG9yPW0uZ2V0Q29sb3I7Y1tnXT1jW3BdPWNbdl09Y1tkXT1tLmdldEJvcmRlcldpZHRoO2MubWFyZ2luVG9wPWMubWFyZ2luUmlnaHQ9Yy5tYXJnaW5Cb3R0b209Yy5tYXJnaW5MZWZ0PW0uZ2V0TWFyZ2luO2MudmlzaWJpbGl0eT1tLmdldFZpc2liaWxpdHk7Yy5ib3JkZXJDb2xvcj1jLmJvcmRlclRvcENvbG9yPWMuYm9yZGVyUmlnaHRDb2xvcj1jLmJvcmRlckJvdHRvbUNvbG9yPWMuYm9yZGVyTGVmdENvbG9yPW0uZ2V0Qm9yZGVyQ29sb3I7Yi5Eb20uSUVfQ09NUFVURUQ9YztiLkRvbS5JRV9Db21wdXRlZFN0eWxlPW07fSkoKTsoZnVuY3Rpb24oKXt2YXIgYz0idG9TdHJpbmciLGE9cGFyc2VJbnQsYj1SZWdFeHAsZD1ZQUhPTy51dGlsO2QuRG9tLkNvbG9yPXtLRVlXT1JEUzp7YmxhY2s6IjAwMCIsc2lsdmVyOiJjMGMwYzAiLGdyYXk6IjgwODA4MCIsd2hpdGU6ImZmZiIsbWFyb29uOiI4MDAwMDAiLHJlZDoiZjAwIixwdXJwbGU6IjgwMDA4MCIsZnVjaHNpYToiZjBmIixncmVlbjoiMDA4MDAwIixsaW1lOiIwZjAiLG9saXZlOiI4MDgwMDAiLHllbGxvdzoiZmYwIixuYXZ5OiIwMDAwODAiLGJsdWU6IjAwZiIsdGVhbDoiMDA4MDgwIixhcXVhOiIwZmYifSxyZV9SR0I6L15yZ2JcKChbMC05XSspXHMqLFxzKihbMC05XSspXHMqLFxzKihbMC05XSspXCkkL2kscmVfaGV4Oi9eIz8oWzAtOUEtRl17Mn0pKFswLTlBLUZdezJ9KShbMC05QS1GXXsyfSkkL2kscmVfaGV4MzovKFswLTlBLUZdKS9naSx0b1JHQjpmdW5jdGlvbihlKXtpZighZC5Eb20uQ29sb3IucmVfUkdCLnRlc3QoZSkpe2U9ZC5Eb20uQ29sb3IudG9IZXgoZSk7fWlmKGQuRG9tLkNvbG9yLnJlX2hleC5leGVjKGUpKXtlPSJyZ2IoIitbYShiLiQxLDE2KSxhKGIuJDIsMTYpLGEoYi4kMywxNildLmpvaW4oIiwgIikrIikiO31yZXR1cm4gZTt9LHRvSGV4OmZ1bmN0aW9uKGYpe2Y9ZC5Eb20uQ29sb3IuS0VZV09SRFNbZl18fGY7aWYoZC5Eb20uQ29sb3IucmVfUkdCLmV4ZWMoZikpe2Y9W051bWJlcihiLiQxKS50b1N0cmluZygxNiksTnVtYmVyKGIuJDIpLnRvU3RyaW5nKDE2KSxOdW1iZXIoYi4kMykudG9TdHJpbmcoMTYpXTtmb3IodmFyIGU9MDtlPGYubGVuZ3RoO2UrKyl7aWYoZltlXS5sZW5ndGg8Mil7ZltlXT0iMCIrZltlXTt9fWY9Zi5qb2luKCIiKTt9aWYoZi5sZW5ndGg8Nil7Zj1mLnJlcGxhY2UoZC5Eb20uQ29sb3IucmVfaGV4MywiJDEkMSIpO31pZihmIT09InRyYW5zcGFyZW50IiYmZi5pbmRleE9mKCIjIik8MCl7Zj0iIyIrZjt9cmV0dXJuIGYudG9VcHBlckNhc2UoKTt9fTt9KCkpO1lBSE9PLnJlZ2lzdGVyKCJkb20iLFlBSE9PLnV0aWwuRG9tLHt2ZXJzaW9uOiIyLjkuMCIsYnVpbGQ6IjI4MDAifSk7",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 21444
        },
        "cache": {},
        "timings": {
          "send": 0,
          "wait": 3,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27305"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.872-06:00",
        "time": 44,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/yui/event/event-min.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 334,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:35 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "5146"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 19440,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "LyoKQ29weXJpZ2h0IChjKSAyMDExLCBZYWhvbyEgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLgpDb2RlIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgTGljZW5zZToKaHR0cDovL2RldmVsb3Blci55YWhvby5jb20veXVpL2xpY2Vuc2UuaHRtbAp2ZXJzaW9uOiAyLjkuMAoqLwpZQUhPTy51dGlsLkN1c3RvbUV2ZW50PWZ1bmN0aW9uKGQsYyxiLGEsZSl7dGhpcy50eXBlPWQ7dGhpcy5zY29wZT1jfHx3aW5kb3c7dGhpcy5zaWxlbnQ9Yjt0aGlzLmZpcmVPbmNlPWU7dGhpcy5maXJlZD1mYWxzZTt0aGlzLmZpcmVkV2l0aD1udWxsO3RoaXMuc2lnbmF0dXJlPWF8fFlBSE9PLnV0aWwuQ3VzdG9tRXZlbnQuTElTVDt0aGlzLnN1YnNjcmliZXJzPVtdO2lmKCF0aGlzLnNpbGVudCl7fXZhciBmPSJfWVVJQ0VPblN1YnNjcmliZSI7aWYoZCE9PWYpe3RoaXMuc3Vic2NyaWJlRXZlbnQ9bmV3IFlBSE9PLnV0aWwuQ3VzdG9tRXZlbnQoZix0aGlzLHRydWUpO310aGlzLmxhc3RFcnJvcj1udWxsO307WUFIT08udXRpbC5DdXN0b21FdmVudC5MSVNUPTA7WUFIT08udXRpbC5DdXN0b21FdmVudC5GTEFUPTE7WUFIT08udXRpbC5DdXN0b21FdmVudC5wcm90b3R5cGU9e3N1YnNjcmliZTpmdW5jdGlvbihiLGMsZCl7aWYoIWIpe3Rocm93IG5ldyBFcnJvcigiSW52YWxpZCBjYWxsYmFjayBmb3Igc3Vic2NyaWJlciB0byAnIit0aGlzLnR5cGUrIiciKTt9aWYodGhpcy5zdWJzY3JpYmVFdmVudCl7dGhpcy5zdWJzY3JpYmVFdmVudC5maXJlKGIsYyxkKTt9dmFyIGE9bmV3IFlBSE9PLnV0aWwuU3Vic2NyaWJlcihiLGMsZCk7aWYodGhpcy5maXJlT25jZSYmdGhpcy5maXJlZCl7dGhpcy5ub3RpZnkoYSx0aGlzLmZpcmVkV2l0aCk7fWVsc2V7dGhpcy5zdWJzY3JpYmVycy5wdXNoKGEpO319LHVuc3Vic2NyaWJlOmZ1bmN0aW9uKGQsZil7aWYoIWQpe3JldHVybiB0aGlzLnVuc3Vic2NyaWJlQWxsKCk7fXZhciBlPWZhbHNlO2Zvcih2YXIgYj0wLGE9dGhpcy5zdWJzY3JpYmVycy5sZW5ndGg7YjxhOysrYil7dmFyIGM9dGhpcy5zdWJzY3JpYmVyc1tiXTtpZihjJiZjLmNvbnRhaW5zKGQsZikpe3RoaXMuX2RlbGV0ZShiKTtlPXRydWU7fX1yZXR1cm4gZTt9LGZpcmU6ZnVuY3Rpb24oKXt0aGlzLmxhc3RFcnJvcj1udWxsO3ZhciBoPVtdLGE9dGhpcy5zdWJzY3JpYmVycy5sZW5ndGg7dmFyIGQ9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCksYz10cnVlLGYsYj1mYWxzZTtpZih0aGlzLmZpcmVPbmNlKXtpZih0aGlzLmZpcmVkKXtyZXR1cm4gdHJ1ZTt9ZWxzZXt0aGlzLmZpcmVkV2l0aD1kO319dGhpcy5maXJlZD10cnVlO2lmKCFhJiZ0aGlzLnNpbGVudCl7cmV0dXJuIHRydWU7fWlmKCF0aGlzLnNpbGVudCl7fXZhciBlPXRoaXMuc3Vic2NyaWJlcnMuc2xpY2UoKTtmb3IoZj0wO2Y8YTsrK2Ype3ZhciBnPWVbZl07aWYoIWd8fCFnLmZuKXtiPXRydWU7fWVsc2V7Yz10aGlzLm5vdGlmeShnLGQpO2lmKGZhbHNlPT09Yyl7aWYoIXRoaXMuc2lsZW50KXt9YnJlYWs7fX19cmV0dXJuKGMhPT1mYWxzZSk7fSxub3RpZnk6ZnVuY3Rpb24oZyxjKXt2YXIgYixpPW51bGwsZj1nLmdldFNjb3BlKHRoaXMuc2NvcGUpLGE9WUFIT08udXRpbC5FdmVudC50aHJvd0Vycm9ycztpZighdGhpcy5zaWxlbnQpe31pZih0aGlzLnNpZ25hdHVyZT09WUFIT08udXRpbC5DdXN0b21FdmVudC5GTEFUKXtpZihjLmxlbmd0aD4wKXtpPWNbMF07fXRyeXtiPWcuZm4uY2FsbChmLGksZy5vYmopO31jYXRjaChoKXt0aGlzLmxhc3RFcnJvcj1oO2lmKGEpe3Rocm93IGg7fX19ZWxzZXt0cnl7Yj1nLmZuLmNhbGwoZix0aGlzLnR5cGUsYyxnLm9iaik7fWNhdGNoKGQpe3RoaXMubGFzdEVycm9yPWQ7aWYoYSl7dGhyb3cgZDt9fX1yZXR1cm4gYjt9LHVuc3Vic2NyaWJlQWxsOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdWJzY3JpYmVycy5sZW5ndGgsYjtmb3IoYj1hLTE7Yj4tMTtiLS0pe3RoaXMuX2RlbGV0ZShiKTt9dGhpcy5zdWJzY3JpYmVycz1bXTtyZXR1cm4gYTt9LF9kZWxldGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zdWJzY3JpYmVyc1thXTtpZihiKXtkZWxldGUgYi5mbjtkZWxldGUgYi5vYmo7fXRoaXMuc3Vic2NyaWJlcnMuc3BsaWNlKGEsMSk7fSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJDdXN0b21FdmVudDogIisiJyIrdGhpcy50eXBlKyInLCAiKyJjb250ZXh0OiAiK3RoaXMuc2NvcGU7fX07WUFIT08udXRpbC5TdWJzY3JpYmVyPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmZuPWE7dGhpcy5vYmo9WUFIT08ubGFuZy5pc1VuZGVmaW5lZChiKT9udWxsOmI7dGhpcy5vdmVycmlkZUNvbnRleHQ9Yzt9O1lBSE9PLnV0aWwuU3Vic2NyaWJlci5wcm90b3R5cGUuZ2V0U2NvcGU9ZnVuY3Rpb24oYSl7aWYodGhpcy5vdmVycmlkZUNvbnRleHQpe2lmKHRoaXMub3ZlcnJpZGVDb250ZXh0PT09dHJ1ZSl7cmV0dXJuIHRoaXMub2JqO31lbHNle3JldHVybiB0aGlzLm92ZXJyaWRlQ29udGV4dDt9fXJldHVybiBhO307WUFIT08udXRpbC5TdWJzY3JpYmVyLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihhLGIpe2lmKGIpe3JldHVybih0aGlzLmZuPT1hJiZ0aGlzLm9iaj09Yik7fWVsc2V7cmV0dXJuKHRoaXMuZm49PWEpO319O1lBSE9PLnV0aWwuU3Vic2NyaWJlci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iU3Vic2NyaWJlciB7IG9iajogIit0aGlzLm9iaisiLCBvdmVycmlkZUNvbnRleHQ6ICIrKHRoaXMub3ZlcnJpZGVDb250ZXh0fHwibm8iKSsiIH0iO307aWYoIVlBSE9PLnV0aWwuRXZlbnQpe1lBSE9PLnV0aWwuRXZlbnQ9ZnVuY3Rpb24oKXt2YXIgZz1mYWxzZSxoPVtdLGo9W10sYT0wLGU9W10sYj0wLGM9ezYzMjMyOjM4LDYzMjMzOjQwLDYzMjM0OjM3LDYzMjM1OjM5LDYzMjc2OjMzLDYzMjc3OjM0LDI1Ojl9LGQ9WUFIT08uZW52LnVhLmllLGY9ImZvY3VzaW4iLGk9ImZvY3Vzb3V0IjtyZXR1cm57UE9MTF9SRVRSWVM6NTAwLFBPTExfSU5URVJWQUw6NDAsRUw6MCxUWVBFOjEsRk46MixXRk46MyxVTkxPQURfT0JKOjMsQURKX1NDT1BFOjQsT0JKOjUsT1ZFUlJJREU6NixDQVBUVVJFOjcsbGFzdEVycm9yOm51bGwsaXNTYWZhcmk6WUFIT08uZW52LnVhLndlYmtpdCx3ZWJraXQ6WUFIT08uZW52LnVhLndlYmtpdCxpc0lFOmQsX2ludGVydmFsOm51bGwsX2RyaTpudWxsLF9zcGVjaWFsVHlwZXM6e2ZvY3VzaW46KGQ/ImZvY3VzaW4iOiJmb2N1cyIpLGZvY3Vzb3V0OihkPyJmb2N1c291dCI6ImJsdXIiKX0sRE9NUmVhZHk6ZmFsc2UsdGhyb3dFcnJvcnM6ZmFsc2Usc3RhcnRJbnRlcnZhbDpmdW5jdGlvbigpe2lmKCF0aGlzLl9pbnRlcnZhbCl7dGhpcy5faW50ZXJ2YWw9WUFIT08ubGFuZy5sYXRlcih0aGlzLlBPTExfSU5URVJWQUwsdGhpcyx0aGlzLl90cnlQcmVsb2FkQXR0YWNoLG51bGwsdHJ1ZSk7fX0sb25BdmFpbGFibGU6ZnVuY3Rpb24ocSxtLG8scCxuKXt2YXIgaz0oWUFIT08ubGFuZy5pc1N0cmluZyhxKSk/W3FdOnE7Zm9yKHZhciBsPTA7bDxrLmxlbmd0aDtsPWwrMSl7ZS5wdXNoKHtpZDprW2xdLGZuOm0sb2JqOm8sb3ZlcnJpZGVDb250ZXh0OnAsY2hlY2tSZWFkeTpufSk7fWE9dGhpcy5QT0xMX1JFVFJZUzt0aGlzLnN0YXJ0SW50ZXJ2YWwoKTt9LG9uQ29udGVudFJlYWR5OmZ1bmN0aW9uKG4sayxsLG0pe3RoaXMub25BdmFpbGFibGUobixrLGwsbSx0cnVlKTt9LG9uRE9NUmVhZHk6ZnVuY3Rpb24oKXt0aGlzLkRPTVJlYWR5RXZlbnQuc3Vic2NyaWJlLmFwcGx5KHRoaXMuRE9NUmVhZHlFdmVudCxhcmd1bWVudHMpO30sX2FkZExpc3RlbmVyOmZ1bmN0aW9uKG0sayx2LHAsdCx5KXtpZighdnx8IXYuY2FsbCl7cmV0dXJuIGZhbHNlO31pZih0aGlzLl9pc1ZhbGlkQ29sbGVjdGlvbihtKSl7dmFyIHc9dHJ1ZTtmb3IodmFyIHE9MCxzPW0ubGVuZ3RoO3E8czsrK3Epe3c9dGhpcy5vbihtW3FdLGssdixwLHQpJiZ3O31yZXR1cm4gdzt9ZWxzZXtpZihZQUhPTy5sYW5nLmlzU3RyaW5nKG0pKXt2YXIgbz10aGlzLmdldEVsKG0pO2lmKG8pe209bzt9ZWxzZXt0aGlzLm9uQXZhaWxhYmxlKG0sZnVuY3Rpb24oKXtZQUhPTy51dGlsLkV2ZW50Ll9hZGRMaXN0ZW5lcihtLGssdixwLHQseSk7fSk7cmV0dXJuIHRydWU7fX19aWYoIW0pe3JldHVybiBmYWxzZTt9aWYoInVubG9hZCI9PWsmJnAhPT10aGlzKXtqW2oubGVuZ3RoXT1bbSxrLHYscCx0XTtyZXR1cm4gdHJ1ZTt9dmFyIGw9bTtpZih0KXtpZih0PT09dHJ1ZSl7bD1wO31lbHNle2w9dDt9fXZhciBuPWZ1bmN0aW9uKHope3JldHVybiB2LmNhbGwobCxZQUhPTy51dGlsLkV2ZW50LmdldEV2ZW50KHosbSkscCk7fTt2YXIgeD1bbSxrLHYsbixsLHAsdCx5XTt2YXIgcj1oLmxlbmd0aDtoW3JdPXg7dHJ5e3RoaXMuX3NpbXBsZUFkZChtLGssbix5KTt9Y2F0Y2godSl7dGhpcy5sYXN0RXJyb3I9dTt0aGlzLnJlbW92ZUxpc3RlbmVyKG0sayx2KTtyZXR1cm4gZmFsc2U7fXJldHVybiB0cnVlO30sX2dldFR5cGU6ZnVuY3Rpb24oayl7cmV0dXJuIHRoaXMuX3NwZWNpYWxUeXBlc1trXXx8azt9LGFkZExpc3RlbmVyOmZ1bmN0aW9uKG0scCxsLG4sbyl7dmFyIGs9KChwPT1mfHxwPT1pKSYmIVlBSE9PLmVudi51YS5pZSk/dHJ1ZTpmYWxzZTtyZXR1cm4gdGhpcy5fYWRkTGlzdGVuZXIobSx0aGlzLl9nZXRUeXBlKHApLGwsbixvLGspO30sYWRkRm9jdXNMaXN0ZW5lcjpmdW5jdGlvbihsLGssbSxuKXtyZXR1cm4gdGhpcy5vbihsLGYsayxtLG4pO30scmVtb3ZlRm9jdXNMaXN0ZW5lcjpmdW5jdGlvbihsLGspe3JldHVybiB0aGlzLnJlbW92ZUxpc3RlbmVyKGwsZixrKTt9LGFkZEJsdXJMaXN0ZW5lcjpmdW5jdGlvbihsLGssbSxuKXtyZXR1cm4gdGhpcy5vbihsLGksayxtLG4pO30scmVtb3ZlQmx1ckxpc3RlbmVyOmZ1bmN0aW9uKGwsayl7cmV0dXJuIHRoaXMucmVtb3ZlTGlzdGVuZXIobCxpLGspO30scmVtb3ZlTGlzdGVuZXI6ZnVuY3Rpb24obCxrLHIpe3ZhciBtLHAsdTtrPXRoaXMuX2dldFR5cGUoayk7aWYodHlwZW9mIGw9PSJzdHJpbmciKXtsPXRoaXMuZ2V0RWwobCk7fWVsc2V7aWYodGhpcy5faXNWYWxpZENvbGxlY3Rpb24obCkpe3ZhciBzPXRydWU7Zm9yKG09bC5sZW5ndGgtMTttPi0xO20tLSl7cz0odGhpcy5yZW1vdmVMaXN0ZW5lcihsW21dLGsscikmJnMpO31yZXR1cm4gczt9fWlmKCFyfHwhci5jYWxsKXtyZXR1cm4gdGhpcy5wdXJnZUVsZW1lbnQobCxmYWxzZSxrKTt9aWYoInVubG9hZCI9PWspe2ZvcihtPWoubGVuZ3RoLTE7bT4tMTttLS0pe3U9alttXTtpZih1JiZ1WzBdPT1sJiZ1WzFdPT1rJiZ1WzJdPT1yKXtqLnNwbGljZShtLDEpO3JldHVybiB0cnVlO319cmV0dXJuIGZhbHNlO312YXIgbj1udWxsO3ZhciBvPWFyZ3VtZW50c1szXTtpZigidW5kZWZpbmVkIj09PXR5cGVvZiBvKXtvPXRoaXMuX2dldENhY2hlSW5kZXgoaCxsLGsscik7fWlmKG8+PTApe249aFtvXTt9aWYoIWx8fCFuKXtyZXR1cm4gZmFsc2U7fXZhciB0PW5bdGhpcy5DQVBUVVJFXT09PXRydWU/dHJ1ZTpmYWxzZTt0cnl7dGhpcy5fc2ltcGxlUmVtb3ZlKGwsayxuW3RoaXMuV0ZOXSx0KTt9Y2F0Y2gocSl7dGhpcy5sYXN0RXJyb3I9cTtyZXR1cm4gZmFsc2U7fWRlbGV0ZSBoW29dW3RoaXMuV0ZOXTtkZWxldGUgaFtvXVt0aGlzLkZOXTtoLnNwbGljZShvLDEpO3JldHVybiB0cnVlO30sZ2V0VGFyZ2V0OmZ1bmN0aW9uKG0sbCl7dmFyIGs9bS50YXJnZXR8fG0uc3JjRWxlbWVudDtyZXR1cm4gdGhpcy5yZXNvbHZlVGV4dE5vZGUoayk7fSxyZXNvbHZlVGV4dE5vZGU6ZnVuY3Rpb24obCl7dHJ5e2lmKGwmJjM9PWwubm9kZVR5cGUpe3JldHVybiBsLnBhcmVudE5vZGU7fX1jYXRjaChrKXtyZXR1cm4gbnVsbDt9cmV0dXJuIGw7fSxnZXRQYWdlWDpmdW5jdGlvbihsKXt2YXIgaz1sLnBhZ2VYO2lmKCFrJiYwIT09ayl7az1sLmNsaWVudFh8fDA7aWYodGhpcy5pc0lFKXtrKz10aGlzLl9nZXRTY3JvbGxMZWZ0KCk7fX1yZXR1cm4gazt9LGdldFBhZ2VZOmZ1bmN0aW9uKGspe3ZhciBsPWsucGFnZVk7aWYoIWwmJjAhPT1sKXtsPWsuY2xpZW50WXx8MDtpZih0aGlzLmlzSUUpe2wrPXRoaXMuX2dldFNjcm9sbFRvcCgpO319cmV0dXJuIGw7fSxnZXRYWTpmdW5jdGlvbihrKXtyZXR1cm5bdGhpcy5nZXRQYWdlWChrKSx0aGlzLmdldFBhZ2VZKGspXTt9LGdldFJlbGF0ZWRUYXJnZXQ6ZnVuY3Rpb24obCl7dmFyIGs9bC5yZWxhdGVkVGFyZ2V0OwppZighayl7aWYobC50eXBlPT0ibW91c2VvdXQiKXtrPWwudG9FbGVtZW50O31lbHNle2lmKGwudHlwZT09Im1vdXNlb3ZlciIpe2s9bC5mcm9tRWxlbWVudDt9fX1yZXR1cm4gdGhpcy5yZXNvbHZlVGV4dE5vZGUoayk7fSxnZXRUaW1lOmZ1bmN0aW9uKG0pe2lmKCFtLnRpbWUpe3ZhciBsPW5ldyBEYXRlKCkuZ2V0VGltZSgpO3RyeXttLnRpbWU9bDt9Y2F0Y2goayl7dGhpcy5sYXN0RXJyb3I9aztyZXR1cm4gbDt9fXJldHVybiBtLnRpbWU7fSxzdG9wRXZlbnQ6ZnVuY3Rpb24oayl7dGhpcy5zdG9wUHJvcGFnYXRpb24oayk7dGhpcy5wcmV2ZW50RGVmYXVsdChrKTt9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbihrKXtpZihrLnN0b3BQcm9wYWdhdGlvbil7ay5zdG9wUHJvcGFnYXRpb24oKTt9ZWxzZXtrLmNhbmNlbEJ1YmJsZT10cnVlO319LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKGspe2lmKGsucHJldmVudERlZmF1bHQpe2sucHJldmVudERlZmF1bHQoKTt9ZWxzZXtrLnJldHVyblZhbHVlPWZhbHNlO319LGdldEV2ZW50OmZ1bmN0aW9uKG0sayl7dmFyIGw9bXx8d2luZG93LmV2ZW50O2lmKCFsKXt2YXIgbj10aGlzLmdldEV2ZW50LmNhbGxlcjt3aGlsZShuKXtsPW4uYXJndW1lbnRzWzBdO2lmKGwmJkV2ZW50PT1sLmNvbnN0cnVjdG9yKXticmVhazt9bj1uLmNhbGxlcjt9fXJldHVybiBsO30sZ2V0Q2hhckNvZGU6ZnVuY3Rpb24obCl7dmFyIGs9bC5rZXlDb2RlfHxsLmNoYXJDb2RlfHwwO2lmKFlBSE9PLmVudi51YS53ZWJraXQmJihrIGluIGMpKXtrPWNba107fXJldHVybiBrO30sX2dldENhY2hlSW5kZXg6ZnVuY3Rpb24obixxLHIscCl7Zm9yKHZhciBvPTAsbT1uLmxlbmd0aDtvPG07bz1vKzEpe3ZhciBrPW5bb107aWYoayYma1t0aGlzLkZOXT09cCYma1t0aGlzLkVMXT09cSYma1t0aGlzLlRZUEVdPT1yKXtyZXR1cm4gbzt9fXJldHVybiAtMTt9LGdlbmVyYXRlSWQ6ZnVuY3Rpb24oayl7dmFyIGw9ay5pZDtpZighbCl7bD0ieXVpZXZ0YXV0b2lkLSIrYjsrK2I7ay5pZD1sO31yZXR1cm4gbDt9LF9pc1ZhbGlkQ29sbGVjdGlvbjpmdW5jdGlvbihsKXt0cnl7cmV0dXJuKGwmJnR5cGVvZiBsIT09InN0cmluZyImJmwubGVuZ3RoJiYhbC50YWdOYW1lJiYhbC5hbGVydCYmdHlwZW9mIGxbMF0hPT0idW5kZWZpbmVkIik7fWNhdGNoKGspe3JldHVybiBmYWxzZTt9fSxlbENhY2hlOnt9LGdldEVsOmZ1bmN0aW9uKGspe3JldHVybih0eXBlb2Ygaz09PSJzdHJpbmciKT9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChrKTprO30sY2xlYXJDYWNoZTpmdW5jdGlvbigpe30sRE9NUmVhZHlFdmVudDpuZXcgWUFIT08udXRpbC5DdXN0b21FdmVudCgiRE9NUmVhZHkiLFlBSE9PLDAsMCwxKSxfbG9hZDpmdW5jdGlvbihsKXtpZighZyl7Zz10cnVlO3ZhciBrPVlBSE9PLnV0aWwuRXZlbnQ7ay5fcmVhZHkoKTtrLl90cnlQcmVsb2FkQXR0YWNoKCk7fX0sX3JlYWR5OmZ1bmN0aW9uKGwpe3ZhciBrPVlBSE9PLnV0aWwuRXZlbnQ7aWYoIWsuRE9NUmVhZHkpe2suRE9NUmVhZHk9dHJ1ZTtrLkRPTVJlYWR5RXZlbnQuZmlyZSgpO2suX3NpbXBsZVJlbW92ZShkb2N1bWVudCwiRE9NQ29udGVudExvYWRlZCIsay5fcmVhZHkpO319LF90cnlQcmVsb2FkQXR0YWNoOmZ1bmN0aW9uKCl7aWYoZS5sZW5ndGg9PT0wKXthPTA7aWYodGhpcy5faW50ZXJ2YWwpe3RoaXMuX2ludGVydmFsLmNhbmNlbCgpO3RoaXMuX2ludGVydmFsPW51bGw7fXJldHVybjt9aWYodGhpcy5sb2NrZWQpe3JldHVybjt9aWYodGhpcy5pc0lFKXtpZighdGhpcy5ET01SZWFkeSl7dGhpcy5zdGFydEludGVydmFsKCk7cmV0dXJuO319dGhpcy5sb2NrZWQ9dHJ1ZTt2YXIgcT0hZztpZighcSl7cT0oYT4wJiZlLmxlbmd0aD4wKTt9dmFyIHA9W107dmFyIHI9ZnVuY3Rpb24odCx1KXt2YXIgcz10O2lmKHUub3ZlcnJpZGVDb250ZXh0KXtpZih1Lm92ZXJyaWRlQ29udGV4dD09PXRydWUpe3M9dS5vYmo7fWVsc2V7cz11Lm92ZXJyaWRlQ29udGV4dDt9fXUuZm4uY2FsbChzLHUub2JqKTt9O3ZhciBsLGssbyxuLG09W107Zm9yKGw9MCxrPWUubGVuZ3RoO2w8aztsPWwrMSl7bz1lW2xdO2lmKG8pe249dGhpcy5nZXRFbChvLmlkKTtpZihuKXtpZihvLmNoZWNrUmVhZHkpe2lmKGd8fG4ubmV4dFNpYmxpbmd8fCFxKXttLnB1c2gobyk7ZVtsXT1udWxsO319ZWxzZXtyKG4sbyk7ZVtsXT1udWxsO319ZWxzZXtwLnB1c2gobyk7fX19Zm9yKGw9MCxrPW0ubGVuZ3RoO2w8aztsPWwrMSl7bz1tW2xdO3IodGhpcy5nZXRFbChvLmlkKSxvKTt9YS0tO2lmKHEpe2ZvcihsPWUubGVuZ3RoLTE7bD4tMTtsLS0pe289ZVtsXTtpZighb3x8IW8uaWQpe2Uuc3BsaWNlKGwsMSk7fX10aGlzLnN0YXJ0SW50ZXJ2YWwoKTt9ZWxzZXtpZih0aGlzLl9pbnRlcnZhbCl7dGhpcy5faW50ZXJ2YWwuY2FuY2VsKCk7dGhpcy5faW50ZXJ2YWw9bnVsbDt9fXRoaXMubG9ja2VkPWZhbHNlO30scHVyZ2VFbGVtZW50OmZ1bmN0aW9uKHAscSxzKXt2YXIgbj0oWUFIT08ubGFuZy5pc1N0cmluZyhwKSk/dGhpcy5nZXRFbChwKTpwO3ZhciByPXRoaXMuZ2V0TGlzdGVuZXJzKG4scyksbyxrO2lmKHIpe2ZvcihvPXIubGVuZ3RoLTE7bz4tMTtvLS0pe3ZhciBtPXJbb107dGhpcy5yZW1vdmVMaXN0ZW5lcihuLG0udHlwZSxtLmZuKTt9fWlmKHEmJm4mJm4uY2hpbGROb2Rlcyl7Zm9yKG89MCxrPW4uY2hpbGROb2Rlcy5sZW5ndGg7bzxrOysrbyl7dGhpcy5wdXJnZUVsZW1lbnQobi5jaGlsZE5vZGVzW29dLHEscyk7fX19LGdldExpc3RlbmVyczpmdW5jdGlvbihuLGspe3ZhciBxPVtdLG07aWYoIWspe209W2gsal07fWVsc2V7aWYoaz09PSJ1bmxvYWQiKXttPVtqXTt9ZWxzZXtrPXRoaXMuX2dldFR5cGUoayk7bT1baF07fX12YXIgcz0oWUFIT08ubGFuZy5pc1N0cmluZyhuKSk/dGhpcy5nZXRFbChuKTpuO2Zvcih2YXIgcD0wO3A8bS5sZW5ndGg7cD1wKzEpe3ZhciB1PW1bcF07aWYodSl7Zm9yKHZhciByPTAsdD11Lmxlbmd0aDtyPHQ7KytyKXt2YXIgbz11W3JdO2lmKG8mJm9bdGhpcy5FTF09PT1zJiYoIWt8fGs9PT1vW3RoaXMuVFlQRV0pKXtxLnB1c2goe3R5cGU6b1t0aGlzLlRZUEVdLGZuOm9bdGhpcy5GTl0sb2JqOm9bdGhpcy5PQkpdLGFkanVzdDpvW3RoaXMuT1ZFUlJJREVdLHNjb3BlOm9bdGhpcy5BREpfU0NPUEVdLGluZGV4OnJ9KTt9fX19cmV0dXJuKHEubGVuZ3RoKT9xOm51bGw7fSxfdW5sb2FkOmZ1bmN0aW9uKHMpe3ZhciBtPVlBSE9PLnV0aWwuRXZlbnQscCxvLG4scixxLHQ9ai5zbGljZSgpLGs7Zm9yKHA9MCxyPWoubGVuZ3RoO3A8cjsrK3Ape249dFtwXTtpZihuKXt0cnl7az13aW5kb3c7aWYoblttLkFESl9TQ09QRV0pe2lmKG5bbS5BREpfU0NPUEVdPT09dHJ1ZSl7az1uW20uVU5MT0FEX09CSl07fWVsc2V7az1uW20uQURKX1NDT1BFXTt9fW5bbS5GTl0uY2FsbChrLG0uZ2V0RXZlbnQocyxuW20uRUxdKSxuW20uVU5MT0FEX09CSl0pO31jYXRjaCh3KXt9dFtwXT1udWxsO319bj1udWxsO2s9bnVsbDtqPW51bGw7aWYoaCl7Zm9yKG89aC5sZW5ndGgtMTtvPi0xO28tLSl7bj1oW29dO2lmKG4pe3RyeXttLnJlbW92ZUxpc3RlbmVyKG5bbS5FTF0sblttLlRZUEVdLG5bbS5GTl0sbyk7fWNhdGNoKHYpe319fW49bnVsbDt9dHJ5e20uX3NpbXBsZVJlbW92ZSh3aW5kb3csInVubG9hZCIsbS5fdW5sb2FkKTttLl9zaW1wbGVSZW1vdmUod2luZG93LCJsb2FkIixtLl9sb2FkKTt9Y2F0Y2godSl7fX0sX2dldFNjcm9sbExlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0U2Nyb2xsKClbMV07fSxfZ2V0U2Nyb2xsVG9wOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFNjcm9sbCgpWzBdO30sX2dldFNjcm9sbDpmdW5jdGlvbigpe3ZhciBrPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxsPWRvY3VtZW50LmJvZHk7aWYoayYmKGsuc2Nyb2xsVG9wfHxrLnNjcm9sbExlZnQpKXtyZXR1cm5bay5zY3JvbGxUb3Asay5zY3JvbGxMZWZ0XTt9ZWxzZXtpZihsKXtyZXR1cm5bbC5zY3JvbGxUb3AsbC5zY3JvbGxMZWZ0XTt9ZWxzZXtyZXR1cm5bMCwwXTt9fX0scmVnQ0U6ZnVuY3Rpb24oKXt9LF9zaW1wbGVBZGQ6ZnVuY3Rpb24oKXtpZih3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcil7cmV0dXJuIGZ1bmN0aW9uKG0sbixsLGspe20uYWRkRXZlbnRMaXN0ZW5lcihuLGwsKGspKTt9O31lbHNle2lmKHdpbmRvdy5hdHRhY2hFdmVudCl7cmV0dXJuIGZ1bmN0aW9uKG0sbixsLGspe20uYXR0YWNoRXZlbnQoIm9uIituLGwpO307fWVsc2V7cmV0dXJuIGZ1bmN0aW9uKCl7fTt9fX0oKSxfc2ltcGxlUmVtb3ZlOmZ1bmN0aW9uKCl7aWYod2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIpe3JldHVybiBmdW5jdGlvbihtLG4sbCxrKXttLnJlbW92ZUV2ZW50TGlzdGVuZXIobixsLChrKSk7fTt9ZWxzZXtpZih3aW5kb3cuZGV0YWNoRXZlbnQpe3JldHVybiBmdW5jdGlvbihsLG0sayl7bC5kZXRhY2hFdmVudCgib24iK20sayk7fTt9ZWxzZXtyZXR1cm4gZnVuY3Rpb24oKXt9O319fSgpfTt9KCk7KGZ1bmN0aW9uKCl7dmFyIGE9WUFIT08udXRpbC5FdmVudDthLm9uPWEuYWRkTGlzdGVuZXI7YS5vbkZvY3VzPWEuYWRkRm9jdXNMaXN0ZW5lcjthLm9uQmx1cj1hLmFkZEJsdXJMaXN0ZW5lcjsKLyohIERPTVJlYWR5OiBiYXNlZCBvbiB3b3JrIGJ5OiBEZWFuIEVkd2FyZHMvSm9obiBSZXNpZy9NYXR0aGlhcyBNaWxsZXIvRGllZ28gUGVyaW5pICovCmlmKGEuaXNJRSl7aWYoc2VsZiE9PXNlbGYudG9wKXtkb2N1bWVudC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZihkb2N1bWVudC5yZWFkeVN0YXRlPT0iY29tcGxldGUiKXtkb2N1bWVudC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbDthLl9yZWFkeSgpO319O31lbHNle1lBSE9PLnV0aWwuRXZlbnQub25ET01SZWFkeShZQUhPTy51dGlsLkV2ZW50Ll90cnlQcmVsb2FkQXR0YWNoLFlBSE9PLnV0aWwuRXZlbnQsdHJ1ZSk7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpO2EuX2RyaT1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3RyeXtiLmRvU2Nyb2xsKCJsZWZ0Iik7Y2xlYXJJbnRlcnZhbChhLl9kcmkpO2EuX2RyaT1udWxsO2EuX3JlYWR5KCk7Yj1udWxsO31jYXRjaChjKXt9fSxhLlBPTExfSU5URVJWQUwpO319ZWxzZXtpZihhLndlYmtpdCYmYS53ZWJraXQ8NTI1KXthLl9kcmk9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt2YXIgYz1kb2N1bWVudC5yZWFkeVN0YXRlO2lmKCJsb2FkZWQiPT1jfHwiY29tcGxldGUiPT1jKXtjbGVhckludGVydmFsKGEuX2RyaSk7YS5fZHJpPW51bGw7YS5fcmVhZHkoKTt9fSxhLlBPTExfSU5URVJWQUwpO31lbHNle2EuX3NpbXBsZUFkZChkb2N1bWVudCwiRE9NQ29udGVudExvYWRlZCIsYS5fcmVhZHkpO319YS5fc2ltcGxlQWRkKHdpbmRvdywibG9hZCIsYS5fbG9hZCk7YS5fc2ltcGxlQWRkKHdpbmRvdywidW5sb2FkIixhLl91bmxvYWQpO2EuX3RyeVByZWxvYWRBdHRhY2goKTt9KSgpO31ZQUhPTy51dGlsLkV2ZW50UHJvdmlkZXI9ZnVuY3Rpb24oKXt9O1lBSE9PLnV0aWwuRXZlbnRQcm92aWRlci5wcm90b3R5cGU9e19feXVpX2V2ZW50czpudWxsLF9feXVpX3N1YnNjcmliZXJzOm51bGwsc3Vic2NyaWJlOmZ1bmN0aW9uKGEsYyxmLGUpe3RoaXMuX195dWlfZXZlbnRzPXRoaXMuX195dWlfZXZlbnRzfHx7fTt2YXIgZD10aGlzLl9feXVpX2V2ZW50c1thXTtpZihkKXtkLnN1YnNjcmliZShjLGYsZSk7fWVsc2V7dGhpcy5fX3l1aV9zdWJzY3JpYmVycz10aGlzLl9feXVpX3N1YnNjcmliZXJzfHx7fTt2YXIgYj10aGlzLl9feXVpX3N1YnNjcmliZXJzO2lmKCFiW2FdKXtiW2FdPVtdO31iW2FdLnB1c2goe2ZuOmMsb2JqOmYsb3ZlcnJpZGVDb250ZXh0OmV9KTt9fSx1bnN1YnNjcmliZTpmdW5jdGlvbihjLGUsZyl7dGhpcy5fX3l1aV9ldmVudHM9dGhpcy5fX3l1aV9ldmVudHN8fHt9O3ZhciBhPXRoaXMuX195dWlfZXZlbnRzO2lmKGMpe3ZhciBmPWFbY107aWYoZil7cmV0dXJuIGYudW5zdWJzY3JpYmUoZSxnKTt9fWVsc2V7dmFyIGI9dHJ1ZTtmb3IodmFyIGQgaW4gYSl7aWYoWUFIT08ubGFuZy5oYXNPd25Qcm9wZXJ0eShhLGQpKXtiPWImJmFbZF0udW5zdWJzY3JpYmUoZSxnKTsKfX1yZXR1cm4gYjt9cmV0dXJuIGZhbHNlO30sdW5zdWJzY3JpYmVBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudW5zdWJzY3JpYmUoYSk7fSxjcmVhdGVFdmVudDpmdW5jdGlvbihiLGcpe3RoaXMuX195dWlfZXZlbnRzPXRoaXMuX195dWlfZXZlbnRzfHx7fTt2YXIgZT1nfHx7fSxkPXRoaXMuX195dWlfZXZlbnRzLGY7aWYoZFtiXSl7fWVsc2V7Zj1uZXcgWUFIT08udXRpbC5DdXN0b21FdmVudChiLGUuc2NvcGV8fHRoaXMsZS5zaWxlbnQsWUFIT08udXRpbC5DdXN0b21FdmVudC5GTEFULGUuZmlyZU9uY2UpO2RbYl09ZjtpZihlLm9uU3Vic2NyaWJlQ2FsbGJhY2spe2Yuc3Vic2NyaWJlRXZlbnQuc3Vic2NyaWJlKGUub25TdWJzY3JpYmVDYWxsYmFjayk7fXRoaXMuX195dWlfc3Vic2NyaWJlcnM9dGhpcy5fX3l1aV9zdWJzY3JpYmVyc3x8e307dmFyIGE9dGhpcy5fX3l1aV9zdWJzY3JpYmVyc1tiXTtpZihhKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYyl7Zi5zdWJzY3JpYmUoYVtjXS5mbixhW2NdLm9iaixhW2NdLm92ZXJyaWRlQ29udGV4dCk7fX19cmV0dXJuIGRbYl07fSxmaXJlRXZlbnQ6ZnVuY3Rpb24oYil7dGhpcy5fX3l1aV9ldmVudHM9dGhpcy5fX3l1aV9ldmVudHN8fHt9O3ZhciBkPXRoaXMuX195dWlfZXZlbnRzW2JdO2lmKCFkKXtyZXR1cm4gbnVsbDt9dmFyIGE9W107Zm9yKHZhciBjPTE7Yzxhcmd1bWVudHMubGVuZ3RoOysrYyl7YS5wdXNoKGFyZ3VtZW50c1tjXSk7fXJldHVybiBkLmZpcmUuYXBwbHkoZCxhKTt9LGhhc0V2ZW50OmZ1bmN0aW9uKGEpe2lmKHRoaXMuX195dWlfZXZlbnRzKXtpZih0aGlzLl9feXVpX2V2ZW50c1thXSl7cmV0dXJuIHRydWU7fX1yZXR1cm4gZmFsc2U7fX07KGZ1bmN0aW9uKCl7dmFyIGE9WUFIT08udXRpbC5FdmVudCxjPVlBSE9PLmxhbmc7WUFIT08udXRpbC5LZXlMaXN0ZW5lcj1mdW5jdGlvbihkLGksZSxmKXtpZighZCl7fWVsc2V7aWYoIWkpe31lbHNle2lmKCFlKXt9fX1pZighZil7Zj1ZQUhPTy51dGlsLktleUxpc3RlbmVyLktFWURPV047fXZhciBnPW5ldyBZQUhPTy51dGlsLkN1c3RvbUV2ZW50KCJrZXlQcmVzc2VkIik7dGhpcy5lbmFibGVkRXZlbnQ9bmV3IFlBSE9PLnV0aWwuQ3VzdG9tRXZlbnQoImVuYWJsZWQiKTt0aGlzLmRpc2FibGVkRXZlbnQ9bmV3IFlBSE9PLnV0aWwuQ3VzdG9tRXZlbnQoImRpc2FibGVkIik7aWYoYy5pc1N0cmluZyhkKSl7ZD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChkKTt9aWYoYy5pc0Z1bmN0aW9uKGUpKXtnLnN1YnNjcmliZShlKTt9ZWxzZXtnLnN1YnNjcmliZShlLmZuLGUuc2NvcGUsZS5jb3JyZWN0U2NvcGUpO31mdW5jdGlvbiBoKG8sbil7aWYoIWkuc2hpZnQpe2kuc2hpZnQ9ZmFsc2U7fWlmKCFpLmFsdCl7aS5hbHQ9ZmFsc2U7fWlmKCFpLmN0cmwpe2kuY3RybD1mYWxzZTt9aWYoby5zaGlmdEtleT09aS5zaGlmdCYmby5hbHRLZXk9PWkuYWx0JiZvLmN0cmxLZXk9PWkuY3RybCl7dmFyIGosbT1pLmtleXMsbDtpZihZQUhPTy5sYW5nLmlzQXJyYXkobSkpe2Zvcih2YXIgaz0wO2s8bS5sZW5ndGg7aysrKXtqPW1ba107bD1hLmdldENoYXJDb2RlKG8pO2lmKGo9PWwpe2cuZmlyZShsLG8pO2JyZWFrO319fWVsc2V7bD1hLmdldENoYXJDb2RlKG8pO2lmKG09PWwpe2cuZmlyZShsLG8pO319fX10aGlzLmVuYWJsZT1mdW5jdGlvbigpe2lmKCF0aGlzLmVuYWJsZWQpe2Eub24oZCxmLGgpO3RoaXMuZW5hYmxlZEV2ZW50LmZpcmUoaSk7fXRoaXMuZW5hYmxlZD10cnVlO307dGhpcy5kaXNhYmxlPWZ1bmN0aW9uKCl7aWYodGhpcy5lbmFibGVkKXthLnJlbW92ZUxpc3RlbmVyKGQsZixoKTt0aGlzLmRpc2FibGVkRXZlbnQuZmlyZShpKTt9dGhpcy5lbmFibGVkPWZhbHNlO307dGhpcy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJLZXlMaXN0ZW5lciBbIitpLmtleXMrIl0gIitkLnRhZ05hbWUrKGQuaWQ/IlsiK2QuaWQrIl0iOiIiKTt9O307dmFyIGI9WUFIT08udXRpbC5LZXlMaXN0ZW5lcjtiLktFWURPV049ImtleWRvd24iO2IuS0VZVVA9ImtleXVwIjtiLktFWT17QUxUOjE4LEJBQ0tfU1BBQ0U6OCxDQVBTX0xPQ0s6MjAsQ09OVFJPTDoxNyxERUxFVEU6NDYsRE9XTjo0MCxFTkQ6MzUsRU5URVI6MTMsRVNDQVBFOjI3LEhPTUU6MzYsTEVGVDozNyxNRVRBOjIyNCxOVU1fTE9DSzoxNDQsUEFHRV9ET1dOOjM0LFBBR0VfVVA6MzMsUEFVU0U6MTksUFJJTlRTQ1JFRU46NDQsUklHSFQ6MzksU0NST0xMX0xPQ0s6MTQ1LFNISUZUOjE2LFNQQUNFOjMyLFRBQjo5LFVQOjM4fTt9KSgpO1lBSE9PLnJlZ2lzdGVyKCJldmVudCIsWUFIT08udXRpbC5FdmVudCx7dmVyc2lvbjoiMi45LjAiLGJ1aWxkOiIyODAwIn0pOw==",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 19440
        },
        "cache": {},
        "timings": {
          "send": 0,
          "wait": 3,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27305"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.873-06:00",
        "time": 59,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/yui/animation/animation-min.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 342,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:35 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "4877"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 18988,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "LyoKQ29weXJpZ2h0IChjKSAyMDExLCBZYWhvbyEgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLgpDb2RlIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgTGljZW5zZToKaHR0cDovL2RldmVsb3Blci55YWhvby5jb20veXVpL2xpY2Vuc2UuaHRtbAp2ZXJzaW9uOiAyLjkuMAoqLwooZnVuY3Rpb24oKXt2YXIgYj1ZQUhPTy51dGlsO3ZhciBhPWZ1bmN0aW9uKGQsYyxlLGYpe2lmKCFkKXt9dGhpcy5pbml0KGQsYyxlLGYpO307YS5OQU1FPSJBbmltIjthLnByb3RvdHlwZT17dG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmdldEVsKCl8fHt9O3ZhciBkPWMuaWR8fGMudGFnTmFtZTtyZXR1cm4odGhpcy5jb25zdHJ1Y3Rvci5OQU1FKyI6ICIrZCk7fSxwYXR0ZXJuczp7bm9OZWdhdGl2ZXM6L3dpZHRofGhlaWdodHxvcGFjaXR5fHBhZGRpbmcvaSxvZmZzZXRBdHRyaWJ1dGU6L14oKHdpZHRofGhlaWdodCl8KHRvcHxsZWZ0KSkkLyxkZWZhdWx0VW5pdDovd2lkdGh8aGVpZ2h0fHRvcCR8Ym90dG9tJHxsZWZ0JHxyaWdodCQvaSxvZmZzZXRVbml0Oi9cZCsoZW18JXxlbnxleHxwdHxpbnxjbXxtbXxwYykkL2l9LGRvTWV0aG9kOmZ1bmN0aW9uKGMsZSxkKXtyZXR1cm4gdGhpcy5tZXRob2QodGhpcy5jdXJyZW50RnJhbWUsZSxkLWUsdGhpcy50b3RhbEZyYW1lcyk7fSxzZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oYyxmLGUpe3ZhciBkPXRoaXMuZ2V0RWwoKTtpZih0aGlzLnBhdHRlcm5zLm5vTmVnYXRpdmVzLnRlc3QoYykpe2Y9KGY+MCk/ZjowO31pZihjIGluIGQmJiEoInN0eWxlIiBpbiBkJiZjIGluIGQuc3R5bGUpKXtkW2NdPWY7fWVsc2V7Yi5Eb20uc2V0U3R5bGUoZCxjLGYrZSk7fX0sZ2V0QXR0cmlidXRlOmZ1bmN0aW9uKGMpe3ZhciBlPXRoaXMuZ2V0RWwoKTt2YXIgZz1iLkRvbS5nZXRTdHlsZShlLGMpO2lmKGchPT0iYXV0byImJiF0aGlzLnBhdHRlcm5zLm9mZnNldFVuaXQudGVzdChnKSl7cmV0dXJuIHBhcnNlRmxvYXQoZyk7fXZhciBkPXRoaXMucGF0dGVybnMub2Zmc2V0QXR0cmlidXRlLmV4ZWMoYyl8fFtdO3ZhciBoPSEhKGRbM10pO3ZhciBmPSEhKGRbMl0pO2lmKCJzdHlsZSIgaW4gZSl7aWYoZnx8KGIuRG9tLmdldFN0eWxlKGUsInBvc2l0aW9uIik9PSJhYnNvbHV0ZSImJmgpKXtnPWVbIm9mZnNldCIrZFswXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStkWzBdLnN1YnN0cigxKV07fWVsc2V7Zz0wO319ZWxzZXtpZihjIGluIGUpe2c9ZVtjXTt9fXJldHVybiBnO30sZ2V0RGVmYXVsdFVuaXQ6ZnVuY3Rpb24oYyl7aWYodGhpcy5wYXR0ZXJucy5kZWZhdWx0VW5pdC50ZXN0KGMpKXtyZXR1cm4icHgiO31yZXR1cm4iIjt9LHNldFJ1bnRpbWVBdHRyaWJ1dGU6ZnVuY3Rpb24oZCl7dmFyIGo7dmFyIGU7dmFyIGY9dGhpcy5hdHRyaWJ1dGVzO3RoaXMucnVudGltZUF0dHJpYnV0ZXNbZF09e307dmFyIGg9ZnVuY3Rpb24oaSl7cmV0dXJuKHR5cGVvZiBpIT09InVuZGVmaW5lZCIpO307aWYoIWgoZltkXVsidG8iXSkmJiFoKGZbZF1bImJ5Il0pKXtyZXR1cm4gZmFsc2U7fWo9KGgoZltkXVsiZnJvbSJdKSk/ZltkXVsiZnJvbSJdOnRoaXMuZ2V0QXR0cmlidXRlKGQpO2lmKGgoZltkXVsidG8iXSkpe2U9ZltkXVsidG8iXTt9ZWxzZXtpZihoKGZbZF1bImJ5Il0pKXtpZihqLmNvbnN0cnVjdG9yPT1BcnJheSl7ZT1bXTtmb3IodmFyIGc9MCxjPWoubGVuZ3RoO2c8YzsrK2cpe2VbZ109altnXStmW2RdWyJieSJdW2ddKjE7fX1lbHNle2U9aitmW2RdWyJieSJdKjE7fX19dGhpcy5ydW50aW1lQXR0cmlidXRlc1tkXS5zdGFydD1qO3RoaXMucnVudGltZUF0dHJpYnV0ZXNbZF0uZW5kPWU7dGhpcy5ydW50aW1lQXR0cmlidXRlc1tkXS51bml0PShoKGZbZF0udW5pdCkpP2ZbZF1bInVuaXQiXTp0aGlzLmdldERlZmF1bHRVbml0KGQpO3JldHVybiB0cnVlO30saW5pdDpmdW5jdGlvbihmLGMsaCxpKXt2YXIgZD1mYWxzZTt2YXIgZT1udWxsO3ZhciBnPTA7Zj1iLkRvbS5nZXQoZik7dGhpcy5hdHRyaWJ1dGVzPWN8fHt9O3RoaXMuZHVyYXRpb249IVlBSE9PLmxhbmcuaXNVbmRlZmluZWQoaCk/aDoxO3RoaXMubWV0aG9kPWl8fGIuRWFzaW5nLmVhc2VOb25lO3RoaXMudXNlU2Vjb25kcz10cnVlO3RoaXMuY3VycmVudEZyYW1lPTA7dGhpcy50b3RhbEZyYW1lcz1iLkFuaW1NZ3IuZnBzO3RoaXMuc2V0RWw9ZnVuY3Rpb24oail7Zj1iLkRvbS5nZXQoaik7fTt0aGlzLmdldEVsPWZ1bmN0aW9uKCl7cmV0dXJuIGY7fTt0aGlzLmlzQW5pbWF0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZDt9O3RoaXMuZ2V0U3RhcnRUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGU7fTt0aGlzLnJ1bnRpbWVBdHRyaWJ1dGVzPXt9O3RoaXMuYW5pbWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuaXNBbmltYXRlZCgpKXtyZXR1cm4gZmFsc2U7fXRoaXMuY3VycmVudEZyYW1lPTA7dGhpcy50b3RhbEZyYW1lcz0odGhpcy51c2VTZWNvbmRzKT9NYXRoLmNlaWwoYi5BbmltTWdyLmZwcyp0aGlzLmR1cmF0aW9uKTp0aGlzLmR1cmF0aW9uO2lmKHRoaXMuZHVyYXRpb249PT0wJiZ0aGlzLnVzZVNlY29uZHMpe3RoaXMudG90YWxGcmFtZXM9MTt9Yi5BbmltTWdyLnJlZ2lzdGVyRWxlbWVudCh0aGlzKTtyZXR1cm4gdHJ1ZTt9O3RoaXMuc3RvcD1mdW5jdGlvbihqKXtpZighdGhpcy5pc0FuaW1hdGVkKCkpe3JldHVybiBmYWxzZTt9aWYoail7dGhpcy5jdXJyZW50RnJhbWU9dGhpcy50b3RhbEZyYW1lczt0aGlzLl9vblR3ZWVuLmZpcmUoKTt9Yi5BbmltTWdyLnN0b3AodGhpcyk7fTt0aGlzLl9oYW5kbGVTdGFydD1mdW5jdGlvbigpe3RoaXMub25TdGFydC5maXJlKCk7dGhpcy5ydW50aW1lQXR0cmlidXRlcz17fTtmb3IodmFyIGogaW4gdGhpcy5hdHRyaWJ1dGVzKXtpZih0aGlzLmF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoaikpe3RoaXMuc2V0UnVudGltZUF0dHJpYnV0ZShqKTt9fWQ9dHJ1ZTtnPTA7ZT1uZXcgRGF0ZSgpO307dGhpcy5faGFuZGxlVHdlZW49ZnVuY3Rpb24oKXt2YXIgbD17ZHVyYXRpb246bmV3IERhdGUoKS10aGlzLmdldFN0YXJ0VGltZSgpLGN1cnJlbnRGcmFtZTp0aGlzLmN1cnJlbnRGcmFtZX07bC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybigiZHVyYXRpb246ICIrbC5kdXJhdGlvbisiLCBjdXJyZW50RnJhbWU6ICIrbC5jdXJyZW50RnJhbWUpO307dGhpcy5vblR3ZWVuLmZpcmUobCk7dmFyIGs9dGhpcy5ydW50aW1lQXR0cmlidXRlcztmb3IodmFyIGogaW4gayl7aWYoay5oYXNPd25Qcm9wZXJ0eShqKSl7dGhpcy5zZXRBdHRyaWJ1dGUoaix0aGlzLmRvTWV0aG9kKGosa1tqXS5zdGFydCxrW2pdLmVuZCksa1tqXS51bml0KTt9fXRoaXMuYWZ0ZXJUd2Vlbi5maXJlKGwpO2crPTE7fTt0aGlzLl9oYW5kbGVDb21wbGV0ZT1mdW5jdGlvbigpe3ZhciBqPShuZXcgRGF0ZSgpLWUpLzEwMDA7dmFyIGs9e2R1cmF0aW9uOmosZnJhbWVzOmcsZnBzOmcvan07ay50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybigiZHVyYXRpb246ICIray5kdXJhdGlvbisiLCBmcmFtZXM6ICIray5mcmFtZXMrIiwgZnBzOiAiK2suZnBzKTt9O2Q9ZmFsc2U7Zz0wO3RoaXMub25Db21wbGV0ZS5maXJlKGspO307dGhpcy5fb25TdGFydD1uZXcgYi5DdXN0b21FdmVudCgiX3N0YXJ0Iix0aGlzLHRydWUpO3RoaXMub25TdGFydD1uZXcgYi5DdXN0b21FdmVudCgic3RhcnQiLHRoaXMpO3RoaXMub25Ud2Vlbj1uZXcgYi5DdXN0b21FdmVudCgidHdlZW4iLHRoaXMpO3RoaXMuYWZ0ZXJUd2Vlbj1uZXcgYi5DdXN0b21FdmVudCgiYWZ0ZXJUd2VlbiIsdGhpcyk7dGhpcy5fb25Ud2Vlbj1uZXcgYi5DdXN0b21FdmVudCgiX3R3ZWVuIix0aGlzLHRydWUpO3RoaXMub25Db21wbGV0ZT1uZXcgYi5DdXN0b21FdmVudCgiY29tcGxldGUiLHRoaXMpO3RoaXMuX29uQ29tcGxldGU9bmV3IGIuQ3VzdG9tRXZlbnQoIl9jb21wbGV0ZSIsdGhpcyx0cnVlKTt0aGlzLl9vblN0YXJ0LnN1YnNjcmliZSh0aGlzLl9oYW5kbGVTdGFydCk7dGhpcy5fb25Ud2Vlbi5zdWJzY3JpYmUodGhpcy5faGFuZGxlVHdlZW4pO3RoaXMuX29uQ29tcGxldGUuc3Vic2NyaWJlKHRoaXMuX2hhbmRsZUNvbXBsZXRlKTt9fTtiLkFuaW09YTt9KSgpO1lBSE9PLnV0aWwuQW5pbU1ncj1uZXcgZnVuY3Rpb24oKXt2YXIgZT1udWxsO3ZhciBjPVtdO3ZhciBnPTA7dGhpcy5mcHM9MTAwMDt0aGlzLmRlbGF5PTIwO3RoaXMucmVnaXN0ZXJFbGVtZW50PWZ1bmN0aW9uKGope2NbYy5sZW5ndGhdPWo7Zys9MTtqLl9vblN0YXJ0LmZpcmUoKTt0aGlzLnN0YXJ0KCk7fTt2YXIgZj1bXTt2YXIgZD1mYWxzZTt2YXIgaD1mdW5jdGlvbigpe3ZhciBqPWYuc2hpZnQoKTtiLmFwcGx5KFlBSE9PLnV0aWwuQW5pbU1ncixqKTtpZihmLmxlbmd0aCl7YXJndW1lbnRzLmNhbGxlZSgpO319O3ZhciBiPWZ1bmN0aW9uKGssail7aj1qfHxhKGspO2lmKCFrLmlzQW5pbWF0ZWQoKXx8aj09PS0xKXtyZXR1cm4gZmFsc2U7fWsuX29uQ29tcGxldGUuZmlyZSgpO2Muc3BsaWNlKGosMSk7Zy09MTtpZihnPD0wKXt0aGlzLnN0b3AoKTt9cmV0dXJuIHRydWU7fTt0aGlzLnVuUmVnaXN0ZXI9ZnVuY3Rpb24oKXtmLnB1c2goYXJndW1lbnRzKTtpZighZCl7ZD10cnVlO2goKTtkPWZhbHNlO319O3RoaXMuc3RhcnQ9ZnVuY3Rpb24oKXtpZihlPT09bnVsbCl7ZT1zZXRJbnRlcnZhbCh0aGlzLnJ1bix0aGlzLmRlbGF5KTt9fTt0aGlzLnN0b3A9ZnVuY3Rpb24obCl7aWYoIWwpe2NsZWFySW50ZXJ2YWwoZSk7Zm9yKHZhciBrPTAsaj1jLmxlbmd0aDtrPGo7KytrKXt0aGlzLnVuUmVnaXN0ZXIoY1swXSwwKTt9Yz1bXTtlPW51bGw7Zz0wO31lbHNle3RoaXMudW5SZWdpc3RlcihsKTt9fTt0aGlzLnJ1bj1mdW5jdGlvbigpe2Zvcih2YXIgbD0wLGo9Yy5sZW5ndGg7bDxqOysrbCl7dmFyIGs9Y1tsXTtpZigha3x8IWsuaXNBbmltYXRlZCgpKXtjb250aW51ZTt9aWYoay5jdXJyZW50RnJhbWU8ay50b3RhbEZyYW1lc3x8ay50b3RhbEZyYW1lcz09PW51bGwpe2suY3VycmVudEZyYW1lKz0xO2lmKGsudXNlU2Vjb25kcyl7aShrKTt9ay5fb25Ud2Vlbi5maXJlKCk7fWVsc2V7WUFIT08udXRpbC5BbmltTWdyLnN0b3AoayxsKTt9fX07dmFyIGE9ZnVuY3Rpb24obCl7Zm9yKHZhciBrPTAsaj1jLmxlbmd0aDtrPGo7KytrKXtpZihjW2tdPT09bCl7cmV0dXJuIGs7fX1yZXR1cm4gLTE7fTt2YXIgaT1mdW5jdGlvbihrKXt2YXIgbj1rLnRvdGFsRnJhbWVzO3ZhciBtPWsuY3VycmVudEZyYW1lO3ZhciBsPShrLmN1cnJlbnRGcmFtZSprLmR1cmF0aW9uKjEwMDAvay50b3RhbEZyYW1lcyk7dmFyIGo9KG5ldyBEYXRlKCktay5nZXRTdGFydFRpbWUoKSk7dmFyIG89MDtpZihqPGsuZHVyYXRpb24qMTAwMCl7bz1NYXRoLnJvdW5kKChqL2wtMSkqay5jdXJyZW50RnJhbWUpO31lbHNle289bi0obSsxKTt9aWYobz4wJiZpc0Zpbml0ZShvKSl7aWYoay5jdXJyZW50RnJhbWUrbz49bil7bz1uLShtKzEpO31rLmN1cnJlbnRGcmFtZSs9bzt9fTt0aGlzLl9xdWV1ZT1jO3RoaXMuX2dldEluZGV4PWE7fTtZQUhPTy51dGlsLkJlemllcj1uZXcgZnVuY3Rpb24oKXt0aGlzLmdldFBvc2l0aW9uPWZ1bmN0aW9uKGUsZCl7dmFyIGY9ZS5sZW5ndGg7dmFyIGM9W107Zm9yKHZhciBiPTA7YjxmOysrYil7Y1tiXT1bZVtiXVswXSxlW2JdWzFdXTt9Zm9yKHZhciBhPTE7YTxmOysrYSl7Zm9yKGI9MDtiPGYtYTsrK2Ipe2NbYl1bMF09KDEtZCkqY1tiXVswXStkKmNbcGFyc2VJbnQoYisxLDEwKV1bMF07Y1tiXVsxXT0oMS1kKSpjW2JdWzFdK2QqY1twYXJzZUludChiKzEsMTApXVsxXTt9fXJldHVybltjWzBdWzBdLGNbMF1bMV1dO307fTsoZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihmLGUsZyxoKXthLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLGYsZSxnLGgpO307YS5OQU1FPSJDb2xvckFuaW0iO2EuREVGQVVMVF9CR0NPTE9SPSIjZmZmIjt2YXIgYz1ZQUhPTy51dGlsO1lBSE9PLmV4dGVuZChhLGMuQW5pbSk7dmFyIGQ9YS5zdXBlcmNsYXNzO3ZhciBiPWEucHJvdG90eXBlO2IucGF0dGVybnMuY29sb3I9L2NvbG9yJC9pO2IucGF0dGVybnMucmdiPS9ecmdiXCgoWzAtOV0rKVxzKixccyooWzAtOV0rKVxzKixccyooWzAtOV0rKVwpJC9pO2IucGF0dGVybnMuaGV4PS9eIz8oWzAtOUEtRl17Mn0pKFswLTlBLUZdezJ9KShbMC05QS1GXXsyfSkkL2k7Yi5wYXR0ZXJucy5oZXgzPS9eIz8oWzAtOUEtRl17MX0pKFswLTlBLUZdezF9KShbMC05QS1GXXsxfSkkL2k7CmIucGF0dGVybnMudHJhbnNwYXJlbnQ9L150cmFuc3BhcmVudHxyZ2JhXCgwLCAwLCAwLCAwXCkkLztiLnBhcnNlQ29sb3I9ZnVuY3Rpb24oZSl7aWYoZS5sZW5ndGg9PTMpe3JldHVybiBlO312YXIgZj10aGlzLnBhdHRlcm5zLmhleC5leGVjKGUpO2lmKGYmJmYubGVuZ3RoPT00KXtyZXR1cm5bcGFyc2VJbnQoZlsxXSwxNikscGFyc2VJbnQoZlsyXSwxNikscGFyc2VJbnQoZlszXSwxNildO31mPXRoaXMucGF0dGVybnMucmdiLmV4ZWMoZSk7aWYoZiYmZi5sZW5ndGg9PTQpe3JldHVybltwYXJzZUludChmWzFdLDEwKSxwYXJzZUludChmWzJdLDEwKSxwYXJzZUludChmWzNdLDEwKV07fWY9dGhpcy5wYXR0ZXJucy5oZXgzLmV4ZWMoZSk7aWYoZiYmZi5sZW5ndGg9PTQpe3JldHVybltwYXJzZUludChmWzFdK2ZbMV0sMTYpLHBhcnNlSW50KGZbMl0rZlsyXSwxNikscGFyc2VJbnQoZlszXStmWzNdLDE2KV07fXJldHVybiBudWxsO307Yi5nZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oZSl7dmFyIGc9dGhpcy5nZXRFbCgpO2lmKHRoaXMucGF0dGVybnMuY29sb3IudGVzdChlKSl7dmFyIGk9WUFIT08udXRpbC5Eb20uZ2V0U3R5bGUoZyxlKTt2YXIgaD10aGlzO2lmKHRoaXMucGF0dGVybnMudHJhbnNwYXJlbnQudGVzdChpKSl7dmFyIGY9WUFIT08udXRpbC5Eb20uZ2V0QW5jZXN0b3JCeShnLGZ1bmN0aW9uKGope3JldHVybiAhaC5wYXR0ZXJucy50cmFuc3BhcmVudC50ZXN0KGkpO30pO2lmKGYpe2k9Yy5Eb20uZ2V0U3R5bGUoZixlKTt9ZWxzZXtpPWEuREVGQVVMVF9CR0NPTE9SO319fWVsc2V7aT1kLmdldEF0dHJpYnV0ZS5jYWxsKHRoaXMsZSk7fXJldHVybiBpO307Yi5kb01ldGhvZD1mdW5jdGlvbihmLGssZyl7dmFyIGo7aWYodGhpcy5wYXR0ZXJucy5jb2xvci50ZXN0KGYpKXtqPVtdO2Zvcih2YXIgaD0wLGU9ay5sZW5ndGg7aDxlOysraCl7altoXT1kLmRvTWV0aG9kLmNhbGwodGhpcyxmLGtbaF0sZ1toXSk7fWo9InJnYigiK01hdGguZmxvb3IoalswXSkrIiwiK01hdGguZmxvb3IoalsxXSkrIiwiK01hdGguZmxvb3IoalsyXSkrIikiO31lbHNle2o9ZC5kb01ldGhvZC5jYWxsKHRoaXMsZixrLGcpO31yZXR1cm4gajt9O2Iuc2V0UnVudGltZUF0dHJpYnV0ZT1mdW5jdGlvbihmKXtkLnNldFJ1bnRpbWVBdHRyaWJ1dGUuY2FsbCh0aGlzLGYpO2lmKHRoaXMucGF0dGVybnMuY29sb3IudGVzdChmKSl7dmFyIGg9dGhpcy5hdHRyaWJ1dGVzO3ZhciBrPXRoaXMucGFyc2VDb2xvcih0aGlzLnJ1bnRpbWVBdHRyaWJ1dGVzW2ZdLnN0YXJ0KTt2YXIgZz10aGlzLnBhcnNlQ29sb3IodGhpcy5ydW50aW1lQXR0cmlidXRlc1tmXS5lbmQpO2lmKHR5cGVvZiBoW2ZdWyJ0byJdPT09InVuZGVmaW5lZCImJnR5cGVvZiBoW2ZdWyJieSJdIT09InVuZGVmaW5lZCIpe2c9dGhpcy5wYXJzZUNvbG9yKGhbZl0uYnkpO2Zvcih2YXIgaj0wLGU9ay5sZW5ndGg7ajxlOysrail7Z1tqXT1rW2pdK2dbal07fX10aGlzLnJ1bnRpbWVBdHRyaWJ1dGVzW2ZdLnN0YXJ0PWs7dGhpcy5ydW50aW1lQXR0cmlidXRlc1tmXS5lbmQ9Zzt9fTtjLkNvbG9yQW5pbT1hO30pKCk7Ci8qIQpURVJNUyBPRiBVU0UgLSBFQVNJTkcgRVFVQVRJT05TCk9wZW4gc291cmNlIHVuZGVyIHRoZSBCU0QgTGljZW5zZS4KQ29weXJpZ2h0IDIwMDEgUm9iZXJ0IFBlbm5lciBBbGwgcmlnaHRzIHJlc2VydmVkLgoKUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OgoKICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLgogKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uCiAqIE5laXRoZXIgdGhlIG5hbWUgb2YgdGhlIGF1dGhvciBub3IgdGhlIG5hbWVzIG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uCgpUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTICJBUyBJUyIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuCiovCllBSE9PLnV0aWwuRWFzaW5nPXtlYXNlTm9uZTpmdW5jdGlvbihlLGEsZyxmKXtyZXR1cm4gZyplL2YrYTt9LGVhc2VJbjpmdW5jdGlvbihlLGEsZyxmKXtyZXR1cm4gZyooZS89ZikqZSthO30sZWFzZU91dDpmdW5jdGlvbihlLGEsZyxmKXtyZXR1cm4gLWcqKGUvPWYpKihlLTIpK2E7fSxlYXNlQm90aDpmdW5jdGlvbihlLGEsZyxmKXtpZigoZS89Zi8yKTwxKXtyZXR1cm4gZy8yKmUqZSthO31yZXR1cm4gLWcvMiooKC0tZSkqKGUtMiktMSkrYTt9LGVhc2VJblN0cm9uZzpmdW5jdGlvbihlLGEsZyxmKXtyZXR1cm4gZyooZS89ZikqZSplKmUrYTt9LGVhc2VPdXRTdHJvbmc6ZnVuY3Rpb24oZSxhLGcsZil7cmV0dXJuIC1nKigoZT1lL2YtMSkqZSplKmUtMSkrYTt9LGVhc2VCb3RoU3Ryb25nOmZ1bmN0aW9uKGUsYSxnLGYpe2lmKChlLz1mLzIpPDEpe3JldHVybiBnLzIqZSplKmUqZSthO31yZXR1cm4gLWcvMiooKGUtPTIpKmUqZSplLTIpK2E7fSxlbGFzdGljSW46ZnVuY3Rpb24oZyxlLGssaixmLGkpe2lmKGc9PTApe3JldHVybiBlO31pZigoZy89aik9PTEpe3JldHVybiBlK2s7fWlmKCFpKXtpPWoqMC4zO31pZighZnx8ZjxNYXRoLmFicyhrKSl7Zj1rO3ZhciBoPWkvNDt9ZWxzZXt2YXIgaD1pLygyKk1hdGguUEkpKk1hdGguYXNpbihrL2YpO31yZXR1cm4gLShmKk1hdGgucG93KDIsMTAqKGctPTEpKSpNYXRoLnNpbigoZypqLWgpKigyKk1hdGguUEkpL2kpKStlO30sZWxhc3RpY091dDpmdW5jdGlvbihnLGUsayxqLGYsaSl7aWYoZz09MCl7cmV0dXJuIGU7fWlmKChnLz1qKT09MSl7cmV0dXJuIGUrazt9aWYoIWkpe2k9aiowLjM7fWlmKCFmfHxmPE1hdGguYWJzKGspKXtmPWs7dmFyIGg9aS80O31lbHNle3ZhciBoPWkvKDIqTWF0aC5QSSkqTWF0aC5hc2luKGsvZik7fXJldHVybiBmKk1hdGgucG93KDIsLTEwKmcpKk1hdGguc2luKChnKmotaCkqKDIqTWF0aC5QSSkvaSkraytlO30sZWxhc3RpY0JvdGg6ZnVuY3Rpb24oZyxlLGssaixmLGkpe2lmKGc9PTApe3JldHVybiBlO31pZigoZy89ai8yKT09Mil7cmV0dXJuIGUrazt9aWYoIWkpe2k9aiooMC4zKjEuNSk7fWlmKCFmfHxmPE1hdGguYWJzKGspKXtmPWs7dmFyIGg9aS80O31lbHNle3ZhciBoPWkvKDIqTWF0aC5QSSkqTWF0aC5hc2luKGsvZik7fWlmKGc8MSl7cmV0dXJuIC0wLjUqKGYqTWF0aC5wb3coMiwxMCooZy09MSkpKk1hdGguc2luKChnKmotaCkqKDIqTWF0aC5QSSkvaSkpK2U7fXJldHVybiBmKk1hdGgucG93KDIsLTEwKihnLT0xKSkqTWF0aC5zaW4oKGcqai1oKSooMipNYXRoLlBJKS9pKSowLjUraytlO30sYmFja0luOmZ1bmN0aW9uKGUsYSxoLGcsZil7aWYodHlwZW9mIGY9PSJ1bmRlZmluZWQiKXtmPTEuNzAxNTg7fXJldHVybiBoKihlLz1nKSplKigoZisxKSplLWYpK2E7fSxiYWNrT3V0OmZ1bmN0aW9uKGUsYSxoLGcsZil7aWYodHlwZW9mIGY9PSJ1bmRlZmluZWQiKXtmPTEuNzAxNTg7fXJldHVybiBoKigoZT1lL2ctMSkqZSooKGYrMSkqZStmKSsxKSthO30sYmFja0JvdGg6ZnVuY3Rpb24oZSxhLGgsZyxmKXtpZih0eXBlb2YgZj09InVuZGVmaW5lZCIpe2Y9MS43MDE1ODt9aWYoKGUvPWcvMik8MSl7cmV0dXJuIGgvMiooZSplKigoKGYqPSgxLjUyNSkpKzEpKmUtZikpK2E7fXJldHVybiBoLzIqKChlLT0yKSplKigoKGYqPSgxLjUyNSkpKzEpKmUrZikrMikrYTt9LGJvdW5jZUluOmZ1bmN0aW9uKGUsYSxnLGYpe3JldHVybiBnLVlBSE9PLnV0aWwuRWFzaW5nLmJvdW5jZU91dChmLWUsMCxnLGYpK2E7fSxib3VuY2VPdXQ6ZnVuY3Rpb24oZSxhLGcsZil7aWYoKGUvPWYpPCgxLzIuNzUpKXtyZXR1cm4gZyooNy41NjI1KmUqZSkrYTt9ZWxzZXtpZihlPCgyLzIuNzUpKXtyZXR1cm4gZyooNy41NjI1KihlLT0oMS41LzIuNzUpKSplKzAuNzUpK2E7fWVsc2V7aWYoZTwoMi41LzIuNzUpKXtyZXR1cm4gZyooNy41NjI1KihlLT0oMi4yNS8yLjc1KSkqZSswLjkzNzUpK2E7fX19cmV0dXJuIGcqKDcuNTYyNSooZS09KDIuNjI1LzIuNzUpKSplKzAuOTg0Mzc1KSthO30sYm91bmNlQm90aDpmdW5jdGlvbihlLGEsZyxmKXtpZihlPGYvMil7cmV0dXJuIFlBSE9PLnV0aWwuRWFzaW5nLmJvdW5jZUluKGUqMiwwLGcsZikqMC41K2E7fXJldHVybiBZQUhPTy51dGlsLkVhc2luZy5ib3VuY2VPdXQoZSoyLWYsMCxnLGYpKjAuNStnKjAuNSthO319OyhmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGgsZyxpLGope2lmKGgpe2Euc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsaCxnLGksaik7fX07YS5OQU1FPSJNb3Rpb24iO3ZhciBlPVlBSE9PLnV0aWw7WUFIT08uZXh0ZW5kKGEsZS5Db2xvckFuaW0pO3ZhciBmPWEuc3VwZXJjbGFzczt2YXIgYz1hLnByb3RvdHlwZTtjLnBhdHRlcm5zLnBvaW50cz0vXnBvaW50cyQvaTtjLnNldEF0dHJpYnV0ZT1mdW5jdGlvbihnLGksaCl7aWYodGhpcy5wYXR0ZXJucy5wb2ludHMudGVzdChnKSl7aD1ofHwicHgiO2Yuc2V0QXR0cmlidXRlLmNhbGwodGhpcywibGVmdCIsaVswXSxoKTtmLnNldEF0dHJpYnV0ZS5jYWxsKHRoaXMsInRvcCIsaVsxXSxoKTt9ZWxzZXtmLnNldEF0dHJpYnV0ZS5jYWxsKHRoaXMsZyxpLGgpO319O2MuZ2V0QXR0cmlidXRlPWZ1bmN0aW9uKGcpe2lmKHRoaXMucGF0dGVybnMucG9pbnRzLnRlc3QoZykpe3ZhciBoPVtmLmdldEF0dHJpYnV0ZS5jYWxsKHRoaXMsImxlZnQiKSxmLmdldEF0dHJpYnV0ZS5jYWxsKHRoaXMsInRvcCIpXTt9ZWxzZXtoPWYuZ2V0QXR0cmlidXRlLmNhbGwodGhpcyxnKTt9cmV0dXJuIGg7fTtjLmRvTWV0aG9kPWZ1bmN0aW9uKGcsayxoKXt2YXIgaj1udWxsO2lmKHRoaXMucGF0dGVybnMucG9pbnRzLnRlc3QoZykpe3ZhciBpPXRoaXMubWV0aG9kKHRoaXMuY3VycmVudEZyYW1lLDAsMTAwLHRoaXMudG90YWxGcmFtZXMpLzEwMDtqPWUuQmV6aWVyLmdldFBvc2l0aW9uKHRoaXMucnVudGltZUF0dHJpYnV0ZXNbZ10saSk7Cn1lbHNle2o9Zi5kb01ldGhvZC5jYWxsKHRoaXMsZyxrLGgpO31yZXR1cm4gajt9O2Muc2V0UnVudGltZUF0dHJpYnV0ZT1mdW5jdGlvbihxKXtpZih0aGlzLnBhdHRlcm5zLnBvaW50cy50ZXN0KHEpKXt2YXIgaD10aGlzLmdldEVsKCk7dmFyIGs9dGhpcy5hdHRyaWJ1dGVzO3ZhciBnO3ZhciBtPWtbInBvaW50cyJdWyJjb250cm9sIl18fFtdO3ZhciBqO3ZhciBuLHA7aWYobS5sZW5ndGg+MCYmIShtWzBdIGluc3RhbmNlb2YgQXJyYXkpKXttPVttXTt9ZWxzZXt2YXIgbD1bXTtmb3Iobj0wLHA9bS5sZW5ndGg7bjxwOysrbil7bFtuXT1tW25dO31tPWw7fWlmKGUuRG9tLmdldFN0eWxlKGgsInBvc2l0aW9uIik9PSJzdGF0aWMiKXtlLkRvbS5zZXRTdHlsZShoLCJwb3NpdGlvbiIsInJlbGF0aXZlIik7fWlmKGQoa1sicG9pbnRzIl1bImZyb20iXSkpe2UuRG9tLnNldFhZKGgsa1sicG9pbnRzIl1bImZyb20iXSk7fWVsc2V7ZS5Eb20uc2V0WFkoaCxlLkRvbS5nZXRYWShoKSk7fWc9dGhpcy5nZXRBdHRyaWJ1dGUoInBvaW50cyIpO2lmKGQoa1sicG9pbnRzIl1bInRvIl0pKXtqPWIuY2FsbCh0aGlzLGtbInBvaW50cyJdWyJ0byJdLGcpO3ZhciBvPWUuRG9tLmdldFhZKHRoaXMuZ2V0RWwoKSk7Zm9yKG49MCxwPW0ubGVuZ3RoO248cDsrK24pe21bbl09Yi5jYWxsKHRoaXMsbVtuXSxnKTt9fWVsc2V7aWYoZChrWyJwb2ludHMiXVsiYnkiXSkpe2o9W2dbMF0ra1sicG9pbnRzIl1bImJ5Il1bMF0sZ1sxXStrWyJwb2ludHMiXVsiYnkiXVsxXV07Zm9yKG49MCxwPW0ubGVuZ3RoO248cDsrK24pe21bbl09W2dbMF0rbVtuXVswXSxnWzFdK21bbl1bMV1dO319fXRoaXMucnVudGltZUF0dHJpYnV0ZXNbcV09W2ddO2lmKG0ubGVuZ3RoPjApe3RoaXMucnVudGltZUF0dHJpYnV0ZXNbcV09dGhpcy5ydW50aW1lQXR0cmlidXRlc1txXS5jb25jYXQobSk7fXRoaXMucnVudGltZUF0dHJpYnV0ZXNbcV1bdGhpcy5ydW50aW1lQXR0cmlidXRlc1txXS5sZW5ndGhdPWo7fWVsc2V7Zi5zZXRSdW50aW1lQXR0cmlidXRlLmNhbGwodGhpcyxxKTt9fTt2YXIgYj1mdW5jdGlvbihnLGkpe3ZhciBoPWUuRG9tLmdldFhZKHRoaXMuZ2V0RWwoKSk7Zz1bZ1swXS1oWzBdK2lbMF0sZ1sxXS1oWzFdK2lbMV1dO3JldHVybiBnO307dmFyIGQ9ZnVuY3Rpb24oZyl7cmV0dXJuKHR5cGVvZiBnIT09InVuZGVmaW5lZCIpO307ZS5Nb3Rpb249YTt9KSgpOyhmdW5jdGlvbigpe3ZhciBkPWZ1bmN0aW9uKGYsZSxnLGgpe2lmKGYpe2Quc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsZixlLGcsaCk7fX07ZC5OQU1FPSJTY3JvbGwiO3ZhciBiPVlBSE9PLnV0aWw7WUFIT08uZXh0ZW5kKGQsYi5Db2xvckFuaW0pO3ZhciBjPWQuc3VwZXJjbGFzczt2YXIgYT1kLnByb3RvdHlwZTthLmRvTWV0aG9kPWZ1bmN0aW9uKGUsaCxmKXt2YXIgZz1udWxsO2lmKGU9PSJzY3JvbGwiKXtnPVt0aGlzLm1ldGhvZCh0aGlzLmN1cnJlbnRGcmFtZSxoWzBdLGZbMF0taFswXSx0aGlzLnRvdGFsRnJhbWVzKSx0aGlzLm1ldGhvZCh0aGlzLmN1cnJlbnRGcmFtZSxoWzFdLGZbMV0taFsxXSx0aGlzLnRvdGFsRnJhbWVzKV07fWVsc2V7Zz1jLmRvTWV0aG9kLmNhbGwodGhpcyxlLGgsZik7fXJldHVybiBnO307YS5nZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oZSl7dmFyIGc9bnVsbDt2YXIgZj10aGlzLmdldEVsKCk7aWYoZT09InNjcm9sbCIpe2c9W2Yuc2Nyb2xsTGVmdCxmLnNjcm9sbFRvcF07fWVsc2V7Zz1jLmdldEF0dHJpYnV0ZS5jYWxsKHRoaXMsZSk7fXJldHVybiBnO307YS5zZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oZSxoLGcpe3ZhciBmPXRoaXMuZ2V0RWwoKTtpZihlPT0ic2Nyb2xsIil7Zi5zY3JvbGxMZWZ0PWhbMF07Zi5zY3JvbGxUb3A9aFsxXTt9ZWxzZXtjLnNldEF0dHJpYnV0ZS5jYWxsKHRoaXMsZSxoLGcpO319O2IuU2Nyb2xsPWQ7fSkoKTtZQUhPTy5yZWdpc3RlcigiYW5pbWF0aW9uIixZQUhPTy51dGlsLkFuaW0se3ZlcnNpb246IjIuOS4wIixidWlsZDoiMjgwMCJ9KTs=",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 18988
        },
        "cache": {},
        "timings": {
          "send": 17,
          "wait": 0,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27307"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.873-06:00",
        "time": 54,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/yui/dragdrop/dragdrop-min.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 340,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:34 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "6974"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 31588,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "LyoKQ29weXJpZ2h0IChjKSAyMDExLCBZYWhvbyEgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLgpDb2RlIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgTGljZW5zZToKaHR0cDovL2RldmVsb3Blci55YWhvby5jb20veXVpL2xpY2Vuc2UuaHRtbAp2ZXJzaW9uOiAyLjkuMAoqLwppZighWUFIT08udXRpbC5EcmFnRHJvcE1ncil7WUFIT08udXRpbC5EcmFnRHJvcE1ncj1mdW5jdGlvbigpe3ZhciBBPVlBSE9PLnV0aWwuRXZlbnQsQj1ZQUhPTy51dGlsLkRvbTtyZXR1cm57dXNlU2hpbTpmYWxzZSxfc2hpbUFjdGl2ZTpmYWxzZSxfc2hpbVN0YXRlOmZhbHNlLF9kZWJ1Z1NoaW06ZmFsc2UsX2NyZWF0ZVNoaW06ZnVuY3Rpb24oKXt2YXIgQz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtDLmlkPSJ5dWktZGRtLXNoaW0iO2lmKGRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCl7ZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoQyxkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpO31lbHNle2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoQyk7fUMuc3R5bGUuZGlzcGxheT0ibm9uZSI7Qy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9InJlZCI7Qy5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO0Muc3R5bGUuekluZGV4PSI5OTk5OSI7Qi5zZXRTdHlsZShDLCJvcGFjaXR5IiwiMCIpO3RoaXMuX3NoaW09QztBLm9uKEMsIm1vdXNldXAiLHRoaXMuaGFuZGxlTW91c2VVcCx0aGlzLHRydWUpO0Eub24oQywibW91c2Vtb3ZlIix0aGlzLmhhbmRsZU1vdXNlTW92ZSx0aGlzLHRydWUpO0Eub24od2luZG93LCJzY3JvbGwiLHRoaXMuX3NpemVTaGltLHRoaXMsdHJ1ZSk7fSxfc2l6ZVNoaW06ZnVuY3Rpb24oKXtpZih0aGlzLl9zaGltQWN0aXZlKXt2YXIgQz10aGlzLl9zaGltO0Muc3R5bGUuaGVpZ2h0PUIuZ2V0RG9jdW1lbnRIZWlnaHQoKSsicHgiO0Muc3R5bGUud2lkdGg9Qi5nZXREb2N1bWVudFdpZHRoKCkrInB4IjtDLnN0eWxlLnRvcD0iMCI7Qy5zdHlsZS5sZWZ0PSIwIjt9fSxfYWN0aXZhdGVTaGltOmZ1bmN0aW9uKCl7aWYodGhpcy51c2VTaGltKXtpZighdGhpcy5fc2hpbSl7dGhpcy5fY3JlYXRlU2hpbSgpO310aGlzLl9zaGltQWN0aXZlPXRydWU7dmFyIEM9dGhpcy5fc2hpbSxEPSIwIjtpZih0aGlzLl9kZWJ1Z1NoaW0pe0Q9Ii41Ijt9Qi5zZXRTdHlsZShDLCJvcGFjaXR5IixEKTt0aGlzLl9zaXplU2hpbSgpO0Muc3R5bGUuZGlzcGxheT0iYmxvY2siO319LF9kZWFjdGl2YXRlU2hpbTpmdW5jdGlvbigpe3RoaXMuX3NoaW0uc3R5bGUuZGlzcGxheT0ibm9uZSI7dGhpcy5fc2hpbUFjdGl2ZT1mYWxzZTt9LF9zaGltOm51bGwsaWRzOnt9LGhhbmRsZUlkczp7fSxkcmFnQ3VycmVudDpudWxsLGRyYWdPdmVyczp7fSxkZWx0YVg6MCxkZWx0YVk6MCxwcmV2ZW50RGVmYXVsdDp0cnVlLHN0b3BQcm9wYWdhdGlvbjp0cnVlLGluaXRpYWxpemVkOmZhbHNlLGxvY2tlZDpmYWxzZSxpbnRlcmFjdGlvbkluZm86bnVsbCxpbml0OmZ1bmN0aW9uKCl7dGhpcy5pbml0aWFsaXplZD10cnVlO30sUE9JTlQ6MCxJTlRFUlNFQ1Q6MSxTVFJJQ1RfSU5URVJTRUNUOjIsbW9kZTowLF9leGVjT25BbGw6ZnVuY3Rpb24oRSxEKXtmb3IodmFyIEYgaW4gdGhpcy5pZHMpe2Zvcih2YXIgQyBpbiB0aGlzLmlkc1tGXSl7dmFyIEc9dGhpcy5pZHNbRl1bQ107aWYoIXRoaXMuaXNUeXBlT2ZERChHKSl7Y29udGludWU7fUdbRV0uYXBwbHkoRyxEKTt9fX0sX29uTG9hZDpmdW5jdGlvbigpe3RoaXMuaW5pdCgpO0Eub24oZG9jdW1lbnQsIm1vdXNldXAiLHRoaXMuaGFuZGxlTW91c2VVcCx0aGlzLHRydWUpO0Eub24oZG9jdW1lbnQsIm1vdXNlbW92ZSIsdGhpcy5oYW5kbGVNb3VzZU1vdmUsdGhpcyx0cnVlKTtBLm9uKHdpbmRvdywidW5sb2FkIix0aGlzLl9vblVubG9hZCx0aGlzLHRydWUpO0Eub24od2luZG93LCJyZXNpemUiLHRoaXMuX29uUmVzaXplLHRoaXMsdHJ1ZSk7fSxfb25SZXNpemU6ZnVuY3Rpb24oQyl7dGhpcy5fZXhlY09uQWxsKCJyZXNldENvbnN0cmFpbnRzIixbXSk7fSxsb2NrOmZ1bmN0aW9uKCl7dGhpcy5sb2NrZWQ9dHJ1ZTt9LHVubG9jazpmdW5jdGlvbigpe3RoaXMubG9ja2VkPWZhbHNlO30saXNMb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NrZWQ7fSxsb2NhdGlvbkNhY2hlOnt9LHVzZUNhY2hlOnRydWUsY2xpY2tQaXhlbFRocmVzaDozLGNsaWNrVGltZVRocmVzaDoxMDAwLGRyYWdUaHJlc2hNZXQ6ZmFsc2UsY2xpY2tUaW1lb3V0Om51bGwsc3RhcnRYOjAsc3RhcnRZOjAsZnJvbVRpbWVvdXQ6ZmFsc2UscmVnRHJhZ0Ryb3A6ZnVuY3Rpb24oRCxDKXtpZighdGhpcy5pbml0aWFsaXplZCl7dGhpcy5pbml0KCk7fWlmKCF0aGlzLmlkc1tDXSl7dGhpcy5pZHNbQ109e307fXRoaXMuaWRzW0NdW0QuaWRdPUQ7fSxyZW1vdmVEREZyb21Hcm91cDpmdW5jdGlvbihFLEMpe2lmKCF0aGlzLmlkc1tDXSl7dGhpcy5pZHNbQ109e307fXZhciBEPXRoaXMuaWRzW0NdO2lmKEQmJkRbRS5pZF0pe2RlbGV0ZSBEW0UuaWRdO319LF9yZW1vdmU6ZnVuY3Rpb24oRSl7Zm9yKHZhciBEIGluIEUuZ3JvdXBzKXtpZihEKXt2YXIgQz10aGlzLmlkc1tEXTtpZihDJiZDW0UuaWRdKXtkZWxldGUgQ1tFLmlkXTt9fX1kZWxldGUgdGhpcy5oYW5kbGVJZHNbRS5pZF07fSxyZWdIYW5kbGU6ZnVuY3Rpb24oRCxDKXtpZighdGhpcy5oYW5kbGVJZHNbRF0pe3RoaXMuaGFuZGxlSWRzW0RdPXt9O310aGlzLmhhbmRsZUlkc1tEXVtDXT1DO30saXNEcmFnRHJvcDpmdW5jdGlvbihDKXtyZXR1cm4odGhpcy5nZXREREJ5SWQoQykpP3RydWU6ZmFsc2U7fSxnZXRSZWxhdGVkOmZ1bmN0aW9uKEgsRCl7dmFyIEc9W107Zm9yKHZhciBGIGluIEguZ3JvdXBzKXtmb3IodmFyIEUgaW4gdGhpcy5pZHNbRl0pe3ZhciBDPXRoaXMuaWRzW0ZdW0VdO2lmKCF0aGlzLmlzVHlwZU9mREQoQykpe2NvbnRpbnVlO31pZighRHx8Qy5pc1RhcmdldCl7R1tHLmxlbmd0aF09Qzt9fX1yZXR1cm4gRzt9LGlzTGVnYWxUYXJnZXQ6ZnVuY3Rpb24oRyxGKXt2YXIgRD10aGlzLmdldFJlbGF0ZWQoRyx0cnVlKTtmb3IodmFyIEU9MCxDPUQubGVuZ3RoO0U8QzsrK0Upe2lmKERbRV0uaWQ9PUYuaWQpe3JldHVybiB0cnVlO319cmV0dXJuIGZhbHNlO30saXNUeXBlT2ZERDpmdW5jdGlvbihDKXtyZXR1cm4oQyYmQy5fX3lnRHJhZ0Ryb3ApO30saXNIYW5kbGU6ZnVuY3Rpb24oRCxDKXtyZXR1cm4odGhpcy5oYW5kbGVJZHNbRF0mJnRoaXMuaGFuZGxlSWRzW0RdW0NdKTt9LGdldEREQnlJZDpmdW5jdGlvbihEKXtmb3IodmFyIEMgaW4gdGhpcy5pZHMpe2lmKHRoaXMuaWRzW0NdW0RdKXtyZXR1cm4gdGhpcy5pZHNbQ11bRF07fX1yZXR1cm4gbnVsbDt9LGhhbmRsZU1vdXNlRG93bjpmdW5jdGlvbihFLEQpe3RoaXMuY3VycmVudFRhcmdldD1ZQUhPTy51dGlsLkV2ZW50LmdldFRhcmdldChFKTt0aGlzLmRyYWdDdXJyZW50PUQ7dmFyIEM9RC5nZXRFbCgpO3RoaXMuc3RhcnRYPVlBSE9PLnV0aWwuRXZlbnQuZ2V0UGFnZVgoRSk7dGhpcy5zdGFydFk9WUFIT08udXRpbC5FdmVudC5nZXRQYWdlWShFKTt0aGlzLmRlbHRhWD10aGlzLnN0YXJ0WC1DLm9mZnNldExlZnQ7dGhpcy5kZWx0YVk9dGhpcy5zdGFydFktQy5vZmZzZXRUb3A7dGhpcy5kcmFnVGhyZXNoTWV0PWZhbHNlO3RoaXMuY2xpY2tUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgRj1ZQUhPTy51dGlsLkRETTtGLnN0YXJ0RHJhZyhGLnN0YXJ0WCxGLnN0YXJ0WSk7Ri5mcm9tVGltZW91dD10cnVlO30sdGhpcy5jbGlja1RpbWVUaHJlc2gpO30sc3RhcnREcmFnOmZ1bmN0aW9uKEMsRSl7aWYodGhpcy5kcmFnQ3VycmVudCYmdGhpcy5kcmFnQ3VycmVudC51c2VTaGltKXt0aGlzLl9zaGltU3RhdGU9dGhpcy51c2VTaGltO3RoaXMudXNlU2hpbT10cnVlO310aGlzLl9hY3RpdmF0ZVNoaW0oKTtjbGVhclRpbWVvdXQodGhpcy5jbGlja1RpbWVvdXQpO3ZhciBEPXRoaXMuZHJhZ0N1cnJlbnQ7aWYoRCYmRC5ldmVudHMuYjRTdGFydERyYWcpe0QuYjRTdGFydERyYWcoQyxFKTtELmZpcmVFdmVudCgiYjRTdGFydERyYWdFdmVudCIse3g6Qyx5OkV9KTt9aWYoRCYmRC5ldmVudHMuc3RhcnREcmFnKXtELnN0YXJ0RHJhZyhDLEUpO0QuZmlyZUV2ZW50KCJzdGFydERyYWdFdmVudCIse3g6Qyx5OkV9KTt9dGhpcy5kcmFnVGhyZXNoTWV0PXRydWU7fSxoYW5kbGVNb3VzZVVwOmZ1bmN0aW9uKEMpe2lmKHRoaXMuZHJhZ0N1cnJlbnQpe2NsZWFyVGltZW91dCh0aGlzLmNsaWNrVGltZW91dCk7aWYodGhpcy5kcmFnVGhyZXNoTWV0KXtpZih0aGlzLmZyb21UaW1lb3V0KXt0aGlzLmZyb21UaW1lb3V0PWZhbHNlO3RoaXMuaGFuZGxlTW91c2VNb3ZlKEMpO310aGlzLmZyb21UaW1lb3V0PWZhbHNlO3RoaXMuZmlyZUV2ZW50cyhDLHRydWUpO31lbHNle310aGlzLnN0b3BEcmFnKEMpO3RoaXMuc3RvcEV2ZW50KEMpO319LHN0b3BFdmVudDpmdW5jdGlvbihDKXtpZih0aGlzLnN0b3BQcm9wYWdhdGlvbil7WUFIT08udXRpbC5FdmVudC5zdG9wUHJvcGFnYXRpb24oQyk7fWlmKHRoaXMucHJldmVudERlZmF1bHQpe1lBSE9PLnV0aWwuRXZlbnQucHJldmVudERlZmF1bHQoQyk7fX0sc3RvcERyYWc6ZnVuY3Rpb24oRSxEKXt2YXIgQz10aGlzLmRyYWdDdXJyZW50O2lmKEMmJiFEKXtpZih0aGlzLmRyYWdUaHJlc2hNZXQpe2lmKEMuZXZlbnRzLmI0RW5kRHJhZyl7Qy5iNEVuZERyYWcoRSk7Qy5maXJlRXZlbnQoImI0RW5kRHJhZ0V2ZW50Iix7ZTpFfSk7fWlmKEMuZXZlbnRzLmVuZERyYWcpe0MuZW5kRHJhZyhFKTtDLmZpcmVFdmVudCgiZW5kRHJhZ0V2ZW50Iix7ZTpFfSk7fX1pZihDLmV2ZW50cy5tb3VzZVVwKXtDLm9uTW91c2VVcChFKTtDLmZpcmVFdmVudCgibW91c2VVcEV2ZW50Iix7ZTpFfSk7fX1pZih0aGlzLl9zaGltQWN0aXZlKXt0aGlzLl9kZWFjdGl2YXRlU2hpbSgpO2lmKHRoaXMuZHJhZ0N1cnJlbnQmJnRoaXMuZHJhZ0N1cnJlbnQudXNlU2hpbSl7dGhpcy51c2VTaGltPXRoaXMuX3NoaW1TdGF0ZTt0aGlzLl9zaGltU3RhdGU9ZmFsc2U7fX10aGlzLmRyYWdDdXJyZW50PW51bGw7dGhpcy5kcmFnT3ZlcnM9e307fSxoYW5kbGVNb3VzZU1vdmU6ZnVuY3Rpb24oRil7dmFyIEM9dGhpcy5kcmFnQ3VycmVudDtpZihDKXtpZihZQUhPTy5lbnYudWEuaWUmJihZQUhPTy5lbnYudWEuaWU8OSkmJiFGLmJ1dHRvbil7dGhpcy5zdG9wRXZlbnQoRik7cmV0dXJuIHRoaXMuaGFuZGxlTW91c2VVcChGKTt9ZWxzZXtpZihGLmNsaWVudFg8MHx8Ri5jbGllbnRZPDApe319aWYoIXRoaXMuZHJhZ1RocmVzaE1ldCl7dmFyIEU9TWF0aC5hYnModGhpcy5zdGFydFgtWUFIT08udXRpbC5FdmVudC5nZXRQYWdlWChGKSk7dmFyIEQ9TWF0aC5hYnModGhpcy5zdGFydFktWUFIT08udXRpbC5FdmVudC5nZXRQYWdlWShGKSk7aWYoRT50aGlzLmNsaWNrUGl4ZWxUaHJlc2h8fEQ+dGhpcy5jbGlja1BpeGVsVGhyZXNoKXt0aGlzLnN0YXJ0RHJhZyh0aGlzLnN0YXJ0WCx0aGlzLnN0YXJ0WSk7fX1pZih0aGlzLmRyYWdUaHJlc2hNZXQpe2lmKEMmJkMuZXZlbnRzLmI0RHJhZyl7Qy5iNERyYWcoRik7Qy5maXJlRXZlbnQoImI0RHJhZ0V2ZW50Iix7ZTpGfSk7fWlmKEMmJkMuZXZlbnRzLmRyYWcpe0Mub25EcmFnKEYpO0MuZmlyZUV2ZW50KCJkcmFnRXZlbnQiLHtlOkZ9KTt9aWYoQyl7dGhpcy5maXJlRXZlbnRzKEYsZmFsc2UpO319dGhpcy5zdG9wRXZlbnQoRik7fX0sZmlyZUV2ZW50czpmdW5jdGlvbihXLE0pe3ZhciBjPXRoaXMuZHJhZ0N1cnJlbnQ7aWYoIWN8fGMuaXNMb2NrZWQoKXx8Yy5kcmFnT25seSl7cmV0dXJuO312YXIgTz1ZQUhPTy51dGlsLkV2ZW50LmdldFBhZ2VYKFcpLE49WUFIT08udXRpbC5FdmVudC5nZXRQYWdlWShXKSxRPW5ldyBZQUhPTy51dGlsLlBvaW50KE8sTiksSz1jLmdldFRhcmdldENvb3JkKFEueCxRLnkpLEY9Yy5nZXREcmFnRWwoKSxFPVsib3V0Iiwib3ZlciIsImRyb3AiLCJlbnRlciJdLFY9bmV3IFlBSE9PLnV0aWwuUmVnaW9uKEsueSxLLngrRi5vZmZzZXRXaWR0aCxLLnkrRi5vZmZzZXRIZWlnaHQsSy54KSxJPVtdLEQ9e30sTD17fSxSPVtdLGQ9e291dEV2dHM6W10sb3ZlckV2dHM6W10sZHJvcEV2dHM6W10sZW50ZXJFdnRzOltdfTtmb3IodmFyIFQgaW4gdGhpcy5kcmFnT3ZlcnMpe3ZhciBmPXRoaXMuZHJhZ092ZXJzW1RdO2lmKCF0aGlzLmlzVHlwZU9mREQoZikpe2NvbnRpbnVlOwp9aWYoIXRoaXMuaXNPdmVyVGFyZ2V0KFEsZix0aGlzLm1vZGUsVikpe2Qub3V0RXZ0cy5wdXNoKGYpO31JW1RdPXRydWU7ZGVsZXRlIHRoaXMuZHJhZ092ZXJzW1RdO31mb3IodmFyIFMgaW4gYy5ncm91cHMpe2lmKCJzdHJpbmciIT10eXBlb2YgUyl7Y29udGludWU7fWZvcihUIGluIHRoaXMuaWRzW1NdKXt2YXIgRz10aGlzLmlkc1tTXVtUXTtpZighdGhpcy5pc1R5cGVPZkREKEcpKXtjb250aW51ZTt9aWYoRy5pc1RhcmdldCYmIUcuaXNMb2NrZWQoKSYmRyE9Yyl7aWYodGhpcy5pc092ZXJUYXJnZXQoUSxHLHRoaXMubW9kZSxWKSl7RFtTXT10cnVlO2lmKE0pe2QuZHJvcEV2dHMucHVzaChHKTt9ZWxzZXtpZighSVtHLmlkXSl7ZC5lbnRlckV2dHMucHVzaChHKTt9ZWxzZXtkLm92ZXJFdnRzLnB1c2goRyk7fXRoaXMuZHJhZ092ZXJzW0cuaWRdPUc7fX19fX10aGlzLmludGVyYWN0aW9uSW5mbz17b3V0OmQub3V0RXZ0cyxlbnRlcjpkLmVudGVyRXZ0cyxvdmVyOmQub3ZlckV2dHMsZHJvcDpkLmRyb3BFdnRzLHBvaW50OlEsZHJhZ2dlZFJlZ2lvbjpWLHNvdXJjZVJlZ2lvbjp0aGlzLmxvY2F0aW9uQ2FjaGVbYy5pZF0sdmFsaWREcm9wOk19O2Zvcih2YXIgQyBpbiBEKXtSLnB1c2goQyk7fWlmKE0mJiFkLmRyb3BFdnRzLmxlbmd0aCl7dGhpcy5pbnRlcmFjdGlvbkluZm8udmFsaWREcm9wPWZhbHNlO2lmKGMuZXZlbnRzLmludmFsaWREcm9wKXtjLm9uSW52YWxpZERyb3AoVyk7Yy5maXJlRXZlbnQoImludmFsaWREcm9wRXZlbnQiLHtlOld9KTt9fWZvcihUPTA7VDxFLmxlbmd0aDtUKyspe3ZhciBaPW51bGw7aWYoZFtFW1RdKyJFdnRzIl0pe1o9ZFtFW1RdKyJFdnRzIl07fWlmKFomJloubGVuZ3RoKXt2YXIgSD1FW1RdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK0VbVF0uc3Vic3RyKDEpLFk9Im9uRHJhZyIrSCxKPSJiNERyYWciK0gsUD0iZHJhZyIrSCsiRXZlbnQiLFg9ImRyYWciK0g7aWYodGhpcy5tb2RlKXtpZihjLmV2ZW50c1tKXSl7Y1tKXShXLFosUik7TFtZXT1jLmZpcmVFdmVudChKKyJFdmVudCIse2V2ZW50OlcsaW5mbzpaLGdyb3VwOlJ9KTt9aWYoYy5ldmVudHNbWF0mJihMW1ldIT09ZmFsc2UpKXtjW1ldKFcsWixSKTtjLmZpcmVFdmVudChQLHtldmVudDpXLGluZm86Wixncm91cDpSfSk7fX1lbHNle2Zvcih2YXIgYT0wLFU9Wi5sZW5ndGg7YTxVOysrYSl7aWYoYy5ldmVudHNbSl0pe2NbSl0oVyxaW2FdLmlkLFJbMF0pO0xbWV09Yy5maXJlRXZlbnQoSisiRXZlbnQiLHtldmVudDpXLGluZm86WlthXS5pZCxncm91cDpSWzBdfSk7fWlmKGMuZXZlbnRzW1hdJiYoTFtZXSE9PWZhbHNlKSl7Y1tZXShXLFpbYV0uaWQsUlswXSk7Yy5maXJlRXZlbnQoUCx7ZXZlbnQ6VyxpbmZvOlpbYV0uaWQsZ3JvdXA6UlswXX0pO319fX19fSxnZXRCZXN0TWF0Y2g6ZnVuY3Rpb24oRSl7dmFyIEc9bnVsbDt2YXIgRD1FLmxlbmd0aDtpZihEPT0xKXtHPUVbMF07fWVsc2V7Zm9yKHZhciBGPTA7RjxEOysrRil7dmFyIEM9RVtGXTtpZih0aGlzLm1vZGU9PXRoaXMuSU5URVJTRUNUJiZDLmN1cnNvcklzT3Zlcil7Rz1DO2JyZWFrO31lbHNle2lmKCFHfHwhRy5vdmVybGFwfHwoQy5vdmVybGFwJiZHLm92ZXJsYXAuZ2V0QXJlYSgpPEMub3ZlcmxhcC5nZXRBcmVhKCkpKXtHPUM7fX19fXJldHVybiBHO30scmVmcmVzaENhY2hlOmZ1bmN0aW9uKEQpe3ZhciBGPUR8fHRoaXMuaWRzO2Zvcih2YXIgQyBpbiBGKXtpZigic3RyaW5nIiE9dHlwZW9mIEMpe2NvbnRpbnVlO31mb3IodmFyIEUgaW4gdGhpcy5pZHNbQ10pe3ZhciBHPXRoaXMuaWRzW0NdW0VdO2lmKHRoaXMuaXNUeXBlT2ZERChHKSl7dmFyIEg9dGhpcy5nZXRMb2NhdGlvbihHKTtpZihIKXt0aGlzLmxvY2F0aW9uQ2FjaGVbRy5pZF09SDt9ZWxzZXtkZWxldGUgdGhpcy5sb2NhdGlvbkNhY2hlW0cuaWRdO319fX19LHZlcmlmeUVsOmZ1bmN0aW9uKEQpe3RyeXtpZihEKXt2YXIgQz1ELm9mZnNldFBhcmVudDtpZihDKXtyZXR1cm4gdHJ1ZTt9fX1jYXRjaChFKXt9cmV0dXJuIGZhbHNlO30sZ2V0TG9jYXRpb246ZnVuY3Rpb24oSCl7aWYoIXRoaXMuaXNUeXBlT2ZERChIKSl7cmV0dXJuIG51bGw7fXZhciBGPUguZ2V0RWwoKSxLLEUsRCxNLEwsTixDLEosRzt0cnl7Sz1ZQUhPTy51dGlsLkRvbS5nZXRYWShGKTt9Y2F0Y2goSSl7fWlmKCFLKXtyZXR1cm4gbnVsbDt9RT1LWzBdO0Q9RStGLm9mZnNldFdpZHRoO009S1sxXTtMPU0rRi5vZmZzZXRIZWlnaHQ7Tj1NLUgucGFkZGluZ1swXTtDPUQrSC5wYWRkaW5nWzFdO0o9TCtILnBhZGRpbmdbMl07Rz1FLUgucGFkZGluZ1szXTtyZXR1cm4gbmV3IFlBSE9PLnV0aWwuUmVnaW9uKE4sQyxKLEcpO30saXNPdmVyVGFyZ2V0OmZ1bmN0aW9uKEssQyxFLEYpe3ZhciBHPXRoaXMubG9jYXRpb25DYWNoZVtDLmlkXTtpZighR3x8IXRoaXMudXNlQ2FjaGUpe0c9dGhpcy5nZXRMb2NhdGlvbihDKTt0aGlzLmxvY2F0aW9uQ2FjaGVbQy5pZF09Rzt9aWYoIUcpe3JldHVybiBmYWxzZTt9Qy5jdXJzb3JJc092ZXI9Ry5jb250YWlucyhLKTt2YXIgSj10aGlzLmRyYWdDdXJyZW50O2lmKCFKfHwoIUUmJiFKLmNvbnN0cmFpblgmJiFKLmNvbnN0cmFpblkpKXtyZXR1cm4gQy5jdXJzb3JJc092ZXI7fUMub3ZlcmxhcD1udWxsO2lmKCFGKXt2YXIgSD1KLmdldFRhcmdldENvb3JkKEsueCxLLnkpO3ZhciBEPUouZ2V0RHJhZ0VsKCk7Rj1uZXcgWUFIT08udXRpbC5SZWdpb24oSC55LEgueCtELm9mZnNldFdpZHRoLEgueStELm9mZnNldEhlaWdodCxILngpO312YXIgST1GLmludGVyc2VjdChHKTtpZihJKXtDLm92ZXJsYXA9STtyZXR1cm4oRSk/dHJ1ZTpDLmN1cnNvcklzT3Zlcjt9ZWxzZXtyZXR1cm4gZmFsc2U7fX0sX29uVW5sb2FkOmZ1bmN0aW9uKEQsQyl7dGhpcy51bnJlZ0FsbCgpO30sdW5yZWdBbGw6ZnVuY3Rpb24oKXtpZih0aGlzLmRyYWdDdXJyZW50KXt0aGlzLnN0b3BEcmFnKCk7dGhpcy5kcmFnQ3VycmVudD1udWxsO310aGlzLl9leGVjT25BbGwoInVucmVnIixbXSk7dGhpcy5pZHM9e307fSxlbGVtZW50Q2FjaGU6e30sZ2V0RWxXcmFwcGVyOmZ1bmN0aW9uKEQpe3ZhciBDPXRoaXMuZWxlbWVudENhY2hlW0RdO2lmKCFDfHwhQy5lbCl7Qz10aGlzLmVsZW1lbnRDYWNoZVtEXT1uZXcgdGhpcy5FbGVtZW50V3JhcHBlcihZQUhPTy51dGlsLkRvbS5nZXQoRCkpO31yZXR1cm4gQzt9LGdldEVsZW1lbnQ6ZnVuY3Rpb24oQyl7cmV0dXJuIFlBSE9PLnV0aWwuRG9tLmdldChDKTt9LGdldENzczpmdW5jdGlvbihEKXt2YXIgQz1ZQUhPTy51dGlsLkRvbS5nZXQoRCk7cmV0dXJuKEMpP0Muc3R5bGU6bnVsbDt9LEVsZW1lbnRXcmFwcGVyOmZ1bmN0aW9uKEMpe3RoaXMuZWw9Q3x8bnVsbDt0aGlzLmlkPXRoaXMuZWwmJkMuaWQ7dGhpcy5jc3M9dGhpcy5lbCYmQy5zdHlsZTt9LGdldFBvc1g6ZnVuY3Rpb24oQyl7cmV0dXJuIFlBSE9PLnV0aWwuRG9tLmdldFgoQyk7fSxnZXRQb3NZOmZ1bmN0aW9uKEMpe3JldHVybiBZQUhPTy51dGlsLkRvbS5nZXRZKEMpO30sc3dhcE5vZGU6ZnVuY3Rpb24oRSxDKXtpZihFLnN3YXBOb2RlKXtFLnN3YXBOb2RlKEMpO31lbHNle3ZhciBGPUMucGFyZW50Tm9kZTt2YXIgRD1DLm5leHRTaWJsaW5nO2lmKEQ9PUUpe0YuaW5zZXJ0QmVmb3JlKEUsQyk7fWVsc2V7aWYoQz09RS5uZXh0U2libGluZyl7Ri5pbnNlcnRCZWZvcmUoQyxFKTt9ZWxzZXtFLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKEMsRSk7Ri5pbnNlcnRCZWZvcmUoRSxEKTt9fX19LGdldFNjcm9sbDpmdW5jdGlvbigpe3ZhciBFLEMsRj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsRD1kb2N1bWVudC5ib2R5O2lmKEYmJihGLnNjcm9sbFRvcHx8Ri5zY3JvbGxMZWZ0KSl7RT1GLnNjcm9sbFRvcDtDPUYuc2Nyb2xsTGVmdDt9ZWxzZXtpZihEKXtFPUQuc2Nyb2xsVG9wO0M9RC5zY3JvbGxMZWZ0O31lbHNle319cmV0dXJue3RvcDpFLGxlZnQ6Q307fSxnZXRTdHlsZTpmdW5jdGlvbihELEMpe3JldHVybiBZQUhPTy51dGlsLkRvbS5nZXRTdHlsZShELEMpO30sZ2V0U2Nyb2xsVG9wOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U2Nyb2xsKCkudG9wO30sZ2V0U2Nyb2xsTGVmdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNjcm9sbCgpLmxlZnQ7fSxtb3ZlVG9FbDpmdW5jdGlvbihDLEUpe3ZhciBEPVlBSE9PLnV0aWwuRG9tLmdldFhZKEUpO1lBSE9PLnV0aWwuRG9tLnNldFhZKEMsRCk7fSxnZXRDbGllbnRIZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gWUFIT08udXRpbC5Eb20uZ2V0Vmlld3BvcnRIZWlnaHQoKTt9LGdldENsaWVudFdpZHRoOmZ1bmN0aW9uKCl7cmV0dXJuIFlBSE9PLnV0aWwuRG9tLmdldFZpZXdwb3J0V2lkdGgoKTt9LG51bWVyaWNTb3J0OmZ1bmN0aW9uKEQsQyl7cmV0dXJuKEQtQyk7fSxfdGltZW91dENvdW50OjAsX2FkZExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBDPVlBSE9PLnV0aWwuRERNO2lmKFlBSE9PLnV0aWwuRXZlbnQmJmRvY3VtZW50KXtDLl9vbkxvYWQoKTt9ZWxzZXtpZihDLl90aW1lb3V0Q291bnQ+MjAwMCl7fWVsc2V7c2V0VGltZW91dChDLl9hZGRMaXN0ZW5lcnMsMTApO2lmKGRvY3VtZW50JiZkb2N1bWVudC5ib2R5KXtDLl90aW1lb3V0Q291bnQrPTE7fX19fSxoYW5kbGVXYXNDbGlja2VkOmZ1bmN0aW9uKEMsRSl7aWYodGhpcy5pc0hhbmRsZShFLEMuaWQpKXtyZXR1cm4gdHJ1ZTt9ZWxzZXt2YXIgRD1DLnBhcmVudE5vZGU7d2hpbGUoRCl7aWYodGhpcy5pc0hhbmRsZShFLEQuaWQpKXtyZXR1cm4gdHJ1ZTt9ZWxzZXtEPUQucGFyZW50Tm9kZTt9fX1yZXR1cm4gZmFsc2U7fX07fSgpO1lBSE9PLnV0aWwuRERNPVlBSE9PLnV0aWwuRHJhZ0Ryb3BNZ3I7WUFIT08udXRpbC5ERE0uX2FkZExpc3RlbmVycygpO30oZnVuY3Rpb24oKXt2YXIgQT1ZQUhPTy51dGlsLkV2ZW50O3ZhciBCPVlBSE9PLnV0aWwuRG9tO1lBSE9PLnV0aWwuRHJhZ0Ryb3A9ZnVuY3Rpb24oRSxDLEQpe2lmKEUpe3RoaXMuaW5pdChFLEMsRCk7fX07WUFIT08udXRpbC5EcmFnRHJvcC5wcm90b3R5cGU9e2V2ZW50czpudWxsLG9uOmZ1bmN0aW9uKCl7dGhpcy5zdWJzY3JpYmUuYXBwbHkodGhpcyxhcmd1bWVudHMpO30saWQ6bnVsbCxjb25maWc6bnVsbCxkcmFnRWxJZDpudWxsLGhhbmRsZUVsSWQ6bnVsbCxpbnZhbGlkSGFuZGxlVHlwZXM6bnVsbCxpbnZhbGlkSGFuZGxlSWRzOm51bGwsaW52YWxpZEhhbmRsZUNsYXNzZXM6bnVsbCxzdGFydFBhZ2VYOjAsc3RhcnRQYWdlWTowLGdyb3VwczpudWxsLGxvY2tlZDpmYWxzZSxsb2NrOmZ1bmN0aW9uKCl7dGhpcy5sb2NrZWQ9dHJ1ZTt9LHVubG9jazpmdW5jdGlvbigpe3RoaXMubG9ja2VkPWZhbHNlO30saXNUYXJnZXQ6dHJ1ZSxwYWRkaW5nOm51bGwsZHJhZ09ubHk6ZmFsc2UsdXNlU2hpbTpmYWxzZSxfZG9tUmVmOm51bGwsX195Z0RyYWdEcm9wOnRydWUsY29uc3RyYWluWDpmYWxzZSxjb25zdHJhaW5ZOmZhbHNlLG1pblg6MCxtYXhYOjAsbWluWTowLG1heFk6MCxkZWx0YVg6MCxkZWx0YVk6MCxtYWludGFpbk9mZnNldDpmYWxzZSx4VGlja3M6bnVsbCx5VGlja3M6bnVsbCxwcmltYXJ5QnV0dG9uT25seTp0cnVlLGF2YWlsYWJsZTpmYWxzZSxoYXNPdXRlckhhbmRsZXM6ZmFsc2UsY3Vyc29ySXNPdmVyOmZhbHNlLG92ZXJsYXA6bnVsbCxiNFN0YXJ0RHJhZzpmdW5jdGlvbihDLEQpe30sc3RhcnREcmFnOmZ1bmN0aW9uKEMsRCl7fSxiNERyYWc6ZnVuY3Rpb24oQyl7fSxvbkRyYWc6ZnVuY3Rpb24oQyl7fSxvbkRyYWdFbnRlcjpmdW5jdGlvbihDLEQpe30sYjREcmFnT3ZlcjpmdW5jdGlvbihDKXt9LG9uRHJhZ092ZXI6ZnVuY3Rpb24oQyxEKXt9LGI0RHJhZ091dDpmdW5jdGlvbihDKXt9LG9uRHJhZ091dDpmdW5jdGlvbihDLEQpe30sYjREcmFnRHJvcDpmdW5jdGlvbihDKXt9LG9uRHJhZ0Ryb3A6ZnVuY3Rpb24oQyxEKXt9LG9uSW52YWxpZERyb3A6ZnVuY3Rpb24oQyl7fSxiNEVuZERyYWc6ZnVuY3Rpb24oQyl7fSxlbmREcmFnOmZ1bmN0aW9uKEMpe30sYjRNb3VzZURvd246ZnVuY3Rpb24oQyl7fSxvbk1vdXNlRG93bjpmdW5jdGlvbihDKXt9LG9uTW91c2VVcDpmdW5jdGlvbihDKXt9LG9uQXZhaWxhYmxlOmZ1bmN0aW9uKCl7fSxnZXRFbDpmdW5jdGlvbigpe2lmKCF0aGlzLl9kb21SZWYpe3RoaXMuX2RvbVJlZj1CLmdldCh0aGlzLmlkKTsKfXJldHVybiB0aGlzLl9kb21SZWY7fSxnZXREcmFnRWw6ZnVuY3Rpb24oKXtyZXR1cm4gQi5nZXQodGhpcy5kcmFnRWxJZCk7fSxpbml0OmZ1bmN0aW9uKEYsQyxEKXt0aGlzLmluaXRUYXJnZXQoRixDLEQpO0Eub24odGhpcy5fZG9tUmVmfHx0aGlzLmlkLCJtb3VzZWRvd24iLHRoaXMuaGFuZGxlTW91c2VEb3duLHRoaXMsdHJ1ZSk7Zm9yKHZhciBFIGluIHRoaXMuZXZlbnRzKXt0aGlzLmNyZWF0ZUV2ZW50KEUrIkV2ZW50Iik7fX0saW5pdFRhcmdldDpmdW5jdGlvbihFLEMsRCl7dGhpcy5jb25maWc9RHx8e307dGhpcy5ldmVudHM9e307dGhpcy5ERE09WUFIT08udXRpbC5ERE07dGhpcy5ncm91cHM9e307aWYodHlwZW9mIEUhPT0ic3RyaW5nIil7dGhpcy5fZG9tUmVmPUU7RT1CLmdlbmVyYXRlSWQoRSk7fXRoaXMuaWQ9RTt0aGlzLmFkZFRvR3JvdXAoKEMpP0M6ImRlZmF1bHQiKTt0aGlzLmhhbmRsZUVsSWQ9RTtBLm9uQXZhaWxhYmxlKEUsdGhpcy5oYW5kbGVPbkF2YWlsYWJsZSx0aGlzLHRydWUpO3RoaXMuc2V0RHJhZ0VsSWQoRSk7dGhpcy5pbnZhbGlkSGFuZGxlVHlwZXM9e0E6IkEifTt0aGlzLmludmFsaWRIYW5kbGVJZHM9e307dGhpcy5pbnZhbGlkSGFuZGxlQ2xhc3Nlcz1bXTt0aGlzLmFwcGx5Q29uZmlnKCk7fSxhcHBseUNvbmZpZzpmdW5jdGlvbigpe3RoaXMuZXZlbnRzPXttb3VzZURvd246dHJ1ZSxiNE1vdXNlRG93bjp0cnVlLG1vdXNlVXA6dHJ1ZSxiNFN0YXJ0RHJhZzp0cnVlLHN0YXJ0RHJhZzp0cnVlLGI0RW5kRHJhZzp0cnVlLGVuZERyYWc6dHJ1ZSxkcmFnOnRydWUsYjREcmFnOnRydWUsaW52YWxpZERyb3A6dHJ1ZSxiNERyYWdPdXQ6dHJ1ZSxkcmFnT3V0OnRydWUsZHJhZ0VudGVyOnRydWUsYjREcmFnT3Zlcjp0cnVlLGRyYWdPdmVyOnRydWUsYjREcmFnRHJvcDp0cnVlLGRyYWdEcm9wOnRydWV9O2lmKHRoaXMuY29uZmlnLmV2ZW50cyl7Zm9yKHZhciBDIGluIHRoaXMuY29uZmlnLmV2ZW50cyl7aWYodGhpcy5jb25maWcuZXZlbnRzW0NdPT09ZmFsc2Upe3RoaXMuZXZlbnRzW0NdPWZhbHNlO319fXRoaXMucGFkZGluZz10aGlzLmNvbmZpZy5wYWRkaW5nfHxbMCwwLDAsMF07dGhpcy5pc1RhcmdldD0odGhpcy5jb25maWcuaXNUYXJnZXQhPT1mYWxzZSk7dGhpcy5tYWludGFpbk9mZnNldD0odGhpcy5jb25maWcubWFpbnRhaW5PZmZzZXQpO3RoaXMucHJpbWFyeUJ1dHRvbk9ubHk9KHRoaXMuY29uZmlnLnByaW1hcnlCdXR0b25Pbmx5IT09ZmFsc2UpO3RoaXMuZHJhZ09ubHk9KCh0aGlzLmNvbmZpZy5kcmFnT25seT09PXRydWUpP3RydWU6ZmFsc2UpO3RoaXMudXNlU2hpbT0oKHRoaXMuY29uZmlnLnVzZVNoaW09PT10cnVlKT90cnVlOmZhbHNlKTt9LGhhbmRsZU9uQXZhaWxhYmxlOmZ1bmN0aW9uKCl7dGhpcy5hdmFpbGFibGU9dHJ1ZTt0aGlzLnJlc2V0Q29uc3RyYWludHMoKTt0aGlzLm9uQXZhaWxhYmxlKCk7fSxzZXRQYWRkaW5nOmZ1bmN0aW9uKEUsQyxGLEQpe2lmKCFDJiYwIT09Qyl7dGhpcy5wYWRkaW5nPVtFLEUsRSxFXTt9ZWxzZXtpZighRiYmMCE9PUYpe3RoaXMucGFkZGluZz1bRSxDLEUsQ107fWVsc2V7dGhpcy5wYWRkaW5nPVtFLEMsRixEXTt9fX0sc2V0SW5pdFBvc2l0aW9uOmZ1bmN0aW9uKEYsRSl7dmFyIEc9dGhpcy5nZXRFbCgpO2lmKCF0aGlzLkRETS52ZXJpZnlFbChHKSl7aWYoRyYmRy5zdHlsZSYmKEcuc3R5bGUuZGlzcGxheT09Im5vbmUiKSl7fWVsc2V7fXJldHVybjt9dmFyIEQ9Rnx8MDt2YXIgQz1FfHwwO3ZhciBIPUIuZ2V0WFkoRyk7dGhpcy5pbml0UGFnZVg9SFswXS1EO3RoaXMuaW5pdFBhZ2VZPUhbMV0tQzt0aGlzLmxhc3RQYWdlWD1IWzBdO3RoaXMubGFzdFBhZ2VZPUhbMV07dGhpcy5zZXRTdGFydFBvc2l0aW9uKEgpO30sc2V0U3RhcnRQb3NpdGlvbjpmdW5jdGlvbihEKXt2YXIgQz1EfHxCLmdldFhZKHRoaXMuZ2V0RWwoKSk7dGhpcy5kZWx0YVNldFhZPW51bGw7dGhpcy5zdGFydFBhZ2VYPUNbMF07dGhpcy5zdGFydFBhZ2VZPUNbMV07fSxhZGRUb0dyb3VwOmZ1bmN0aW9uKEMpe3RoaXMuZ3JvdXBzW0NdPXRydWU7dGhpcy5ERE0ucmVnRHJhZ0Ryb3AodGhpcyxDKTt9LHJlbW92ZUZyb21Hcm91cDpmdW5jdGlvbihDKXtpZih0aGlzLmdyb3Vwc1tDXSl7ZGVsZXRlIHRoaXMuZ3JvdXBzW0NdO310aGlzLkRETS5yZW1vdmVEREZyb21Hcm91cCh0aGlzLEMpO30sc2V0RHJhZ0VsSWQ6ZnVuY3Rpb24oQyl7dGhpcy5kcmFnRWxJZD1DO30sc2V0SGFuZGxlRWxJZDpmdW5jdGlvbihDKXtpZih0eXBlb2YgQyE9PSJzdHJpbmciKXtDPUIuZ2VuZXJhdGVJZChDKTt9dGhpcy5oYW5kbGVFbElkPUM7dGhpcy5ERE0ucmVnSGFuZGxlKHRoaXMuaWQsQyk7fSxzZXRPdXRlckhhbmRsZUVsSWQ6ZnVuY3Rpb24oQyl7aWYodHlwZW9mIEMhPT0ic3RyaW5nIil7Qz1CLmdlbmVyYXRlSWQoQyk7fUEub24oQywibW91c2Vkb3duIix0aGlzLmhhbmRsZU1vdXNlRG93bix0aGlzLHRydWUpO3RoaXMuc2V0SGFuZGxlRWxJZChDKTt0aGlzLmhhc091dGVySGFuZGxlcz10cnVlO30sdW5yZWc6ZnVuY3Rpb24oKXtBLnJlbW92ZUxpc3RlbmVyKHRoaXMuaWQsIm1vdXNlZG93biIsdGhpcy5oYW5kbGVNb3VzZURvd24pO3RoaXMuX2RvbVJlZj1udWxsO3RoaXMuRERNLl9yZW1vdmUodGhpcyk7fSxpc0xvY2tlZDpmdW5jdGlvbigpe3JldHVybih0aGlzLkRETS5pc0xvY2tlZCgpfHx0aGlzLmxvY2tlZCk7fSxoYW5kbGVNb3VzZURvd246ZnVuY3Rpb24oSixJKXt2YXIgRD1KLndoaWNofHxKLmJ1dHRvbjtpZih0aGlzLnByaW1hcnlCdXR0b25Pbmx5JiZEPjEpe3JldHVybjt9aWYodGhpcy5pc0xvY2tlZCgpKXtyZXR1cm47fXZhciBDPXRoaXMuYjRNb3VzZURvd24oSiksRj10cnVlO2lmKHRoaXMuZXZlbnRzLmI0TW91c2VEb3duKXtGPXRoaXMuZmlyZUV2ZW50KCJiNE1vdXNlRG93bkV2ZW50IixKKTt9dmFyIEU9dGhpcy5vbk1vdXNlRG93bihKKSxIPXRydWU7aWYodGhpcy5ldmVudHMubW91c2VEb3duKXtpZihFPT09ZmFsc2Upe0g9ZmFsc2U7fWVsc2V7SD10aGlzLmZpcmVFdmVudCgibW91c2VEb3duRXZlbnQiLEopO319aWYoKEM9PT1mYWxzZSl8fChFPT09ZmFsc2UpfHwoRj09PWZhbHNlKXx8KEg9PT1mYWxzZSkpe3JldHVybjt9dGhpcy5ERE0ucmVmcmVzaENhY2hlKHRoaXMuZ3JvdXBzKTt2YXIgRz1uZXcgWUFIT08udXRpbC5Qb2ludChBLmdldFBhZ2VYKEopLEEuZ2V0UGFnZVkoSikpO2lmKCF0aGlzLmhhc091dGVySGFuZGxlcyYmIXRoaXMuRERNLmlzT3ZlclRhcmdldChHLHRoaXMpKXt9ZWxzZXtpZih0aGlzLmNsaWNrVmFsaWRhdG9yKEopKXt0aGlzLnNldFN0YXJ0UG9zaXRpb24oKTt0aGlzLkRETS5oYW5kbGVNb3VzZURvd24oSix0aGlzKTt0aGlzLkRETS5zdG9wRXZlbnQoSik7fWVsc2V7fX19LGNsaWNrVmFsaWRhdG9yOmZ1bmN0aW9uKEQpe3ZhciBDPVlBSE9PLnV0aWwuRXZlbnQuZ2V0VGFyZ2V0KEQpO3JldHVybih0aGlzLmlzVmFsaWRIYW5kbGVDaGlsZChDKSYmKHRoaXMuaWQ9PXRoaXMuaGFuZGxlRWxJZHx8dGhpcy5ERE0uaGFuZGxlV2FzQ2xpY2tlZChDLHRoaXMuaWQpKSk7fSxnZXRUYXJnZXRDb29yZDpmdW5jdGlvbihFLEQpe3ZhciBDPUUtdGhpcy5kZWx0YVg7dmFyIEY9RC10aGlzLmRlbHRhWTtpZih0aGlzLmNvbnN0cmFpblgpe2lmKEM8dGhpcy5taW5YKXtDPXRoaXMubWluWDt9aWYoQz50aGlzLm1heFgpe0M9dGhpcy5tYXhYO319aWYodGhpcy5jb25zdHJhaW5ZKXtpZihGPHRoaXMubWluWSl7Rj10aGlzLm1pblk7fWlmKEY+dGhpcy5tYXhZKXtGPXRoaXMubWF4WTt9fUM9dGhpcy5nZXRUaWNrKEMsdGhpcy54VGlja3MpO0Y9dGhpcy5nZXRUaWNrKEYsdGhpcy55VGlja3MpO3JldHVybnt4OkMseTpGfTt9LGFkZEludmFsaWRIYW5kbGVUeXBlOmZ1bmN0aW9uKEMpe3ZhciBEPUMudG9VcHBlckNhc2UoKTt0aGlzLmludmFsaWRIYW5kbGVUeXBlc1tEXT1EO30sYWRkSW52YWxpZEhhbmRsZUlkOmZ1bmN0aW9uKEMpe2lmKHR5cGVvZiBDIT09InN0cmluZyIpe0M9Qi5nZW5lcmF0ZUlkKEMpO310aGlzLmludmFsaWRIYW5kbGVJZHNbQ109Qzt9LGFkZEludmFsaWRIYW5kbGVDbGFzczpmdW5jdGlvbihDKXt0aGlzLmludmFsaWRIYW5kbGVDbGFzc2VzLnB1c2goQyk7fSxyZW1vdmVJbnZhbGlkSGFuZGxlVHlwZTpmdW5jdGlvbihDKXt2YXIgRD1DLnRvVXBwZXJDYXNlKCk7ZGVsZXRlIHRoaXMuaW52YWxpZEhhbmRsZVR5cGVzW0RdO30scmVtb3ZlSW52YWxpZEhhbmRsZUlkOmZ1bmN0aW9uKEMpe2lmKHR5cGVvZiBDIT09InN0cmluZyIpe0M9Qi5nZW5lcmF0ZUlkKEMpO31kZWxldGUgdGhpcy5pbnZhbGlkSGFuZGxlSWRzW0NdO30scmVtb3ZlSW52YWxpZEhhbmRsZUNsYXNzOmZ1bmN0aW9uKEQpe2Zvcih2YXIgRT0wLEM9dGhpcy5pbnZhbGlkSGFuZGxlQ2xhc3Nlcy5sZW5ndGg7RTxDOysrRSl7aWYodGhpcy5pbnZhbGlkSGFuZGxlQ2xhc3Nlc1tFXT09RCl7ZGVsZXRlIHRoaXMuaW52YWxpZEhhbmRsZUNsYXNzZXNbRV07fX19LGlzVmFsaWRIYW5kbGVDaGlsZDpmdW5jdGlvbihGKXt2YXIgRT10cnVlO3ZhciBIO3RyeXtIPUYubm9kZU5hbWUudG9VcHBlckNhc2UoKTt9Y2F0Y2goRyl7SD1GLm5vZGVOYW1lO31FPUUmJiF0aGlzLmludmFsaWRIYW5kbGVUeXBlc1tIXTtFPUUmJiF0aGlzLmludmFsaWRIYW5kbGVJZHNbRi5pZF07Zm9yKHZhciBEPTAsQz10aGlzLmludmFsaWRIYW5kbGVDbGFzc2VzLmxlbmd0aDtFJiZEPEM7KytEKXtFPSFCLmhhc0NsYXNzKEYsdGhpcy5pbnZhbGlkSGFuZGxlQ2xhc3Nlc1tEXSk7fXJldHVybiBFO30sc2V0WFRpY2tzOmZ1bmN0aW9uKEYsQyl7dGhpcy54VGlja3M9W107dGhpcy54VGlja1NpemU9Qzt2YXIgRT17fTtmb3IodmFyIEQ9dGhpcy5pbml0UGFnZVg7RD49dGhpcy5taW5YO0Q9RC1DKXtpZighRVtEXSl7dGhpcy54VGlja3NbdGhpcy54VGlja3MubGVuZ3RoXT1EO0VbRF09dHJ1ZTt9fWZvcihEPXRoaXMuaW5pdFBhZ2VYO0Q8PXRoaXMubWF4WDtEPUQrQyl7aWYoIUVbRF0pe3RoaXMueFRpY2tzW3RoaXMueFRpY2tzLmxlbmd0aF09RDtFW0RdPXRydWU7fX10aGlzLnhUaWNrcy5zb3J0KHRoaXMuRERNLm51bWVyaWNTb3J0KTt9LHNldFlUaWNrczpmdW5jdGlvbihGLEMpe3RoaXMueVRpY2tzPVtdO3RoaXMueVRpY2tTaXplPUM7dmFyIEU9e307Zm9yKHZhciBEPXRoaXMuaW5pdFBhZ2VZO0Q+PXRoaXMubWluWTtEPUQtQyl7aWYoIUVbRF0pe3RoaXMueVRpY2tzW3RoaXMueVRpY2tzLmxlbmd0aF09RDtFW0RdPXRydWU7fX1mb3IoRD10aGlzLmluaXRQYWdlWTtEPD10aGlzLm1heFk7RD1EK0Mpe2lmKCFFW0RdKXt0aGlzLnlUaWNrc1t0aGlzLnlUaWNrcy5sZW5ndGhdPUQ7RVtEXT10cnVlO319dGhpcy55VGlja3Muc29ydCh0aGlzLkRETS5udW1lcmljU29ydCk7fSxzZXRYQ29uc3RyYWludDpmdW5jdGlvbihFLEQsQyl7dGhpcy5sZWZ0Q29uc3RyYWludD1wYXJzZUludChFLDEwKTt0aGlzLnJpZ2h0Q29uc3RyYWludD1wYXJzZUludChELDEwKTt0aGlzLm1pblg9dGhpcy5pbml0UGFnZVgtdGhpcy5sZWZ0Q29uc3RyYWludDt0aGlzLm1heFg9dGhpcy5pbml0UGFnZVgrdGhpcy5yaWdodENvbnN0cmFpbnQ7aWYoQyl7dGhpcy5zZXRYVGlja3ModGhpcy5pbml0UGFnZVgsQyk7fXRoaXMuY29uc3RyYWluWD10cnVlO30sY2xlYXJDb25zdHJhaW50czpmdW5jdGlvbigpe3RoaXMuY29uc3RyYWluWD1mYWxzZTt0aGlzLmNvbnN0cmFpblk9ZmFsc2U7dGhpcy5jbGVhclRpY2tzKCk7fSxjbGVhclRpY2tzOmZ1bmN0aW9uKCl7dGhpcy54VGlja3M9bnVsbDt0aGlzLnlUaWNrcz1udWxsO3RoaXMueFRpY2tTaXplPTA7dGhpcy55VGlja1NpemU9MDt9LHNldFlDb25zdHJhaW50OmZ1bmN0aW9uKEMsRSxEKXt0aGlzLnRvcENvbnN0cmFpbnQ9cGFyc2VJbnQoQywxMCk7dGhpcy5ib3R0b21Db25zdHJhaW50PXBhcnNlSW50KEUsMTApO3RoaXMubWluWT10aGlzLmluaXRQYWdlWS10aGlzLnRvcENvbnN0cmFpbnQ7dGhpcy5tYXhZPXRoaXMuaW5pdFBhZ2VZK3RoaXMuYm90dG9tQ29uc3RyYWludDsKaWYoRCl7dGhpcy5zZXRZVGlja3ModGhpcy5pbml0UGFnZVksRCk7fXRoaXMuY29uc3RyYWluWT10cnVlO30scmVzZXRDb25zdHJhaW50czpmdW5jdGlvbigpe2lmKHRoaXMuaW5pdFBhZ2VYfHx0aGlzLmluaXRQYWdlWD09PTApe3ZhciBEPSh0aGlzLm1haW50YWluT2Zmc2V0KT90aGlzLmxhc3RQYWdlWC10aGlzLmluaXRQYWdlWDowO3ZhciBDPSh0aGlzLm1haW50YWluT2Zmc2V0KT90aGlzLmxhc3RQYWdlWS10aGlzLmluaXRQYWdlWTowO3RoaXMuc2V0SW5pdFBvc2l0aW9uKEQsQyk7fWVsc2V7dGhpcy5zZXRJbml0UG9zaXRpb24oKTt9aWYodGhpcy5jb25zdHJhaW5YKXt0aGlzLnNldFhDb25zdHJhaW50KHRoaXMubGVmdENvbnN0cmFpbnQsdGhpcy5yaWdodENvbnN0cmFpbnQsdGhpcy54VGlja1NpemUpO31pZih0aGlzLmNvbnN0cmFpblkpe3RoaXMuc2V0WUNvbnN0cmFpbnQodGhpcy50b3BDb25zdHJhaW50LHRoaXMuYm90dG9tQ29uc3RyYWludCx0aGlzLnlUaWNrU2l6ZSk7fX0sZ2V0VGljazpmdW5jdGlvbihJLEYpe2lmKCFGKXtyZXR1cm4gSTt9ZWxzZXtpZihGWzBdPj1JKXtyZXR1cm4gRlswXTt9ZWxzZXtmb3IodmFyIEQ9MCxDPUYubGVuZ3RoO0Q8QzsrK0Qpe3ZhciBFPUQrMTtpZihGW0VdJiZGW0VdPj1JKXt2YXIgSD1JLUZbRF07dmFyIEc9RltFXS1JO3JldHVybihHPkgpP0ZbRF06RltFXTt9fXJldHVybiBGW0YubGVuZ3RoLTFdO319fSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybigiRHJhZ0Ryb3AgIit0aGlzLmlkKTt9fTtZQUhPTy5hdWdtZW50KFlBSE9PLnV0aWwuRHJhZ0Ryb3AsWUFIT08udXRpbC5FdmVudFByb3ZpZGVyKTt9KSgpO1lBSE9PLnV0aWwuREQ9ZnVuY3Rpb24oQyxBLEIpe2lmKEMpe3RoaXMuaW5pdChDLEEsQik7fX07WUFIT08uZXh0ZW5kKFlBSE9PLnV0aWwuREQsWUFIT08udXRpbC5EcmFnRHJvcCx7c2Nyb2xsOnRydWUsYXV0b09mZnNldDpmdW5jdGlvbihDLEIpe3ZhciBBPUMtdGhpcy5zdGFydFBhZ2VYO3ZhciBEPUItdGhpcy5zdGFydFBhZ2VZO3RoaXMuc2V0RGVsdGEoQSxEKTt9LHNldERlbHRhOmZ1bmN0aW9uKEIsQSl7dGhpcy5kZWx0YVg9Qjt0aGlzLmRlbHRhWT1BO30sc2V0RHJhZ0VsUG9zOmZ1bmN0aW9uKEMsQil7dmFyIEE9dGhpcy5nZXREcmFnRWwoKTt0aGlzLmFsaWduRWxXaXRoTW91c2UoQSxDLEIpO30sYWxpZ25FbFdpdGhNb3VzZTpmdW5jdGlvbihDLEcsRil7dmFyIEU9dGhpcy5nZXRUYXJnZXRDb29yZChHLEYpO2lmKCF0aGlzLmRlbHRhU2V0WFkpe3ZhciBIPVtFLngsRS55XTtZQUhPTy51dGlsLkRvbS5zZXRYWShDLEgpO3ZhciBEPXBhcnNlSW50KFlBSE9PLnV0aWwuRG9tLmdldFN0eWxlKEMsImxlZnQiKSwxMCk7dmFyIEI9cGFyc2VJbnQoWUFIT08udXRpbC5Eb20uZ2V0U3R5bGUoQywidG9wIiksMTApO3RoaXMuZGVsdGFTZXRYWT1bRC1FLngsQi1FLnldO31lbHNle1lBSE9PLnV0aWwuRG9tLnNldFN0eWxlKEMsImxlZnQiLChFLngrdGhpcy5kZWx0YVNldFhZWzBdKSsicHgiKTtZQUhPTy51dGlsLkRvbS5zZXRTdHlsZShDLCJ0b3AiLChFLnkrdGhpcy5kZWx0YVNldFhZWzFdKSsicHgiKTt9dGhpcy5jYWNoZVBvc2l0aW9uKEUueCxFLnkpO3ZhciBBPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe0EuYXV0b1Njcm9sbC5jYWxsKEEsRS54LEUueSxDLm9mZnNldEhlaWdodCxDLm9mZnNldFdpZHRoKTt9LDApO30sY2FjaGVQb3NpdGlvbjpmdW5jdGlvbihCLEEpe2lmKEIpe3RoaXMubGFzdFBhZ2VYPUI7dGhpcy5sYXN0UGFnZVk9QTt9ZWxzZXt2YXIgQz1ZQUhPTy51dGlsLkRvbS5nZXRYWSh0aGlzLmdldEVsKCkpO3RoaXMubGFzdFBhZ2VYPUNbMF07dGhpcy5sYXN0UGFnZVk9Q1sxXTt9fSxhdXRvU2Nyb2xsOmZ1bmN0aW9uKEosSSxFLEspe2lmKHRoaXMuc2Nyb2xsKXt2YXIgTD10aGlzLkRETS5nZXRDbGllbnRIZWlnaHQoKTt2YXIgQj10aGlzLkRETS5nZXRDbGllbnRXaWR0aCgpO3ZhciBOPXRoaXMuRERNLmdldFNjcm9sbFRvcCgpO3ZhciBEPXRoaXMuRERNLmdldFNjcm9sbExlZnQoKTt2YXIgSD1FK0k7dmFyIE09SytKO3ZhciBHPShMK04tSS10aGlzLmRlbHRhWSk7dmFyIEY9KEIrRC1KLXRoaXMuZGVsdGFYKTt2YXIgQz00MDt2YXIgQT0oZG9jdW1lbnQuYWxsKT84MDozMDtpZihIPkwmJkc8Qyl7d2luZG93LnNjcm9sbFRvKEQsTitBKTt9aWYoSTxOJiZOPjAmJkktTjxDKXt3aW5kb3cuc2Nyb2xsVG8oRCxOLUEpO31pZihNPkImJkY8Qyl7d2luZG93LnNjcm9sbFRvKEQrQSxOKTt9aWYoSjxEJiZEPjAmJkotRDxDKXt3aW5kb3cuc2Nyb2xsVG8oRC1BLE4pO319fSxhcHBseUNvbmZpZzpmdW5jdGlvbigpe1lBSE9PLnV0aWwuREQuc3VwZXJjbGFzcy5hcHBseUNvbmZpZy5jYWxsKHRoaXMpO3RoaXMuc2Nyb2xsPSh0aGlzLmNvbmZpZy5zY3JvbGwhPT1mYWxzZSk7fSxiNE1vdXNlRG93bjpmdW5jdGlvbihBKXt0aGlzLnNldFN0YXJ0UG9zaXRpb24oKTt0aGlzLmF1dG9PZmZzZXQoWUFIT08udXRpbC5FdmVudC5nZXRQYWdlWChBKSxZQUhPTy51dGlsLkV2ZW50LmdldFBhZ2VZKEEpKTt9LGI0RHJhZzpmdW5jdGlvbihBKXt0aGlzLnNldERyYWdFbFBvcyhZQUhPTy51dGlsLkV2ZW50LmdldFBhZ2VYKEEpLFlBSE9PLnV0aWwuRXZlbnQuZ2V0UGFnZVkoQSkpO30sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4oIkREICIrdGhpcy5pZCk7fX0pO1lBSE9PLnV0aWwuRERQcm94eT1mdW5jdGlvbihDLEEsQil7aWYoQyl7dGhpcy5pbml0KEMsQSxCKTt0aGlzLmluaXRGcmFtZSgpO319O1lBSE9PLnV0aWwuRERQcm94eS5kcmFnRWxJZD0ieWdkZGZkaXYiO1lBSE9PLmV4dGVuZChZQUhPTy51dGlsLkREUHJveHksWUFIT08udXRpbC5ERCx7cmVzaXplRnJhbWU6dHJ1ZSxjZW50ZXJGcmFtZTpmYWxzZSxjcmVhdGVGcmFtZTpmdW5jdGlvbigpe3ZhciBCPXRoaXMsQT1kb2N1bWVudC5ib2R5O2lmKCFBfHwhQS5maXJzdENoaWxkKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Qi5jcmVhdGVGcmFtZSgpO30sNTApO3JldHVybjt9dmFyIEY9dGhpcy5nZXREcmFnRWwoKSxFPVlBSE9PLnV0aWwuRG9tO2lmKCFGKXtGPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO0YuaWQ9dGhpcy5kcmFnRWxJZDt2YXIgRD1GLnN0eWxlO0QucG9zaXRpb249ImFic29sdXRlIjtELnZpc2liaWxpdHk9ImhpZGRlbiI7RC5jdXJzb3I9Im1vdmUiO0QuYm9yZGVyPSIycHggc29saWQgI2FhYSI7RC56SW5kZXg9OTk5O0QuaGVpZ2h0PSIyNXB4IjtELndpZHRoPSIyNXB4Ijt2YXIgQz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtFLnNldFN0eWxlKEMsImhlaWdodCIsIjEwMCUiKTtFLnNldFN0eWxlKEMsIndpZHRoIiwiMTAwJSIpO0Uuc2V0U3R5bGUoQywiYmFja2dyb3VuZC1jb2xvciIsIiNjY2MiKTtFLnNldFN0eWxlKEMsIm9wYWNpdHkiLCIwIik7Ri5hcHBlbmRDaGlsZChDKTtBLmluc2VydEJlZm9yZShGLEEuZmlyc3RDaGlsZCk7fX0saW5pdEZyYW1lOmZ1bmN0aW9uKCl7dGhpcy5jcmVhdGVGcmFtZSgpO30sYXBwbHlDb25maWc6ZnVuY3Rpb24oKXtZQUhPTy51dGlsLkREUHJveHkuc3VwZXJjbGFzcy5hcHBseUNvbmZpZy5jYWxsKHRoaXMpO3RoaXMucmVzaXplRnJhbWU9KHRoaXMuY29uZmlnLnJlc2l6ZUZyYW1lIT09ZmFsc2UpO3RoaXMuY2VudGVyRnJhbWU9KHRoaXMuY29uZmlnLmNlbnRlckZyYW1lKTt0aGlzLnNldERyYWdFbElkKHRoaXMuY29uZmlnLmRyYWdFbElkfHxZQUhPTy51dGlsLkREUHJveHkuZHJhZ0VsSWQpO30sc2hvd0ZyYW1lOmZ1bmN0aW9uKEUsRCl7dmFyIEM9dGhpcy5nZXRFbCgpO3ZhciBBPXRoaXMuZ2V0RHJhZ0VsKCk7dmFyIEI9QS5zdHlsZTt0aGlzLl9yZXNpemVQcm94eSgpO2lmKHRoaXMuY2VudGVyRnJhbWUpe3RoaXMuc2V0RGVsdGEoTWF0aC5yb3VuZChwYXJzZUludChCLndpZHRoLDEwKS8yKSxNYXRoLnJvdW5kKHBhcnNlSW50KEIuaGVpZ2h0LDEwKS8yKSk7fXRoaXMuc2V0RHJhZ0VsUG9zKEUsRCk7WUFIT08udXRpbC5Eb20uc2V0U3R5bGUoQSwidmlzaWJpbGl0eSIsInZpc2libGUiKTt9LF9yZXNpemVQcm94eTpmdW5jdGlvbigpe2lmKHRoaXMucmVzaXplRnJhbWUpe3ZhciBIPVlBSE9PLnV0aWwuRG9tO3ZhciBCPXRoaXMuZ2V0RWwoKTt2YXIgQz10aGlzLmdldERyYWdFbCgpO3ZhciBHPXBhcnNlSW50KEguZ2V0U3R5bGUoQywiYm9yZGVyVG9wV2lkdGgiKSwxMCk7dmFyIEk9cGFyc2VJbnQoSC5nZXRTdHlsZShDLCJib3JkZXJSaWdodFdpZHRoIiksMTApO3ZhciBGPXBhcnNlSW50KEguZ2V0U3R5bGUoQywiYm9yZGVyQm90dG9tV2lkdGgiKSwxMCk7dmFyIEQ9cGFyc2VJbnQoSC5nZXRTdHlsZShDLCJib3JkZXJMZWZ0V2lkdGgiKSwxMCk7aWYoaXNOYU4oRykpe0c9MDt9aWYoaXNOYU4oSSkpe0k9MDt9aWYoaXNOYU4oRikpe0Y9MDt9aWYoaXNOYU4oRCkpe0Q9MDt9dmFyIEU9TWF0aC5tYXgoMCxCLm9mZnNldFdpZHRoLUktRCk7dmFyIEE9TWF0aC5tYXgoMCxCLm9mZnNldEhlaWdodC1HLUYpO0guc2V0U3R5bGUoQywid2lkdGgiLEUrInB4Iik7SC5zZXRTdHlsZShDLCJoZWlnaHQiLEErInB4Iik7fX0sYjRNb3VzZURvd246ZnVuY3Rpb24oQil7dGhpcy5zZXRTdGFydFBvc2l0aW9uKCk7dmFyIEE9WUFIT08udXRpbC5FdmVudC5nZXRQYWdlWChCKTt2YXIgQz1ZQUhPTy51dGlsLkV2ZW50LmdldFBhZ2VZKEIpO3RoaXMuYXV0b09mZnNldChBLEMpO30sYjRTdGFydERyYWc6ZnVuY3Rpb24oQSxCKXt0aGlzLnNob3dGcmFtZShBLEIpO30sYjRFbmREcmFnOmZ1bmN0aW9uKEEpe1lBSE9PLnV0aWwuRG9tLnNldFN0eWxlKHRoaXMuZ2V0RHJhZ0VsKCksInZpc2liaWxpdHkiLCJoaWRkZW4iKTt9LGVuZERyYWc6ZnVuY3Rpb24oRCl7dmFyIEM9WUFIT08udXRpbC5Eb207dmFyIEI9dGhpcy5nZXRFbCgpO3ZhciBBPXRoaXMuZ2V0RHJhZ0VsKCk7Qy5zZXRTdHlsZShBLCJ2aXNpYmlsaXR5IiwiIik7Qy5zZXRTdHlsZShCLCJ2aXNpYmlsaXR5IiwiaGlkZGVuIik7WUFIT08udXRpbC5ERE0ubW92ZVRvRWwoQixBKTtDLnNldFN0eWxlKEEsInZpc2liaWxpdHkiLCJoaWRkZW4iKTtDLnNldFN0eWxlKEIsInZpc2liaWxpdHkiLCIiKTt9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuKCJERFByb3h5ICIrdGhpcy5pZCk7fX0pO1lBSE9PLnV0aWwuRERUYXJnZXQ9ZnVuY3Rpb24oQyxBLEIpe2lmKEMpe3RoaXMuaW5pdFRhcmdldChDLEEsQik7fX07WUFIT08uZXh0ZW5kKFlBSE9PLnV0aWwuRERUYXJnZXQsWUFIT08udXRpbC5EcmFnRHJvcCx7dG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4oIkREVGFyZ2V0ICIrdGhpcy5pZCk7fX0pO1lBSE9PLnJlZ2lzdGVyKCJkcmFnZHJvcCIsWUFIT08udXRpbC5EcmFnRHJvcE1ncix7dmVyc2lvbjoiMi45LjAiLGJ1aWxkOiIyODAwIn0pOw==",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 31588
        },
        "cache": {},
        "timings": {
          "send": 3,
          "wait": 1,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27305"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.873-06:00",
        "time": 63,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/yui/container/container-min.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 342,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:35 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "19860"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 102352,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "LyoKQ29weXJpZ2h0IChjKSAyMDExLCBZYWhvbyEgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLgpDb2RlIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgTGljZW5zZToKaHR0cDovL2RldmVsb3Blci55YWhvby5jb20veXVpL2xpY2Vuc2UuaHRtbAp2ZXJzaW9uOiAyLjkuMAoqLwooZnVuY3Rpb24oKXtZQUhPTy51dGlsLkNvbmZpZz1mdW5jdGlvbihkKXtpZihkKXt0aGlzLmluaXQoZCk7fX07dmFyIGI9WUFIT08ubGFuZyxjPVlBSE9PLnV0aWwuQ3VzdG9tRXZlbnQsYT1ZQUhPTy51dGlsLkNvbmZpZzthLkNPTkZJR19DSEFOR0VEX0VWRU5UPSJjb25maWdDaGFuZ2VkIjthLkJPT0xFQU5fVFlQRT0iYm9vbGVhbiI7YS5wcm90b3R5cGU9e293bmVyOm51bGwscXVldWVJblByb2dyZXNzOmZhbHNlLGNvbmZpZzpudWxsLGluaXRpYWxDb25maWc6bnVsbCxldmVudFF1ZXVlOm51bGwsY29uZmlnQ2hhbmdlZEV2ZW50Om51bGwsaW5pdDpmdW5jdGlvbihkKXt0aGlzLm93bmVyPWQ7dGhpcy5jb25maWdDaGFuZ2VkRXZlbnQ9dGhpcy5jcmVhdGVFdmVudChhLkNPTkZJR19DSEFOR0VEX0VWRU5UKTt0aGlzLmNvbmZpZ0NoYW5nZWRFdmVudC5zaWduYXR1cmU9Yy5MSVNUO3RoaXMucXVldWVJblByb2dyZXNzPWZhbHNlO3RoaXMuY29uZmlnPXt9O3RoaXMuaW5pdGlhbENvbmZpZz17fTt0aGlzLmV2ZW50UXVldWU9W107fSxjaGVja0Jvb2xlYW46ZnVuY3Rpb24oZCl7cmV0dXJuKHR5cGVvZiBkPT1hLkJPT0xFQU5fVFlQRSk7fSxjaGVja051bWJlcjpmdW5jdGlvbihkKXtyZXR1cm4oIWlzTmFOKGQpKTt9LGZpcmVFdmVudDpmdW5jdGlvbihkLGYpe3ZhciBlPXRoaXMuY29uZmlnW2RdO2lmKGUmJmUuZXZlbnQpe2UuZXZlbnQuZmlyZShmKTt9fSxhZGRQcm9wZXJ0eTpmdW5jdGlvbihlLGQpe2U9ZS50b0xvd2VyQ2FzZSgpO3RoaXMuY29uZmlnW2VdPWQ7ZC5ldmVudD10aGlzLmNyZWF0ZUV2ZW50KGUse3Njb3BlOnRoaXMub3duZXJ9KTtkLmV2ZW50LnNpZ25hdHVyZT1jLkxJU1Q7ZC5rZXk9ZTtpZihkLmhhbmRsZXIpe2QuZXZlbnQuc3Vic2NyaWJlKGQuaGFuZGxlcix0aGlzLm93bmVyKTt9dGhpcy5zZXRQcm9wZXJ0eShlLGQudmFsdWUsdHJ1ZSk7aWYoIWQuc3VwcHJlc3NFdmVudCl7dGhpcy5xdWV1ZVByb3BlcnR5KGUsZC52YWx1ZSk7fX0sZ2V0Q29uZmlnOmZ1bmN0aW9uKCl7dmFyIGQ9e30sZj10aGlzLmNvbmZpZyxnLGU7Zm9yKGcgaW4gZil7aWYoYi5oYXNPd25Qcm9wZXJ0eShmLGcpKXtlPWZbZ107aWYoZSYmZS5ldmVudCl7ZFtnXT1lLnZhbHVlO319fXJldHVybiBkO30sZ2V0UHJvcGVydHk6ZnVuY3Rpb24oZCl7dmFyIGU9dGhpcy5jb25maWdbZC50b0xvd2VyQ2FzZSgpXTtpZihlJiZlLmV2ZW50KXtyZXR1cm4gZS52YWx1ZTt9ZWxzZXtyZXR1cm4gdW5kZWZpbmVkO319LHJlc2V0UHJvcGVydHk6ZnVuY3Rpb24oZCl7ZD1kLnRvTG93ZXJDYXNlKCk7dmFyIGU9dGhpcy5jb25maWdbZF07aWYoZSYmZS5ldmVudCl7aWYoZCBpbiB0aGlzLmluaXRpYWxDb25maWcpe3RoaXMuc2V0UHJvcGVydHkoZCx0aGlzLmluaXRpYWxDb25maWdbZF0pO3JldHVybiB0cnVlO319ZWxzZXtyZXR1cm4gZmFsc2U7fX0sc2V0UHJvcGVydHk6ZnVuY3Rpb24oZSxnLGQpe3ZhciBmO2U9ZS50b0xvd2VyQ2FzZSgpO2lmKHRoaXMucXVldWVJblByb2dyZXNzJiYhZCl7dGhpcy5xdWV1ZVByb3BlcnR5KGUsZyk7cmV0dXJuIHRydWU7fWVsc2V7Zj10aGlzLmNvbmZpZ1tlXTtpZihmJiZmLmV2ZW50KXtpZihmLnZhbGlkYXRvciYmIWYudmFsaWRhdG9yKGcpKXtyZXR1cm4gZmFsc2U7fWVsc2V7Zi52YWx1ZT1nO2lmKCFkKXt0aGlzLmZpcmVFdmVudChlLGcpO3RoaXMuY29uZmlnQ2hhbmdlZEV2ZW50LmZpcmUoW2UsZ10pO31yZXR1cm4gdHJ1ZTt9fWVsc2V7cmV0dXJuIGZhbHNlO319fSxxdWV1ZVByb3BlcnR5OmZ1bmN0aW9uKHYscil7dj12LnRvTG93ZXJDYXNlKCk7dmFyIHU9dGhpcy5jb25maWdbdl0sbD1mYWxzZSxrLGcsaCxqLHAsdCxmLG4sbyxkLG0sdyxlO2lmKHUmJnUuZXZlbnQpe2lmKCFiLmlzVW5kZWZpbmVkKHIpJiZ1LnZhbGlkYXRvciYmIXUudmFsaWRhdG9yKHIpKXtyZXR1cm4gZmFsc2U7fWVsc2V7aWYoIWIuaXNVbmRlZmluZWQocikpe3UudmFsdWU9cjt9ZWxzZXtyPXUudmFsdWU7fWw9ZmFsc2U7az10aGlzLmV2ZW50UXVldWUubGVuZ3RoO2ZvcihtPTA7bTxrO20rKyl7Zz10aGlzLmV2ZW50UXVldWVbbV07aWYoZyl7aD1nWzBdO2o9Z1sxXTtpZihoPT12KXt0aGlzLmV2ZW50UXVldWVbbV09bnVsbDt0aGlzLmV2ZW50UXVldWUucHVzaChbdiwoIWIuaXNVbmRlZmluZWQocik/cjpqKV0pO2w9dHJ1ZTticmVhazt9fX1pZighbCYmIWIuaXNVbmRlZmluZWQocikpe3RoaXMuZXZlbnRRdWV1ZS5wdXNoKFt2LHJdKTt9fWlmKHUuc3VwZXJjZWRlcyl7cD11LnN1cGVyY2VkZXMubGVuZ3RoO2Zvcih3PTA7dzxwO3crKyl7dD11LnN1cGVyY2VkZXNbd107Zj10aGlzLmV2ZW50UXVldWUubGVuZ3RoO2ZvcihlPTA7ZTxmO2UrKyl7bj10aGlzLmV2ZW50UXVldWVbZV07aWYobil7bz1uWzBdO2Q9blsxXTtpZihvPT10LnRvTG93ZXJDYXNlKCkpe3RoaXMuZXZlbnRRdWV1ZS5wdXNoKFtvLGRdKTt0aGlzLmV2ZW50UXVldWVbZV09bnVsbDticmVhazt9fX19fXJldHVybiB0cnVlO31lbHNle3JldHVybiBmYWxzZTt9fSxyZWZpcmVFdmVudDpmdW5jdGlvbihkKXtkPWQudG9Mb3dlckNhc2UoKTt2YXIgZT10aGlzLmNvbmZpZ1tkXTtpZihlJiZlLmV2ZW50JiYhYi5pc1VuZGVmaW5lZChlLnZhbHVlKSl7aWYodGhpcy5xdWV1ZUluUHJvZ3Jlc3Mpe3RoaXMucXVldWVQcm9wZXJ0eShkKTt9ZWxzZXt0aGlzLmZpcmVFdmVudChkLGUudmFsdWUpO319fSxhcHBseUNvbmZpZzpmdW5jdGlvbihkLGcpe3ZhciBmLGU7aWYoZyl7ZT17fTtmb3IoZiBpbiBkKXtpZihiLmhhc093blByb3BlcnR5KGQsZikpe2VbZi50b0xvd2VyQ2FzZSgpXT1kW2ZdO319dGhpcy5pbml0aWFsQ29uZmlnPWU7fWZvcihmIGluIGQpe2lmKGIuaGFzT3duUHJvcGVydHkoZCxmKSl7dGhpcy5xdWV1ZVByb3BlcnR5KGYsZFtmXSk7fX19LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgZDtmb3IoZCBpbiB0aGlzLmNvbmZpZyl7aWYoYi5oYXNPd25Qcm9wZXJ0eSh0aGlzLmNvbmZpZyxkKSl7dGhpcy5yZWZpcmVFdmVudChkKTt9fX0sZmlyZVF1ZXVlOmZ1bmN0aW9uKCl7dmFyIGUsaCxkLGcsZjt0aGlzLnF1ZXVlSW5Qcm9ncmVzcz10cnVlO2ZvcihlPTA7ZTx0aGlzLmV2ZW50UXVldWUubGVuZ3RoO2UrKyl7aD10aGlzLmV2ZW50UXVldWVbZV07aWYoaCl7ZD1oWzBdO2c9aFsxXTtmPXRoaXMuY29uZmlnW2RdO2YudmFsdWU9Zzt0aGlzLmV2ZW50UXVldWVbZV09bnVsbDt0aGlzLmZpcmVFdmVudChkLGcpO319dGhpcy5xdWV1ZUluUHJvZ3Jlc3M9ZmFsc2U7dGhpcy5ldmVudFF1ZXVlPVtdO30sc3Vic2NyaWJlVG9Db25maWdFdmVudDpmdW5jdGlvbihkLGUsZyxoKXt2YXIgZj10aGlzLmNvbmZpZ1tkLnRvTG93ZXJDYXNlKCldO2lmKGYmJmYuZXZlbnQpe2lmKCFhLmFscmVhZHlTdWJzY3JpYmVkKGYuZXZlbnQsZSxnKSl7Zi5ldmVudC5zdWJzY3JpYmUoZSxnLGgpO31yZXR1cm4gdHJ1ZTt9ZWxzZXtyZXR1cm4gZmFsc2U7fX0sdW5zdWJzY3JpYmVGcm9tQ29uZmlnRXZlbnQ6ZnVuY3Rpb24oZCxlLGcpe3ZhciBmPXRoaXMuY29uZmlnW2QudG9Mb3dlckNhc2UoKV07aWYoZiYmZi5ldmVudCl7cmV0dXJuIGYuZXZlbnQudW5zdWJzY3JpYmUoZSxnKTt9ZWxzZXtyZXR1cm4gZmFsc2U7fX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgZD0iQ29uZmlnIjtpZih0aGlzLm93bmVyKXtkKz0iIFsiK3RoaXMub3duZXIudG9TdHJpbmcoKSsiXSI7fXJldHVybiBkO30sb3V0cHV0RXZlbnRRdWV1ZTpmdW5jdGlvbigpe3ZhciBkPSIiLGcsZSxmPXRoaXMuZXZlbnRRdWV1ZS5sZW5ndGg7Zm9yKGU9MDtlPGY7ZSsrKXtnPXRoaXMuZXZlbnRRdWV1ZVtlXTtpZihnKXtkKz1nWzBdKyI9IitnWzFdKyIsICI7fX1yZXR1cm4gZDt9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNvbmZpZyxkLGY7Zm9yKGQgaW4gZSl7aWYoYi5oYXNPd25Qcm9wZXJ0eShlLGQpKXtmPWVbZF07Zi5ldmVudC51bnN1YnNjcmliZUFsbCgpO2YuZXZlbnQ9bnVsbDt9fXRoaXMuY29uZmlnQ2hhbmdlZEV2ZW50LnVuc3Vic2NyaWJlQWxsKCk7dGhpcy5jb25maWdDaGFuZ2VkRXZlbnQ9bnVsbDt0aGlzLm93bmVyPW51bGw7dGhpcy5jb25maWc9bnVsbDt0aGlzLmluaXRpYWxDb25maWc9bnVsbDt0aGlzLmV2ZW50UXVldWU9bnVsbDt9fTthLmFscmVhZHlTdWJzY3JpYmVkPWZ1bmN0aW9uKGUsaCxqKXt2YXIgZj1lLnN1YnNjcmliZXJzLmxlbmd0aCxkLGc7aWYoZj4wKXtnPWYtMTtkb3tkPWUuc3Vic2NyaWJlcnNbZ107aWYoZCYmZC5vYmo9PWomJmQuZm49PWgpe3JldHVybiB0cnVlO319d2hpbGUoZy0tKTt9cmV0dXJuIGZhbHNlO307WUFIT08ubGFuZy5hdWdtZW50UHJvdG8oYSxZQUhPTy51dGlsLkV2ZW50UHJvdmlkZXIpO30oKSk7KGZ1bmN0aW9uKCl7WUFIT08ud2lkZ2V0Lk1vZHVsZT1mdW5jdGlvbihyLHEpe2lmKHIpe3RoaXMuaW5pdChyLHEpO31lbHNle319O3ZhciBmPVlBSE9PLnV0aWwuRG9tLGQ9WUFIT08udXRpbC5Db25maWcsbj1ZQUhPTy51dGlsLkV2ZW50LG09WUFIT08udXRpbC5DdXN0b21FdmVudCxnPVlBSE9PLndpZGdldC5Nb2R1bGUsaT1ZQUhPTy5lbnYudWEsaCxwLG8sZSxhPXsiQkVGT1JFX0lOSVQiOiJiZWZvcmVJbml0IiwiSU5JVCI6ImluaXQiLCJBUFBFTkQiOiJhcHBlbmQiLCJCRUZPUkVfUkVOREVSIjoiYmVmb3JlUmVuZGVyIiwiUkVOREVSIjoicmVuZGVyIiwiQ0hBTkdFX0hFQURFUiI6ImNoYW5nZUhlYWRlciIsIkNIQU5HRV9CT0RZIjoiY2hhbmdlQm9keSIsIkNIQU5HRV9GT09URVIiOiJjaGFuZ2VGb290ZXIiLCJDSEFOR0VfQ09OVEVOVCI6ImNoYW5nZUNvbnRlbnQiLCJERVNUUk9ZIjoiZGVzdHJveSIsIkJFRk9SRV9TSE9XIjoiYmVmb3JlU2hvdyIsIlNIT1ciOiJzaG93IiwiQkVGT1JFX0hJREUiOiJiZWZvcmVIaWRlIiwiSElERSI6ImhpZGUifSxqPXsiVklTSUJMRSI6e2tleToidmlzaWJsZSIsdmFsdWU6dHJ1ZSx2YWxpZGF0b3I6WUFIT08ubGFuZy5pc0Jvb2xlYW59LCJFRkZFQ1QiOntrZXk6ImVmZmVjdCIsc3VwcHJlc3NFdmVudDp0cnVlLHN1cGVyY2VkZXM6WyJ2aXNpYmxlIl19LCJNT05JVE9SX1JFU0laRSI6e2tleToibW9uaXRvcnJlc2l6ZSIsdmFsdWU6dHJ1ZX0sIkFQUEVORF9UT19ET0NVTUVOVF9CT0RZIjp7a2V5OiJhcHBlbmR0b2RvY3VtZW50Ym9keSIsdmFsdWU6ZmFsc2V9fTtnLklNR19ST09UPW51bGw7Zy5JTUdfUk9PVF9TU0w9bnVsbDtnLkNTU19NT0RVTEU9Inl1aS1tb2R1bGUiO2cuQ1NTX0hFQURFUj0iaGQiO2cuQ1NTX0JPRFk9ImJkIjtnLkNTU19GT09URVI9ImZ0IjtnLlJFU0laRV9NT05JVE9SX1NFQ1VSRV9VUkw9ImphdmFzY3JpcHQ6ZmFsc2U7IjtnLlJFU0laRV9NT05JVE9SX0JVRkZFUj0xO2cudGV4dFJlc2l6ZUV2ZW50PW5ldyBtKCJ0ZXh0UmVzaXplIik7Zy5mb3JjZURvY3VtZW50UmVkcmF3PWZ1bmN0aW9uKCl7dmFyIHE9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2lmKHEpe3EuY2xhc3NOYW1lKz0iICI7cS5jbGFzc05hbWU9WUFIT08ubGFuZy50cmltKHEuY2xhc3NOYW1lKTt9fTtmdW5jdGlvbiBsKCl7aWYoIWgpe2g9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aC5pbm5lckhUTUw9KCc8ZGl2IGNsYXNzPSInK2cuQ1NTX0hFQURFUisnIj48L2Rpdj4nKyc8ZGl2IGNsYXNzPSInK2cuQ1NTX0JPRFkrJyI+PC9kaXY+PGRpdiBjbGFzcz0iJytnLkNTU19GT09URVIrJyI+PC9kaXY+Jyk7cD1oLmZpcnN0Q2hpbGQ7bz1wLm5leHRTaWJsaW5nO2U9by5uZXh0U2libGluZzt9cmV0dXJuIGg7fWZ1bmN0aW9uIGsoKXtpZighcCl7bCgpO31yZXR1cm4ocC5jbG9uZU5vZGUoZmFsc2UpKTt9ZnVuY3Rpb24gYigpe2lmKCFvKXtsKCk7fXJldHVybihvLmNsb25lTm9kZShmYWxzZSkpO31mdW5jdGlvbiBjKCl7aWYoIWUpe2woKTt9cmV0dXJuKGUuY2xvbmVOb2RlKGZhbHNlKSk7fWcucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpnLGVsZW1lbnQ6bnVsbCxoZWFkZXI6bnVsbCxib2R5Om51bGwsZm9vdGVyOm51bGwsaWQ6bnVsbCxpbWFnZVJvb3Q6Zy5JTUdfUk9PVCxpbml0RXZlbnRzOmZ1bmN0aW9uKCl7dmFyIHE9bS5MSVNUOwp0aGlzLmJlZm9yZUluaXRFdmVudD10aGlzLmNyZWF0ZUV2ZW50KGEuQkVGT1JFX0lOSVQpO3RoaXMuYmVmb3JlSW5pdEV2ZW50LnNpZ25hdHVyZT1xO3RoaXMuaW5pdEV2ZW50PXRoaXMuY3JlYXRlRXZlbnQoYS5JTklUKTt0aGlzLmluaXRFdmVudC5zaWduYXR1cmU9cTt0aGlzLmFwcGVuZEV2ZW50PXRoaXMuY3JlYXRlRXZlbnQoYS5BUFBFTkQpO3RoaXMuYXBwZW5kRXZlbnQuc2lnbmF0dXJlPXE7dGhpcy5iZWZvcmVSZW5kZXJFdmVudD10aGlzLmNyZWF0ZUV2ZW50KGEuQkVGT1JFX1JFTkRFUik7dGhpcy5iZWZvcmVSZW5kZXJFdmVudC5zaWduYXR1cmU9cTt0aGlzLnJlbmRlckV2ZW50PXRoaXMuY3JlYXRlRXZlbnQoYS5SRU5ERVIpO3RoaXMucmVuZGVyRXZlbnQuc2lnbmF0dXJlPXE7dGhpcy5jaGFuZ2VIZWFkZXJFdmVudD10aGlzLmNyZWF0ZUV2ZW50KGEuQ0hBTkdFX0hFQURFUik7dGhpcy5jaGFuZ2VIZWFkZXJFdmVudC5zaWduYXR1cmU9cTt0aGlzLmNoYW5nZUJvZHlFdmVudD10aGlzLmNyZWF0ZUV2ZW50KGEuQ0hBTkdFX0JPRFkpO3RoaXMuY2hhbmdlQm9keUV2ZW50LnNpZ25hdHVyZT1xO3RoaXMuY2hhbmdlRm9vdGVyRXZlbnQ9dGhpcy5jcmVhdGVFdmVudChhLkNIQU5HRV9GT09URVIpO3RoaXMuY2hhbmdlRm9vdGVyRXZlbnQuc2lnbmF0dXJlPXE7dGhpcy5jaGFuZ2VDb250ZW50RXZlbnQ9dGhpcy5jcmVhdGVFdmVudChhLkNIQU5HRV9DT05URU5UKTt0aGlzLmNoYW5nZUNvbnRlbnRFdmVudC5zaWduYXR1cmU9cTt0aGlzLmRlc3Ryb3lFdmVudD10aGlzLmNyZWF0ZUV2ZW50KGEuREVTVFJPWSk7dGhpcy5kZXN0cm95RXZlbnQuc2lnbmF0dXJlPXE7dGhpcy5iZWZvcmVTaG93RXZlbnQ9dGhpcy5jcmVhdGVFdmVudChhLkJFRk9SRV9TSE9XKTt0aGlzLmJlZm9yZVNob3dFdmVudC5zaWduYXR1cmU9cTt0aGlzLnNob3dFdmVudD10aGlzLmNyZWF0ZUV2ZW50KGEuU0hPVyk7dGhpcy5zaG93RXZlbnQuc2lnbmF0dXJlPXE7dGhpcy5iZWZvcmVIaWRlRXZlbnQ9dGhpcy5jcmVhdGVFdmVudChhLkJFRk9SRV9ISURFKTt0aGlzLmJlZm9yZUhpZGVFdmVudC5zaWduYXR1cmU9cTt0aGlzLmhpZGVFdmVudD10aGlzLmNyZWF0ZUV2ZW50KGEuSElERSk7dGhpcy5oaWRlRXZlbnQuc2lnbmF0dXJlPXE7fSxwbGF0Zm9ybTpmdW5jdGlvbigpe3ZhciBxPW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtpZihxLmluZGV4T2YoIndpbmRvd3MiKSE9LTF8fHEuaW5kZXhPZigid2luMzIiKSE9LTEpe3JldHVybiJ3aW5kb3dzIjt9ZWxzZXtpZihxLmluZGV4T2YoIm1hY2ludG9zaCIpIT0tMSl7cmV0dXJuIm1hYyI7fWVsc2V7cmV0dXJuIGZhbHNlO319fSgpLGJyb3dzZXI6ZnVuY3Rpb24oKXt2YXIgcT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7aWYocS5pbmRleE9mKCJvcGVyYSIpIT0tMSl7cmV0dXJuIm9wZXJhIjt9ZWxzZXtpZihxLmluZGV4T2YoIm1zaWUgNyIpIT0tMSl7cmV0dXJuImllNyI7fWVsc2V7aWYocS5pbmRleE9mKCJtc2llIikhPS0xKXtyZXR1cm4iaWUiO31lbHNle2lmKHEuaW5kZXhPZigic2FmYXJpIikhPS0xKXtyZXR1cm4ic2FmYXJpIjt9ZWxzZXtpZihxLmluZGV4T2YoImdlY2tvIikhPS0xKXtyZXR1cm4iZ2Vja28iO31lbHNle3JldHVybiBmYWxzZTt9fX19fX0oKSxpc1NlY3VyZTpmdW5jdGlvbigpe2lmKHdpbmRvdy5sb2NhdGlvbi5ocmVmLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiaHR0cHMiKT09PTApe3JldHVybiB0cnVlO31lbHNle3JldHVybiBmYWxzZTt9fSgpLGluaXREZWZhdWx0Q29uZmlnOmZ1bmN0aW9uKCl7dGhpcy5jZmcuYWRkUHJvcGVydHkoai5WSVNJQkxFLmtleSx7aGFuZGxlcjp0aGlzLmNvbmZpZ1Zpc2libGUsdmFsdWU6ai5WSVNJQkxFLnZhbHVlLHZhbGlkYXRvcjpqLlZJU0lCTEUudmFsaWRhdG9yfSk7dGhpcy5jZmcuYWRkUHJvcGVydHkoai5FRkZFQ1Qua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnRWZmZWN0LHN1cHByZXNzRXZlbnQ6ai5FRkZFQ1Quc3VwcHJlc3NFdmVudCxzdXBlcmNlZGVzOmouRUZGRUNULnN1cGVyY2VkZXN9KTt0aGlzLmNmZy5hZGRQcm9wZXJ0eShqLk1PTklUT1JfUkVTSVpFLmtleSx7aGFuZGxlcjp0aGlzLmNvbmZpZ01vbml0b3JSZXNpemUsdmFsdWU6ai5NT05JVE9SX1JFU0laRS52YWx1ZX0pO3RoaXMuY2ZnLmFkZFByb3BlcnR5KGouQVBQRU5EX1RPX0RPQ1VNRU5UX0JPRFkua2V5LHt2YWx1ZTpqLkFQUEVORF9UT19ET0NVTUVOVF9CT0RZLnZhbHVlfSk7fSxpbml0OmZ1bmN0aW9uKHYsdSl7dmFyIHMsdzt0aGlzLmluaXRFdmVudHMoKTt0aGlzLmJlZm9yZUluaXRFdmVudC5maXJlKGcpO3RoaXMuY2ZnPW5ldyBkKHRoaXMpO2lmKHRoaXMuaXNTZWN1cmUpe3RoaXMuaW1hZ2VSb290PWcuSU1HX1JPT1RfU1NMO31pZih0eXBlb2Ygdj09InN0cmluZyIpe3M9djt2PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHYpO2lmKCF2KXt2PShsKCkpLmNsb25lTm9kZShmYWxzZSk7di5pZD1zO319dGhpcy5pZD1mLmdlbmVyYXRlSWQodik7dGhpcy5lbGVtZW50PXY7dz10aGlzLmVsZW1lbnQuZmlyc3RDaGlsZDtpZih3KXt2YXIgcj1mYWxzZSxxPWZhbHNlLHQ9ZmFsc2U7ZG97aWYoMT09dy5ub2RlVHlwZSl7aWYoIXImJmYuaGFzQ2xhc3ModyxnLkNTU19IRUFERVIpKXt0aGlzLmhlYWRlcj13O3I9dHJ1ZTt9ZWxzZXtpZighcSYmZi5oYXNDbGFzcyh3LGcuQ1NTX0JPRFkpKXt0aGlzLmJvZHk9dztxPXRydWU7fWVsc2V7aWYoIXQmJmYuaGFzQ2xhc3ModyxnLkNTU19GT09URVIpKXt0aGlzLmZvb3Rlcj13O3Q9dHJ1ZTt9fX19fXdoaWxlKCh3PXcubmV4dFNpYmxpbmcpKTt9dGhpcy5pbml0RGVmYXVsdENvbmZpZygpO2YuYWRkQ2xhc3ModGhpcy5lbGVtZW50LGcuQ1NTX01PRFVMRSk7aWYodSl7dGhpcy5jZmcuYXBwbHlDb25maWcodSx0cnVlKTt9aWYoIWQuYWxyZWFkeVN1YnNjcmliZWQodGhpcy5yZW5kZXJFdmVudCx0aGlzLmNmZy5maXJlUXVldWUsdGhpcy5jZmcpKXt0aGlzLnJlbmRlckV2ZW50LnN1YnNjcmliZSh0aGlzLmNmZy5maXJlUXVldWUsdGhpcy5jZmcsdHJ1ZSk7fXRoaXMuaW5pdEV2ZW50LmZpcmUoZyk7fSxpbml0UmVzaXplTW9uaXRvcjpmdW5jdGlvbigpe3ZhciByPShpLmdlY2tvJiZ0aGlzLnBsYXRmb3JtPT0id2luZG93cyIpO2lmKHIpe3ZhciBxPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe3EuX2luaXRSZXNpemVNb25pdG9yKCk7fSwwKTt9ZWxzZXt0aGlzLl9pbml0UmVzaXplTW9uaXRvcigpO319LF9pbml0UmVzaXplTW9uaXRvcjpmdW5jdGlvbigpe3ZhciBxLHMsdTtmdW5jdGlvbiB3KCl7Zy50ZXh0UmVzaXplRXZlbnQuZmlyZSgpO31pZighaS5vcGVyYSl7cz1mLmdldCgiX3l1aVJlc2l6ZU1vbml0b3IiKTt2YXIgdj10aGlzLl9zdXBwb3J0c0NXUmVzaXplKCk7aWYoIXMpe3M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7aWYodGhpcy5pc1NlY3VyZSYmZy5SRVNJWkVfTU9OSVRPUl9TRUNVUkVfVVJMJiZpLmllKXtzLnNyYz1nLlJFU0laRV9NT05JVE9SX1NFQ1VSRV9VUkw7fWlmKCF2KXt1PVsiPGh0bWw+PGhlYWQ+PHNjcmlwdCAiLCd0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPicsIndpbmRvdy5vbnJlc2l6ZT1mdW5jdGlvbigpe3dpbmRvdy5wYXJlbnQuIiwiWUFIT08ud2lkZ2V0Lk1vZHVsZS50ZXh0UmVzaXplRXZlbnQuIiwiZmlyZSgpO307PCIsIi9zY3JpcHQ+PC9oZWFkPiIsIjxib2R5PjwvYm9keT48L2h0bWw+Il0uam9pbigiIik7cy5zcmM9ImRhdGE6dGV4dC9odG1sO2NoYXJzZXQ9dXRmLTgsIitlbmNvZGVVUklDb21wb25lbnQodSk7fXMuaWQ9Il95dWlSZXNpemVNb25pdG9yIjtzLnRpdGxlPSJUZXh0IFJlc2l6ZSBNb25pdG9yIjtzLnRhYkluZGV4PS0xO3Muc2V0QXR0cmlidXRlKCJyb2xlIiwicHJlc2VudGF0aW9uIik7cy5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO3Muc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjt2YXIgcj1kb2N1bWVudC5ib2R5LHQ9ci5maXJzdENoaWxkO2lmKHQpe3IuaW5zZXJ0QmVmb3JlKHMsdCk7fWVsc2V7ci5hcHBlbmRDaGlsZChzKTt9cy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9InRyYW5zcGFyZW50IjtzLnN0eWxlLmJvcmRlcldpZHRoPSIwIjtzLnN0eWxlLndpZHRoPSIyZW0iO3Muc3R5bGUuaGVpZ2h0PSIyZW0iO3Muc3R5bGUubGVmdD0iMCI7cy5zdHlsZS50b3A9KC0xKihzLm9mZnNldEhlaWdodCtnLlJFU0laRV9NT05JVE9SX0JVRkZFUikpKyJweCI7cy5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIjtpZihpLndlYmtpdCl7cT1zLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7cS5vcGVuKCk7cS5jbG9zZSgpO319aWYocyYmcy5jb250ZW50V2luZG93KXtnLnRleHRSZXNpemVFdmVudC5zdWJzY3JpYmUodGhpcy5vbkRvbVJlc2l6ZSx0aGlzLHRydWUpO2lmKCFnLnRleHRSZXNpemVJbml0aWFsaXplZCl7aWYodil7aWYoIW4ub24ocy5jb250ZW50V2luZG93LCJyZXNpemUiLHcpKXtuLm9uKHMsInJlc2l6ZSIsdyk7fX1nLnRleHRSZXNpemVJbml0aWFsaXplZD10cnVlO310aGlzLnJlc2l6ZU1vbml0b3I9czt9fX0sX3N1cHBvcnRzQ1dSZXNpemU6ZnVuY3Rpb24oKXt2YXIgcT10cnVlO2lmKGkuZ2Vja28mJmkuZ2Vja288PTEuOCl7cT1mYWxzZTt9cmV0dXJuIHE7fSxvbkRvbVJlc2l6ZTpmdW5jdGlvbihzLHIpe3ZhciBxPS0xKih0aGlzLnJlc2l6ZU1vbml0b3Iub2Zmc2V0SGVpZ2h0K2cuUkVTSVpFX01PTklUT1JfQlVGRkVSKTt0aGlzLnJlc2l6ZU1vbml0b3Iuc3R5bGUudG9wPXErInB4Ijt0aGlzLnJlc2l6ZU1vbml0b3Iuc3R5bGUubGVmdD0iMCI7fSxzZXRIZWFkZXI6ZnVuY3Rpb24ocil7dmFyIHE9dGhpcy5oZWFkZXJ8fCh0aGlzLmhlYWRlcj1rKCkpO2lmKHIubm9kZU5hbWUpe3EuaW5uZXJIVE1MPSIiO3EuYXBwZW5kQ2hpbGQocik7fWVsc2V7cS5pbm5lckhUTUw9cjt9aWYodGhpcy5fcmVuZGVyZWQpe3RoaXMuX3JlbmRlckhlYWRlcigpO310aGlzLmNoYW5nZUhlYWRlckV2ZW50LmZpcmUocik7dGhpcy5jaGFuZ2VDb250ZW50RXZlbnQuZmlyZSgpO30sYXBwZW5kVG9IZWFkZXI6ZnVuY3Rpb24ocil7dmFyIHE9dGhpcy5oZWFkZXJ8fCh0aGlzLmhlYWRlcj1rKCkpO3EuYXBwZW5kQ2hpbGQocik7dGhpcy5jaGFuZ2VIZWFkZXJFdmVudC5maXJlKHIpO3RoaXMuY2hhbmdlQ29udGVudEV2ZW50LmZpcmUoKTt9LHNldEJvZHk6ZnVuY3Rpb24ocil7dmFyIHE9dGhpcy5ib2R5fHwodGhpcy5ib2R5PWIoKSk7aWYoci5ub2RlTmFtZSl7cS5pbm5lckhUTUw9IiI7cS5hcHBlbmRDaGlsZChyKTt9ZWxzZXtxLmlubmVySFRNTD1yO31pZih0aGlzLl9yZW5kZXJlZCl7dGhpcy5fcmVuZGVyQm9keSgpO310aGlzLmNoYW5nZUJvZHlFdmVudC5maXJlKHIpO3RoaXMuY2hhbmdlQ29udGVudEV2ZW50LmZpcmUoKTt9LGFwcGVuZFRvQm9keTpmdW5jdGlvbihyKXt2YXIgcT10aGlzLmJvZHl8fCh0aGlzLmJvZHk9YigpKTtxLmFwcGVuZENoaWxkKHIpO3RoaXMuY2hhbmdlQm9keUV2ZW50LmZpcmUocik7dGhpcy5jaGFuZ2VDb250ZW50RXZlbnQuZmlyZSgpO30sc2V0Rm9vdGVyOmZ1bmN0aW9uKHIpe3ZhciBxPXRoaXMuZm9vdGVyfHwodGhpcy5mb290ZXI9YygpKTtpZihyLm5vZGVOYW1lKXtxLmlubmVySFRNTD0iIjtxLmFwcGVuZENoaWxkKHIpO31lbHNle3EuaW5uZXJIVE1MPXI7fWlmKHRoaXMuX3JlbmRlcmVkKXt0aGlzLl9yZW5kZXJGb290ZXIoKTt9dGhpcy5jaGFuZ2VGb290ZXJFdmVudC5maXJlKHIpO3RoaXMuY2hhbmdlQ29udGVudEV2ZW50LmZpcmUoKTt9LGFwcGVuZFRvRm9vdGVyOmZ1bmN0aW9uKHIpe3ZhciBxPXRoaXMuZm9vdGVyfHwodGhpcy5mb290ZXI9YygpKTtxLmFwcGVuZENoaWxkKHIpO3RoaXMuY2hhbmdlRm9vdGVyRXZlbnQuZmlyZShyKTt0aGlzLmNoYW5nZUNvbnRlbnRFdmVudC5maXJlKCk7fSxyZW5kZXI6ZnVuY3Rpb24ocyxxKXt2YXIgdD10aGlzO2Z1bmN0aW9uIHIodSl7aWYodHlwZW9mIHU9PSJzdHJpbmciKXt1PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHUpOwp9aWYodSl7dC5fYWRkVG9QYXJlbnQodSx0LmVsZW1lbnQpO3QuYXBwZW5kRXZlbnQuZmlyZSgpO319dGhpcy5iZWZvcmVSZW5kZXJFdmVudC5maXJlKCk7aWYoIXEpe3E9dGhpcy5lbGVtZW50O31pZihzKXtyKHMpO31lbHNle2lmKCFmLmluRG9jdW1lbnQodGhpcy5lbGVtZW50KSl7cmV0dXJuIGZhbHNlO319dGhpcy5fcmVuZGVySGVhZGVyKHEpO3RoaXMuX3JlbmRlckJvZHkocSk7dGhpcy5fcmVuZGVyRm9vdGVyKHEpO3RoaXMuX3JlbmRlcmVkPXRydWU7dGhpcy5yZW5kZXJFdmVudC5maXJlKCk7cmV0dXJuIHRydWU7fSxfcmVuZGVySGVhZGVyOmZ1bmN0aW9uKHEpe3E9cXx8dGhpcy5lbGVtZW50O2lmKHRoaXMuaGVhZGVyJiYhZi5pbkRvY3VtZW50KHRoaXMuaGVhZGVyKSl7dmFyIHI9cS5maXJzdENoaWxkO2lmKHIpe3EuaW5zZXJ0QmVmb3JlKHRoaXMuaGVhZGVyLHIpO31lbHNle3EuYXBwZW5kQ2hpbGQodGhpcy5oZWFkZXIpO319fSxfcmVuZGVyQm9keTpmdW5jdGlvbihxKXtxPXF8fHRoaXMuZWxlbWVudDtpZih0aGlzLmJvZHkmJiFmLmluRG9jdW1lbnQodGhpcy5ib2R5KSl7aWYodGhpcy5mb290ZXImJmYuaXNBbmNlc3RvcihxLHRoaXMuZm9vdGVyKSl7cS5pbnNlcnRCZWZvcmUodGhpcy5ib2R5LHRoaXMuZm9vdGVyKTt9ZWxzZXtxLmFwcGVuZENoaWxkKHRoaXMuYm9keSk7fX19LF9yZW5kZXJGb290ZXI6ZnVuY3Rpb24ocSl7cT1xfHx0aGlzLmVsZW1lbnQ7aWYodGhpcy5mb290ZXImJiFmLmluRG9jdW1lbnQodGhpcy5mb290ZXIpKXtxLmFwcGVuZENoaWxkKHRoaXMuZm9vdGVyKTt9fSxkZXN0cm95OmZ1bmN0aW9uKHEpe3ZhciByLHM9IShxKTtpZih0aGlzLmVsZW1lbnQpe24ucHVyZ2VFbGVtZW50KHRoaXMuZWxlbWVudCxzKTtyPXRoaXMuZWxlbWVudC5wYXJlbnROb2RlO31pZihyKXtyLnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudCk7fXRoaXMuZWxlbWVudD1udWxsO3RoaXMuaGVhZGVyPW51bGw7dGhpcy5ib2R5PW51bGw7dGhpcy5mb290ZXI9bnVsbDtnLnRleHRSZXNpemVFdmVudC51bnN1YnNjcmliZSh0aGlzLm9uRG9tUmVzaXplLHRoaXMpO3RoaXMuY2ZnLmRlc3Ryb3koKTt0aGlzLmNmZz1udWxsO3RoaXMuZGVzdHJveUV2ZW50LmZpcmUoKTt9LHNob3c6ZnVuY3Rpb24oKXt0aGlzLmNmZy5zZXRQcm9wZXJ0eSgidmlzaWJsZSIsdHJ1ZSk7fSxoaWRlOmZ1bmN0aW9uKCl7dGhpcy5jZmcuc2V0UHJvcGVydHkoInZpc2libGUiLGZhbHNlKTt9LGNvbmZpZ1Zpc2libGU6ZnVuY3Rpb24ocixxLHMpe3ZhciB0PXFbMF07aWYodCl7aWYodGhpcy5iZWZvcmVTaG93RXZlbnQuZmlyZSgpKXtmLnNldFN0eWxlKHRoaXMuZWxlbWVudCwiZGlzcGxheSIsImJsb2NrIik7dGhpcy5zaG93RXZlbnQuZmlyZSgpO319ZWxzZXtpZih0aGlzLmJlZm9yZUhpZGVFdmVudC5maXJlKCkpe2Yuc2V0U3R5bGUodGhpcy5lbGVtZW50LCJkaXNwbGF5Iiwibm9uZSIpO3RoaXMuaGlkZUV2ZW50LmZpcmUoKTt9fX0sY29uZmlnRWZmZWN0OmZ1bmN0aW9uKHIscSxzKXt0aGlzLl9jYWNoZWRFZmZlY3RzPSh0aGlzLmNhY2hlRWZmZWN0cyk/dGhpcy5fY3JlYXRlRWZmZWN0cyhxWzBdKTpudWxsO30sY2FjaGVFZmZlY3RzOnRydWUsX2NyZWF0ZUVmZmVjdHM6ZnVuY3Rpb24odCl7dmFyIHE9bnVsbCx1LHIscztpZih0KXtpZih0IGluc3RhbmNlb2YgQXJyYXkpe3E9W107dT10Lmxlbmd0aDtmb3Iocj0wO3I8dTtyKyspe3M9dFtyXTtpZihzLmVmZmVjdCl7cVtxLmxlbmd0aF09cy5lZmZlY3QodGhpcyxzLmR1cmF0aW9uKTt9fX1lbHNle2lmKHQuZWZmZWN0KXtxPVt0LmVmZmVjdCh0aGlzLHQuZHVyYXRpb24pXTt9fX1yZXR1cm4gcTt9LGNvbmZpZ01vbml0b3JSZXNpemU6ZnVuY3Rpb24ocyxyLHQpe3ZhciBxPXJbMF07aWYocSl7dGhpcy5pbml0UmVzaXplTW9uaXRvcigpO31lbHNle2cudGV4dFJlc2l6ZUV2ZW50LnVuc3Vic2NyaWJlKHRoaXMub25Eb21SZXNpemUsdGhpcyx0cnVlKTt0aGlzLnJlc2l6ZU1vbml0b3I9bnVsbDt9fSxfYWRkVG9QYXJlbnQ6ZnVuY3Rpb24ocSxyKXtpZighdGhpcy5jZmcuZ2V0UHJvcGVydHkoImFwcGVuZHRvZG9jdW1lbnRib2R5IikmJnE9PT1kb2N1bWVudC5ib2R5JiZxLmZpcnN0Q2hpbGQpe3EuaW5zZXJ0QmVmb3JlKHIscS5maXJzdENoaWxkKTt9ZWxzZXtxLmFwcGVuZENoaWxkKHIpO319LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIk1vZHVsZSAiK3RoaXMuaWQ7fX07WUFIT08ubGFuZy5hdWdtZW50UHJvdG8oZyxZQUhPTy51dGlsLkV2ZW50UHJvdmlkZXIpO30oKSk7KGZ1bmN0aW9uKCl7WUFIT08ud2lkZ2V0Lk92ZXJsYXk9ZnVuY3Rpb24ocCxvKXtZQUhPTy53aWRnZXQuT3ZlcmxheS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxwLG8pO307dmFyIGk9WUFIT08ubGFuZyxtPVlBSE9PLnV0aWwuQ3VzdG9tRXZlbnQsZz1ZQUhPTy53aWRnZXQuTW9kdWxlLG49WUFIT08udXRpbC5FdmVudCxmPVlBSE9PLnV0aWwuRG9tLGQ9WUFIT08udXRpbC5Db25maWcsaz1ZQUhPTy5lbnYudWEsYj1ZQUhPTy53aWRnZXQuT3ZlcmxheSxoPSJzdWJzY3JpYmUiLGU9InVuc3Vic2NyaWJlIixjPSJjb250YWluZWQiLGosYT17IkJFRk9SRV9NT1ZFIjoiYmVmb3JlTW92ZSIsIk1PVkUiOiJtb3ZlIn0sbD17IlgiOntrZXk6IngiLHZhbGlkYXRvcjppLmlzTnVtYmVyLHN1cHByZXNzRXZlbnQ6dHJ1ZSxzdXBlcmNlZGVzOlsiaWZyYW1lIl19LCJZIjp7a2V5OiJ5Iix2YWxpZGF0b3I6aS5pc051bWJlcixzdXBwcmVzc0V2ZW50OnRydWUsc3VwZXJjZWRlczpbImlmcmFtZSJdfSwiWFkiOntrZXk6Inh5IixzdXBwcmVzc0V2ZW50OnRydWUsc3VwZXJjZWRlczpbImlmcmFtZSJdfSwiQ09OVEVYVCI6e2tleToiY29udGV4dCIsc3VwcHJlc3NFdmVudDp0cnVlLHN1cGVyY2VkZXM6WyJpZnJhbWUiXX0sIkZJWEVEX0NFTlRFUiI6e2tleToiZml4ZWRjZW50ZXIiLHZhbHVlOmZhbHNlLHN1cGVyY2VkZXM6WyJpZnJhbWUiLCJ2aXNpYmxlIl19LCJXSURUSCI6e2tleToid2lkdGgiLHN1cHByZXNzRXZlbnQ6dHJ1ZSxzdXBlcmNlZGVzOlsiY29udGV4dCIsImZpeGVkY2VudGVyIiwiaWZyYW1lIl19LCJIRUlHSFQiOntrZXk6ImhlaWdodCIsc3VwcHJlc3NFdmVudDp0cnVlLHN1cGVyY2VkZXM6WyJjb250ZXh0IiwiZml4ZWRjZW50ZXIiLCJpZnJhbWUiXX0sIkFVVE9fRklMTF9IRUlHSFQiOntrZXk6ImF1dG9maWxsaGVpZ2h0IixzdXBlcmNlZGVzOlsiaGVpZ2h0Il0sdmFsdWU6ImJvZHkifSwiWklOREVYIjp7a2V5OiJ6aW5kZXgiLHZhbHVlOm51bGx9LCJDT05TVFJBSU5fVE9fVklFV1BPUlQiOntrZXk6ImNvbnN0cmFpbnRvdmlld3BvcnQiLHZhbHVlOmZhbHNlLHZhbGlkYXRvcjppLmlzQm9vbGVhbixzdXBlcmNlZGVzOlsiaWZyYW1lIiwieCIsInkiLCJ4eSJdfSwiSUZSQU1FIjp7a2V5OiJpZnJhbWUiLHZhbHVlOihrLmllPT02P3RydWU6ZmFsc2UpLHZhbGlkYXRvcjppLmlzQm9vbGVhbixzdXBlcmNlZGVzOlsiemluZGV4Il19LCJQUkVWRU5UX0NPTlRFWFRfT1ZFUkxBUCI6e2tleToicHJldmVudGNvbnRleHRvdmVybGFwIix2YWx1ZTpmYWxzZSx2YWxpZGF0b3I6aS5pc0Jvb2xlYW4sc3VwZXJjZWRlczpbImNvbnN0cmFpbnRvdmlld3BvcnQiXX19O2IuSUZSQU1FX1NSQz0iamF2YXNjcmlwdDpmYWxzZTsiO2IuSUZSQU1FX09GRlNFVD0zO2IuVklFV1BPUlRfT0ZGU0VUPTEwO2IuVE9QX0xFRlQ9InRsIjtiLlRPUF9SSUdIVD0idHIiO2IuQk9UVE9NX0xFRlQ9ImJsIjtiLkJPVFRPTV9SSUdIVD0iYnIiO2IuUFJFVkVOVF9PVkVSTEFQX1g9eyJ0bHRyIjp0cnVlLCJibGJyIjp0cnVlLCJicmJsIjp0cnVlLCJ0cnRsIjp0cnVlfTtiLlBSRVZFTlRfT1ZFUkxBUF9ZPXsidHJiciI6dHJ1ZSwidGxibCI6dHJ1ZSwiYmx0bCI6dHJ1ZSwiYnJ0ciI6dHJ1ZX07Yi5DU1NfT1ZFUkxBWT0ieXVpLW92ZXJsYXkiO2IuQ1NTX0hJRERFTj0ieXVpLW92ZXJsYXktaGlkZGVuIjtiLkNTU19JRlJBTUU9Inl1aS1vdmVybGF5LWlmcmFtZSI7Yi5TVERfTU9EX1JFPS9eXHMqPyhib2R5fGZvb3RlcnxoZWFkZXIpXHMqPyQvaTtiLndpbmRvd1Njcm9sbEV2ZW50PW5ldyBtKCJ3aW5kb3dTY3JvbGwiKTtiLndpbmRvd1Jlc2l6ZUV2ZW50PW5ldyBtKCJ3aW5kb3dSZXNpemUiKTtiLndpbmRvd1Njcm9sbEhhbmRsZXI9ZnVuY3Rpb24ocCl7dmFyIG89bi5nZXRUYXJnZXQocCk7aWYoIW98fG89PT13aW5kb3d8fG89PT13aW5kb3cuZG9jdW1lbnQpe2lmKGsuaWUpe2lmKCF3aW5kb3cuc2Nyb2xsRW5kKXt3aW5kb3cuc2Nyb2xsRW5kPS0xO31jbGVhclRpbWVvdXQod2luZG93LnNjcm9sbEVuZCk7d2luZG93LnNjcm9sbEVuZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi53aW5kb3dTY3JvbGxFdmVudC5maXJlKCk7fSwxKTt9ZWxzZXtiLndpbmRvd1Njcm9sbEV2ZW50LmZpcmUoKTt9fX07Yi53aW5kb3dSZXNpemVIYW5kbGVyPWZ1bmN0aW9uKG8pe2lmKGsuaWUpe2lmKCF3aW5kb3cucmVzaXplRW5kKXt3aW5kb3cucmVzaXplRW5kPS0xO31jbGVhclRpbWVvdXQod2luZG93LnJlc2l6ZUVuZCk7d2luZG93LnJlc2l6ZUVuZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi53aW5kb3dSZXNpemVFdmVudC5maXJlKCk7fSwxMDApO31lbHNle2Iud2luZG93UmVzaXplRXZlbnQuZmlyZSgpO319O2IuX2luaXRpYWxpemVkPW51bGw7aWYoYi5faW5pdGlhbGl6ZWQ9PT1udWxsKXtuLm9uKHdpbmRvdywic2Nyb2xsIixiLndpbmRvd1Njcm9sbEhhbmRsZXIpO24ub24od2luZG93LCJyZXNpemUiLGIud2luZG93UmVzaXplSGFuZGxlcik7Yi5faW5pdGlhbGl6ZWQ9dHJ1ZTt9Yi5fVFJJR0dFUl9NQVA9eyJ3aW5kb3dTY3JvbGwiOmIud2luZG93U2Nyb2xsRXZlbnQsIndpbmRvd1Jlc2l6ZSI6Yi53aW5kb3dSZXNpemVFdmVudCwidGV4dFJlc2l6ZSI6Zy50ZXh0UmVzaXplRXZlbnR9O1lBSE9PLmV4dGVuZChiLGcse0NPTlRFWFRfVFJJR0dFUlM6W10saW5pdDpmdW5jdGlvbihwLG8pe2Iuc3VwZXJjbGFzcy5pbml0LmNhbGwodGhpcyxwKTt0aGlzLmJlZm9yZUluaXRFdmVudC5maXJlKGIpO2YuYWRkQ2xhc3ModGhpcy5lbGVtZW50LGIuQ1NTX09WRVJMQVkpO2lmKG8pe3RoaXMuY2ZnLmFwcGx5Q29uZmlnKG8sdHJ1ZSk7fWlmKHRoaXMucGxhdGZvcm09PSJtYWMiJiZrLmdlY2tvKXtpZighZC5hbHJlYWR5U3Vic2NyaWJlZCh0aGlzLnNob3dFdmVudCx0aGlzLnNob3dNYWNHZWNrb1Njcm9sbGJhcnMsdGhpcykpe3RoaXMuc2hvd0V2ZW50LnN1YnNjcmliZSh0aGlzLnNob3dNYWNHZWNrb1Njcm9sbGJhcnMsdGhpcyx0cnVlKTt9aWYoIWQuYWxyZWFkeVN1YnNjcmliZWQodGhpcy5oaWRlRXZlbnQsdGhpcy5oaWRlTWFjR2Vja29TY3JvbGxiYXJzLHRoaXMpKXt0aGlzLmhpZGVFdmVudC5zdWJzY3JpYmUodGhpcy5oaWRlTWFjR2Vja29TY3JvbGxiYXJzLHRoaXMsdHJ1ZSk7fX10aGlzLmluaXRFdmVudC5maXJlKGIpO30saW5pdEV2ZW50czpmdW5jdGlvbigpe2Iuc3VwZXJjbGFzcy5pbml0RXZlbnRzLmNhbGwodGhpcyk7dmFyIG89bS5MSVNUO3RoaXMuYmVmb3JlTW92ZUV2ZW50PXRoaXMuY3JlYXRlRXZlbnQoYS5CRUZPUkVfTU9WRSk7dGhpcy5iZWZvcmVNb3ZlRXZlbnQuc2lnbmF0dXJlPW87dGhpcy5tb3ZlRXZlbnQ9dGhpcy5jcmVhdGVFdmVudChhLk1PVkUpO3RoaXMubW92ZUV2ZW50LnNpZ25hdHVyZT1vO30saW5pdERlZmF1bHRDb25maWc6ZnVuY3Rpb24oKXtiLnN1cGVyY2xhc3MuaW5pdERlZmF1bHRDb25maWcuY2FsbCh0aGlzKTt2YXIgbz10aGlzLmNmZztvLmFkZFByb3BlcnR5KGwuWC5rZXkse2hhbmRsZXI6dGhpcy5jb25maWdYLHZhbGlkYXRvcjpsLlgudmFsaWRhdG9yLHN1cHByZXNzRXZlbnQ6bC5YLnN1cHByZXNzRXZlbnQsc3VwZXJjZWRlczpsLlguc3VwZXJjZWRlc30pO28uYWRkUHJvcGVydHkobC5ZLmtleSx7aGFuZGxlcjp0aGlzLmNvbmZpZ1ksdmFsaWRhdG9yOmwuWS52YWxpZGF0b3Isc3VwcHJlc3NFdmVudDpsLlkuc3VwcHJlc3NFdmVudCxzdXBlcmNlZGVzOmwuWS5zdXBlcmNlZGVzfSk7Cm8uYWRkUHJvcGVydHkobC5YWS5rZXkse2hhbmRsZXI6dGhpcy5jb25maWdYWSxzdXBwcmVzc0V2ZW50OmwuWFkuc3VwcHJlc3NFdmVudCxzdXBlcmNlZGVzOmwuWFkuc3VwZXJjZWRlc30pO28uYWRkUHJvcGVydHkobC5DT05URVhULmtleSx7aGFuZGxlcjp0aGlzLmNvbmZpZ0NvbnRleHQsc3VwcHJlc3NFdmVudDpsLkNPTlRFWFQuc3VwcHJlc3NFdmVudCxzdXBlcmNlZGVzOmwuQ09OVEVYVC5zdXBlcmNlZGVzfSk7by5hZGRQcm9wZXJ0eShsLkZJWEVEX0NFTlRFUi5rZXkse2hhbmRsZXI6dGhpcy5jb25maWdGaXhlZENlbnRlcix2YWx1ZTpsLkZJWEVEX0NFTlRFUi52YWx1ZSx2YWxpZGF0b3I6bC5GSVhFRF9DRU5URVIudmFsaWRhdG9yLHN1cGVyY2VkZXM6bC5GSVhFRF9DRU5URVIuc3VwZXJjZWRlc30pO28uYWRkUHJvcGVydHkobC5XSURUSC5rZXkse2hhbmRsZXI6dGhpcy5jb25maWdXaWR0aCxzdXBwcmVzc0V2ZW50OmwuV0lEVEguc3VwcHJlc3NFdmVudCxzdXBlcmNlZGVzOmwuV0lEVEguc3VwZXJjZWRlc30pO28uYWRkUHJvcGVydHkobC5IRUlHSFQua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnSGVpZ2h0LHN1cHByZXNzRXZlbnQ6bC5IRUlHSFQuc3VwcHJlc3NFdmVudCxzdXBlcmNlZGVzOmwuSEVJR0hULnN1cGVyY2VkZXN9KTtvLmFkZFByb3BlcnR5KGwuQVVUT19GSUxMX0hFSUdIVC5rZXkse2hhbmRsZXI6dGhpcy5jb25maWdBdXRvRmlsbEhlaWdodCx2YWx1ZTpsLkFVVE9fRklMTF9IRUlHSFQudmFsdWUsdmFsaWRhdG9yOnRoaXMuX3ZhbGlkYXRlQXV0b0ZpbGwsc3VwZXJjZWRlczpsLkFVVE9fRklMTF9IRUlHSFQuc3VwZXJjZWRlc30pO28uYWRkUHJvcGVydHkobC5aSU5ERVgua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnekluZGV4LHZhbHVlOmwuWklOREVYLnZhbHVlfSk7by5hZGRQcm9wZXJ0eShsLkNPTlNUUkFJTl9UT19WSUVXUE9SVC5rZXkse2hhbmRsZXI6dGhpcy5jb25maWdDb25zdHJhaW5Ub1ZpZXdwb3J0LHZhbHVlOmwuQ09OU1RSQUlOX1RPX1ZJRVdQT1JULnZhbHVlLHZhbGlkYXRvcjpsLkNPTlNUUkFJTl9UT19WSUVXUE9SVC52YWxpZGF0b3Isc3VwZXJjZWRlczpsLkNPTlNUUkFJTl9UT19WSUVXUE9SVC5zdXBlcmNlZGVzfSk7by5hZGRQcm9wZXJ0eShsLklGUkFNRS5rZXkse2hhbmRsZXI6dGhpcy5jb25maWdJZnJhbWUsdmFsdWU6bC5JRlJBTUUudmFsdWUsdmFsaWRhdG9yOmwuSUZSQU1FLnZhbGlkYXRvcixzdXBlcmNlZGVzOmwuSUZSQU1FLnN1cGVyY2VkZXN9KTtvLmFkZFByb3BlcnR5KGwuUFJFVkVOVF9DT05URVhUX09WRVJMQVAua2V5LHt2YWx1ZTpsLlBSRVZFTlRfQ09OVEVYVF9PVkVSTEFQLnZhbHVlLHZhbGlkYXRvcjpsLlBSRVZFTlRfQ09OVEVYVF9PVkVSTEFQLnZhbGlkYXRvcixzdXBlcmNlZGVzOmwuUFJFVkVOVF9DT05URVhUX09WRVJMQVAuc3VwZXJjZWRlc30pO30sbW92ZVRvOmZ1bmN0aW9uKG8scCl7dGhpcy5jZmcuc2V0UHJvcGVydHkoInh5IixbbyxwXSk7fSxoaWRlTWFjR2Vja29TY3JvbGxiYXJzOmZ1bmN0aW9uKCl7Zi5yZXBsYWNlQ2xhc3ModGhpcy5lbGVtZW50LCJzaG93LXNjcm9sbGJhcnMiLCJoaWRlLXNjcm9sbGJhcnMiKTt9LHNob3dNYWNHZWNrb1Njcm9sbGJhcnM6ZnVuY3Rpb24oKXtmLnJlcGxhY2VDbGFzcyh0aGlzLmVsZW1lbnQsImhpZGUtc2Nyb2xsYmFycyIsInNob3ctc2Nyb2xsYmFycyIpO30sX3NldERvbVZpc2liaWxpdHk6ZnVuY3Rpb24obyl7Zi5zZXRTdHlsZSh0aGlzLmVsZW1lbnQsInZpc2liaWxpdHkiLChvKT8idmlzaWJsZSI6ImhpZGRlbiIpO3ZhciBwPWIuQ1NTX0hJRERFTjtpZihvKXtmLnJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudCxwKTt9ZWxzZXtmLmFkZENsYXNzKHRoaXMuZWxlbWVudCxwKTt9fSxjb25maWdWaXNpYmxlOmZ1bmN0aW9uKHgsdyx0KXt2YXIgcD13WzBdLEI9Zi5nZXRTdHlsZSh0aGlzLmVsZW1lbnQsInZpc2liaWxpdHkiKSxvPXRoaXMuX2NhY2hlZEVmZmVjdHN8fHRoaXMuX2NyZWF0ZUVmZmVjdHModGhpcy5jZmcuZ2V0UHJvcGVydHkoImVmZmVjdCIpKSxBPSh0aGlzLnBsYXRmb3JtPT0ibWFjIiYmay5nZWNrbykseT1kLmFscmVhZHlTdWJzY3JpYmVkLHEsdixzLHIsdSx6O2lmKEI9PSJpbmhlcml0Iil7dj10aGlzLmVsZW1lbnQucGFyZW50Tm9kZTt3aGlsZSh2Lm5vZGVUeXBlIT05JiZ2Lm5vZGVUeXBlIT0xMSl7Qj1mLmdldFN0eWxlKHYsInZpc2liaWxpdHkiKTtpZihCIT0iaW5oZXJpdCIpe2JyZWFrO312PXYucGFyZW50Tm9kZTt9aWYoQj09ImluaGVyaXQiKXtCPSJ2aXNpYmxlIjt9fWlmKHApe2lmKEEpe3RoaXMuc2hvd01hY0dlY2tvU2Nyb2xsYmFycygpO31pZihvKXtpZihwKXtpZihCIT0idmlzaWJsZSJ8fEI9PT0iInx8dGhpcy5fZmFkaW5nT3V0KXtpZih0aGlzLmJlZm9yZVNob3dFdmVudC5maXJlKCkpe3o9by5sZW5ndGg7Zm9yKHM9MDtzPHo7cysrKXtxPW9bc107aWYocz09PTAmJiF5KHEuYW5pbWF0ZUluQ29tcGxldGVFdmVudCx0aGlzLnNob3dFdmVudC5maXJlLHRoaXMuc2hvd0V2ZW50KSl7cS5hbmltYXRlSW5Db21wbGV0ZUV2ZW50LnN1YnNjcmliZSh0aGlzLnNob3dFdmVudC5maXJlLHRoaXMuc2hvd0V2ZW50LHRydWUpO31xLmFuaW1hdGVJbigpO319fX19ZWxzZXtpZihCIT0idmlzaWJsZSJ8fEI9PT0iIil7aWYodGhpcy5iZWZvcmVTaG93RXZlbnQuZmlyZSgpKXt0aGlzLl9zZXREb21WaXNpYmlsaXR5KHRydWUpO3RoaXMuY2ZnLnJlZmlyZUV2ZW50KCJpZnJhbWUiKTt0aGlzLnNob3dFdmVudC5maXJlKCk7fX1lbHNle3RoaXMuX3NldERvbVZpc2liaWxpdHkodHJ1ZSk7fX19ZWxzZXtpZihBKXt0aGlzLmhpZGVNYWNHZWNrb1Njcm9sbGJhcnMoKTt9aWYobyl7aWYoQj09InZpc2libGUifHx0aGlzLl9mYWRpbmdJbil7aWYodGhpcy5iZWZvcmVIaWRlRXZlbnQuZmlyZSgpKXt6PW8ubGVuZ3RoO2ZvcihyPTA7cjx6O3IrKyl7dT1vW3JdO2lmKHI9PT0wJiYheSh1LmFuaW1hdGVPdXRDb21wbGV0ZUV2ZW50LHRoaXMuaGlkZUV2ZW50LmZpcmUsdGhpcy5oaWRlRXZlbnQpKXt1LmFuaW1hdGVPdXRDb21wbGV0ZUV2ZW50LnN1YnNjcmliZSh0aGlzLmhpZGVFdmVudC5maXJlLHRoaXMuaGlkZUV2ZW50LHRydWUpO311LmFuaW1hdGVPdXQoKTt9fX1lbHNle2lmKEI9PT0iIil7dGhpcy5fc2V0RG9tVmlzaWJpbGl0eShmYWxzZSk7fX19ZWxzZXtpZihCPT0idmlzaWJsZSJ8fEI9PT0iIil7aWYodGhpcy5iZWZvcmVIaWRlRXZlbnQuZmlyZSgpKXt0aGlzLl9zZXREb21WaXNpYmlsaXR5KGZhbHNlKTt0aGlzLmhpZGVFdmVudC5maXJlKCk7fX1lbHNle3RoaXMuX3NldERvbVZpc2liaWxpdHkoZmFsc2UpO319fX0sZG9DZW50ZXJPbkRPTUV2ZW50OmZ1bmN0aW9uKCl7dmFyIG89dGhpcy5jZmcscD1vLmdldFByb3BlcnR5KCJmaXhlZGNlbnRlciIpO2lmKG8uZ2V0UHJvcGVydHkoInZpc2libGUiKSl7aWYocCYmKHAhPT1jfHx0aGlzLmZpdHNJblZpZXdwb3J0KCkpKXt0aGlzLmNlbnRlcigpO319fSxmaXRzSW5WaWV3cG9ydDpmdW5jdGlvbigpe3ZhciBzPWIuVklFV1BPUlRfT0ZGU0VULHE9dGhpcy5lbGVtZW50LHQ9cS5vZmZzZXRXaWR0aCxyPXEub2Zmc2V0SGVpZ2h0LG89Zi5nZXRWaWV3cG9ydFdpZHRoKCkscD1mLmdldFZpZXdwb3J0SGVpZ2h0KCk7cmV0dXJuKCh0K3M8bykmJihyK3M8cCkpO30sY29uZmlnRml4ZWRDZW50ZXI6ZnVuY3Rpb24ocyxxLHQpe3ZhciB1PXFbMF0scD1kLmFscmVhZHlTdWJzY3JpYmVkLHI9Yi53aW5kb3dSZXNpemVFdmVudCxvPWIud2luZG93U2Nyb2xsRXZlbnQ7aWYodSl7dGhpcy5jZW50ZXIoKTtpZighcCh0aGlzLmJlZm9yZVNob3dFdmVudCx0aGlzLmNlbnRlcikpe3RoaXMuYmVmb3JlU2hvd0V2ZW50LnN1YnNjcmliZSh0aGlzLmNlbnRlcik7fWlmKCFwKHIsdGhpcy5kb0NlbnRlck9uRE9NRXZlbnQsdGhpcykpe3Iuc3Vic2NyaWJlKHRoaXMuZG9DZW50ZXJPbkRPTUV2ZW50LHRoaXMsdHJ1ZSk7fWlmKCFwKG8sdGhpcy5kb0NlbnRlck9uRE9NRXZlbnQsdGhpcykpe28uc3Vic2NyaWJlKHRoaXMuZG9DZW50ZXJPbkRPTUV2ZW50LHRoaXMsdHJ1ZSk7fX1lbHNle3RoaXMuYmVmb3JlU2hvd0V2ZW50LnVuc3Vic2NyaWJlKHRoaXMuY2VudGVyKTtyLnVuc3Vic2NyaWJlKHRoaXMuZG9DZW50ZXJPbkRPTUV2ZW50LHRoaXMpO28udW5zdWJzY3JpYmUodGhpcy5kb0NlbnRlck9uRE9NRXZlbnQsdGhpcyk7fX0sY29uZmlnSGVpZ2h0OmZ1bmN0aW9uKHIscCxzKXt2YXIgbz1wWzBdLHE9dGhpcy5lbGVtZW50O2Yuc2V0U3R5bGUocSwiaGVpZ2h0IixvKTt0aGlzLmNmZy5yZWZpcmVFdmVudCgiaWZyYW1lIik7fSxjb25maWdBdXRvRmlsbEhlaWdodDpmdW5jdGlvbih0LHMscCl7dmFyIHY9c1swXSxxPXRoaXMuY2ZnLHU9ImF1dG9maWxsaGVpZ2h0Iix3PSJoZWlnaHQiLHI9cS5nZXRQcm9wZXJ0eSh1KSxvPXRoaXMuX2F1dG9GaWxsT25IZWlnaHRDaGFuZ2U7cS51bnN1YnNjcmliZUZyb21Db25maWdFdmVudCh3LG8pO2cudGV4dFJlc2l6ZUV2ZW50LnVuc3Vic2NyaWJlKG8pO3RoaXMuY2hhbmdlQ29udGVudEV2ZW50LnVuc3Vic2NyaWJlKG8pO2lmKHImJnYhPT1yJiZ0aGlzW3JdKXtmLnNldFN0eWxlKHRoaXNbcl0sdywiIik7fWlmKHYpe3Y9aS50cmltKHYudG9Mb3dlckNhc2UoKSk7cS5zdWJzY3JpYmVUb0NvbmZpZ0V2ZW50KHcsbyx0aGlzW3ZdLHRoaXMpO2cudGV4dFJlc2l6ZUV2ZW50LnN1YnNjcmliZShvLHRoaXNbdl0sdGhpcyk7dGhpcy5jaGFuZ2VDb250ZW50RXZlbnQuc3Vic2NyaWJlKG8sdGhpc1t2XSx0aGlzKTtxLnNldFByb3BlcnR5KHUsdix0cnVlKTt9fSxjb25maWdXaWR0aDpmdW5jdGlvbihyLG8scyl7dmFyIHE9b1swXSxwPXRoaXMuZWxlbWVudDtmLnNldFN0eWxlKHAsIndpZHRoIixxKTt0aGlzLmNmZy5yZWZpcmVFdmVudCgiaWZyYW1lIik7fSxjb25maWd6SW5kZXg6ZnVuY3Rpb24ocSxvLHIpe3ZhciBzPW9bMF0scD10aGlzLmVsZW1lbnQ7aWYoIXMpe3M9Zi5nZXRTdHlsZShwLCJ6SW5kZXgiKTtpZighc3x8aXNOYU4ocykpe3M9MDt9fWlmKHRoaXMuaWZyYW1lfHx0aGlzLmNmZy5nZXRQcm9wZXJ0eSgiaWZyYW1lIik9PT10cnVlKXtpZihzPD0wKXtzPTE7fX1mLnNldFN0eWxlKHAsInpJbmRleCIscyk7dGhpcy5jZmcuc2V0UHJvcGVydHkoInpJbmRleCIscyx0cnVlKTtpZih0aGlzLmlmcmFtZSl7dGhpcy5zdGFja0lmcmFtZSgpO319LGNvbmZpZ1hZOmZ1bmN0aW9uKHEscCxyKXt2YXIgdD1wWzBdLG89dFswXSxzPXRbMV07dGhpcy5jZmcuc2V0UHJvcGVydHkoIngiLG8pO3RoaXMuY2ZnLnNldFByb3BlcnR5KCJ5IixzKTt0aGlzLmJlZm9yZU1vdmVFdmVudC5maXJlKFtvLHNdKTtvPXRoaXMuY2ZnLmdldFByb3BlcnR5KCJ4Iik7cz10aGlzLmNmZy5nZXRQcm9wZXJ0eSgieSIpO3RoaXMuY2ZnLnJlZmlyZUV2ZW50KCJpZnJhbWUiKTt0aGlzLm1vdmVFdmVudC5maXJlKFtvLHNdKTt9LGNvbmZpZ1g6ZnVuY3Rpb24ocSxwLHIpe3ZhciBvPXBbMF0scz10aGlzLmNmZy5nZXRQcm9wZXJ0eSgieSIpO3RoaXMuY2ZnLnNldFByb3BlcnR5KCJ4IixvLHRydWUpO3RoaXMuY2ZnLnNldFByb3BlcnR5KCJ5IixzLHRydWUpO3RoaXMuYmVmb3JlTW92ZUV2ZW50LmZpcmUoW28sc10pO289dGhpcy5jZmcuZ2V0UHJvcGVydHkoIngiKTtzPXRoaXMuY2ZnLmdldFByb3BlcnR5KCJ5Iik7Zi5zZXRYKHRoaXMuZWxlbWVudCxvLHRydWUpO3RoaXMuY2ZnLnNldFByb3BlcnR5KCJ4eSIsW28sc10sdHJ1ZSk7dGhpcy5jZmcucmVmaXJlRXZlbnQoImlmcmFtZSIpO3RoaXMubW92ZUV2ZW50LmZpcmUoW28sc10pO30sY29uZmlnWTpmdW5jdGlvbihxLHAscil7dmFyIG89dGhpcy5jZmcuZ2V0UHJvcGVydHkoIngiKSxzPXBbMF07dGhpcy5jZmcuc2V0UHJvcGVydHkoIngiLG8sdHJ1ZSk7dGhpcy5jZmcuc2V0UHJvcGVydHkoInkiLHMsdHJ1ZSk7dGhpcy5iZWZvcmVNb3ZlRXZlbnQuZmlyZShbbyxzXSk7bz10aGlzLmNmZy5nZXRQcm9wZXJ0eSgieCIpO3M9dGhpcy5jZmcuZ2V0UHJvcGVydHkoInkiKTtmLnNldFkodGhpcy5lbGVtZW50LHMsdHJ1ZSk7CnRoaXMuY2ZnLnNldFByb3BlcnR5KCJ4eSIsW28sc10sdHJ1ZSk7dGhpcy5jZmcucmVmaXJlRXZlbnQoImlmcmFtZSIpO3RoaXMubW92ZUV2ZW50LmZpcmUoW28sc10pO30sc2hvd0lmcmFtZTpmdW5jdGlvbigpe3ZhciBwPXRoaXMuaWZyYW1lLG87aWYocCl7bz10aGlzLmVsZW1lbnQucGFyZW50Tm9kZTtpZihvIT1wLnBhcmVudE5vZGUpe3RoaXMuX2FkZFRvUGFyZW50KG8scCk7fXAuc3R5bGUuZGlzcGxheT0iYmxvY2siO319LGhpZGVJZnJhbWU6ZnVuY3Rpb24oKXtpZih0aGlzLmlmcmFtZSl7dGhpcy5pZnJhbWUuc3R5bGUuZGlzcGxheT0ibm9uZSI7fX0sc3luY0lmcmFtZTpmdW5jdGlvbigpe3ZhciBvPXRoaXMuaWZyYW1lLHE9dGhpcy5lbGVtZW50LHM9Yi5JRlJBTUVfT0ZGU0VULHA9KHMqMikscjtpZihvKXtvLnN0eWxlLndpZHRoPShxLm9mZnNldFdpZHRoK3ArInB4Iik7by5zdHlsZS5oZWlnaHQ9KHEub2Zmc2V0SGVpZ2h0K3ArInB4Iik7cj10aGlzLmNmZy5nZXRQcm9wZXJ0eSgieHkiKTtpZighaS5pc0FycmF5KHIpfHwoaXNOYU4oclswXSl8fGlzTmFOKHJbMV0pKSl7dGhpcy5zeW5jUG9zaXRpb24oKTtyPXRoaXMuY2ZnLmdldFByb3BlcnR5KCJ4eSIpO31mLnNldFhZKG8sWyhyWzBdLXMpLChyWzFdLXMpXSk7fX0sc3RhY2tJZnJhbWU6ZnVuY3Rpb24oKXtpZih0aGlzLmlmcmFtZSl7dmFyIG89Zi5nZXRTdHlsZSh0aGlzLmVsZW1lbnQsInpJbmRleCIpO2lmKCFZQUhPTy5sYW5nLmlzVW5kZWZpbmVkKG8pJiYhaXNOYU4obykpe2Yuc2V0U3R5bGUodGhpcy5pZnJhbWUsInpJbmRleCIsKG8tMSkpO319fSxjb25maWdJZnJhbWU6ZnVuY3Rpb24ocixxLHMpe3ZhciBvPXFbMF07ZnVuY3Rpb24gdCgpe3ZhciB2PXRoaXMuaWZyYW1lLHc9dGhpcy5lbGVtZW50LHg7aWYoIXYpe2lmKCFqKXtqPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO2lmKHRoaXMuaXNTZWN1cmUpe2ouc3JjPWIuSUZSQU1FX1NSQzt9aWYoay5pZSl7ai5zdHlsZS5maWx0ZXI9ImFscGhhKG9wYWNpdHk9MCkiO2ouZnJhbWVCb3JkZXI9MDt9ZWxzZXtqLnN0eWxlLm9wYWNpdHk9IjAiO31qLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7ai5zdHlsZS5ib3JkZXI9Im5vbmUiO2ouc3R5bGUubWFyZ2luPSIwIjtqLnN0eWxlLnBhZGRpbmc9IjAiO2ouc3R5bGUuZGlzcGxheT0ibm9uZSI7ai50YWJJbmRleD0tMTtqLmNsYXNzTmFtZT1iLkNTU19JRlJBTUU7fXY9ai5jbG9uZU5vZGUoZmFsc2UpO3YuaWQ9dGhpcy5pZCsiX2YiO3g9dy5wYXJlbnROb2RlO3ZhciB1PXh8fGRvY3VtZW50LmJvZHk7dGhpcy5fYWRkVG9QYXJlbnQodSx2KTt0aGlzLmlmcmFtZT12O310aGlzLnNob3dJZnJhbWUoKTt0aGlzLnN5bmNJZnJhbWUoKTt0aGlzLnN0YWNrSWZyYW1lKCk7aWYoIXRoaXMuX2hhc0lmcmFtZUV2ZW50TGlzdGVuZXJzKXt0aGlzLnNob3dFdmVudC5zdWJzY3JpYmUodGhpcy5zaG93SWZyYW1lKTt0aGlzLmhpZGVFdmVudC5zdWJzY3JpYmUodGhpcy5oaWRlSWZyYW1lKTt0aGlzLmNoYW5nZUNvbnRlbnRFdmVudC5zdWJzY3JpYmUodGhpcy5zeW5jSWZyYW1lKTt0aGlzLl9oYXNJZnJhbWVFdmVudExpc3RlbmVycz10cnVlO319ZnVuY3Rpb24gcCgpe3QuY2FsbCh0aGlzKTt0aGlzLmJlZm9yZVNob3dFdmVudC51bnN1YnNjcmliZShwKTt0aGlzLl9pZnJhbWVEZWZlcnJlZD1mYWxzZTt9aWYobyl7aWYodGhpcy5jZmcuZ2V0UHJvcGVydHkoInZpc2libGUiKSl7dC5jYWxsKHRoaXMpO31lbHNle2lmKCF0aGlzLl9pZnJhbWVEZWZlcnJlZCl7dGhpcy5iZWZvcmVTaG93RXZlbnQuc3Vic2NyaWJlKHApO3RoaXMuX2lmcmFtZURlZmVycmVkPXRydWU7fX19ZWxzZXt0aGlzLmhpZGVJZnJhbWUoKTtpZih0aGlzLl9oYXNJZnJhbWVFdmVudExpc3RlbmVycyl7dGhpcy5zaG93RXZlbnQudW5zdWJzY3JpYmUodGhpcy5zaG93SWZyYW1lKTt0aGlzLmhpZGVFdmVudC51bnN1YnNjcmliZSh0aGlzLmhpZGVJZnJhbWUpO3RoaXMuY2hhbmdlQ29udGVudEV2ZW50LnVuc3Vic2NyaWJlKHRoaXMuc3luY0lmcmFtZSk7dGhpcy5faGFzSWZyYW1lRXZlbnRMaXN0ZW5lcnM9ZmFsc2U7fX19LF9wcmltZVhZRnJvbURPTTpmdW5jdGlvbigpe2lmKFlBSE9PLmxhbmcuaXNVbmRlZmluZWQodGhpcy5jZmcuZ2V0UHJvcGVydHkoInh5IikpKXt0aGlzLnN5bmNQb3NpdGlvbigpO3RoaXMuY2ZnLnJlZmlyZUV2ZW50KCJ4eSIpO3RoaXMuYmVmb3JlU2hvd0V2ZW50LnVuc3Vic2NyaWJlKHRoaXMuX3ByaW1lWFlGcm9tRE9NKTt9fSxjb25maWdDb25zdHJhaW5Ub1ZpZXdwb3J0OmZ1bmN0aW9uKHAsbyxxKXt2YXIgcj1vWzBdO2lmKHIpe2lmKCFkLmFscmVhZHlTdWJzY3JpYmVkKHRoaXMuYmVmb3JlTW92ZUV2ZW50LHRoaXMuZW5mb3JjZUNvbnN0cmFpbnRzLHRoaXMpKXt0aGlzLmJlZm9yZU1vdmVFdmVudC5zdWJzY3JpYmUodGhpcy5lbmZvcmNlQ29uc3RyYWludHMsdGhpcyx0cnVlKTt9aWYoIWQuYWxyZWFkeVN1YnNjcmliZWQodGhpcy5iZWZvcmVTaG93RXZlbnQsdGhpcy5fcHJpbWVYWUZyb21ET00pKXt0aGlzLmJlZm9yZVNob3dFdmVudC5zdWJzY3JpYmUodGhpcy5fcHJpbWVYWUZyb21ET00pO319ZWxzZXt0aGlzLmJlZm9yZVNob3dFdmVudC51bnN1YnNjcmliZSh0aGlzLl9wcmltZVhZRnJvbURPTSk7dGhpcy5iZWZvcmVNb3ZlRXZlbnQudW5zdWJzY3JpYmUodGhpcy5lbmZvcmNlQ29uc3RyYWludHMsdGhpcyk7fX0sY29uZmlnQ29udGV4dDpmdW5jdGlvbih1LHQscSl7dmFyIHg9dFswXSxyLG8sdixzLHAsdz10aGlzLkNPTlRFWFRfVFJJR0dFUlM7aWYoeCl7cj14WzBdO289eFsxXTt2PXhbMl07cz14WzNdO3A9eFs0XTtpZih3JiZ3Lmxlbmd0aD4wKXtzPShzfHxbXSkuY29uY2F0KHcpO31pZihyKXtpZih0eXBlb2Ygcj09InN0cmluZyIpe3RoaXMuY2ZnLnNldFByb3BlcnR5KCJjb250ZXh0IixbZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQociksbyx2LHMscF0sdHJ1ZSk7fWlmKG8mJnYpe3RoaXMuYWxpZ24obyx2LHApO31pZih0aGlzLl9jb250ZXh0VHJpZ2dlcnMpe3RoaXMuX3Byb2Nlc3NUcmlnZ2Vycyh0aGlzLl9jb250ZXh0VHJpZ2dlcnMsZSx0aGlzLl9hbGlnbk9uVHJpZ2dlcik7fWlmKHMpe3RoaXMuX3Byb2Nlc3NUcmlnZ2VycyhzLGgsdGhpcy5fYWxpZ25PblRyaWdnZXIpO3RoaXMuX2NvbnRleHRUcmlnZ2Vycz1zO319fX0sX2FsaWduT25UcmlnZ2VyOmZ1bmN0aW9uKHAsbyl7dGhpcy5hbGlnbigpO30sX2ZpbmRUcmlnZ2VyQ0U6ZnVuY3Rpb24obyl7dmFyIHA9bnVsbDtpZihvIGluc3RhbmNlb2YgbSl7cD1vO31lbHNle2lmKGIuX1RSSUdHRVJfTUFQW29dKXtwPWIuX1RSSUdHRVJfTUFQW29dO319cmV0dXJuIHA7fSxfcHJvY2Vzc1RyaWdnZXJzOmZ1bmN0aW9uKHMsdixyKXt2YXIgcSx1O2Zvcih2YXIgcD0wLG89cy5sZW5ndGg7cDxvOysrcCl7cT1zW3BdO3U9dGhpcy5fZmluZFRyaWdnZXJDRShxKTtpZih1KXt1W3ZdKHIsdGhpcyx0cnVlKTt9ZWxzZXt0aGlzW3ZdKHEscik7fX19LGFsaWduOmZ1bmN0aW9uKHAsdyxzKXt2YXIgdj10aGlzLmNmZy5nZXRQcm9wZXJ0eSgiY29udGV4dCIpLHQ9dGhpcyxvLHEsdTtmdW5jdGlvbiByKHosQSl7dmFyIHk9bnVsbCx4PW51bGw7c3dpdGNoKHApe2Nhc2UgYi5UT1BfTEVGVDp5PUE7eD16O2JyZWFrO2Nhc2UgYi5UT1BfUklHSFQ6eT1BLXEub2Zmc2V0V2lkdGg7eD16O2JyZWFrO2Nhc2UgYi5CT1RUT01fTEVGVDp5PUE7eD16LXEub2Zmc2V0SGVpZ2h0O2JyZWFrO2Nhc2UgYi5CT1RUT01fUklHSFQ6eT1BLXEub2Zmc2V0V2lkdGg7eD16LXEub2Zmc2V0SGVpZ2h0O2JyZWFrO31pZih5IT09bnVsbCYmeCE9PW51bGwpe2lmKHMpe3krPXNbMF07eCs9c1sxXTt9dC5tb3ZlVG8oeSx4KTt9fWlmKHYpe289dlswXTtxPXRoaXMuZWxlbWVudDt0PXRoaXM7aWYoIXApe3A9dlsxXTt9aWYoIXcpe3c9dlsyXTt9aWYoIXMmJnZbNF0pe3M9dls0XTt9aWYocSYmbyl7dT1mLmdldFJlZ2lvbihvKTtzd2l0Y2godyl7Y2FzZSBiLlRPUF9MRUZUOnIodS50b3AsdS5sZWZ0KTticmVhaztjYXNlIGIuVE9QX1JJR0hUOnIodS50b3AsdS5yaWdodCk7YnJlYWs7Y2FzZSBiLkJPVFRPTV9MRUZUOnIodS5ib3R0b20sdS5sZWZ0KTticmVhaztjYXNlIGIuQk9UVE9NX1JJR0hUOnIodS5ib3R0b20sdS5yaWdodCk7YnJlYWs7fX19fSxlbmZvcmNlQ29uc3RyYWludHM6ZnVuY3Rpb24ocCxvLHEpe3ZhciBzPW9bMF07dmFyIHI9dGhpcy5nZXRDb25zdHJhaW5lZFhZKHNbMF0sc1sxXSk7dGhpcy5jZmcuc2V0UHJvcGVydHkoIngiLHJbMF0sdHJ1ZSk7dGhpcy5jZmcuc2V0UHJvcGVydHkoInkiLHJbMV0sdHJ1ZSk7dGhpcy5jZmcuc2V0UHJvcGVydHkoInh5IixyLHRydWUpO30sX2dldENvbnN0cmFpbmVkUG9zOmZ1bmN0aW9uKHkscCl7dmFyIHQ9dGhpcy5lbGVtZW50LHI9Yi5WSUVXUE9SVF9PRkZTRVQsQT0oeT09IngiKSx6PShBKT90Lm9mZnNldFdpZHRoOnQub2Zmc2V0SGVpZ2h0LHM9KEEpP2YuZ2V0Vmlld3BvcnRXaWR0aCgpOmYuZ2V0Vmlld3BvcnRIZWlnaHQoKSxEPShBKT9mLmdldERvY3VtZW50U2Nyb2xsTGVmdCgpOmYuZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKSxDPShBKT9iLlBSRVZFTlRfT1ZFUkxBUF9YOmIuUFJFVkVOVF9PVkVSTEFQX1ksbz10aGlzLmNmZy5nZXRQcm9wZXJ0eSgiY29udGV4dCIpLHU9KHorcjxzKSx3PXRoaXMuY2ZnLmdldFByb3BlcnR5KCJwcmV2ZW50Y29udGV4dG92ZXJsYXAiKSYmbyYmQ1sob1sxXStvWzJdKV0sdj1EK3IsQj1EK3Mtei1yLHE9cDtpZihwPHZ8fHA+Qil7aWYodyl7cT10aGlzLl9wcmV2ZW50T3ZlcmxhcCh5LG9bMF0seixzLEQpO31lbHNle2lmKHUpe2lmKHA8dil7cT12O31lbHNle2lmKHA+Qil7cT1CO319fWVsc2V7cT12O319fXJldHVybiBxO30sX3ByZXZlbnRPdmVybGFwOmZ1bmN0aW9uKHksdyx6LHUsQyl7dmFyIEE9KHk9PSJ4IiksdD1iLlZJRVdQT1JUX09GRlNFVCxzPXRoaXMscT0oKEEpP2YuZ2V0WCh3KTpmLmdldFkodykpLUMsbz0oQSk/dy5vZmZzZXRXaWR0aDp3Lm9mZnNldEhlaWdodCxwPXEtdCxyPSh1LShxK28pKS10LEQ9ZmFsc2Usdj1mdW5jdGlvbigpe3ZhciB4O2lmKChzLmNmZy5nZXRQcm9wZXJ0eSh5KS1DKT5xKXt4PShxLXopO31lbHNle3g9KHErbyk7fXMuY2ZnLnNldFByb3BlcnR5KHksKHgrQyksdHJ1ZSk7cmV0dXJuIHg7fSxCPWZ1bmN0aW9uKCl7dmFyIEU9KChzLmNmZy5nZXRQcm9wZXJ0eSh5KS1DKT5xKT9yOnAseDtpZih6PkUpe2lmKEQpe3YoKTt9ZWxzZXt2KCk7RD10cnVlO3g9QigpO319cmV0dXJuIHg7fTtCKCk7cmV0dXJuIHRoaXMuY2ZnLmdldFByb3BlcnR5KHkpO30sZ2V0Q29uc3RyYWluZWRYOmZ1bmN0aW9uKG8pe3JldHVybiB0aGlzLl9nZXRDb25zdHJhaW5lZFBvcygieCIsbyk7fSxnZXRDb25zdHJhaW5lZFk6ZnVuY3Rpb24obyl7cmV0dXJuIHRoaXMuX2dldENvbnN0cmFpbmVkUG9zKCJ5IixvKTt9LGdldENvbnN0cmFpbmVkWFk6ZnVuY3Rpb24obyxwKXtyZXR1cm5bdGhpcy5nZXRDb25zdHJhaW5lZFgobyksdGhpcy5nZXRDb25zdHJhaW5lZFkocCldO30sY2VudGVyOmZ1bmN0aW9uKCl7dmFyIHI9Yi5WSUVXUE9SVF9PRkZTRVQscz10aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGgscT10aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0LHA9Zi5nZXRWaWV3cG9ydFdpZHRoKCksdD1mLmdldFZpZXdwb3J0SGVpZ2h0KCksbyx1O2lmKHM8cCl7bz0ocC8yKS0ocy8yKStmLmdldERvY3VtZW50U2Nyb2xsTGVmdCgpO31lbHNle289citmLmdldERvY3VtZW50U2Nyb2xsTGVmdCgpO31pZihxPHQpe3U9KHQvMiktKHEvMikrZi5nZXREb2N1bWVudFNjcm9sbFRvcCgpO31lbHNle3U9citmLmdldERvY3VtZW50U2Nyb2xsVG9wKCk7fXRoaXMuY2ZnLnNldFByb3BlcnR5KCJ4eSIsW3BhcnNlSW50KG8sMTApLHBhcnNlSW50KHUsMTApXSk7dGhpcy5jZmcucmVmaXJlRXZlbnQoImlmcmFtZSIpO2lmKGsud2Via2l0KXt0aGlzLmZvcmNlQ29udGFpbmVyUmVkcmF3KCk7fX0sc3luY1Bvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIG89Zi5nZXRYWSh0aGlzLmVsZW1lbnQpOwp0aGlzLmNmZy5zZXRQcm9wZXJ0eSgieCIsb1swXSx0cnVlKTt0aGlzLmNmZy5zZXRQcm9wZXJ0eSgieSIsb1sxXSx0cnVlKTt0aGlzLmNmZy5zZXRQcm9wZXJ0eSgieHkiLG8sdHJ1ZSk7fSxvbkRvbVJlc2l6ZTpmdW5jdGlvbihxLHApe3ZhciBvPXRoaXM7Yi5zdXBlcmNsYXNzLm9uRG9tUmVzaXplLmNhbGwodGhpcyxxLHApO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtvLnN5bmNQb3NpdGlvbigpO28uY2ZnLnJlZmlyZUV2ZW50KCJpZnJhbWUiKTtvLmNmZy5yZWZpcmVFdmVudCgiY29udGV4dCIpO30sMCk7fSxfZ2V0Q29tcHV0ZWRIZWlnaHQ6KGZ1bmN0aW9uKCl7aWYoZG9jdW1lbnQuZGVmYXVsdFZpZXcmJmRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUpe3JldHVybiBmdW5jdGlvbihwKXt2YXIgbz1udWxsO2lmKHAub3duZXJEb2N1bWVudCYmcC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KXt2YXIgcT1wLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShwLCIiKTtpZihxKXtvPXBhcnNlSW50KHEuaGVpZ2h0LDEwKTt9fXJldHVybihpLmlzTnVtYmVyKG8pKT9vOm51bGw7fTt9ZWxzZXtyZXR1cm4gZnVuY3Rpb24ocCl7dmFyIG89bnVsbDtpZihwLnN0eWxlLnBpeGVsSGVpZ2h0KXtvPXAuc3R5bGUucGl4ZWxIZWlnaHQ7fXJldHVybihpLmlzTnVtYmVyKG8pKT9vOm51bGw7fTt9fSkoKSxfdmFsaWRhdGVBdXRvRmlsbEhlaWdodDpmdW5jdGlvbihvKXtyZXR1cm4oIW8pfHwoaS5pc1N0cmluZyhvKSYmYi5TVERfTU9EX1JFLnRlc3QobykpO30sX2F1dG9GaWxsT25IZWlnaHRDaGFuZ2U6ZnVuY3Rpb24ocixwLHEpe3ZhciBvPXRoaXMuY2ZnLmdldFByb3BlcnR5KCJoZWlnaHQiKTtpZigobyYmbyE9PSJhdXRvIil8fChvPT09MCkpe3RoaXMuZmlsbEhlaWdodChxKTt9fSxfZ2V0UHJlY2lzZUhlaWdodDpmdW5jdGlvbihwKXt2YXIgbz1wLm9mZnNldEhlaWdodDtpZihwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCl7dmFyIHE9cC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtvPXEuYm90dG9tLXEudG9wO31yZXR1cm4gbzt9LGZpbGxIZWlnaHQ6ZnVuY3Rpb24ocil7aWYocil7dmFyIHA9dGhpcy5pbm5lckVsZW1lbnR8fHRoaXMuZWxlbWVudCxvPVt0aGlzLmhlYWRlcix0aGlzLmJvZHksdGhpcy5mb290ZXJdLHYsdz0wLHg9MCx0PTAscT1mYWxzZTtmb3IodmFyIHU9MCxzPW8ubGVuZ3RoO3U8czt1Kyspe3Y9b1t1XTtpZih2KXtpZihyIT09dil7eCs9dGhpcy5fZ2V0UHJlY2lzZUhlaWdodCh2KTt9ZWxzZXtxPXRydWU7fX19aWYocSl7aWYoay5pZXx8ay5vcGVyYSl7Zi5zZXRTdHlsZShyLCJoZWlnaHQiLDArInB4Iik7fXc9dGhpcy5fZ2V0Q29tcHV0ZWRIZWlnaHQocCk7aWYodz09PW51bGwpe2YuYWRkQ2xhc3MocCwieXVpLW92ZXJyaWRlLXBhZGRpbmciKTt3PXAuY2xpZW50SGVpZ2h0O2YucmVtb3ZlQ2xhc3MocCwieXVpLW92ZXJyaWRlLXBhZGRpbmciKTt9dD1NYXRoLm1heCh3LXgsMCk7Zi5zZXRTdHlsZShyLCJoZWlnaHQiLHQrInB4Iik7aWYoci5vZmZzZXRIZWlnaHQhPXQpe3Q9TWF0aC5tYXgodC0oci5vZmZzZXRIZWlnaHQtdCksMCk7fWYuc2V0U3R5bGUociwiaGVpZ2h0Iix0KyJweCIpO319fSxicmluZ1RvVG9wOmZ1bmN0aW9uKCl7dmFyIHM9W10scj10aGlzLmVsZW1lbnQ7ZnVuY3Rpb24gdih6LHkpe3ZhciBCPWYuZ2V0U3R5bGUoeiwiekluZGV4IiksQT1mLmdldFN0eWxlKHksInpJbmRleCIpLHg9KCFCfHxpc05hTihCKSk/MDpwYXJzZUludChCLDEwKSx3PSghQXx8aXNOYU4oQSkpPzA6cGFyc2VJbnQoQSwxMCk7aWYoeD53KXtyZXR1cm4gLTE7fWVsc2V7aWYoeDx3KXtyZXR1cm4gMTt9ZWxzZXtyZXR1cm4gMDt9fX1mdW5jdGlvbiBxKHkpe3ZhciB4PWYuaGFzQ2xhc3MoeSxiLkNTU19PVkVSTEFZKSx3PVlBSE9PLndpZGdldC5QYW5lbDtpZih4JiYhZi5pc0FuY2VzdG9yKHIseSkpe2lmKHcmJmYuaGFzQ2xhc3MoeSx3LkNTU19QQU5FTCkpe3Nbcy5sZW5ndGhdPXkucGFyZW50Tm9kZTt9ZWxzZXtzW3MubGVuZ3RoXT15O319fWYuZ2V0RWxlbWVudHNCeShxLCJkaXYiLGRvY3VtZW50LmJvZHkpO3Muc29ydCh2KTt2YXIgbz1zWzBdLHU7aWYobyl7dT1mLmdldFN0eWxlKG8sInpJbmRleCIpO2lmKCFpc05hTih1KSl7dmFyIHQ9ZmFsc2U7aWYobyE9cil7dD10cnVlO31lbHNle2lmKHMubGVuZ3RoPjEpe3ZhciBwPWYuZ2V0U3R5bGUoc1sxXSwiekluZGV4Iik7aWYoIWlzTmFOKHApJiYodT09cCkpe3Q9dHJ1ZTt9fX1pZih0KXt0aGlzLmNmZy5zZXRQcm9wZXJ0eSgiemluZGV4IiwocGFyc2VJbnQodSwxMCkrMikpO319fX0sZGVzdHJveTpmdW5jdGlvbihvKXtpZih0aGlzLmlmcmFtZSl7dGhpcy5pZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmlmcmFtZSk7fXRoaXMuaWZyYW1lPW51bGw7Yi53aW5kb3dSZXNpemVFdmVudC51bnN1YnNjcmliZSh0aGlzLmRvQ2VudGVyT25ET01FdmVudCx0aGlzKTtiLndpbmRvd1Njcm9sbEV2ZW50LnVuc3Vic2NyaWJlKHRoaXMuZG9DZW50ZXJPbkRPTUV2ZW50LHRoaXMpO2cudGV4dFJlc2l6ZUV2ZW50LnVuc3Vic2NyaWJlKHRoaXMuX2F1dG9GaWxsT25IZWlnaHRDaGFuZ2UpO2lmKHRoaXMuX2NvbnRleHRUcmlnZ2Vycyl7dGhpcy5fcHJvY2Vzc1RyaWdnZXJzKHRoaXMuX2NvbnRleHRUcmlnZ2VycyxlLHRoaXMuX2FsaWduT25UcmlnZ2VyKTt9Yi5zdXBlcmNsYXNzLmRlc3Ryb3kuY2FsbCh0aGlzLG8pO30sZm9yY2VDb250YWluZXJSZWRyYXc6ZnVuY3Rpb24oKXt2YXIgbz10aGlzO2YuYWRkQ2xhc3Moby5lbGVtZW50LCJ5dWktZm9yY2UtcmVkcmF3Iik7c2V0VGltZW91dChmdW5jdGlvbigpe2YucmVtb3ZlQ2xhc3Moby5lbGVtZW50LCJ5dWktZm9yY2UtcmVkcmF3Iik7fSwwKTt9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIk92ZXJsYXkgIit0aGlzLmlkO319KTt9KCkpOyhmdW5jdGlvbigpe1lBSE9PLndpZGdldC5PdmVybGF5TWFuYWdlcj1mdW5jdGlvbihnKXt0aGlzLmluaXQoZyk7fTt2YXIgZD1ZQUhPTy53aWRnZXQuT3ZlcmxheSxjPVlBSE9PLnV0aWwuRXZlbnQsZT1ZQUhPTy51dGlsLkRvbSxiPVlBSE9PLnV0aWwuQ29uZmlnLGY9WUFIT08udXRpbC5DdXN0b21FdmVudCxhPVlBSE9PLndpZGdldC5PdmVybGF5TWFuYWdlcjthLkNTU19GT0NVU0VEPSJmb2N1c2VkIjthLnByb3RvdHlwZT17Y29uc3RydWN0b3I6YSxvdmVybGF5czpudWxsLGluaXREZWZhdWx0Q29uZmlnOmZ1bmN0aW9uKCl7dGhpcy5jZmcuYWRkUHJvcGVydHkoIm92ZXJsYXlzIix7c3VwcHJlc3NFdmVudDp0cnVlfSk7dGhpcy5jZmcuYWRkUHJvcGVydHkoImZvY3VzZXZlbnQiLHt2YWx1ZToibW91c2Vkb3duIn0pO30saW5pdDpmdW5jdGlvbihpKXt0aGlzLmNmZz1uZXcgYih0aGlzKTt0aGlzLmluaXREZWZhdWx0Q29uZmlnKCk7aWYoaSl7dGhpcy5jZmcuYXBwbHlDb25maWcoaSx0cnVlKTt9dGhpcy5jZmcuZmlyZVF1ZXVlKCk7dmFyIGg9bnVsbDt0aGlzLmdldEFjdGl2ZT1mdW5jdGlvbigpe3JldHVybiBoO307dGhpcy5mb2N1cz1mdW5jdGlvbihqKXt2YXIgaz10aGlzLmZpbmQoaik7aWYoayl7ay5mb2N1cygpO319O3RoaXMucmVtb3ZlPWZ1bmN0aW9uKGspe3ZhciBtPXRoaXMuZmluZChrKSxqO2lmKG0pe2lmKGg9PW0pe2g9bnVsbDt9dmFyIGw9KG0uZWxlbWVudD09PW51bGwmJm0uY2ZnPT09bnVsbCk/dHJ1ZTpmYWxzZTtpZighbCl7aj1lLmdldFN0eWxlKG0uZWxlbWVudCwiekluZGV4Iik7bS5jZmcuc2V0UHJvcGVydHkoInpJbmRleCIsLTEwMDAsdHJ1ZSk7fXRoaXMub3ZlcmxheXMuc29ydCh0aGlzLmNvbXBhcmVaSW5kZXhEZXNjKTt0aGlzLm92ZXJsYXlzPXRoaXMub3ZlcmxheXMuc2xpY2UoMCwodGhpcy5vdmVybGF5cy5sZW5ndGgtMSkpO20uaGlkZUV2ZW50LnVuc3Vic2NyaWJlKG0uYmx1cik7bS5kZXN0cm95RXZlbnQudW5zdWJzY3JpYmUodGhpcy5fb25PdmVybGF5RGVzdHJveSxtKTttLmZvY3VzRXZlbnQudW5zdWJzY3JpYmUodGhpcy5fb25PdmVybGF5Rm9jdXNIYW5kbGVyLG0pO20uYmx1ckV2ZW50LnVuc3Vic2NyaWJlKHRoaXMuX29uT3ZlcmxheUJsdXJIYW5kbGVyLG0pO2lmKCFsKXtjLnJlbW92ZUxpc3RlbmVyKG0uZWxlbWVudCx0aGlzLmNmZy5nZXRQcm9wZXJ0eSgiZm9jdXNldmVudCIpLHRoaXMuX29uT3ZlcmxheUVsZW1lbnRGb2N1cyk7bS5jZmcuc2V0UHJvcGVydHkoInpJbmRleCIsaix0cnVlKTttLmNmZy5zZXRQcm9wZXJ0eSgibWFuYWdlciIsbnVsbCk7fWlmKG0uZm9jdXNFdmVudC5fbWFuYWdlZCl7bS5mb2N1c0V2ZW50PW51bGw7fWlmKG0uYmx1ckV2ZW50Ll9tYW5hZ2VkKXttLmJsdXJFdmVudD1udWxsO31pZihtLmZvY3VzLl9tYW5hZ2VkKXttLmZvY3VzPW51bGw7fWlmKG0uYmx1ci5fbWFuYWdlZCl7bS5ibHVyPW51bGw7fX19O3RoaXMuYmx1ckFsbD1mdW5jdGlvbigpe3ZhciBrPXRoaXMub3ZlcmxheXMubGVuZ3RoLGo7aWYoaz4wKXtqPWstMTtkb3t0aGlzLm92ZXJsYXlzW2pdLmJsdXIoKTt9d2hpbGUoai0tKTt9fTt0aGlzLl9tYW5hZ2VCbHVyPWZ1bmN0aW9uKGope3ZhciBrPWZhbHNlO2lmKGg9PWope2UucmVtb3ZlQ2xhc3MoaC5lbGVtZW50LGEuQ1NTX0ZPQ1VTRUQpO2g9bnVsbDtrPXRydWU7fXJldHVybiBrO307dGhpcy5fbWFuYWdlRm9jdXM9ZnVuY3Rpb24oail7dmFyIGs9ZmFsc2U7aWYoaCE9ail7aWYoaCl7aC5ibHVyKCk7fWg9ajt0aGlzLmJyaW5nVG9Ub3AoaCk7ZS5hZGRDbGFzcyhoLmVsZW1lbnQsYS5DU1NfRk9DVVNFRCk7az10cnVlO31yZXR1cm4gazt9O3ZhciBnPXRoaXMuY2ZnLmdldFByb3BlcnR5KCJvdmVybGF5cyIpO2lmKCF0aGlzLm92ZXJsYXlzKXt0aGlzLm92ZXJsYXlzPVtdO31pZihnKXt0aGlzLnJlZ2lzdGVyKGcpO3RoaXMub3ZlcmxheXMuc29ydCh0aGlzLmNvbXBhcmVaSW5kZXhEZXNjKTt9fSxfb25PdmVybGF5RWxlbWVudEZvY3VzOmZ1bmN0aW9uKGkpe3ZhciBnPWMuZ2V0VGFyZ2V0KGkpLGg9dGhpcy5jbG9zZTtpZihoJiYoZz09aHx8ZS5pc0FuY2VzdG9yKGgsZykpKXt0aGlzLmJsdXIoKTt9ZWxzZXt0aGlzLmZvY3VzKCk7fX0sX29uT3ZlcmxheURlc3Ryb3k6ZnVuY3Rpb24oaCxnLGkpe3RoaXMucmVtb3ZlKGkpO30sX29uT3ZlcmxheUZvY3VzSGFuZGxlcjpmdW5jdGlvbihoLGcsaSl7dGhpcy5fbWFuYWdlRm9jdXMoaSk7fSxfb25PdmVybGF5Qmx1ckhhbmRsZXI6ZnVuY3Rpb24oaCxnLGkpe3RoaXMuX21hbmFnZUJsdXIoaSk7fSxfYmluZEZvY3VzOmZ1bmN0aW9uKGcpe3ZhciBoPXRoaXM7aWYoIWcuZm9jdXNFdmVudCl7Zy5mb2N1c0V2ZW50PWcuY3JlYXRlRXZlbnQoImZvY3VzIik7Zy5mb2N1c0V2ZW50LnNpZ25hdHVyZT1mLkxJU1Q7Zy5mb2N1c0V2ZW50Ll9tYW5hZ2VkPXRydWU7fWVsc2V7Zy5mb2N1c0V2ZW50LnN1YnNjcmliZShoLl9vbk92ZXJsYXlGb2N1c0hhbmRsZXIsZyxoKTt9aWYoIWcuZm9jdXMpe2Mub24oZy5lbGVtZW50LGguY2ZnLmdldFByb3BlcnR5KCJmb2N1c2V2ZW50IiksaC5fb25PdmVybGF5RWxlbWVudEZvY3VzLG51bGwsZyk7Zy5mb2N1cz1mdW5jdGlvbigpe2lmKGguX21hbmFnZUZvY3VzKHRoaXMpKXtpZih0aGlzLmNmZy5nZXRQcm9wZXJ0eSgidmlzaWJsZSIpJiZ0aGlzLmZvY3VzRmlyc3Qpe3RoaXMuZm9jdXNGaXJzdCgpO310aGlzLmZvY3VzRXZlbnQuZmlyZSgpO319O2cuZm9jdXMuX21hbmFnZWQ9dHJ1ZTt9fSxfYmluZEJsdXI6ZnVuY3Rpb24oZyl7dmFyIGg9dGhpcztpZighZy5ibHVyRXZlbnQpe2cuYmx1ckV2ZW50PWcuY3JlYXRlRXZlbnQoImJsdXIiKTtnLmJsdXJFdmVudC5zaWduYXR1cmU9Zi5MSVNUO2cuZm9jdXNFdmVudC5fbWFuYWdlZD10cnVlO31lbHNle2cuYmx1ckV2ZW50LnN1YnNjcmliZShoLl9vbk92ZXJsYXlCbHVySGFuZGxlcixnLGgpO31pZighZy5ibHVyKXtnLmJsdXI9ZnVuY3Rpb24oKXtpZihoLl9tYW5hZ2VCbHVyKHRoaXMpKXt0aGlzLmJsdXJFdmVudC5maXJlKCk7fX07Zy5ibHVyLl9tYW5hZ2VkPXRydWU7fWcuaGlkZUV2ZW50LnN1YnNjcmliZShnLmJsdXIpOwp9LF9iaW5kRGVzdHJveTpmdW5jdGlvbihnKXt2YXIgaD10aGlzO2cuZGVzdHJveUV2ZW50LnN1YnNjcmliZShoLl9vbk92ZXJsYXlEZXN0cm95LGcsaCk7fSxfc3luY1pJbmRleDpmdW5jdGlvbihnKXt2YXIgaD1lLmdldFN0eWxlKGcuZWxlbWVudCwiekluZGV4Iik7aWYoIWlzTmFOKGgpKXtnLmNmZy5zZXRQcm9wZXJ0eSgiekluZGV4IixwYXJzZUludChoLDEwKSk7fWVsc2V7Zy5jZmcuc2V0UHJvcGVydHkoInpJbmRleCIsMCk7fX0scmVnaXN0ZXI6ZnVuY3Rpb24oZyl7dmFyIGs9ZmFsc2UsaCxqO2lmKGcgaW5zdGFuY2VvZiBkKXtnLmNmZy5hZGRQcm9wZXJ0eSgibWFuYWdlciIse3ZhbHVlOnRoaXN9KTt0aGlzLl9iaW5kRm9jdXMoZyk7dGhpcy5fYmluZEJsdXIoZyk7dGhpcy5fYmluZERlc3Ryb3koZyk7dGhpcy5fc3luY1pJbmRleChnKTt0aGlzLm92ZXJsYXlzLnB1c2goZyk7dGhpcy5icmluZ1RvVG9wKGcpO2s9dHJ1ZTt9ZWxzZXtpZihnIGluc3RhbmNlb2YgQXJyYXkpe2ZvcihoPTAsaj1nLmxlbmd0aDtoPGo7aCsrKXtrPXRoaXMucmVnaXN0ZXIoZ1toXSl8fGs7fX19cmV0dXJuIGs7fSxicmluZ1RvVG9wOmZ1bmN0aW9uKG0pe3ZhciBpPXRoaXMuZmluZChtKSxsLGcsajtpZihpKXtqPXRoaXMub3ZlcmxheXM7ai5zb3J0KHRoaXMuY29tcGFyZVpJbmRleERlc2MpO2c9alswXTtpZihnKXtsPWUuZ2V0U3R5bGUoZy5lbGVtZW50LCJ6SW5kZXgiKTtpZighaXNOYU4obCkpe3ZhciBrPWZhbHNlO2lmKGchPT1pKXtrPXRydWU7fWVsc2V7aWYoai5sZW5ndGg+MSl7dmFyIGg9ZS5nZXRTdHlsZShqWzFdLmVsZW1lbnQsInpJbmRleCIpO2lmKCFpc05hTihoKSYmKGw9PWgpKXtrPXRydWU7fX19aWYoayl7aS5jZmcuc2V0UHJvcGVydHkoInppbmRleCIsKHBhcnNlSW50KGwsMTApKzIpKTt9fWouc29ydCh0aGlzLmNvbXBhcmVaSW5kZXhEZXNjKTt9fX0sZmluZDpmdW5jdGlvbihnKXt2YXIgbD1nIGluc3RhbmNlb2YgZCxqPXRoaXMub3ZlcmxheXMscD1qLmxlbmd0aCxrPW51bGwsbSxoO2lmKGx8fHR5cGVvZiBnPT0ic3RyaW5nIil7Zm9yKGg9cC0xO2g+PTA7aC0tKXttPWpbaF07aWYoKGwmJihtPT09ZykpfHwobS5pZD09Zykpe2s9bTticmVhazt9fX1yZXR1cm4gazt9LGNvbXBhcmVaSW5kZXhEZXNjOmZ1bmN0aW9uKGosaSl7dmFyIGg9KGouY2ZnKT9qLmNmZy5nZXRQcm9wZXJ0eSgiekluZGV4Iik6bnVsbCxnPShpLmNmZyk/aS5jZmcuZ2V0UHJvcGVydHkoInpJbmRleCIpOm51bGw7aWYoaD09PW51bGwmJmc9PT1udWxsKXtyZXR1cm4gMDt9ZWxzZXtpZihoPT09bnVsbCl7cmV0dXJuIDE7fWVsc2V7aWYoZz09PW51bGwpe3JldHVybiAtMTt9ZWxzZXtpZihoPmcpe3JldHVybiAtMTt9ZWxzZXtpZihoPGcpe3JldHVybiAxO31lbHNle3JldHVybiAwO319fX19fSxzaG93QWxsOmZ1bmN0aW9uKCl7dmFyIGg9dGhpcy5vdmVybGF5cyxqPWgubGVuZ3RoLGc7Zm9yKGc9ai0xO2c+PTA7Zy0tKXtoW2ddLnNob3coKTt9fSxoaWRlQWxsOmZ1bmN0aW9uKCl7dmFyIGg9dGhpcy5vdmVybGF5cyxqPWgubGVuZ3RoLGc7Zm9yKGc9ai0xO2c+PTA7Zy0tKXtoW2ddLmhpZGUoKTt9fSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJPdmVybGF5TWFuYWdlciI7fX07fSgpKTsoZnVuY3Rpb24oKXtZQUhPTy53aWRnZXQuVG9vbHRpcD1mdW5jdGlvbihwLG8pe1lBSE9PLndpZGdldC5Ub29sdGlwLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLHAsbyk7fTt2YXIgZT1ZQUhPTy5sYW5nLG49WUFIT08udXRpbC5FdmVudCxtPVlBSE9PLnV0aWwuQ3VzdG9tRXZlbnQsYz1ZQUhPTy51dGlsLkRvbSxqPVlBSE9PLndpZGdldC5Ub29sdGlwLGg9WUFIT08uZW52LnVhLGc9KGguaWUmJihoLmllPD02fHxkb2N1bWVudC5jb21wYXRNb2RlPT0iQmFja0NvbXBhdCIpKSxmLGk9eyJQUkVWRU5UX09WRVJMQVAiOntrZXk6InByZXZlbnRvdmVybGFwIix2YWx1ZTp0cnVlLHZhbGlkYXRvcjplLmlzQm9vbGVhbixzdXBlcmNlZGVzOlsieCIsInkiLCJ4eSJdfSwiU0hPV19ERUxBWSI6e2tleToic2hvd2RlbGF5Iix2YWx1ZToyMDAsdmFsaWRhdG9yOmUuaXNOdW1iZXJ9LCJBVVRPX0RJU01JU1NfREVMQVkiOntrZXk6ImF1dG9kaXNtaXNzZGVsYXkiLHZhbHVlOjUwMDAsdmFsaWRhdG9yOmUuaXNOdW1iZXJ9LCJISURFX0RFTEFZIjp7a2V5OiJoaWRlZGVsYXkiLHZhbHVlOjI1MCx2YWxpZGF0b3I6ZS5pc051bWJlcn0sIlRFWFQiOntrZXk6InRleHQiLHN1cHByZXNzRXZlbnQ6dHJ1ZX0sIkNPTlRBSU5FUiI6e2tleToiY29udGFpbmVyIn0sIkRJU0FCTEVEIjp7a2V5OiJkaXNhYmxlZCIsdmFsdWU6ZmFsc2Usc3VwcHJlc3NFdmVudDp0cnVlfSwiWFlfT0ZGU0VUIjp7a2V5OiJ4eW9mZnNldCIsdmFsdWU6WzAsMjVdLHN1cHByZXNzRXZlbnQ6dHJ1ZX19LGE9eyJDT05URVhUX01PVVNFX09WRVIiOiJjb250ZXh0TW91c2VPdmVyIiwiQ09OVEVYVF9NT1VTRV9PVVQiOiJjb250ZXh0TW91c2VPdXQiLCJDT05URVhUX1RSSUdHRVIiOiJjb250ZXh0VHJpZ2dlciJ9O2ouQ1NTX1RPT0xUSVA9Inl1aS10dCI7ZnVuY3Rpb24gayhxLG8pe3ZhciBwPXRoaXMuY2ZnLHI9cC5nZXRQcm9wZXJ0eSgid2lkdGgiKTtpZihyPT1vKXtwLnNldFByb3BlcnR5KCJ3aWR0aCIscSk7fX1mdW5jdGlvbiBkKHAsbyl7aWYoIl9vcmlnaW5hbFdpZHRoIiBpbiB0aGlzKXtrLmNhbGwodGhpcyx0aGlzLl9vcmlnaW5hbFdpZHRoLHRoaXMuX2ZvcmNlZFdpZHRoKTt9dmFyIHE9ZG9jdW1lbnQuYm9keSx1PXRoaXMuY2ZnLHQ9dS5nZXRQcm9wZXJ0eSgid2lkdGgiKSxyLHM7aWYoKCF0fHx0PT0iYXV0byIpJiYodS5nZXRQcm9wZXJ0eSgiY29udGFpbmVyIikhPXF8fHUuZ2V0UHJvcGVydHkoIngiKT49Yy5nZXRWaWV3cG9ydFdpZHRoKCl8fHUuZ2V0UHJvcGVydHkoInkiKT49Yy5nZXRWaWV3cG9ydEhlaWdodCgpKSl7cz10aGlzLmVsZW1lbnQuY2xvbmVOb2RlKHRydWUpO3Muc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjtzLnN0eWxlLnRvcD0iMHB4IjtzLnN0eWxlLmxlZnQ9IjBweCI7cS5hcHBlbmRDaGlsZChzKTtyPShzLm9mZnNldFdpZHRoKyJweCIpO3EucmVtb3ZlQ2hpbGQocyk7cz1udWxsO3Uuc2V0UHJvcGVydHkoIndpZHRoIixyKTt1LnJlZmlyZUV2ZW50KCJ4eSIpO3RoaXMuX29yaWdpbmFsV2lkdGg9dHx8IiI7dGhpcy5fZm9yY2VkV2lkdGg9cjt9fWZ1bmN0aW9uIGIocCxvLHEpe3RoaXMucmVuZGVyKHEpO31mdW5jdGlvbiBsKCl7bi5vbkRPTVJlYWR5KGIsdGhpcy5jZmcuZ2V0UHJvcGVydHkoImNvbnRhaW5lciIpLHRoaXMpO31ZQUhPTy5leHRlbmQoaixZQUhPTy53aWRnZXQuT3ZlcmxheSx7aW5pdDpmdW5jdGlvbihwLG8pe2ouc3VwZXJjbGFzcy5pbml0LmNhbGwodGhpcyxwKTt0aGlzLmJlZm9yZUluaXRFdmVudC5maXJlKGopO2MuYWRkQ2xhc3ModGhpcy5lbGVtZW50LGouQ1NTX1RPT0xUSVApO2lmKG8pe3RoaXMuY2ZnLmFwcGx5Q29uZmlnKG8sdHJ1ZSk7fXRoaXMuY2ZnLnF1ZXVlUHJvcGVydHkoInZpc2libGUiLGZhbHNlKTt0aGlzLmNmZy5xdWV1ZVByb3BlcnR5KCJjb25zdHJhaW50b3ZpZXdwb3J0Iix0cnVlKTt0aGlzLnNldEJvZHkoIiIpO3RoaXMuc3Vic2NyaWJlKCJjaGFuZ2VDb250ZW50IixkKTt0aGlzLnN1YnNjcmliZSgiaW5pdCIsbCk7dGhpcy5zdWJzY3JpYmUoInJlbmRlciIsdGhpcy5vblJlbmRlcik7dGhpcy5pbml0RXZlbnQuZmlyZShqKTt9LGluaXRFdmVudHM6ZnVuY3Rpb24oKXtqLnN1cGVyY2xhc3MuaW5pdEV2ZW50cy5jYWxsKHRoaXMpO3ZhciBvPW0uTElTVDt0aGlzLmNvbnRleHRNb3VzZU92ZXJFdmVudD10aGlzLmNyZWF0ZUV2ZW50KGEuQ09OVEVYVF9NT1VTRV9PVkVSKTt0aGlzLmNvbnRleHRNb3VzZU92ZXJFdmVudC5zaWduYXR1cmU9bzt0aGlzLmNvbnRleHRNb3VzZU91dEV2ZW50PXRoaXMuY3JlYXRlRXZlbnQoYS5DT05URVhUX01PVVNFX09VVCk7dGhpcy5jb250ZXh0TW91c2VPdXRFdmVudC5zaWduYXR1cmU9bzt0aGlzLmNvbnRleHRUcmlnZ2VyRXZlbnQ9dGhpcy5jcmVhdGVFdmVudChhLkNPTlRFWFRfVFJJR0dFUik7dGhpcy5jb250ZXh0VHJpZ2dlckV2ZW50LnNpZ25hdHVyZT1vO30saW5pdERlZmF1bHRDb25maWc6ZnVuY3Rpb24oKXtqLnN1cGVyY2xhc3MuaW5pdERlZmF1bHRDb25maWcuY2FsbCh0aGlzKTt0aGlzLmNmZy5hZGRQcm9wZXJ0eShpLlBSRVZFTlRfT1ZFUkxBUC5rZXkse3ZhbHVlOmkuUFJFVkVOVF9PVkVSTEFQLnZhbHVlLHZhbGlkYXRvcjppLlBSRVZFTlRfT1ZFUkxBUC52YWxpZGF0b3Isc3VwZXJjZWRlczppLlBSRVZFTlRfT1ZFUkxBUC5zdXBlcmNlZGVzfSk7dGhpcy5jZmcuYWRkUHJvcGVydHkoaS5TSE9XX0RFTEFZLmtleSx7aGFuZGxlcjp0aGlzLmNvbmZpZ1Nob3dEZWxheSx2YWx1ZToyMDAsdmFsaWRhdG9yOmkuU0hPV19ERUxBWS52YWxpZGF0b3J9KTt0aGlzLmNmZy5hZGRQcm9wZXJ0eShpLkFVVE9fRElTTUlTU19ERUxBWS5rZXkse2hhbmRsZXI6dGhpcy5jb25maWdBdXRvRGlzbWlzc0RlbGF5LHZhbHVlOmkuQVVUT19ESVNNSVNTX0RFTEFZLnZhbHVlLHZhbGlkYXRvcjppLkFVVE9fRElTTUlTU19ERUxBWS52YWxpZGF0b3J9KTt0aGlzLmNmZy5hZGRQcm9wZXJ0eShpLkhJREVfREVMQVkua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnSGlkZURlbGF5LHZhbHVlOmkuSElERV9ERUxBWS52YWx1ZSx2YWxpZGF0b3I6aS5ISURFX0RFTEFZLnZhbGlkYXRvcn0pO3RoaXMuY2ZnLmFkZFByb3BlcnR5KGkuVEVYVC5rZXkse2hhbmRsZXI6dGhpcy5jb25maWdUZXh0LHN1cHByZXNzRXZlbnQ6aS5URVhULnN1cHByZXNzRXZlbnR9KTt0aGlzLmNmZy5hZGRQcm9wZXJ0eShpLkNPTlRBSU5FUi5rZXkse2hhbmRsZXI6dGhpcy5jb25maWdDb250YWluZXIsdmFsdWU6ZG9jdW1lbnQuYm9keX0pO3RoaXMuY2ZnLmFkZFByb3BlcnR5KGkuRElTQUJMRUQua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnQ29udGFpbmVyLHZhbHVlOmkuRElTQUJMRUQudmFsdWUsc3VwcmVzc0V2ZW50OmkuRElTQUJMRUQuc3VwcHJlc3NFdmVudH0pO3RoaXMuY2ZnLmFkZFByb3BlcnR5KGkuWFlfT0ZGU0VULmtleSx7dmFsdWU6aS5YWV9PRkZTRVQudmFsdWUuY29uY2F0KCksc3VwcmVzc0V2ZW50OmkuWFlfT0ZGU0VULnN1cHByZXNzRXZlbnR9KTt9LGNvbmZpZ1RleHQ6ZnVuY3Rpb24ocCxvLHEpe3ZhciByPW9bMF07aWYocil7dGhpcy5zZXRCb2R5KHIpO319LGNvbmZpZ0NvbnRhaW5lcjpmdW5jdGlvbihxLHAscil7dmFyIG89cFswXTtpZih0eXBlb2Ygbz09InN0cmluZyIpe3RoaXMuY2ZnLnNldFByb3BlcnR5KCJjb250YWluZXIiLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG8pLHRydWUpO319LF9yZW1vdmVFdmVudExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciByPXRoaXMuX2NvbnRleHQsbyxxLHA7aWYocil7bz1yLmxlbmd0aDtpZihvPjApe3A9by0xO2Rve3E9cltwXTtuLnJlbW92ZUxpc3RlbmVyKHEsIm1vdXNlb3ZlciIsdGhpcy5vbkNvbnRleHRNb3VzZU92ZXIpO24ucmVtb3ZlTGlzdGVuZXIocSwibW91c2Vtb3ZlIix0aGlzLm9uQ29udGV4dE1vdXNlTW92ZSk7bi5yZW1vdmVMaXN0ZW5lcihxLCJtb3VzZW91dCIsdGhpcy5vbkNvbnRleHRNb3VzZU91dCk7fXdoaWxlKHAtLSk7fX19LGNvbmZpZ0NvbnRleHQ6ZnVuY3Rpb24odCxwLHUpe3ZhciBzPXBbMF0sdixvLHIscTtpZihzKXtpZighKHMgaW5zdGFuY2VvZiBBcnJheSkpe2lmKHR5cGVvZiBzPT0ic3RyaW5nIil7dGhpcy5jZmcuc2V0UHJvcGVydHkoImNvbnRleHQiLFtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzKV0sdHJ1ZSk7fWVsc2V7dGhpcy5jZmcuc2V0UHJvcGVydHkoImNvbnRleHQiLFtzXSx0cnVlKTt9cz10aGlzLmNmZy5nZXRQcm9wZXJ0eSgiY29udGV4dCIpO310aGlzLl9yZW1vdmVFdmVudExpc3RlbmVycygpO3RoaXMuX2NvbnRleHQ9czt2PXRoaXMuX2NvbnRleHQ7aWYodil7bz12Lmxlbmd0aDtpZihvPjApe3E9by0xO2Rve3I9dltxXTtuLm9uKHIsIm1vdXNlb3ZlciIsdGhpcy5vbkNvbnRleHRNb3VzZU92ZXIsdGhpcyk7Cm4ub24ociwibW91c2Vtb3ZlIix0aGlzLm9uQ29udGV4dE1vdXNlTW92ZSx0aGlzKTtuLm9uKHIsIm1vdXNlb3V0Iix0aGlzLm9uQ29udGV4dE1vdXNlT3V0LHRoaXMpO313aGlsZShxLS0pO319fX0sb25Db250ZXh0TW91c2VNb3ZlOmZ1bmN0aW9uKHAsbyl7by5wYWdlWD1uLmdldFBhZ2VYKHApO28ucGFnZVk9bi5nZXRQYWdlWShwKTt9LG9uQ29udGV4dE1vdXNlT3ZlcjpmdW5jdGlvbihxLHApe3ZhciBvPXRoaXM7aWYoby50aXRsZSl7cC5fdGVtcFRpdGxlPW8udGl0bGU7by50aXRsZT0iIjt9aWYocC5maXJlRXZlbnQoImNvbnRleHRNb3VzZU92ZXIiLG8scSkhPT1mYWxzZSYmIXAuY2ZnLmdldFByb3BlcnR5KCJkaXNhYmxlZCIpKXtpZihwLmhpZGVQcm9jSWQpe2NsZWFyVGltZW91dChwLmhpZGVQcm9jSWQpO3AuaGlkZVByb2NJZD1udWxsO31uLm9uKG8sIm1vdXNlbW92ZSIscC5vbkNvbnRleHRNb3VzZU1vdmUscCk7cC5zaG93UHJvY0lkPXAuZG9TaG93KHEsbyk7fX0sb25Db250ZXh0TW91c2VPdXQ6ZnVuY3Rpb24ocSxwKXt2YXIgbz10aGlzO2lmKHAuX3RlbXBUaXRsZSl7by50aXRsZT1wLl90ZW1wVGl0bGU7cC5fdGVtcFRpdGxlPW51bGw7fWlmKHAuc2hvd1Byb2NJZCl7Y2xlYXJUaW1lb3V0KHAuc2hvd1Byb2NJZCk7cC5zaG93UHJvY0lkPW51bGw7fWlmKHAuaGlkZVByb2NJZCl7Y2xlYXJUaW1lb3V0KHAuaGlkZVByb2NJZCk7cC5oaWRlUHJvY0lkPW51bGw7fXAuZmlyZUV2ZW50KCJjb250ZXh0TW91c2VPdXQiLG8scSk7cC5oaWRlUHJvY0lkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtwLmhpZGUoKTt9LHAuY2ZnLmdldFByb3BlcnR5KCJoaWRlZGVsYXkiKSk7fSxkb1Nob3c6ZnVuY3Rpb24ocixvKXt2YXIgdD10aGlzLmNmZy5nZXRQcm9wZXJ0eSgieHlvZmZzZXQiKSxwPXRbMF0scz10WzFdLHE9dGhpcztpZihoLm9wZXJhJiZvLnRhZ05hbWUmJm8udGFnTmFtZS50b1VwcGVyQ2FzZSgpPT0iQSIpe3MrPTEyO31yZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB1PXEuY2ZnLmdldFByb3BlcnR5KCJ0ZXh0Iik7aWYocS5fdGVtcFRpdGxlJiYodT09PSIifHxZQUhPTy5sYW5nLmlzVW5kZWZpbmVkKHUpfHxZQUhPTy5sYW5nLmlzTnVsbCh1KSkpe3Euc2V0Qm9keShxLl90ZW1wVGl0bGUpO31lbHNle3EuY2ZnLnJlZmlyZUV2ZW50KCJ0ZXh0Iik7fXEubW92ZVRvKHEucGFnZVgrcCxxLnBhZ2VZK3MpO2lmKHEuY2ZnLmdldFByb3BlcnR5KCJwcmV2ZW50b3ZlcmxhcCIpKXtxLnByZXZlbnRPdmVybGFwKHEucGFnZVgscS5wYWdlWSk7fW4ucmVtb3ZlTGlzdGVuZXIobywibW91c2Vtb3ZlIixxLm9uQ29udGV4dE1vdXNlTW92ZSk7cS5jb250ZXh0VHJpZ2dlckV2ZW50LmZpcmUobyk7cS5zaG93KCk7cS5oaWRlUHJvY0lkPXEuZG9IaWRlKCk7fSx0aGlzLmNmZy5nZXRQcm9wZXJ0eSgic2hvd2RlbGF5IikpO30sZG9IaWRlOmZ1bmN0aW9uKCl7dmFyIG89dGhpcztyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe28uaGlkZSgpO30sdGhpcy5jZmcuZ2V0UHJvcGVydHkoImF1dG9kaXNtaXNzZGVsYXkiKSk7fSxwcmV2ZW50T3ZlcmxhcDpmdW5jdGlvbihzLHIpe3ZhciBvPXRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQscT1uZXcgWUFIT08udXRpbC5Qb2ludChzLHIpLHA9Yy5nZXRSZWdpb24odGhpcy5lbGVtZW50KTtwLnRvcC09NTtwLmxlZnQtPTU7cC5yaWdodCs9NTtwLmJvdHRvbSs9NTtpZihwLmNvbnRhaW5zKHEpKXt0aGlzLmNmZy5zZXRQcm9wZXJ0eSgieSIsKHItby01KSk7fX0sb25SZW5kZXI6ZnVuY3Rpb24ocyxyKXtmdW5jdGlvbiB0KCl7dmFyIHc9dGhpcy5lbGVtZW50LHY9dGhpcy51bmRlcmxheTtpZih2KXt2LnN0eWxlLndpZHRoPSh3Lm9mZnNldFdpZHRoKzYpKyJweCI7di5zdHlsZS5oZWlnaHQ9KHcub2Zmc2V0SGVpZ2h0KzEpKyJweCI7fX1mdW5jdGlvbiBwKCl7Yy5hZGRDbGFzcyh0aGlzLnVuZGVybGF5LCJ5dWktdHQtc2hhZG93LXZpc2libGUiKTtpZihoLmllKXt0aGlzLmZvcmNlVW5kZXJsYXlSZWRyYXcoKTt9fWZ1bmN0aW9uIG8oKXtjLnJlbW92ZUNsYXNzKHRoaXMudW5kZXJsYXksInl1aS10dC1zaGFkb3ctdmlzaWJsZSIpO31mdW5jdGlvbiB1KCl7dmFyIHg9dGhpcy51bmRlcmxheSx3LHYseix5O2lmKCF4KXt3PXRoaXMuZWxlbWVudDt2PVlBSE9PLndpZGdldC5Nb2R1bGU7ej1oLmllO3k9dGhpcztpZighZil7Zj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtmLmNsYXNzTmFtZT0ieXVpLXR0LXNoYWRvdyI7fXg9Zi5jbG9uZU5vZGUoZmFsc2UpO3cuYXBwZW5kQ2hpbGQoeCk7dGhpcy51bmRlcmxheT14O3RoaXMuX3NoYWRvdz10aGlzLnVuZGVybGF5O3AuY2FsbCh0aGlzKTt0aGlzLnN1YnNjcmliZSgiYmVmb3JlU2hvdyIscCk7dGhpcy5zdWJzY3JpYmUoImhpZGUiLG8pO2lmKGcpe3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5jYWxsKHkpO30sMCk7dGhpcy5jZmcuc3Vic2NyaWJlVG9Db25maWdFdmVudCgid2lkdGgiLHQpO3RoaXMuY2ZnLnN1YnNjcmliZVRvQ29uZmlnRXZlbnQoImhlaWdodCIsdCk7dGhpcy5zdWJzY3JpYmUoImNoYW5nZUNvbnRlbnQiLHQpO3YudGV4dFJlc2l6ZUV2ZW50LnN1YnNjcmliZSh0LHRoaXMsdHJ1ZSk7dGhpcy5zdWJzY3JpYmUoImRlc3Ryb3kiLGZ1bmN0aW9uKCl7di50ZXh0UmVzaXplRXZlbnQudW5zdWJzY3JpYmUodCx0aGlzKTt9KTt9fX1mdW5jdGlvbiBxKCl7dS5jYWxsKHRoaXMpO3RoaXMudW5zdWJzY3JpYmUoImJlZm9yZVNob3ciLHEpO31pZih0aGlzLmNmZy5nZXRQcm9wZXJ0eSgidmlzaWJsZSIpKXt1LmNhbGwodGhpcyk7fWVsc2V7dGhpcy5zdWJzY3JpYmUoImJlZm9yZVNob3ciLHEpO319LGZvcmNlVW5kZXJsYXlSZWRyYXc6ZnVuY3Rpb24oKXt2YXIgbz10aGlzO2MuYWRkQ2xhc3Moby51bmRlcmxheSwieXVpLWZvcmNlLXJlZHJhdyIpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLnJlbW92ZUNsYXNzKG8udW5kZXJsYXksInl1aS1mb3JjZS1yZWRyYXciKTt9LDApO30sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUV2ZW50TGlzdGVuZXJzKCk7ai5zdXBlcmNsYXNzLmRlc3Ryb3kuY2FsbCh0aGlzKTt9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIlRvb2x0aXAgIit0aGlzLmlkO319KTt9KCkpOyhmdW5jdGlvbigpe1lBSE9PLndpZGdldC5QYW5lbD1mdW5jdGlvbih2LHUpe1lBSE9PLndpZGdldC5QYW5lbC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx2LHUpO307dmFyIHM9bnVsbDt2YXIgZT1ZQUhPTy5sYW5nLGY9WUFIT08udXRpbCxhPWYuRG9tLHQ9Zi5FdmVudCxtPWYuQ3VzdG9tRXZlbnQsaz1ZQUhPTy51dGlsLktleUxpc3RlbmVyLGk9Zi5Db25maWcsaD1ZQUhPTy53aWRnZXQuT3ZlcmxheSxvPVlBSE9PLndpZGdldC5QYW5lbCxsPVlBSE9PLmVudi51YSxwPShsLmllJiYobC5pZTw9Nnx8ZG9jdW1lbnQuY29tcGF0TW9kZT09IkJhY2tDb21wYXQiKSksZyxxLGMsZD17IkJFRk9SRV9TSE9XX01BU0siOiJiZWZvcmVTaG93TWFzayIsIkJFRk9SRV9ISURFX01BU0siOiJiZWZvcmVIaWRlTWFzayIsIlNIT1dfTUFTSyI6InNob3dNYXNrIiwiSElERV9NQVNLIjoiaGlkZU1hc2siLCJEUkFHIjoiZHJhZyJ9LG49eyJDTE9TRSI6e2tleToiY2xvc2UiLHZhbHVlOnRydWUsdmFsaWRhdG9yOmUuaXNCb29sZWFuLHN1cGVyY2VkZXM6WyJ2aXNpYmxlIl19LCJEUkFHR0FCTEUiOntrZXk6ImRyYWdnYWJsZSIsdmFsdWU6KGYuREQ/dHJ1ZTpmYWxzZSksdmFsaWRhdG9yOmUuaXNCb29sZWFuLHN1cGVyY2VkZXM6WyJ2aXNpYmxlIl19LCJEUkFHX09OTFkiOntrZXk6ImRyYWdvbmx5Iix2YWx1ZTpmYWxzZSx2YWxpZGF0b3I6ZS5pc0Jvb2xlYW4sc3VwZXJjZWRlczpbImRyYWdnYWJsZSJdfSwiVU5ERVJMQVkiOntrZXk6InVuZGVybGF5Iix2YWx1ZToic2hhZG93IixzdXBlcmNlZGVzOlsidmlzaWJsZSJdfSwiTU9EQUwiOntrZXk6Im1vZGFsIix2YWx1ZTpmYWxzZSx2YWxpZGF0b3I6ZS5pc0Jvb2xlYW4sc3VwZXJjZWRlczpbInZpc2libGUiLCJ6aW5kZXgiXX0sIktFWV9MSVNURU5FUlMiOntrZXk6ImtleWxpc3RlbmVycyIsc3VwcHJlc3NFdmVudDp0cnVlLHN1cGVyY2VkZXM6WyJ2aXNpYmxlIl19LCJTVFJJTkdTIjp7a2V5OiJzdHJpbmdzIixzdXBlcmNlZGVzOlsiY2xvc2UiXSx2YWxpZGF0b3I6ZS5pc09iamVjdCx2YWx1ZTp7Y2xvc2U6IkNsb3NlIn19fTtvLkNTU19QQU5FTD0ieXVpLXBhbmVsIjtvLkNTU19QQU5FTF9DT05UQUlORVI9Inl1aS1wYW5lbC1jb250YWluZXIiO28uRk9DVVNBQkxFPVsiYSIsImJ1dHRvbiIsInNlbGVjdCIsInRleHRhcmVhIiwiaW5wdXQiLCJpZnJhbWUiXTtmdW5jdGlvbiBqKHYsdSl7aWYoIXRoaXMuaGVhZGVyJiZ0aGlzLmNmZy5nZXRQcm9wZXJ0eSgiZHJhZ2dhYmxlIikpe3RoaXMuc2V0SGVhZGVyKCImIzE2MDsiKTt9fWZ1bmN0aW9uIHIodix1LHcpe3ZhciB6PXdbMF0seD13WzFdLHk9dGhpcy5jZmcsQT15LmdldFByb3BlcnR5KCJ3aWR0aCIpO2lmKEE9PXgpe3kuc2V0UHJvcGVydHkoIndpZHRoIix6KTt9dGhpcy51bnN1YnNjcmliZSgiaGlkZSIscix3KTt9ZnVuY3Rpb24gYih2LHUpe3ZhciB5LHgsdztpZihwKXt5PXRoaXMuY2ZnO3g9eS5nZXRQcm9wZXJ0eSgid2lkdGgiKTtpZigheHx8eD09ImF1dG8iKXt3PSh0aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGgrInB4Iik7eS5zZXRQcm9wZXJ0eSgid2lkdGgiLHcpO3RoaXMuc3Vic2NyaWJlKCJoaWRlIixyLFsoeHx8IiIpLHddKTt9fX1ZQUhPTy5leHRlbmQobyxoLHtpbml0OmZ1bmN0aW9uKHYsdSl7by5zdXBlcmNsYXNzLmluaXQuY2FsbCh0aGlzLHYpO3RoaXMuYmVmb3JlSW5pdEV2ZW50LmZpcmUobyk7YS5hZGRDbGFzcyh0aGlzLmVsZW1lbnQsby5DU1NfUEFORUwpO3RoaXMuYnVpbGRXcmFwcGVyKCk7aWYodSl7dGhpcy5jZmcuYXBwbHlDb25maWcodSx0cnVlKTt9dGhpcy5zdWJzY3JpYmUoInNob3dNYXNrIix0aGlzLl9hZGRGb2N1c0hhbmRsZXJzKTt0aGlzLnN1YnNjcmliZSgiaGlkZU1hc2siLHRoaXMuX3JlbW92ZUZvY3VzSGFuZGxlcnMpO3RoaXMuc3Vic2NyaWJlKCJiZWZvcmVSZW5kZXIiLGopO3RoaXMuc3Vic2NyaWJlKCJyZW5kZXIiLGZ1bmN0aW9uKCl7dGhpcy5zZXRGaXJzdExhc3RGb2N1c2FibGUoKTt0aGlzLnN1YnNjcmliZSgiY2hhbmdlQ29udGVudCIsdGhpcy5zZXRGaXJzdExhc3RGb2N1c2FibGUpO30pO3RoaXMuc3Vic2NyaWJlKCJzaG93Iix0aGlzLl9mb2N1c09uU2hvdyk7dGhpcy5pbml0RXZlbnQuZmlyZShvKTt9LF9vbkVsZW1lbnRGb2N1czpmdW5jdGlvbih6KXtpZihzPT09dGhpcyl7dmFyIHk9dC5nZXRUYXJnZXQoeikseD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdj0oeSE9PXgmJnkhPT13aW5kb3cpO2lmKHYmJnkhPT10aGlzLmVsZW1lbnQmJnkhPT10aGlzLm1hc2smJiFhLmlzQW5jZXN0b3IodGhpcy5lbGVtZW50LHkpKXt0cnl7dGhpcy5fZm9jdXNGaXJzdE1vZGFsKCk7fWNhdGNoKHcpe3RyeXtpZih2JiZ5IT09ZG9jdW1lbnQuYm9keSl7eS5ibHVyKCk7fX1jYXRjaCh1KXt9fX19fSxfZm9jdXNGaXJzdE1vZGFsOmZ1bmN0aW9uKCl7dmFyIHU9dGhpcy5maXJzdEVsZW1lbnQ7aWYodSl7dS5mb2N1cygpO31lbHNle2lmKHRoaXMuX21vZGFsRm9jdXMpe3RoaXMuX21vZGFsRm9jdXMuZm9jdXMoKTt9ZWxzZXt0aGlzLmlubmVyRWxlbWVudC5mb2N1cygpO319fSxfYWRkRm9jdXNIYW5kbGVyczpmdW5jdGlvbih2LHUpe2lmKCF0aGlzLmZpcnN0RWxlbWVudCl7aWYobC53ZWJraXR8fGwub3BlcmEpe2lmKCF0aGlzLl9tb2RhbEZvY3VzKXt0aGlzLl9jcmVhdGVIaWRkZW5Gb2N1c0VsZW1lbnQoKTt9fWVsc2V7dGhpcy5pbm5lckVsZW1lbnQudGFiSW5kZXg9MDt9fXRoaXMuX3NldFRhYkxvb3AodGhpcy5maXJzdEVsZW1lbnQsdGhpcy5sYXN0RWxlbWVudCk7dC5vbkZvY3VzKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCx0aGlzLl9vbkVsZW1lbnRGb2N1cyx0aGlzLHRydWUpO3M9dGhpczt9LF9jcmVhdGVIaWRkZW5Gb2N1c0VsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKdS5zdHlsZS5oZWlnaHQ9IjFweCI7dS5zdHlsZS53aWR0aD0iMXB4Ijt1LnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7dS5zdHlsZS5sZWZ0PSItMTAwMDBlbSI7dS5zdHlsZS5vcGFjaXR5PTA7dS50YWJJbmRleD0tMTt0aGlzLmlubmVyRWxlbWVudC5hcHBlbmRDaGlsZCh1KTt0aGlzLl9tb2RhbEZvY3VzPXU7fSxfcmVtb3ZlRm9jdXNIYW5kbGVyczpmdW5jdGlvbih2LHUpe3QucmVtb3ZlRm9jdXNMaXN0ZW5lcihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdGhpcy5fb25FbGVtZW50Rm9jdXMsdGhpcyk7aWYocz09dGhpcyl7cz1udWxsO319LF9mb2N1c09uU2hvdzpmdW5jdGlvbih2LHUsdyl7aWYodSYmdVsxXSl7dC5zdG9wRXZlbnQodVsxXSk7fWlmKCF0aGlzLmZvY3VzRmlyc3Qodix1LHcpKXtpZih0aGlzLmNmZy5nZXRQcm9wZXJ0eSgibW9kYWwiKSl7dGhpcy5fZm9jdXNGaXJzdE1vZGFsKCk7fX19LGZvY3VzRmlyc3Q6ZnVuY3Rpb24odyx1LHope3ZhciB2PXRoaXMuZmlyc3RFbGVtZW50LHk9ZmFsc2U7aWYodSYmdVsxXSl7dC5zdG9wRXZlbnQodVsxXSk7fWlmKHYpe3RyeXt2LmZvY3VzKCk7eT10cnVlO31jYXRjaCh4KXt9fXJldHVybiB5O30sZm9jdXNMYXN0OmZ1bmN0aW9uKHcsdSx6KXt2YXIgdj10aGlzLmxhc3RFbGVtZW50LHk9ZmFsc2U7aWYodSYmdVsxXSl7dC5zdG9wRXZlbnQodVsxXSk7fWlmKHYpe3RyeXt2LmZvY3VzKCk7eT10cnVlO31jYXRjaCh4KXt9fXJldHVybiB5O30sX3NldFRhYkxvb3A6ZnVuY3Rpb24odSx2KXt0aGlzLnNldFRhYkxvb3AodSx2KTt9LHNldFRhYkxvb3A6ZnVuY3Rpb24oeCx6KXt2YXIgdj10aGlzLnByZXZlbnRCYWNrVGFiLHc9dGhpcy5wcmV2ZW50VGFiT3V0LHU9dGhpcy5zaG93RXZlbnQseT10aGlzLmhpZGVFdmVudDtpZih2KXt2LmRpc2FibGUoKTt1LnVuc3Vic2NyaWJlKHYuZW5hYmxlLHYpO3kudW5zdWJzY3JpYmUodi5kaXNhYmxlLHYpO3Y9dGhpcy5wcmV2ZW50QmFja1RhYj1udWxsO31pZih3KXt3LmRpc2FibGUoKTt1LnVuc3Vic2NyaWJlKHcuZW5hYmxlLHcpO3kudW5zdWJzY3JpYmUody5kaXNhYmxlLHcpO3c9dGhpcy5wcmV2ZW50VGFiT3V0PW51bGw7fWlmKHgpe3RoaXMucHJldmVudEJhY2tUYWI9bmV3IGsoeCx7c2hpZnQ6dHJ1ZSxrZXlzOjl9LHtmbjp0aGlzLmZvY3VzTGFzdCxzY29wZTp0aGlzLGNvcnJlY3RTY29wZTp0cnVlfSk7dj10aGlzLnByZXZlbnRCYWNrVGFiO3Uuc3Vic2NyaWJlKHYuZW5hYmxlLHYsdHJ1ZSk7eS5zdWJzY3JpYmUodi5kaXNhYmxlLHYsdHJ1ZSk7fWlmKHope3RoaXMucHJldmVudFRhYk91dD1uZXcgayh6LHtzaGlmdDpmYWxzZSxrZXlzOjl9LHtmbjp0aGlzLmZvY3VzRmlyc3Qsc2NvcGU6dGhpcyxjb3JyZWN0U2NvcGU6dHJ1ZX0pO3c9dGhpcy5wcmV2ZW50VGFiT3V0O3Uuc3Vic2NyaWJlKHcuZW5hYmxlLHcsdHJ1ZSk7eS5zdWJzY3JpYmUody5kaXNhYmxlLHcsdHJ1ZSk7fX0sZ2V0Rm9jdXNhYmxlRWxlbWVudHM6ZnVuY3Rpb24odil7dj12fHx0aGlzLmlubmVyRWxlbWVudDt2YXIgeD17fSx1PXRoaXM7Zm9yKHZhciB3PTA7dzxvLkZPQ1VTQUJMRS5sZW5ndGg7dysrKXt4W28uRk9DVVNBQkxFW3ddXT10cnVlO31yZXR1cm4gYS5nZXRFbGVtZW50c0J5KGZ1bmN0aW9uKHkpe3JldHVybiB1Ll90ZXN0SWZGb2N1c2FibGUoeSx4KTt9LG51bGwsdik7fSxfdGVzdElmRm9jdXNhYmxlOmZ1bmN0aW9uKHUsdil7aWYodS5mb2N1cyYmdS50eXBlIT09ImhpZGRlbiImJiF1LmRpc2FibGVkJiZ2W3UudGFnTmFtZS50b0xvd2VyQ2FzZSgpXSl7cmV0dXJuIHRydWU7fXJldHVybiBmYWxzZTt9LHNldEZpcnN0TGFzdEZvY3VzYWJsZTpmdW5jdGlvbigpe3RoaXMuZmlyc3RFbGVtZW50PW51bGw7dGhpcy5sYXN0RWxlbWVudD1udWxsO3ZhciB1PXRoaXMuZ2V0Rm9jdXNhYmxlRWxlbWVudHMoKTt0aGlzLmZvY3VzYWJsZUVsZW1lbnRzPXU7aWYodS5sZW5ndGg+MCl7dGhpcy5maXJzdEVsZW1lbnQ9dVswXTt0aGlzLmxhc3RFbGVtZW50PXVbdS5sZW5ndGgtMV07fWlmKHRoaXMuY2ZnLmdldFByb3BlcnR5KCJtb2RhbCIpKXt0aGlzLl9zZXRUYWJMb29wKHRoaXMuZmlyc3RFbGVtZW50LHRoaXMubGFzdEVsZW1lbnQpO319LGluaXRFdmVudHM6ZnVuY3Rpb24oKXtvLnN1cGVyY2xhc3MuaW5pdEV2ZW50cy5jYWxsKHRoaXMpO3ZhciB1PW0uTElTVDt0aGlzLnNob3dNYXNrRXZlbnQ9dGhpcy5jcmVhdGVFdmVudChkLlNIT1dfTUFTSyk7dGhpcy5zaG93TWFza0V2ZW50LnNpZ25hdHVyZT11O3RoaXMuYmVmb3JlU2hvd01hc2tFdmVudD10aGlzLmNyZWF0ZUV2ZW50KGQuQkVGT1JFX1NIT1dfTUFTSyk7dGhpcy5iZWZvcmVTaG93TWFza0V2ZW50LnNpZ25hdHVyZT11O3RoaXMuaGlkZU1hc2tFdmVudD10aGlzLmNyZWF0ZUV2ZW50KGQuSElERV9NQVNLKTt0aGlzLmhpZGVNYXNrRXZlbnQuc2lnbmF0dXJlPXU7dGhpcy5iZWZvcmVIaWRlTWFza0V2ZW50PXRoaXMuY3JlYXRlRXZlbnQoZC5CRUZPUkVfSElERV9NQVNLKTt0aGlzLmJlZm9yZUhpZGVNYXNrRXZlbnQuc2lnbmF0dXJlPXU7dGhpcy5kcmFnRXZlbnQ9dGhpcy5jcmVhdGVFdmVudChkLkRSQUcpO3RoaXMuZHJhZ0V2ZW50LnNpZ25hdHVyZT11O30saW5pdERlZmF1bHRDb25maWc6ZnVuY3Rpb24oKXtvLnN1cGVyY2xhc3MuaW5pdERlZmF1bHRDb25maWcuY2FsbCh0aGlzKTt0aGlzLmNmZy5hZGRQcm9wZXJ0eShuLkNMT1NFLmtleSx7aGFuZGxlcjp0aGlzLmNvbmZpZ0Nsb3NlLHZhbHVlOm4uQ0xPU0UudmFsdWUsdmFsaWRhdG9yOm4uQ0xPU0UudmFsaWRhdG9yLHN1cGVyY2VkZXM6bi5DTE9TRS5zdXBlcmNlZGVzfSk7dGhpcy5jZmcuYWRkUHJvcGVydHkobi5EUkFHR0FCTEUua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnRHJhZ2dhYmxlLHZhbHVlOihmLkREKT90cnVlOmZhbHNlLHZhbGlkYXRvcjpuLkRSQUdHQUJMRS52YWxpZGF0b3Isc3VwZXJjZWRlczpuLkRSQUdHQUJMRS5zdXBlcmNlZGVzfSk7dGhpcy5jZmcuYWRkUHJvcGVydHkobi5EUkFHX09OTFkua2V5LHt2YWx1ZTpuLkRSQUdfT05MWS52YWx1ZSx2YWxpZGF0b3I6bi5EUkFHX09OTFkudmFsaWRhdG9yLHN1cGVyY2VkZXM6bi5EUkFHX09OTFkuc3VwZXJjZWRlc30pO3RoaXMuY2ZnLmFkZFByb3BlcnR5KG4uVU5ERVJMQVkua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnVW5kZXJsYXksdmFsdWU6bi5VTkRFUkxBWS52YWx1ZSxzdXBlcmNlZGVzOm4uVU5ERVJMQVkuc3VwZXJjZWRlc30pO3RoaXMuY2ZnLmFkZFByb3BlcnR5KG4uTU9EQUwua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnTW9kYWwsdmFsdWU6bi5NT0RBTC52YWx1ZSx2YWxpZGF0b3I6bi5NT0RBTC52YWxpZGF0b3Isc3VwZXJjZWRlczpuLk1PREFMLnN1cGVyY2VkZXN9KTt0aGlzLmNmZy5hZGRQcm9wZXJ0eShuLktFWV9MSVNURU5FUlMua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnS2V5TGlzdGVuZXJzLHN1cHByZXNzRXZlbnQ6bi5LRVlfTElTVEVORVJTLnN1cHByZXNzRXZlbnQsc3VwZXJjZWRlczpuLktFWV9MSVNURU5FUlMuc3VwZXJjZWRlc30pO3RoaXMuY2ZnLmFkZFByb3BlcnR5KG4uU1RSSU5HUy5rZXkse3ZhbHVlOm4uU1RSSU5HUy52YWx1ZSxoYW5kbGVyOnRoaXMuY29uZmlnU3RyaW5ncyx2YWxpZGF0b3I6bi5TVFJJTkdTLnZhbGlkYXRvcixzdXBlcmNlZGVzOm4uU1RSSU5HUy5zdXBlcmNlZGVzfSk7fSxjb25maWdDbG9zZTpmdW5jdGlvbih5LHYseil7dmFyIEE9dlswXSx4PXRoaXMuY2xvc2UsdT10aGlzLmNmZy5nZXRQcm9wZXJ0eSgic3RyaW5ncyIpLHc7aWYoQSl7aWYoIXgpe2lmKCFjKXtjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtjLmNsYXNzTmFtZT0iY29udGFpbmVyLWNsb3NlIjtjLmhyZWY9IiMiO314PWMuY2xvbmVOb2RlKHRydWUpO3c9dGhpcy5pbm5lckVsZW1lbnQuZmlyc3RDaGlsZDtpZih3KXt0aGlzLmlubmVyRWxlbWVudC5pbnNlcnRCZWZvcmUoeCx3KTt9ZWxzZXt0aGlzLmlubmVyRWxlbWVudC5hcHBlbmRDaGlsZCh4KTt9eC5pbm5lckhUTUw9KHUmJnUuY2xvc2UpP3UuY2xvc2U6IiYjMTYwOyI7dC5vbih4LCJjbGljayIsdGhpcy5fZG9DbG9zZSx0aGlzLHRydWUpO3RoaXMuY2xvc2U9eDt9ZWxzZXt4LnN0eWxlLmRpc3BsYXk9ImJsb2NrIjt9fWVsc2V7aWYoeCl7eC5zdHlsZS5kaXNwbGF5PSJub25lIjt9fX0sX2RvQ2xvc2U6ZnVuY3Rpb24odSl7dC5wcmV2ZW50RGVmYXVsdCh1KTt0aGlzLmhpZGUoKTt9LGNvbmZpZ0RyYWdnYWJsZTpmdW5jdGlvbih2LHUsdyl7dmFyIHg9dVswXTtpZih4KXtpZighZi5ERCl7dGhpcy5jZmcuc2V0UHJvcGVydHkoImRyYWdnYWJsZSIsZmFsc2UpO3JldHVybjt9aWYodGhpcy5oZWFkZXIpe2Euc2V0U3R5bGUodGhpcy5oZWFkZXIsImN1cnNvciIsIm1vdmUiKTt0aGlzLnJlZ2lzdGVyRHJhZ0Ryb3AoKTt9dGhpcy5zdWJzY3JpYmUoImJlZm9yZVNob3ciLGIpO31lbHNle2lmKHRoaXMuZGQpe3RoaXMuZGQudW5yZWcoKTt9aWYodGhpcy5oZWFkZXIpe2Euc2V0U3R5bGUodGhpcy5oZWFkZXIsImN1cnNvciIsImF1dG8iKTt9dGhpcy51bnN1YnNjcmliZSgiYmVmb3JlU2hvdyIsYik7fX0sY29uZmlnVW5kZXJsYXk6ZnVuY3Rpb24oRCxDLHope3ZhciBCPSh0aGlzLnBsYXRmb3JtPT0ibWFjIiYmbC5nZWNrbyksRT1DWzBdLnRvTG93ZXJDYXNlKCksdj10aGlzLnVuZGVybGF5LHc9dGhpcy5lbGVtZW50O2Z1bmN0aW9uIHgoKXt2YXIgRj1mYWxzZTtpZighdil7aWYoIXEpe3E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cS5jbGFzc05hbWU9InVuZGVybGF5Ijt9dj1xLmNsb25lTm9kZShmYWxzZSk7dGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHYpO3RoaXMudW5kZXJsYXk9djtpZihwKXt0aGlzLnNpemVVbmRlcmxheSgpO3RoaXMuY2ZnLnN1YnNjcmliZVRvQ29uZmlnRXZlbnQoIndpZHRoIix0aGlzLnNpemVVbmRlcmxheSk7dGhpcy5jZmcuc3Vic2NyaWJlVG9Db25maWdFdmVudCgiaGVpZ2h0Iix0aGlzLnNpemVVbmRlcmxheSk7dGhpcy5jaGFuZ2VDb250ZW50RXZlbnQuc3Vic2NyaWJlKHRoaXMuc2l6ZVVuZGVybGF5KTtZQUhPTy53aWRnZXQuTW9kdWxlLnRleHRSZXNpemVFdmVudC5zdWJzY3JpYmUodGhpcy5zaXplVW5kZXJsYXksdGhpcyx0cnVlKTt9aWYobC53ZWJraXQmJmwud2Via2l0PDQyMCl7dGhpcy5jaGFuZ2VDb250ZW50RXZlbnQuc3Vic2NyaWJlKHRoaXMuZm9yY2VVbmRlcmxheVJlZHJhdyk7fUY9dHJ1ZTt9fWZ1bmN0aW9uIEEoKXt2YXIgRj14LmNhbGwodGhpcyk7aWYoIUYmJnApe3RoaXMuc2l6ZVVuZGVybGF5KCk7fXRoaXMuX3VuZGVybGF5RGVmZXJyZWQ9ZmFsc2U7dGhpcy5iZWZvcmVTaG93RXZlbnQudW5zdWJzY3JpYmUoQSk7fWZ1bmN0aW9uIHkoKXtpZih0aGlzLl91bmRlcmxheURlZmVycmVkKXt0aGlzLmJlZm9yZVNob3dFdmVudC51bnN1YnNjcmliZShBKTt0aGlzLl91bmRlcmxheURlZmVycmVkPWZhbHNlO31pZih2KXt0aGlzLmNmZy51bnN1YnNjcmliZUZyb21Db25maWdFdmVudCgid2lkdGgiLHRoaXMuc2l6ZVVuZGVybGF5KTt0aGlzLmNmZy51bnN1YnNjcmliZUZyb21Db25maWdFdmVudCgiaGVpZ2h0Iix0aGlzLnNpemVVbmRlcmxheSk7dGhpcy5jaGFuZ2VDb250ZW50RXZlbnQudW5zdWJzY3JpYmUodGhpcy5zaXplVW5kZXJsYXkpO3RoaXMuY2hhbmdlQ29udGVudEV2ZW50LnVuc3Vic2NyaWJlKHRoaXMuZm9yY2VVbmRlcmxheVJlZHJhdyk7WUFIT08ud2lkZ2V0Lk1vZHVsZS50ZXh0UmVzaXplRXZlbnQudW5zdWJzY3JpYmUodGhpcy5zaXplVW5kZXJsYXksdGhpcyx0cnVlKTt0aGlzLmVsZW1lbnQucmVtb3ZlQ2hpbGQodik7dGhpcy51bmRlcmxheT1udWxsO319c3dpdGNoKEUpe2Nhc2Uic2hhZG93IjphLnJlbW92ZUNsYXNzKHcsIm1hdHRlIik7YS5hZGRDbGFzcyh3LCJzaGFkb3ciKTticmVhaztjYXNlIm1hdHRlIjppZighQil7eS5jYWxsKHRoaXMpO31hLnJlbW92ZUNsYXNzKHcsInNoYWRvdyIpO2EuYWRkQ2xhc3ModywibWF0dGUiKTticmVhaztkZWZhdWx0OmlmKCFCKXt5LmNhbGwodGhpcyk7Cn1hLnJlbW92ZUNsYXNzKHcsInNoYWRvdyIpO2EucmVtb3ZlQ2xhc3ModywibWF0dGUiKTticmVhazt9aWYoKEU9PSJzaGFkb3ciKXx8KEImJiF2KSl7aWYodGhpcy5jZmcuZ2V0UHJvcGVydHkoInZpc2libGUiKSl7dmFyIHU9eC5jYWxsKHRoaXMpO2lmKCF1JiZwKXt0aGlzLnNpemVVbmRlcmxheSgpO319ZWxzZXtpZighdGhpcy5fdW5kZXJsYXlEZWZlcnJlZCl7dGhpcy5iZWZvcmVTaG93RXZlbnQuc3Vic2NyaWJlKEEpO3RoaXMuX3VuZGVybGF5RGVmZXJyZWQ9dHJ1ZTt9fX19LGNvbmZpZ01vZGFsOmZ1bmN0aW9uKHYsdSx4KXt2YXIgdz11WzBdO2lmKHcpe2lmKCF0aGlzLl9oYXNNb2RhbGl0eUV2ZW50TGlzdGVuZXJzKXt0aGlzLnN1YnNjcmliZSgiYmVmb3JlU2hvdyIsdGhpcy5idWlsZE1hc2spO3RoaXMuc3Vic2NyaWJlKCJiZWZvcmVTaG93Iix0aGlzLmJyaW5nVG9Ub3ApO3RoaXMuc3Vic2NyaWJlKCJiZWZvcmVTaG93Iix0aGlzLnNob3dNYXNrKTt0aGlzLnN1YnNjcmliZSgiaGlkZSIsdGhpcy5oaWRlTWFzayk7aC53aW5kb3dSZXNpemVFdmVudC5zdWJzY3JpYmUodGhpcy5zaXplTWFzayx0aGlzLHRydWUpO3RoaXMuX2hhc01vZGFsaXR5RXZlbnRMaXN0ZW5lcnM9dHJ1ZTt9fWVsc2V7aWYodGhpcy5faGFzTW9kYWxpdHlFdmVudExpc3RlbmVycyl7aWYodGhpcy5jZmcuZ2V0UHJvcGVydHkoInZpc2libGUiKSl7dGhpcy5oaWRlTWFzaygpO3RoaXMucmVtb3ZlTWFzaygpO310aGlzLnVuc3Vic2NyaWJlKCJiZWZvcmVTaG93Iix0aGlzLmJ1aWxkTWFzayk7dGhpcy51bnN1YnNjcmliZSgiYmVmb3JlU2hvdyIsdGhpcy5icmluZ1RvVG9wKTt0aGlzLnVuc3Vic2NyaWJlKCJiZWZvcmVTaG93Iix0aGlzLnNob3dNYXNrKTt0aGlzLnVuc3Vic2NyaWJlKCJoaWRlIix0aGlzLmhpZGVNYXNrKTtoLndpbmRvd1Jlc2l6ZUV2ZW50LnVuc3Vic2NyaWJlKHRoaXMuc2l6ZU1hc2ssdGhpcyk7dGhpcy5faGFzTW9kYWxpdHlFdmVudExpc3RlbmVycz1mYWxzZTt9fX0scmVtb3ZlTWFzazpmdW5jdGlvbigpe3ZhciB2PXRoaXMubWFzayx1O2lmKHYpe3RoaXMuaGlkZU1hc2soKTt1PXYucGFyZW50Tm9kZTtpZih1KXt1LnJlbW92ZUNoaWxkKHYpO310aGlzLm1hc2s9bnVsbDt9fSxjb25maWdLZXlMaXN0ZW5lcnM6ZnVuY3Rpb24oeCx1LEEpe3ZhciB3PXVbMF0seix5LHY7aWYodyl7aWYodyBpbnN0YW5jZW9mIEFycmF5KXt5PXcubGVuZ3RoO2Zvcih2PTA7djx5O3YrKyl7ej13W3ZdO2lmKCFpLmFscmVhZHlTdWJzY3JpYmVkKHRoaXMuc2hvd0V2ZW50LHouZW5hYmxlLHopKXt0aGlzLnNob3dFdmVudC5zdWJzY3JpYmUoei5lbmFibGUseix0cnVlKTt9aWYoIWkuYWxyZWFkeVN1YnNjcmliZWQodGhpcy5oaWRlRXZlbnQsei5kaXNhYmxlLHopKXt0aGlzLmhpZGVFdmVudC5zdWJzY3JpYmUoei5kaXNhYmxlLHosdHJ1ZSk7dGhpcy5kZXN0cm95RXZlbnQuc3Vic2NyaWJlKHouZGlzYWJsZSx6LHRydWUpO319fWVsc2V7aWYoIWkuYWxyZWFkeVN1YnNjcmliZWQodGhpcy5zaG93RXZlbnQsdy5lbmFibGUsdykpe3RoaXMuc2hvd0V2ZW50LnN1YnNjcmliZSh3LmVuYWJsZSx3LHRydWUpO31pZighaS5hbHJlYWR5U3Vic2NyaWJlZCh0aGlzLmhpZGVFdmVudCx3LmRpc2FibGUsdykpe3RoaXMuaGlkZUV2ZW50LnN1YnNjcmliZSh3LmRpc2FibGUsdyx0cnVlKTt0aGlzLmRlc3Ryb3lFdmVudC5zdWJzY3JpYmUody5kaXNhYmxlLHcsdHJ1ZSk7fX19fSxjb25maWdTdHJpbmdzOmZ1bmN0aW9uKHYsdSx3KXt2YXIgeD1lLm1lcmdlKG4uU1RSSU5HUy52YWx1ZSx1WzBdKTt0aGlzLmNmZy5zZXRQcm9wZXJ0eShuLlNUUklOR1Mua2V5LHgsdHJ1ZSk7fSxjb25maWdIZWlnaHQ6ZnVuY3Rpb24oeCx2LHkpe3ZhciB1PXZbMF0sdz10aGlzLmlubmVyRWxlbWVudDthLnNldFN0eWxlKHcsImhlaWdodCIsdSk7dGhpcy5jZmcucmVmaXJlRXZlbnQoImlmcmFtZSIpO30sX2F1dG9GaWxsT25IZWlnaHRDaGFuZ2U6ZnVuY3Rpb24oeCx2LHcpe28uc3VwZXJjbGFzcy5fYXV0b0ZpbGxPbkhlaWdodENoYW5nZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYocCl7dmFyIHU9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dS5zaXplVW5kZXJsYXkoKTt9LDApO319LGNvbmZpZ1dpZHRoOmZ1bmN0aW9uKHgsdSx5KXt2YXIgdz11WzBdLHY9dGhpcy5pbm5lckVsZW1lbnQ7YS5zZXRTdHlsZSh2LCJ3aWR0aCIsdyk7dGhpcy5jZmcucmVmaXJlRXZlbnQoImlmcmFtZSIpO30sY29uZmlnekluZGV4OmZ1bmN0aW9uKHYsdSx4KXtvLnN1cGVyY2xhc3MuY29uZmlnekluZGV4LmNhbGwodGhpcyx2LHUseCk7aWYodGhpcy5tYXNrfHx0aGlzLmNmZy5nZXRQcm9wZXJ0eSgibW9kYWwiKT09PXRydWUpe3ZhciB3PWEuZ2V0U3R5bGUodGhpcy5lbGVtZW50LCJ6SW5kZXgiKTtpZighd3x8aXNOYU4odykpe3c9MDt9aWYodz09PTApe3RoaXMuY2ZnLnNldFByb3BlcnR5KCJ6SW5kZXgiLDEpO31lbHNle3RoaXMuc3RhY2tNYXNrKCk7fX19LGJ1aWxkV3JhcHBlcjpmdW5jdGlvbigpe3ZhciB3PXRoaXMuZWxlbWVudC5wYXJlbnROb2RlLHU9dGhpcy5lbGVtZW50LHY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7di5jbGFzc05hbWU9by5DU1NfUEFORUxfQ09OVEFJTkVSO3YuaWQ9dS5pZCsiX2MiO2lmKHcpe3cuaW5zZXJ0QmVmb3JlKHYsdSk7fXYuYXBwZW5kQ2hpbGQodSk7dGhpcy5lbGVtZW50PXY7dGhpcy5pbm5lckVsZW1lbnQ9dTthLnNldFN0eWxlKHRoaXMuaW5uZXJFbGVtZW50LCJ2aXNpYmlsaXR5IiwiaW5oZXJpdCIpO30sc2l6ZVVuZGVybGF5OmZ1bmN0aW9uKCl7dmFyIHY9dGhpcy51bmRlcmxheSx1O2lmKHYpe3U9dGhpcy5lbGVtZW50O3Yuc3R5bGUud2lkdGg9dS5vZmZzZXRXaWR0aCsicHgiO3Yuc3R5bGUuaGVpZ2h0PXUub2Zmc2V0SGVpZ2h0KyJweCI7fX0scmVnaXN0ZXJEcmFnRHJvcDpmdW5jdGlvbigpe3ZhciB2PXRoaXM7aWYodGhpcy5oZWFkZXIpe2lmKCFmLkREKXtyZXR1cm47fXZhciB1PSh0aGlzLmNmZy5nZXRQcm9wZXJ0eSgiZHJhZ29ubHkiKT09PXRydWUpO3RoaXMuZGQ9bmV3IGYuREQodGhpcy5lbGVtZW50LmlkLHRoaXMuaWQse2RyYWdPbmx5OnV9KTtpZighdGhpcy5oZWFkZXIuaWQpe3RoaXMuaGVhZGVyLmlkPXRoaXMuaWQrIl9oIjt9dGhpcy5kZC5zdGFydERyYWc9ZnVuY3Rpb24oKXt2YXIgeCx6LHcsQyxCLEE7aWYoWUFIT08uZW52LnVhLmllPT02KXthLmFkZENsYXNzKHYuZWxlbWVudCwiZHJhZyIpO31pZih2LmNmZy5nZXRQcm9wZXJ0eSgiY29uc3RyYWludG92aWV3cG9ydCIpKXt2YXIgeT1oLlZJRVdQT1JUX09GRlNFVDt4PXYuZWxlbWVudC5vZmZzZXRIZWlnaHQ7ej12LmVsZW1lbnQub2Zmc2V0V2lkdGg7dz1hLmdldFZpZXdwb3J0V2lkdGgoKTtDPWEuZ2V0Vmlld3BvcnRIZWlnaHQoKTtCPWEuZ2V0RG9jdW1lbnRTY3JvbGxMZWZ0KCk7QT1hLmdldERvY3VtZW50U2Nyb2xsVG9wKCk7aWYoeCt5PEMpe3RoaXMubWluWT1BK3k7dGhpcy5tYXhZPUErQy14LXk7fWVsc2V7dGhpcy5taW5ZPUEreTt0aGlzLm1heFk9QSt5O31pZih6K3k8dyl7dGhpcy5taW5YPUIreTt0aGlzLm1heFg9Qit3LXoteTt9ZWxzZXt0aGlzLm1pblg9Qit5O3RoaXMubWF4WD1CK3k7fXRoaXMuY29uc3RyYWluWD10cnVlO3RoaXMuY29uc3RyYWluWT10cnVlO31lbHNle3RoaXMuY29uc3RyYWluWD1mYWxzZTt0aGlzLmNvbnN0cmFpblk9ZmFsc2U7fXYuZHJhZ0V2ZW50LmZpcmUoInN0YXJ0RHJhZyIsYXJndW1lbnRzKTt9O3RoaXMuZGQub25EcmFnPWZ1bmN0aW9uKCl7di5zeW5jUG9zaXRpb24oKTt2LmNmZy5yZWZpcmVFdmVudCgiaWZyYW1lIik7aWYodGhpcy5wbGF0Zm9ybT09Im1hYyImJllBSE9PLmVudi51YS5nZWNrbyl7dGhpcy5zaG93TWFjR2Vja29TY3JvbGxiYXJzKCk7fXYuZHJhZ0V2ZW50LmZpcmUoIm9uRHJhZyIsYXJndW1lbnRzKTt9O3RoaXMuZGQuZW5kRHJhZz1mdW5jdGlvbigpe2lmKFlBSE9PLmVudi51YS5pZT09Nil7YS5yZW1vdmVDbGFzcyh2LmVsZW1lbnQsImRyYWciKTt9di5kcmFnRXZlbnQuZmlyZSgiZW5kRHJhZyIsYXJndW1lbnRzKTt2Lm1vdmVFdmVudC5maXJlKHYuY2ZnLmdldFByb3BlcnR5KCJ4eSIpKTt9O3RoaXMuZGQuc2V0SGFuZGxlRWxJZCh0aGlzLmhlYWRlci5pZCk7dGhpcy5kZC5hZGRJbnZhbGlkSGFuZGxlVHlwZSgiSU5QVVQiKTt0aGlzLmRkLmFkZEludmFsaWRIYW5kbGVUeXBlKCJTRUxFQ1QiKTt0aGlzLmRkLmFkZEludmFsaWRIYW5kbGVUeXBlKCJURVhUQVJFQSIpO319LGJ1aWxkTWFzazpmdW5jdGlvbigpe3ZhciB1PXRoaXMubWFzaztpZighdSl7aWYoIWcpe2c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zy5jbGFzc05hbWU9Im1hc2siO2cuaW5uZXJIVE1MPSImIzE2MDsiO311PWcuY2xvbmVOb2RlKHRydWUpO3UuaWQ9dGhpcy5pZCsiX21hc2siO2RvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKHUsZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTt0aGlzLm1hc2s9dTtpZihZQUhPTy5lbnYudWEuZ2Vja28mJnRoaXMucGxhdGZvcm09PSJtYWMiKXthLmFkZENsYXNzKHRoaXMubWFzaywiYmxvY2stc2Nyb2xsYmFycyIpO310aGlzLnN0YWNrTWFzaygpO319LGhpZGVNYXNrOmZ1bmN0aW9uKCl7aWYodGhpcy5jZmcuZ2V0UHJvcGVydHkoIm1vZGFsIikmJnRoaXMubWFzayYmdGhpcy5iZWZvcmVIaWRlTWFza0V2ZW50LmZpcmUoKSl7dGhpcy5tYXNrLnN0eWxlLmRpc3BsYXk9Im5vbmUiO2EucmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSwibWFza2VkIik7dGhpcy5oaWRlTWFza0V2ZW50LmZpcmUoKTt9fSxzaG93TWFzazpmdW5jdGlvbigpe2lmKHRoaXMuY2ZnLmdldFByb3BlcnR5KCJtb2RhbCIpJiZ0aGlzLm1hc2smJnRoaXMuYmVmb3JlU2hvd01hc2tFdmVudC5maXJlKCkpe2EuYWRkQ2xhc3MoZG9jdW1lbnQuYm9keSwibWFza2VkIik7dGhpcy5zaXplTWFzaygpO3RoaXMubWFzay5zdHlsZS5kaXNwbGF5PSJibG9jayI7dGhpcy5zaG93TWFza0V2ZW50LmZpcmUoKTt9fSxzaXplTWFzazpmdW5jdGlvbigpe2lmKHRoaXMubWFzayl7dmFyIHY9dGhpcy5tYXNrLHc9YS5nZXRWaWV3cG9ydFdpZHRoKCksdT1hLmdldFZpZXdwb3J0SGVpZ2h0KCk7aWYodi5vZmZzZXRIZWlnaHQ+dSl7di5zdHlsZS5oZWlnaHQ9dSsicHgiO31pZih2Lm9mZnNldFdpZHRoPncpe3Yuc3R5bGUud2lkdGg9dysicHgiO312LnN0eWxlLmhlaWdodD1hLmdldERvY3VtZW50SGVpZ2h0KCkrInB4Ijt2LnN0eWxlLndpZHRoPWEuZ2V0RG9jdW1lbnRXaWR0aCgpKyJweCI7fX0sc3RhY2tNYXNrOmZ1bmN0aW9uKCl7aWYodGhpcy5tYXNrKXt2YXIgdT1hLmdldFN0eWxlKHRoaXMuZWxlbWVudCwiekluZGV4Iik7aWYoIVlBSE9PLmxhbmcuaXNVbmRlZmluZWQodSkmJiFpc05hTih1KSl7YS5zZXRTdHlsZSh0aGlzLm1hc2ssInpJbmRleCIsdS0xKTt9fX0scmVuZGVyOmZ1bmN0aW9uKHUpe3JldHVybiBvLnN1cGVyY2xhc3MucmVuZGVyLmNhbGwodGhpcyx1LHRoaXMuaW5uZXJFbGVtZW50KTt9LF9yZW5kZXJIZWFkZXI6ZnVuY3Rpb24odSl7dT11fHx0aGlzLmlubmVyRWxlbWVudDtvLnN1cGVyY2xhc3MuX3JlbmRlckhlYWRlci5jYWxsKHRoaXMsdSk7fSxfcmVuZGVyQm9keTpmdW5jdGlvbih1KXt1PXV8fHRoaXMuaW5uZXJFbGVtZW50O28uc3VwZXJjbGFzcy5fcmVuZGVyQm9keS5jYWxsKHRoaXMsdSk7fSxfcmVuZGVyRm9vdGVyOmZ1bmN0aW9uKHUpe3U9dXx8dGhpcy5pbm5lckVsZW1lbnQ7by5zdXBlcmNsYXNzLl9yZW5kZXJGb290ZXIuY2FsbCh0aGlzLHUpO30sZGVzdHJveTpmdW5jdGlvbih1KXtoLndpbmRvd1Jlc2l6ZUV2ZW50LnVuc3Vic2NyaWJlKHRoaXMuc2l6ZU1hc2ssdGhpcyk7dGhpcy5yZW1vdmVNYXNrKCk7aWYodGhpcy5jbG9zZSl7dC5wdXJnZUVsZW1lbnQodGhpcy5jbG9zZSk7fW8uc3VwZXJjbGFzcy5kZXN0cm95LmNhbGwodGhpcyx1KTt9LGZvcmNlVW5kZXJsYXlSZWRyYXc6ZnVuY3Rpb24oKXt2YXIgdj10aGlzLnVuZGVybGF5O2EuYWRkQ2xhc3ModiwieXVpLWZvcmNlLXJlZHJhdyIpOwpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5yZW1vdmVDbGFzcyh2LCJ5dWktZm9yY2UtcmVkcmF3Iik7fSwwKTt9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIlBhbmVsICIrdGhpcy5pZDt9fSk7fSgpKTsoZnVuY3Rpb24oKXtZQUhPTy53aWRnZXQuRGlhbG9nPWZ1bmN0aW9uKGosaSl7WUFIT08ud2lkZ2V0LkRpYWxvZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxqLGkpO307dmFyIGI9WUFIT08udXRpbC5FdmVudCxnPVlBSE9PLnV0aWwuQ3VzdG9tRXZlbnQsZT1ZQUhPTy51dGlsLkRvbSxhPVlBSE9PLndpZGdldC5EaWFsb2csZj1ZQUhPTy5sYW5nLGg9eyJCRUZPUkVfU1VCTUlUIjoiYmVmb3JlU3VibWl0IiwiU1VCTUlUIjoic3VibWl0IiwiTUFOVUFMX1NVQk1JVCI6Im1hbnVhbFN1Ym1pdCIsIkFTWU5DX1NVQk1JVCI6ImFzeW5jU3VibWl0IiwiRk9STV9TVUJNSVQiOiJmb3JtU3VibWl0IiwiQ0FOQ0VMIjoiY2FuY2VsIn0sYz17IlBPU1RfTUVUSE9EIjp7a2V5OiJwb3N0bWV0aG9kIix2YWx1ZToiYXN5bmMifSwiUE9TVF9EQVRBIjp7a2V5OiJwb3N0ZGF0YSIsdmFsdWU6bnVsbH0sIkJVVFRPTlMiOntrZXk6ImJ1dHRvbnMiLHZhbHVlOiJub25lIixzdXBlcmNlZGVzOlsidmlzaWJsZSJdfSwiSElERUFGVEVSU1VCTUlUIjp7a2V5OiJoaWRlYWZ0ZXJzdWJtaXQiLHZhbHVlOnRydWV9fTthLkNTU19ESUFMT0c9Inl1aS1kaWFsb2ciO2Z1bmN0aW9uIGQoKXt2YXIgbT10aGlzLl9hQnV0dG9ucyxrLGwsajtpZihmLmlzQXJyYXkobSkpe2s9bS5sZW5ndGg7aWYoaz4wKXtqPWstMTtkb3tsPW1bal07aWYoWUFIT08ud2lkZ2V0LkJ1dHRvbiYmbCBpbnN0YW5jZW9mIFlBSE9PLndpZGdldC5CdXR0b24pe2wuZGVzdHJveSgpO31lbHNle2lmKGwudGFnTmFtZS50b1VwcGVyQ2FzZSgpPT0iQlVUVE9OIil7Yi5wdXJnZUVsZW1lbnQobCk7Yi5wdXJnZUVsZW1lbnQobCxmYWxzZSk7fX19d2hpbGUoai0tKTt9fX1ZQUhPTy5leHRlbmQoYSxZQUhPTy53aWRnZXQuUGFuZWwse2Zvcm06bnVsbCxpbml0RGVmYXVsdENvbmZpZzpmdW5jdGlvbigpe2Euc3VwZXJjbGFzcy5pbml0RGVmYXVsdENvbmZpZy5jYWxsKHRoaXMpO3RoaXMuY2FsbGJhY2s9e3N1Y2Nlc3M6bnVsbCxmYWlsdXJlOm51bGwsYXJndW1lbnQ6bnVsbH07dGhpcy5jZmcuYWRkUHJvcGVydHkoYy5QT1NUX01FVEhPRC5rZXkse2hhbmRsZXI6dGhpcy5jb25maWdQb3N0TWV0aG9kLHZhbHVlOmMuUE9TVF9NRVRIT0QudmFsdWUsdmFsaWRhdG9yOmZ1bmN0aW9uKGkpe2lmKGkhPSJmb3JtIiYmaSE9ImFzeW5jIiYmaSE9Im5vbmUiJiZpIT0ibWFudWFsIil7cmV0dXJuIGZhbHNlO31lbHNle3JldHVybiB0cnVlO319fSk7dGhpcy5jZmcuYWRkUHJvcGVydHkoYy5QT1NUX0RBVEEua2V5LHt2YWx1ZTpjLlBPU1RfREFUQS52YWx1ZX0pO3RoaXMuY2ZnLmFkZFByb3BlcnR5KGMuSElERUFGVEVSU1VCTUlULmtleSx7dmFsdWU6Yy5ISURFQUZURVJTVUJNSVQudmFsdWV9KTt0aGlzLmNmZy5hZGRQcm9wZXJ0eShjLkJVVFRPTlMua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnQnV0dG9ucyx2YWx1ZTpjLkJVVFRPTlMudmFsdWUsc3VwZXJjZWRlczpjLkJVVFRPTlMuc3VwZXJjZWRlc30pO30saW5pdEV2ZW50czpmdW5jdGlvbigpe2Euc3VwZXJjbGFzcy5pbml0RXZlbnRzLmNhbGwodGhpcyk7dmFyIGk9Zy5MSVNUO3RoaXMuYmVmb3JlU3VibWl0RXZlbnQ9dGhpcy5jcmVhdGVFdmVudChoLkJFRk9SRV9TVUJNSVQpO3RoaXMuYmVmb3JlU3VibWl0RXZlbnQuc2lnbmF0dXJlPWk7dGhpcy5zdWJtaXRFdmVudD10aGlzLmNyZWF0ZUV2ZW50KGguU1VCTUlUKTt0aGlzLnN1Ym1pdEV2ZW50LnNpZ25hdHVyZT1pO3RoaXMubWFudWFsU3VibWl0RXZlbnQ9dGhpcy5jcmVhdGVFdmVudChoLk1BTlVBTF9TVUJNSVQpO3RoaXMubWFudWFsU3VibWl0RXZlbnQuc2lnbmF0dXJlPWk7dGhpcy5hc3luY1N1Ym1pdEV2ZW50PXRoaXMuY3JlYXRlRXZlbnQoaC5BU1lOQ19TVUJNSVQpO3RoaXMuYXN5bmNTdWJtaXRFdmVudC5zaWduYXR1cmU9aTt0aGlzLmZvcm1TdWJtaXRFdmVudD10aGlzLmNyZWF0ZUV2ZW50KGguRk9STV9TVUJNSVQpO3RoaXMuZm9ybVN1Ym1pdEV2ZW50LnNpZ25hdHVyZT1pO3RoaXMuY2FuY2VsRXZlbnQ9dGhpcy5jcmVhdGVFdmVudChoLkNBTkNFTCk7dGhpcy5jYW5jZWxFdmVudC5zaWduYXR1cmU9aTt9LGluaXQ6ZnVuY3Rpb24oaixpKXthLnN1cGVyY2xhc3MuaW5pdC5jYWxsKHRoaXMsaik7dGhpcy5iZWZvcmVJbml0RXZlbnQuZmlyZShhKTtlLmFkZENsYXNzKHRoaXMuZWxlbWVudCxhLkNTU19ESUFMT0cpO3RoaXMuY2ZnLnNldFByb3BlcnR5KCJ2aXNpYmxlIixmYWxzZSk7aWYoaSl7dGhpcy5jZmcuYXBwbHlDb25maWcoaSx0cnVlKTt9dGhpcy5iZWZvcmVIaWRlRXZlbnQuc3Vic2NyaWJlKHRoaXMuYmx1ckJ1dHRvbnMsdGhpcyx0cnVlKTt0aGlzLnN1YnNjcmliZSgiY2hhbmdlQm9keSIsdGhpcy5yZWdpc3RlckZvcm0pO3RoaXMuaW5pdEV2ZW50LmZpcmUoYSk7fSxkb1N1Ym1pdDpmdW5jdGlvbigpe3ZhciBxPVlBSE9PLnV0aWwuQ29ubmVjdCxyPXRoaXMuZm9ybSxsPWZhbHNlLG89ZmFsc2UscyxuLG0sajtzd2l0Y2godGhpcy5jZmcuZ2V0UHJvcGVydHkoInBvc3RtZXRob2QiKSl7Y2FzZSJhc3luYyI6cz1yLmVsZW1lbnRzO249cy5sZW5ndGg7aWYobj4wKXttPW4tMTtkb3tpZihzW21dLnR5cGU9PSJmaWxlIil7bD10cnVlO2JyZWFrO319d2hpbGUobS0tKTt9aWYobCYmWUFIT08uZW52LnVhLmllJiZ0aGlzLmlzU2VjdXJlKXtvPXRydWU7fWo9dGhpcy5fZ2V0Rm9ybUF0dHJpYnV0ZXMocik7cS5zZXRGb3JtKHIsbCxvKTt2YXIgaz10aGlzLmNmZy5nZXRQcm9wZXJ0eSgicG9zdGRhdGEiKTt2YXIgcD1xLmFzeW5jUmVxdWVzdChqLm1ldGhvZCxqLmFjdGlvbix0aGlzLmNhbGxiYWNrLGspO3RoaXMuYXN5bmNTdWJtaXRFdmVudC5maXJlKHApO2JyZWFrO2Nhc2UiZm9ybSI6ci5zdWJtaXQoKTt0aGlzLmZvcm1TdWJtaXRFdmVudC5maXJlKCk7YnJlYWs7Y2FzZSJub25lIjpjYXNlIm1hbnVhbCI6dGhpcy5tYW51YWxTdWJtaXRFdmVudC5maXJlKCk7YnJlYWs7fX0sX2dldEZvcm1BdHRyaWJ1dGVzOmZ1bmN0aW9uKGspe3ZhciBpPXttZXRob2Q6bnVsbCxhY3Rpb246bnVsbH07aWYoayl7aWYoay5nZXRBdHRyaWJ1dGVOb2RlKXt2YXIgaj1rLmdldEF0dHJpYnV0ZU5vZGUoImFjdGlvbiIpO3ZhciBsPWsuZ2V0QXR0cmlidXRlTm9kZSgibWV0aG9kIik7aWYoail7aS5hY3Rpb249ai52YWx1ZTt9aWYobCl7aS5tZXRob2Q9bC52YWx1ZTt9fWVsc2V7aS5hY3Rpb249ay5nZXRBdHRyaWJ1dGUoImFjdGlvbiIpO2kubWV0aG9kPWsuZ2V0QXR0cmlidXRlKCJtZXRob2QiKTt9fWkubWV0aG9kPShmLmlzU3RyaW5nKGkubWV0aG9kKT9pLm1ldGhvZDoiUE9TVCIpLnRvVXBwZXJDYXNlKCk7aS5hY3Rpb249Zi5pc1N0cmluZyhpLmFjdGlvbik/aS5hY3Rpb246IiI7cmV0dXJuIGk7fSxyZWdpc3RlckZvcm06ZnVuY3Rpb24oKXt2YXIgaT10aGlzLmVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImZvcm0iKVswXTtpZih0aGlzLmZvcm0pe2lmKHRoaXMuZm9ybT09aSYmZS5pc0FuY2VzdG9yKHRoaXMuZWxlbWVudCx0aGlzLmZvcm0pKXtyZXR1cm47fWVsc2V7Yi5wdXJnZUVsZW1lbnQodGhpcy5mb3JtKTt0aGlzLmZvcm09bnVsbDt9fWlmKCFpKXtpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKTtpLm5hbWU9ImZybV8iK3RoaXMuaWQ7dGhpcy5ib2R5LmFwcGVuZENoaWxkKGkpO31pZihpKXt0aGlzLmZvcm09aTtiLm9uKGksInN1Ym1pdCIsdGhpcy5fc3VibWl0SGFuZGxlcix0aGlzLHRydWUpO319LF9zdWJtaXRIYW5kbGVyOmZ1bmN0aW9uKGkpe2Iuc3RvcEV2ZW50KGkpO3RoaXMuc3VibWl0KCk7dGhpcy5mb3JtLmJsdXIoKTt9LHNldFRhYkxvb3A6ZnVuY3Rpb24oaSxqKXtpPWl8fHRoaXMuZmlyc3RCdXR0b247aj1qfHx0aGlzLmxhc3RCdXR0b247YS5zdXBlcmNsYXNzLnNldFRhYkxvb3AuY2FsbCh0aGlzLGksaik7fSxfc2V0VGFiTG9vcDpmdW5jdGlvbihpLGope2k9aXx8dGhpcy5maXJzdEJ1dHRvbjtqPXRoaXMubGFzdEJ1dHRvbnx8ajt0aGlzLnNldFRhYkxvb3AoaSxqKTt9LHNldEZpcnN0TGFzdEZvY3VzYWJsZTpmdW5jdGlvbigpe2Euc3VwZXJjbGFzcy5zZXRGaXJzdExhc3RGb2N1c2FibGUuY2FsbCh0aGlzKTt2YXIgayxqLG0sbj10aGlzLmZvY3VzYWJsZUVsZW1lbnRzO3RoaXMuZmlyc3RGb3JtRWxlbWVudD1udWxsO3RoaXMubGFzdEZvcm1FbGVtZW50PW51bGw7aWYodGhpcy5mb3JtJiZuJiZuLmxlbmd0aD4wKXtqPW4ubGVuZ3RoO2ZvcihrPTA7azxqOysrayl7bT1uW2tdO2lmKHRoaXMuZm9ybT09PW0uZm9ybSl7dGhpcy5maXJzdEZvcm1FbGVtZW50PW07YnJlYWs7fX1mb3Ioaz1qLTE7az49MDstLWspe209bltrXTtpZih0aGlzLmZvcm09PT1tLmZvcm0pe3RoaXMubGFzdEZvcm1FbGVtZW50PW07YnJlYWs7fX19fSxjb25maWdDbG9zZTpmdW5jdGlvbihqLGksayl7YS5zdXBlcmNsYXNzLmNvbmZpZ0Nsb3NlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9LF9kb0Nsb3NlOmZ1bmN0aW9uKGkpe2IucHJldmVudERlZmF1bHQoaSk7dGhpcy5jYW5jZWwoKTt9LGNvbmZpZ0J1dHRvbnM6ZnVuY3Rpb24odCxzLG4pe3ZhciBvPVlBSE9PLndpZGdldC5CdXR0b24sdj1zWzBdLGw9dGhpcy5pbm5lckVsZW1lbnQsdSxxLGsscixwLGosbTtkLmNhbGwodGhpcyk7dGhpcy5fYUJ1dHRvbnM9bnVsbDtpZihmLmlzQXJyYXkodikpe3A9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO3AuY2xhc3NOYW1lPSJidXR0b24tZ3JvdXAiO3I9di5sZW5ndGg7dGhpcy5fYUJ1dHRvbnM9W107dGhpcy5kZWZhdWx0SHRtbEJ1dHRvbj1udWxsO2ZvcihtPTA7bTxyO20rKyl7dT12W21dO2lmKG8pe2s9bmV3IG8oe2xhYmVsOnUudGV4dCx0eXBlOnUudHlwZX0pO2suYXBwZW5kVG8ocCk7cT1rLmdldCgiZWxlbWVudCIpO2lmKHUuaXNEZWZhdWx0KXtrLmFkZENsYXNzKCJkZWZhdWx0Iik7dGhpcy5kZWZhdWx0SHRtbEJ1dHRvbj1xO31pZihmLmlzRnVuY3Rpb24odS5oYW5kbGVyKSl7ay5zZXQoIm9uY2xpY2siLHtmbjp1LmhhbmRsZXIsb2JqOnRoaXMsc2NvcGU6dGhpc30pO31lbHNle2lmKGYuaXNPYmplY3QodS5oYW5kbGVyKSYmZi5pc0Z1bmN0aW9uKHUuaGFuZGxlci5mbikpe2suc2V0KCJvbmNsaWNrIix7Zm46dS5oYW5kbGVyLmZuLG9iajooKCFmLmlzVW5kZWZpbmVkKHUuaGFuZGxlci5vYmopKT91LmhhbmRsZXIub2JqOnRoaXMpLHNjb3BlOih1LmhhbmRsZXIuc2NvcGV8fHRoaXMpfSk7fX10aGlzLl9hQnV0dG9uc1t0aGlzLl9hQnV0dG9ucy5sZW5ndGhdPWs7fWVsc2V7cT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTtxLnNldEF0dHJpYnV0ZSgidHlwZSIsImJ1dHRvbiIpO2lmKHUuaXNEZWZhdWx0KXtxLmNsYXNzTmFtZT0iZGVmYXVsdCI7dGhpcy5kZWZhdWx0SHRtbEJ1dHRvbj1xO31xLmlubmVySFRNTD11LnRleHQ7aWYoZi5pc0Z1bmN0aW9uKHUuaGFuZGxlcikpe2Iub24ocSwiY2xpY2siLHUuaGFuZGxlcix0aGlzLHRydWUpO31lbHNle2lmKGYuaXNPYmplY3QodS5oYW5kbGVyKSYmZi5pc0Z1bmN0aW9uKHUuaGFuZGxlci5mbikpe2Iub24ocSwiY2xpY2siLHUuaGFuZGxlci5mbiwoKCFmLmlzVW5kZWZpbmVkKHUuaGFuZGxlci5vYmopKT91LmhhbmRsZXIub2JqOnRoaXMpLCh1LmhhbmRsZXIuc2NvcGV8fHRoaXMpKTt9fXAuYXBwZW5kQ2hpbGQocSk7dGhpcy5fYUJ1dHRvbnNbdGhpcy5fYUJ1dHRvbnMubGVuZ3RoXT1xO311Lmh0bWxCdXR0b249cTtpZihtPT09MCl7dGhpcy5maXJzdEJ1dHRvbj1xO31pZihtPT0oci0xKSl7dGhpcy5sYXN0QnV0dG9uPXE7fX10aGlzLnNldEZvb3RlcihwKTtqPXRoaXMuZm9vdGVyO2lmKGUuaW5Eb2N1bWVudCh0aGlzLmVsZW1lbnQpJiYhZS5pc0FuY2VzdG9yKGwsaikpe2wuYXBwZW5kQ2hpbGQoaik7fXRoaXMuYnV0dG9uU3Bhbj1wO31lbHNle3A9dGhpcy5idXR0b25TcGFuOwpqPXRoaXMuZm9vdGVyO2lmKHAmJmope2oucmVtb3ZlQ2hpbGQocCk7dGhpcy5idXR0b25TcGFuPW51bGw7dGhpcy5maXJzdEJ1dHRvbj1udWxsO3RoaXMubGFzdEJ1dHRvbj1udWxsO3RoaXMuZGVmYXVsdEh0bWxCdXR0b249bnVsbDt9fXRoaXMuY2hhbmdlQ29udGVudEV2ZW50LmZpcmUoKTt9LGdldEJ1dHRvbnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYUJ1dHRvbnN8fG51bGw7fSxmb2N1c0ZpcnN0OmZ1bmN0aW9uKGssaSxuKXt2YXIgaj10aGlzLmZpcnN0Rm9ybUVsZW1lbnQsbT1mYWxzZTtpZihpJiZpWzFdKXtiLnN0b3BFdmVudChpWzFdKTtpZihpWzBdPT09OSYmdGhpcy5maXJzdEVsZW1lbnQpe2o9dGhpcy5maXJzdEVsZW1lbnQ7fX1pZihqKXt0cnl7ai5mb2N1cygpO209dHJ1ZTt9Y2F0Y2gobCl7fX1lbHNle2lmKHRoaXMuZGVmYXVsdEh0bWxCdXR0b24pe209dGhpcy5mb2N1c0RlZmF1bHRCdXR0b24oKTt9ZWxzZXttPXRoaXMuZm9jdXNGaXJzdEJ1dHRvbigpO319cmV0dXJuIG07fSxmb2N1c0xhc3Q6ZnVuY3Rpb24oayxpLG4pe3ZhciBvPXRoaXMuY2ZnLmdldFByb3BlcnR5KCJidXR0b25zIiksaj10aGlzLmxhc3RGb3JtRWxlbWVudCxtPWZhbHNlO2lmKGkmJmlbMV0pe2Iuc3RvcEV2ZW50KGlbMV0pO2lmKGlbMF09PT05JiZ0aGlzLmxhc3RFbGVtZW50KXtqPXRoaXMubGFzdEVsZW1lbnQ7fX1pZihvJiZmLmlzQXJyYXkobykpe209dGhpcy5mb2N1c0xhc3RCdXR0b24oKTt9ZWxzZXtpZihqKXt0cnl7ai5mb2N1cygpO209dHJ1ZTt9Y2F0Y2gobCl7fX19cmV0dXJuIG07fSxfZ2V0QnV0dG9uOmZ1bmN0aW9uKGope3ZhciBpPVlBSE9PLndpZGdldC5CdXR0b247aWYoaSYmaiYmai5ub2RlTmFtZSYmai5pZCl7aj1pLmdldEJ1dHRvbihqLmlkKXx8ajt9cmV0dXJuIGo7fSxmb2N1c0RlZmF1bHRCdXR0b246ZnVuY3Rpb24oKXt2YXIgaT10aGlzLl9nZXRCdXR0b24odGhpcy5kZWZhdWx0SHRtbEJ1dHRvbiksaz1mYWxzZTtpZihpKXt0cnl7aS5mb2N1cygpO2s9dHJ1ZTt9Y2F0Y2goail7fX1yZXR1cm4gazt9LGJsdXJCdXR0b25zOmZ1bmN0aW9uKCl7dmFyIG89dGhpcy5jZmcuZ2V0UHJvcGVydHkoImJ1dHRvbnMiKSxsLG4sayxqO2lmKG8mJmYuaXNBcnJheShvKSl7bD1vLmxlbmd0aDtpZihsPjApe2o9KGwtMSk7ZG97bj1vW2pdO2lmKG4pe2s9dGhpcy5fZ2V0QnV0dG9uKG4uaHRtbEJ1dHRvbik7aWYoayl7dHJ5e2suYmx1cigpO31jYXRjaChtKXt9fX19d2hpbGUoai0tKTt9fX0sZm9jdXNGaXJzdEJ1dHRvbjpmdW5jdGlvbigpe3ZhciBtPXRoaXMuY2ZnLmdldFByb3BlcnR5KCJidXR0b25zIiksayxpLGw9ZmFsc2U7aWYobSYmZi5pc0FycmF5KG0pKXtrPW1bMF07aWYoayl7aT10aGlzLl9nZXRCdXR0b24oay5odG1sQnV0dG9uKTtpZihpKXt0cnl7aS5mb2N1cygpO2w9dHJ1ZTt9Y2F0Y2goail7fX19fXJldHVybiBsO30sZm9jdXNMYXN0QnV0dG9uOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5jZmcuZ2V0UHJvcGVydHkoImJ1dHRvbnMiKSxqLGwsaSxtPWZhbHNlO2lmKG4mJmYuaXNBcnJheShuKSl7aj1uLmxlbmd0aDtpZihqPjApe2w9blsoai0xKV07aWYobCl7aT10aGlzLl9nZXRCdXR0b24obC5odG1sQnV0dG9uKTtpZihpKXt0cnl7aS5mb2N1cygpO209dHJ1ZTt9Y2F0Y2goayl7fX19fX1yZXR1cm4gbTt9LGNvbmZpZ1Bvc3RNZXRob2Q6ZnVuY3Rpb24oaixpLGspe3RoaXMucmVnaXN0ZXJGb3JtKCk7fSx2YWxpZGF0ZTpmdW5jdGlvbigpe3JldHVybiB0cnVlO30sc3VibWl0OmZ1bmN0aW9uKCl7aWYodGhpcy52YWxpZGF0ZSgpKXtpZih0aGlzLmJlZm9yZVN1Ym1pdEV2ZW50LmZpcmUoKSl7dGhpcy5kb1N1Ym1pdCgpO3RoaXMuc3VibWl0RXZlbnQuZmlyZSgpO2lmKHRoaXMuY2ZnLmdldFByb3BlcnR5KCJoaWRlYWZ0ZXJzdWJtaXQiKSl7dGhpcy5oaWRlKCk7fXJldHVybiB0cnVlO31lbHNle3JldHVybiBmYWxzZTt9fWVsc2V7cmV0dXJuIGZhbHNlO319LGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuY2FuY2VsRXZlbnQuZmlyZSgpO3RoaXMuaGlkZSgpO30sZ2V0RGF0YTpmdW5jdGlvbigpe3ZhciBBPXRoaXMuZm9ybSxrLHQsdyxtLHUscixxLGoseCxsLHksQixwLEMsbyx6LHY7ZnVuY3Rpb24gcyhuKXt2YXIgaT1uLnRhZ05hbWUudG9VcHBlckNhc2UoKTtyZXR1cm4oKGk9PSJJTlBVVCJ8fGk9PSJURVhUQVJFQSJ8fGk9PSJTRUxFQ1QiKSYmbi5uYW1lPT1tKTt9aWYoQSl7az1BLmVsZW1lbnRzO3Q9ay5sZW5ndGg7dz17fTtmb3Ioej0wO3o8dDt6Kyspe209a1t6XS5uYW1lO3U9ZS5nZXRFbGVtZW50c0J5KHMsIioiLEEpO3I9dS5sZW5ndGg7aWYocj4wKXtpZihyPT0xKXt1PXVbMF07cT11LnR5cGU7aj11LnRhZ05hbWUudG9VcHBlckNhc2UoKTtzd2l0Y2goail7Y2FzZSJJTlBVVCI6aWYocT09ImNoZWNrYm94Iil7d1ttXT11LmNoZWNrZWQ7fWVsc2V7aWYocSE9InJhZGlvIil7d1ttXT11LnZhbHVlO319YnJlYWs7Y2FzZSJURVhUQVJFQSI6d1ttXT11LnZhbHVlO2JyZWFrO2Nhc2UiU0VMRUNUIjp4PXUub3B0aW9ucztsPXgubGVuZ3RoO3k9W107Zm9yKHY9MDt2PGw7disrKXtCPXhbdl07aWYoQi5zZWxlY3RlZCl7bz1CLmF0dHJpYnV0ZXMudmFsdWU7eVt5Lmxlbmd0aF09KG8mJm8uc3BlY2lmaWVkKT9CLnZhbHVlOkIudGV4dDt9fXdbbV09eTticmVhazt9fWVsc2V7cT11WzBdLnR5cGU7c3dpdGNoKHEpe2Nhc2UicmFkaW8iOmZvcih2PTA7djxyO3YrKyl7cD11W3ZdO2lmKHAuY2hlY2tlZCl7d1ttXT1wLnZhbHVlO2JyZWFrO319YnJlYWs7Y2FzZSJjaGVja2JveCI6eT1bXTtmb3Iodj0wO3Y8cjt2Kyspe0M9dVt2XTtpZihDLmNoZWNrZWQpe3lbeS5sZW5ndGhdPUMudmFsdWU7fX13W21dPXk7YnJlYWs7fX19fX1yZXR1cm4gdzt9LGRlc3Ryb3k6ZnVuY3Rpb24oaSl7ZC5jYWxsKHRoaXMpO3RoaXMuX2FCdXR0b25zPW51bGw7dmFyIGo9dGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJmb3JtIiksaztpZihqLmxlbmd0aD4wKXtrPWpbMF07aWYoayl7Yi5wdXJnZUVsZW1lbnQoayk7aWYoay5wYXJlbnROb2RlKXtrLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoayk7fXRoaXMuZm9ybT1udWxsO319YS5zdXBlcmNsYXNzLmRlc3Ryb3kuY2FsbCh0aGlzLGkpO30sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4iRGlhbG9nICIrdGhpcy5pZDt9fSk7fSgpKTsoZnVuY3Rpb24oKXtZQUhPTy53aWRnZXQuU2ltcGxlRGlhbG9nPWZ1bmN0aW9uKGUsZCl7WUFIT08ud2lkZ2V0LlNpbXBsZURpYWxvZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxlLGQpO307dmFyIGM9WUFIT08udXRpbC5Eb20sYj1ZQUhPTy53aWRnZXQuU2ltcGxlRGlhbG9nLGE9eyJJQ09OIjp7a2V5OiJpY29uIix2YWx1ZToibm9uZSIsc3VwcHJlc3NFdmVudDp0cnVlfSwiVEVYVCI6e2tleToidGV4dCIsdmFsdWU6IiIsc3VwcHJlc3NFdmVudDp0cnVlLHN1cGVyY2VkZXM6WyJpY29uIl19fTtiLklDT05fQkxPQ0s9ImJsY2tpY29uIjtiLklDT05fQUxBUk09ImFscnRpY29uIjtiLklDT05fSEVMUD0iaGxwaWNvbiI7Yi5JQ09OX0lORk89ImluZm9pY29uIjtiLklDT05fV0FSTj0id2Fybmljb24iO2IuSUNPTl9USVA9InRpcGljb24iO2IuSUNPTl9DU1NfQ0xBU1NOQU1FPSJ5dWktaWNvbiI7Yi5DU1NfU0lNUExFRElBTE9HPSJ5dWktc2ltcGxlLWRpYWxvZyI7WUFIT08uZXh0ZW5kKGIsWUFIT08ud2lkZ2V0LkRpYWxvZyx7aW5pdERlZmF1bHRDb25maWc6ZnVuY3Rpb24oKXtiLnN1cGVyY2xhc3MuaW5pdERlZmF1bHRDb25maWcuY2FsbCh0aGlzKTt0aGlzLmNmZy5hZGRQcm9wZXJ0eShhLklDT04ua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnSWNvbix2YWx1ZTphLklDT04udmFsdWUsc3VwcHJlc3NFdmVudDphLklDT04uc3VwcHJlc3NFdmVudH0pO3RoaXMuY2ZnLmFkZFByb3BlcnR5KGEuVEVYVC5rZXkse2hhbmRsZXI6dGhpcy5jb25maWdUZXh0LHZhbHVlOmEuVEVYVC52YWx1ZSxzdXBwcmVzc0V2ZW50OmEuVEVYVC5zdXBwcmVzc0V2ZW50LHN1cGVyY2VkZXM6YS5URVhULnN1cGVyY2VkZXN9KTt9LGluaXQ6ZnVuY3Rpb24oZSxkKXtiLnN1cGVyY2xhc3MuaW5pdC5jYWxsKHRoaXMsZSk7dGhpcy5iZWZvcmVJbml0RXZlbnQuZmlyZShiKTtjLmFkZENsYXNzKHRoaXMuZWxlbWVudCxiLkNTU19TSU1QTEVESUFMT0cpO3RoaXMuY2ZnLnF1ZXVlUHJvcGVydHkoInBvc3RtZXRob2QiLCJtYW51YWwiKTtpZihkKXt0aGlzLmNmZy5hcHBseUNvbmZpZyhkLHRydWUpO310aGlzLmJlZm9yZVJlbmRlckV2ZW50LnN1YnNjcmliZShmdW5jdGlvbigpe2lmKCF0aGlzLmJvZHkpe3RoaXMuc2V0Qm9keSgiIik7fX0sdGhpcyx0cnVlKTt0aGlzLmluaXRFdmVudC5maXJlKGIpO30scmVnaXN0ZXJGb3JtOmZ1bmN0aW9uKCl7Yi5zdXBlcmNsYXNzLnJlZ2lzdGVyRm9ybS5jYWxsKHRoaXMpO3ZhciBlPXRoaXMuZm9ybS5vd25lckRvY3VtZW50LGQ9ZS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2QudHlwZT0iaGlkZGVuIjtkLm5hbWU9dGhpcy5pZDtkLnZhbHVlPSIiO3RoaXMuZm9ybS5hcHBlbmRDaGlsZChkKTt9LGNvbmZpZ0ljb246ZnVuY3Rpb24oayxqLGgpe3ZhciBkPWpbMF0sZT10aGlzLmJvZHksZj1iLklDT05fQ1NTX0NMQVNTTkFNRSxsLGksZztpZihkJiZkIT0ibm9uZSIpe2w9Yy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGYsIioiLGUpO2lmKGwubGVuZ3RoPT09MSl7aT1sWzBdO2c9aS5wYXJlbnROb2RlO2lmKGcpe2cucmVtb3ZlQ2hpbGQoaSk7aT1udWxsO319aWYoZC5pbmRleE9mKCIuIik9PS0xKXtpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtpLmNsYXNzTmFtZT0oZisiICIrZCk7aS5pbm5lckhUTUw9IiYjMTYwOyI7fWVsc2V7aT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtpLnNyYz0odGhpcy5pbWFnZVJvb3QrZCk7aS5jbGFzc05hbWU9Zjt9aWYoaSl7ZS5pbnNlcnRCZWZvcmUoaSxlLmZpcnN0Q2hpbGQpO319fSxjb25maWdUZXh0OmZ1bmN0aW9uKGUsZCxmKXt2YXIgZz1kWzBdO2lmKGcpe3RoaXMuc2V0Qm9keShnKTt0aGlzLmNmZy5yZWZpcmVFdmVudCgiaWNvbiIpO319LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIlNpbXBsZURpYWxvZyAiK3RoaXMuaWQ7fX0pO30oKSk7KGZ1bmN0aW9uKCl7WUFIT08ud2lkZ2V0LkNvbnRhaW5lckVmZmVjdD1mdW5jdGlvbihlLGgsZyxkLGYpe2lmKCFmKXtmPVlBSE9PLnV0aWwuQW5pbTt9dGhpcy5vdmVybGF5PWU7dGhpcy5hdHRySW49aDt0aGlzLmF0dHJPdXQ9Zzt0aGlzLnRhcmdldEVsZW1lbnQ9ZHx8ZS5lbGVtZW50O3RoaXMuYW5pbUNsYXNzPWY7fTt2YXIgYj1ZQUhPTy51dGlsLkRvbSxjPVlBSE9PLnV0aWwuQ3VzdG9tRXZlbnQsYT1ZQUhPTy53aWRnZXQuQ29udGFpbmVyRWZmZWN0O2EuRkFERT1mdW5jdGlvbihkLGYpe3ZhciBnPVlBSE9PLnV0aWwuRWFzaW5nLGk9e2F0dHJpYnV0ZXM6e29wYWNpdHk6e2Zyb206MCx0bzoxfX0sZHVyYXRpb246ZixtZXRob2Q6Zy5lYXNlSW59LGU9e2F0dHJpYnV0ZXM6e29wYWNpdHk6e3RvOjB9fSxkdXJhdGlvbjpmLG1ldGhvZDpnLmVhc2VPdXR9LGg9bmV3IGEoZCxpLGUsZC5lbGVtZW50KTtoLmhhbmRsZVVuZGVybGF5U3RhcnQ9ZnVuY3Rpb24oKXt2YXIgaz10aGlzLm92ZXJsYXkudW5kZXJsYXk7aWYoayYmWUFIT08uZW52LnVhLmllKXt2YXIgaj0oay5maWx0ZXJzJiZrLmZpbHRlcnMubGVuZ3RoPjApO2lmKGope2IuYWRkQ2xhc3MoZC5lbGVtZW50LCJ5dWktZWZmZWN0LWZhZGUiKTt9fX07aC5oYW5kbGVVbmRlcmxheUNvbXBsZXRlPWZ1bmN0aW9uKCl7dmFyIGo9dGhpcy5vdmVybGF5LnVuZGVybGF5O2lmKGomJllBSE9PLmVudi51YS5pZSl7Yi5yZW1vdmVDbGFzcyhkLmVsZW1lbnQsInl1aS1lZmZlY3QtZmFkZSIpO319O2guaGFuZGxlU3RhcnRBbmltYXRlSW49ZnVuY3Rpb24oayxqLGwpe2wub3ZlcmxheS5fZmFkaW5nSW49dHJ1ZTtiLmFkZENsYXNzKGwub3ZlcmxheS5lbGVtZW50LCJoaWRlLXNlbGVjdCIpO2lmKCFsLm92ZXJsYXkudW5kZXJsYXkpe2wub3ZlcmxheS5jZmcucmVmaXJlRXZlbnQoInVuZGVybGF5Iik7Cn1sLmhhbmRsZVVuZGVybGF5U3RhcnQoKTtsLm92ZXJsYXkuX3NldERvbVZpc2liaWxpdHkodHJ1ZSk7Yi5zZXRTdHlsZShsLm92ZXJsYXkuZWxlbWVudCwib3BhY2l0eSIsMCk7fTtoLmhhbmRsZUNvbXBsZXRlQW5pbWF0ZUluPWZ1bmN0aW9uKGssaixsKXtsLm92ZXJsYXkuX2ZhZGluZ0luPWZhbHNlO2IucmVtb3ZlQ2xhc3MobC5vdmVybGF5LmVsZW1lbnQsImhpZGUtc2VsZWN0Iik7aWYobC5vdmVybGF5LmVsZW1lbnQuc3R5bGUuZmlsdGVyKXtsLm92ZXJsYXkuZWxlbWVudC5zdHlsZS5maWx0ZXI9bnVsbDt9bC5oYW5kbGVVbmRlcmxheUNvbXBsZXRlKCk7bC5vdmVybGF5LmNmZy5yZWZpcmVFdmVudCgiaWZyYW1lIik7bC5hbmltYXRlSW5Db21wbGV0ZUV2ZW50LmZpcmUoKTt9O2guaGFuZGxlU3RhcnRBbmltYXRlT3V0PWZ1bmN0aW9uKGssaixsKXtsLm92ZXJsYXkuX2ZhZGluZ091dD10cnVlO2IuYWRkQ2xhc3MobC5vdmVybGF5LmVsZW1lbnQsImhpZGUtc2VsZWN0Iik7bC5oYW5kbGVVbmRlcmxheVN0YXJ0KCk7fTtoLmhhbmRsZUNvbXBsZXRlQW5pbWF0ZU91dD1mdW5jdGlvbihrLGosbCl7bC5vdmVybGF5Ll9mYWRpbmdPdXQ9ZmFsc2U7Yi5yZW1vdmVDbGFzcyhsLm92ZXJsYXkuZWxlbWVudCwiaGlkZS1zZWxlY3QiKTtpZihsLm92ZXJsYXkuZWxlbWVudC5zdHlsZS5maWx0ZXIpe2wub3ZlcmxheS5lbGVtZW50LnN0eWxlLmZpbHRlcj1udWxsO31sLm92ZXJsYXkuX3NldERvbVZpc2liaWxpdHkoZmFsc2UpO2Iuc2V0U3R5bGUobC5vdmVybGF5LmVsZW1lbnQsIm9wYWNpdHkiLDEpO2wuaGFuZGxlVW5kZXJsYXlDb21wbGV0ZSgpO2wub3ZlcmxheS5jZmcucmVmaXJlRXZlbnQoImlmcmFtZSIpO2wuYW5pbWF0ZU91dENvbXBsZXRlRXZlbnQuZmlyZSgpO307aC5pbml0KCk7cmV0dXJuIGg7fTthLlNMSURFPWZ1bmN0aW9uKGYsZCl7dmFyIGk9WUFIT08udXRpbC5FYXNpbmcsbD1mLmNmZy5nZXRQcm9wZXJ0eSgieCIpfHxiLmdldFgoZi5lbGVtZW50KSxrPWYuY2ZnLmdldFByb3BlcnR5KCJ5Iil8fGIuZ2V0WShmLmVsZW1lbnQpLG09Yi5nZXRDbGllbnRXaWR0aCgpLGg9Zi5lbGVtZW50Lm9mZnNldFdpZHRoLGo9e2F0dHJpYnV0ZXM6e3BvaW50czp7dG86W2wsa119fSxkdXJhdGlvbjpkLG1ldGhvZDppLmVhc2VJbn0sZT17YXR0cmlidXRlczp7cG9pbnRzOnt0bzpbKG0rMjUpLGtdfX0sZHVyYXRpb246ZCxtZXRob2Q6aS5lYXNlT3V0fSxnPW5ldyBhKGYsaixlLGYuZWxlbWVudCxZQUhPTy51dGlsLk1vdGlvbik7Zy5oYW5kbGVTdGFydEFuaW1hdGVJbj1mdW5jdGlvbihvLG4scCl7cC5vdmVybGF5LmVsZW1lbnQuc3R5bGUubGVmdD0oKC0yNSktaCkrInB4IjtwLm92ZXJsYXkuZWxlbWVudC5zdHlsZS50b3A9aysicHgiO307Zy5oYW5kbGVUd2VlbkFuaW1hdGVJbj1mdW5jdGlvbihxLHAscil7dmFyIHM9Yi5nZXRYWShyLm92ZXJsYXkuZWxlbWVudCksbz1zWzBdLG49c1sxXTtpZihiLmdldFN0eWxlKHIub3ZlcmxheS5lbGVtZW50LCJ2aXNpYmlsaXR5Iik9PSJoaWRkZW4iJiZvPGwpe3Iub3ZlcmxheS5fc2V0RG9tVmlzaWJpbGl0eSh0cnVlKTt9ci5vdmVybGF5LmNmZy5zZXRQcm9wZXJ0eSgieHkiLFtvLG5dLHRydWUpO3Iub3ZlcmxheS5jZmcucmVmaXJlRXZlbnQoImlmcmFtZSIpO307Zy5oYW5kbGVDb21wbGV0ZUFuaW1hdGVJbj1mdW5jdGlvbihvLG4scCl7cC5vdmVybGF5LmNmZy5zZXRQcm9wZXJ0eSgieHkiLFtsLGtdLHRydWUpO3Auc3RhcnRYPWw7cC5zdGFydFk9aztwLm92ZXJsYXkuY2ZnLnJlZmlyZUV2ZW50KCJpZnJhbWUiKTtwLmFuaW1hdGVJbkNvbXBsZXRlRXZlbnQuZmlyZSgpO307Zy5oYW5kbGVTdGFydEFuaW1hdGVPdXQ9ZnVuY3Rpb24obyxuLHIpe3ZhciBwPWIuZ2V0Vmlld3BvcnRXaWR0aCgpLHM9Yi5nZXRYWShyLm92ZXJsYXkuZWxlbWVudCkscT1zWzFdO3IuYW5pbU91dC5hdHRyaWJ1dGVzLnBvaW50cy50bz1bKHArMjUpLHFdO307Zy5oYW5kbGVUd2VlbkFuaW1hdGVPdXQ9ZnVuY3Rpb24ocCxvLHEpe3ZhciBzPWIuZ2V0WFkocS5vdmVybGF5LmVsZW1lbnQpLG49c1swXSxyPXNbMV07cS5vdmVybGF5LmNmZy5zZXRQcm9wZXJ0eSgieHkiLFtuLHJdLHRydWUpO3Eub3ZlcmxheS5jZmcucmVmaXJlRXZlbnQoImlmcmFtZSIpO307Zy5oYW5kbGVDb21wbGV0ZUFuaW1hdGVPdXQ9ZnVuY3Rpb24obyxuLHApe3Aub3ZlcmxheS5fc2V0RG9tVmlzaWJpbGl0eShmYWxzZSk7cC5vdmVybGF5LmNmZy5zZXRQcm9wZXJ0eSgieHkiLFtsLGtdKTtwLmFuaW1hdGVPdXRDb21wbGV0ZUV2ZW50LmZpcmUoKTt9O2cuaW5pdCgpO3JldHVybiBnO307YS5wcm90b3R5cGU9e2luaXQ6ZnVuY3Rpb24oKXt0aGlzLmJlZm9yZUFuaW1hdGVJbkV2ZW50PXRoaXMuY3JlYXRlRXZlbnQoImJlZm9yZUFuaW1hdGVJbiIpO3RoaXMuYmVmb3JlQW5pbWF0ZUluRXZlbnQuc2lnbmF0dXJlPWMuTElTVDt0aGlzLmJlZm9yZUFuaW1hdGVPdXRFdmVudD10aGlzLmNyZWF0ZUV2ZW50KCJiZWZvcmVBbmltYXRlT3V0Iik7dGhpcy5iZWZvcmVBbmltYXRlT3V0RXZlbnQuc2lnbmF0dXJlPWMuTElTVDt0aGlzLmFuaW1hdGVJbkNvbXBsZXRlRXZlbnQ9dGhpcy5jcmVhdGVFdmVudCgiYW5pbWF0ZUluQ29tcGxldGUiKTt0aGlzLmFuaW1hdGVJbkNvbXBsZXRlRXZlbnQuc2lnbmF0dXJlPWMuTElTVDt0aGlzLmFuaW1hdGVPdXRDb21wbGV0ZUV2ZW50PXRoaXMuY3JlYXRlRXZlbnQoImFuaW1hdGVPdXRDb21wbGV0ZSIpO3RoaXMuYW5pbWF0ZU91dENvbXBsZXRlRXZlbnQuc2lnbmF0dXJlPWMuTElTVDt0aGlzLmFuaW1Jbj1uZXcgdGhpcy5hbmltQ2xhc3ModGhpcy50YXJnZXRFbGVtZW50LHRoaXMuYXR0ckluLmF0dHJpYnV0ZXMsdGhpcy5hdHRySW4uZHVyYXRpb24sdGhpcy5hdHRySW4ubWV0aG9kKTt0aGlzLmFuaW1Jbi5vblN0YXJ0LnN1YnNjcmliZSh0aGlzLmhhbmRsZVN0YXJ0QW5pbWF0ZUluLHRoaXMpO3RoaXMuYW5pbUluLm9uVHdlZW4uc3Vic2NyaWJlKHRoaXMuaGFuZGxlVHdlZW5BbmltYXRlSW4sdGhpcyk7dGhpcy5hbmltSW4ub25Db21wbGV0ZS5zdWJzY3JpYmUodGhpcy5oYW5kbGVDb21wbGV0ZUFuaW1hdGVJbix0aGlzKTt0aGlzLmFuaW1PdXQ9bmV3IHRoaXMuYW5pbUNsYXNzKHRoaXMudGFyZ2V0RWxlbWVudCx0aGlzLmF0dHJPdXQuYXR0cmlidXRlcyx0aGlzLmF0dHJPdXQuZHVyYXRpb24sdGhpcy5hdHRyT3V0Lm1ldGhvZCk7dGhpcy5hbmltT3V0Lm9uU3RhcnQuc3Vic2NyaWJlKHRoaXMuaGFuZGxlU3RhcnRBbmltYXRlT3V0LHRoaXMpO3RoaXMuYW5pbU91dC5vblR3ZWVuLnN1YnNjcmliZSh0aGlzLmhhbmRsZVR3ZWVuQW5pbWF0ZU91dCx0aGlzKTt0aGlzLmFuaW1PdXQub25Db21wbGV0ZS5zdWJzY3JpYmUodGhpcy5oYW5kbGVDb21wbGV0ZUFuaW1hdGVPdXQsdGhpcyk7fSxhbmltYXRlSW46ZnVuY3Rpb24oKXt0aGlzLl9zdG9wQW5pbXModGhpcy5sYXN0RnJhbWVPblN0b3ApO3RoaXMuYmVmb3JlQW5pbWF0ZUluRXZlbnQuZmlyZSgpO3RoaXMuYW5pbUluLmFuaW1hdGUoKTt9LGFuaW1hdGVPdXQ6ZnVuY3Rpb24oKXt0aGlzLl9zdG9wQW5pbXModGhpcy5sYXN0RnJhbWVPblN0b3ApO3RoaXMuYmVmb3JlQW5pbWF0ZU91dEV2ZW50LmZpcmUoKTt0aGlzLmFuaW1PdXQuYW5pbWF0ZSgpO30sbGFzdEZyYW1lT25TdG9wOnRydWUsX3N0b3BBbmltczpmdW5jdGlvbihkKXtpZih0aGlzLmFuaW1PdXQmJnRoaXMuYW5pbU91dC5pc0FuaW1hdGVkKCkpe3RoaXMuYW5pbU91dC5zdG9wKGQpO31pZih0aGlzLmFuaW1JbiYmdGhpcy5hbmltSW4uaXNBbmltYXRlZCgpKXt0aGlzLmFuaW1Jbi5zdG9wKGQpO319LGhhbmRsZVN0YXJ0QW5pbWF0ZUluOmZ1bmN0aW9uKGUsZCxmKXt9LGhhbmRsZVR3ZWVuQW5pbWF0ZUluOmZ1bmN0aW9uKGUsZCxmKXt9LGhhbmRsZUNvbXBsZXRlQW5pbWF0ZUluOmZ1bmN0aW9uKGUsZCxmKXt9LGhhbmRsZVN0YXJ0QW5pbWF0ZU91dDpmdW5jdGlvbihlLGQsZil7fSxoYW5kbGVUd2VlbkFuaW1hdGVPdXQ6ZnVuY3Rpb24oZSxkLGYpe30saGFuZGxlQ29tcGxldGVBbmltYXRlT3V0OmZ1bmN0aW9uKGUsZCxmKXt9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGQ9IkNvbnRhaW5lckVmZmVjdCI7aWYodGhpcy5vdmVybGF5KXtkKz0iIFsiK3RoaXMub3ZlcmxheS50b1N0cmluZygpKyJdIjt9cmV0dXJuIGQ7fX07WUFIT08ubGFuZy5hdWdtZW50UHJvdG8oYSxZQUhPTy51dGlsLkV2ZW50UHJvdmlkZXIpO30pKCk7WUFIT08ucmVnaXN0ZXIoImNvbnRhaW5lciIsWUFIT08ud2lkZ2V0Lk1vZHVsZSx7dmVyc2lvbjoiMi45LjAiLGJ1aWxkOiIyODAwIn0pOw==",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 313,
          "bodySize": 102352
        },
        "cache": {},
        "timings": {
          "send": 2,
          "wait": 6,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27305"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.874-06:00",
        "time": 68,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/yui/connection/connection-min.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 344,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:35 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "4442"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 17676,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "LyoKQ29weXJpZ2h0IChjKSAyMDExLCBZYWhvbyEgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLgpDb2RlIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgTGljZW5zZToKaHR0cDovL2RldmVsb3Blci55YWhvby5jb20veXVpL2xpY2Vuc2UuaHRtbAp2ZXJzaW9uOiAyLjkuMAoqLwpZQUhPTy51dGlsLkNvbm5lY3Q9e19tc3htbF9wcm9naWQ6WyJNaWNyb3NvZnQuWE1MSFRUUCIsIk1TWE1MMi5YTUxIVFRQLjMuMCIsIk1TWE1MMi5YTUxIVFRQIl0sX2h0dHBfaGVhZGVyczp7fSxfaGFzX2h0dHBfaGVhZGVyczpmYWxzZSxfdXNlX2RlZmF1bHRfcG9zdF9oZWFkZXI6dHJ1ZSxfZGVmYXVsdF9wb3N0X2hlYWRlcjoiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixfZGVmYXVsdF9mb3JtX2hlYWRlcjoiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIixfdXNlX2RlZmF1bHRfeGhyX2hlYWRlcjp0cnVlLF9kZWZhdWx0X3hocl9oZWFkZXI6IlhNTEh0dHBSZXF1ZXN0IixfaGFzX2RlZmF1bHRfaGVhZGVyczp0cnVlLF9pc0Zvcm1TdWJtaXQ6ZmFsc2UsX2RlZmF1bHRfaGVhZGVyczp7fSxfcG9sbDp7fSxfdGltZU91dDp7fSxfcG9sbGluZ19pbnRlcnZhbDo1MCxfdHJhbnNhY3Rpb25faWQ6MCxzdGFydEV2ZW50Om5ldyBZQUhPTy51dGlsLkN1c3RvbUV2ZW50KCJzdGFydCIpLGNvbXBsZXRlRXZlbnQ6bmV3IFlBSE9PLnV0aWwuQ3VzdG9tRXZlbnQoImNvbXBsZXRlIiksc3VjY2Vzc0V2ZW50Om5ldyBZQUhPTy51dGlsLkN1c3RvbUV2ZW50KCJzdWNjZXNzIiksZmFpbHVyZUV2ZW50Om5ldyBZQUhPTy51dGlsLkN1c3RvbUV2ZW50KCJmYWlsdXJlIiksYWJvcnRFdmVudDpuZXcgWUFIT08udXRpbC5DdXN0b21FdmVudCgiYWJvcnQiKSxfY3VzdG9tRXZlbnRzOntvblN0YXJ0Olsic3RhcnRFdmVudCIsInN0YXJ0Il0sb25Db21wbGV0ZTpbImNvbXBsZXRlRXZlbnQiLCJjb21wbGV0ZSJdLG9uU3VjY2VzczpbInN1Y2Nlc3NFdmVudCIsInN1Y2Nlc3MiXSxvbkZhaWx1cmU6WyJmYWlsdXJlRXZlbnQiLCJmYWlsdXJlIl0sb25VcGxvYWQ6WyJ1cGxvYWRFdmVudCIsInVwbG9hZCJdLG9uQWJvcnQ6WyJhYm9ydEV2ZW50IiwiYWJvcnQiXX0sc2V0UHJvZ0lkOmZ1bmN0aW9uKGEpe3RoaXMuX21zeG1sX3Byb2dpZC51bnNoaWZ0KGEpO30sc2V0RGVmYXVsdFBvc3RIZWFkZXI6ZnVuY3Rpb24oYSl7aWYodHlwZW9mIGE9PSJzdHJpbmciKXt0aGlzLl9kZWZhdWx0X3Bvc3RfaGVhZGVyPWE7dGhpcy5fdXNlX2RlZmF1bHRfcG9zdF9oZWFkZXI9dHJ1ZTt9ZWxzZXtpZih0eXBlb2YgYT09ImJvb2xlYW4iKXt0aGlzLl91c2VfZGVmYXVsdF9wb3N0X2hlYWRlcj1hO319fSxzZXREZWZhdWx0WGhySGVhZGVyOmZ1bmN0aW9uKGEpe2lmKHR5cGVvZiBhPT0ic3RyaW5nIil7dGhpcy5fZGVmYXVsdF94aHJfaGVhZGVyPWE7fWVsc2V7dGhpcy5fdXNlX2RlZmF1bHRfeGhyX2hlYWRlcj1hO319LHNldFBvbGxpbmdJbnRlcnZhbDpmdW5jdGlvbihhKXtpZih0eXBlb2YgYT09Im51bWJlciImJmlzRmluaXRlKGEpKXt0aGlzLl9wb2xsaW5nX2ludGVydmFsPWE7fX0sY3JlYXRlWGhyT2JqZWN0OmZ1bmN0aW9uKGcpe3ZhciBkLGEsYjt0cnl7YT1uZXcgWE1MSHR0cFJlcXVlc3QoKTtkPXtjb25uOmEsdElkOmcseGhyOnRydWV9O31jYXRjaChjKXtmb3IoYj0wO2I8dGhpcy5fbXN4bWxfcHJvZ2lkLmxlbmd0aDsrK2Ipe3RyeXthPW5ldyBBY3RpdmVYT2JqZWN0KHRoaXMuX21zeG1sX3Byb2dpZFtiXSk7ZD17Y29ubjphLHRJZDpnLHhocjp0cnVlfTticmVhazt9Y2F0Y2goZil7fX19ZmluYWxseXtyZXR1cm4gZDt9fSxnZXRDb25uZWN0aW9uT2JqZWN0OmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcy5fdHJhbnNhY3Rpb25faWQ7dHJ5e2lmKCFhKXtjPXRoaXMuY3JlYXRlWGhyT2JqZWN0KGQpO31lbHNle2M9e3RJZDpkfTtpZihhPT09InhkciIpe2MuY29ubj10aGlzLl90cmFuc3BvcnQ7Yy54ZHI9dHJ1ZTt9ZWxzZXtpZihhPT09InVwbG9hZCIpe2MudXBsb2FkPXRydWU7fX19aWYoYyl7dGhpcy5fdHJhbnNhY3Rpb25faWQrKzt9fWNhdGNoKGIpe31yZXR1cm4gYzt9LGFzeW5jUmVxdWVzdDpmdW5jdGlvbihoLGQsZyxhKXt2YXIgYj1nJiZnLmFyZ3VtZW50P2cuYXJndW1lbnQ6bnVsbCxlPXRoaXMsZixjO2lmKHRoaXMuX2lzRmlsZVVwbG9hZCl7Yz0idXBsb2FkIjt9ZWxzZXtpZihnJiZnLnhkcil7Yz0ieGRyIjt9fWY9dGhpcy5nZXRDb25uZWN0aW9uT2JqZWN0KGMpO2lmKCFmKXtyZXR1cm4gbnVsbDt9ZWxzZXtpZihnJiZnLmN1c3RvbWV2ZW50cyl7dGhpcy5pbml0Q3VzdG9tRXZlbnRzKGYsZyk7fWlmKHRoaXMuX2lzRm9ybVN1Ym1pdCl7aWYodGhpcy5faXNGaWxlVXBsb2FkKXt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2UudXBsb2FkRmlsZShmLGcsZCxhKTt9LDEwKTtyZXR1cm4gZjt9aWYoaC50b1VwcGVyQ2FzZSgpPT0iR0VUIil7aWYodGhpcy5fc0Zvcm1EYXRhLmxlbmd0aCE9PTApe2QrPSgoZC5pbmRleE9mKCI/Iik9PS0xKT8iPyI6IiYiKSt0aGlzLl9zRm9ybURhdGE7fX1lbHNle2lmKGgudG9VcHBlckNhc2UoKT09IlBPU1QiKXthPWE/dGhpcy5fc0Zvcm1EYXRhKyImIithOnRoaXMuX3NGb3JtRGF0YTt9fX1pZihoLnRvVXBwZXJDYXNlKCk9PSJHRVQiJiYoZyYmZy5jYWNoZT09PWZhbHNlKSl7ZCs9KChkLmluZGV4T2YoIj8iKT09LTEpPyI/IjoiJiIpKyJybmQ9IituZXcgRGF0ZSgpLnZhbHVlT2YoKS50b1N0cmluZygpO31pZih0aGlzLl91c2VfZGVmYXVsdF94aHJfaGVhZGVyKXtpZighdGhpcy5fZGVmYXVsdF9oZWFkZXJzWyJYLVJlcXVlc3RlZC1XaXRoIl0pe3RoaXMuaW5pdEhlYWRlcigiWC1SZXF1ZXN0ZWQtV2l0aCIsdGhpcy5fZGVmYXVsdF94aHJfaGVhZGVyLHRydWUpO319aWYoKGgudG9VcHBlckNhc2UoKT09PSJQT1NUIiYmdGhpcy5fdXNlX2RlZmF1bHRfcG9zdF9oZWFkZXIpJiZ0aGlzLl9pc0Zvcm1TdWJtaXQ9PT1mYWxzZSl7dGhpcy5pbml0SGVhZGVyKCJDb250ZW50LVR5cGUiLHRoaXMuX2RlZmF1bHRfcG9zdF9oZWFkZXIpO31pZihmLnhkcil7dGhpcy54ZHIoZixoLGQsZyxhKTtyZXR1cm4gZjt9Zi5jb25uLm9wZW4oaCxkLHRydWUpO2lmKHRoaXMuX2hhc19kZWZhdWx0X2hlYWRlcnN8fHRoaXMuX2hhc19odHRwX2hlYWRlcnMpe3RoaXMuc2V0SGVhZGVyKGYpO310aGlzLmhhbmRsZVJlYWR5U3RhdGUoZixnKTtmLmNvbm4uc2VuZChhfHwiIik7aWYodGhpcy5faXNGb3JtU3VibWl0PT09dHJ1ZSl7dGhpcy5yZXNldEZvcm1TdGF0ZSgpO310aGlzLnN0YXJ0RXZlbnQuZmlyZShmLGIpO2lmKGYuc3RhcnRFdmVudCl7Zi5zdGFydEV2ZW50LmZpcmUoZixiKTt9cmV0dXJuIGY7fX0saW5pdEN1c3RvbUV2ZW50czpmdW5jdGlvbihhLGMpe3ZhciBiO2ZvcihiIGluIGMuY3VzdG9tZXZlbnRzKXtpZih0aGlzLl9jdXN0b21FdmVudHNbYl1bMF0pe2FbdGhpcy5fY3VzdG9tRXZlbnRzW2JdWzBdXT1uZXcgWUFIT08udXRpbC5DdXN0b21FdmVudCh0aGlzLl9jdXN0b21FdmVudHNbYl1bMV0sKGMuc2NvcGUpP2Muc2NvcGU6bnVsbCk7YVt0aGlzLl9jdXN0b21FdmVudHNbYl1bMF1dLnN1YnNjcmliZShjLmN1c3RvbWV2ZW50c1tiXSk7fX19LGhhbmRsZVJlYWR5U3RhdGU6ZnVuY3Rpb24oYyxkKXt2YXIgYj10aGlzLGE9KGQmJmQuYXJndW1lbnQpP2QuYXJndW1lbnQ6bnVsbDtpZihkJiZkLnRpbWVvdXQpe3RoaXMuX3RpbWVPdXRbYy50SWRdPXdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5hYm9ydChjLGQsdHJ1ZSk7fSxkLnRpbWVvdXQpO310aGlzLl9wb2xsW2MudElkXT13aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZihjLmNvbm4mJmMuY29ubi5yZWFkeVN0YXRlPT09NCl7d2luZG93LmNsZWFySW50ZXJ2YWwoYi5fcG9sbFtjLnRJZF0pO2RlbGV0ZSBiLl9wb2xsW2MudElkXTtpZihkJiZkLnRpbWVvdXQpe3dpbmRvdy5jbGVhclRpbWVvdXQoYi5fdGltZU91dFtjLnRJZF0pO2RlbGV0ZSBiLl90aW1lT3V0W2MudElkXTt9Yi5jb21wbGV0ZUV2ZW50LmZpcmUoYyxhKTtpZihjLmNvbXBsZXRlRXZlbnQpe2MuY29tcGxldGVFdmVudC5maXJlKGMsYSk7fWIuaGFuZGxlVHJhbnNhY3Rpb25SZXNwb25zZShjLGQpO319LHRoaXMuX3BvbGxpbmdfaW50ZXJ2YWwpO30saGFuZGxlVHJhbnNhY3Rpb25SZXNwb25zZTpmdW5jdGlvbihiLGosZCl7dmFyIGYsYSxoPShqJiZqLmFyZ3VtZW50KT9qLmFyZ3VtZW50Om51bGwsYz0oYi5yJiZiLnIuc3RhdHVzVGV4dD09PSJ4ZHI6c3VjY2VzcyIpP3RydWU6ZmFsc2UsaT0oYi5yJiZiLnIuc3RhdHVzVGV4dD09PSJ4ZHI6ZmFpbHVyZSIpP3RydWU6ZmFsc2Usaz1kO3RyeXtpZigoYi5jb25uLnN0YXR1cyE9PXVuZGVmaW5lZCYmYi5jb25uLnN0YXR1cyE9PTApfHxjKXtmPWIuY29ubi5zdGF0dXM7fWVsc2V7aWYoaSYmIWspe2Y9MDt9ZWxzZXtmPTEzMDMwO319fWNhdGNoKGcpe2Y9MTMwMzA7fWlmKChmPj0yMDAmJmY8MzAwKXx8Zj09PTEyMjN8fGMpe2E9Yi54ZHI/Yi5yOnRoaXMuY3JlYXRlUmVzcG9uc2VPYmplY3QoYixoKTtpZihqJiZqLnN1Y2Nlc3Mpe2lmKCFqLnNjb3BlKXtqLnN1Y2Nlc3MoYSk7fWVsc2V7ai5zdWNjZXNzLmFwcGx5KGouc2NvcGUsW2FdKTt9fXRoaXMuc3VjY2Vzc0V2ZW50LmZpcmUoYSk7aWYoYi5zdWNjZXNzRXZlbnQpe2Iuc3VjY2Vzc0V2ZW50LmZpcmUoYSk7fX1lbHNle3N3aXRjaChmKXtjYXNlIDEyMDAyOmNhc2UgMTIwMjk6Y2FzZSAxMjAzMDpjYXNlIDEyMDMxOmNhc2UgMTIxNTI6Y2FzZSAxMzAzMDphPXRoaXMuY3JlYXRlRXhjZXB0aW9uT2JqZWN0KGIudElkLGgsKGQ/ZDpmYWxzZSkpO2lmKGomJmouZmFpbHVyZSl7aWYoIWouc2NvcGUpe2ouZmFpbHVyZShhKTt9ZWxzZXtqLmZhaWx1cmUuYXBwbHkoai5zY29wZSxbYV0pO319YnJlYWs7ZGVmYXVsdDphPShiLnhkcik/Yi5yZXNwb25zZTp0aGlzLmNyZWF0ZVJlc3BvbnNlT2JqZWN0KGIsaCk7aWYoaiYmai5mYWlsdXJlKXtpZighai5zY29wZSl7ai5mYWlsdXJlKGEpO31lbHNle2ouZmFpbHVyZS5hcHBseShqLnNjb3BlLFthXSk7fX19dGhpcy5mYWlsdXJlRXZlbnQuZmlyZShhKTtpZihiLmZhaWx1cmVFdmVudCl7Yi5mYWlsdXJlRXZlbnQuZmlyZShhKTt9fXRoaXMucmVsZWFzZU9iamVjdChiKTthPW51bGw7fSxjcmVhdGVSZXNwb25zZU9iamVjdDpmdW5jdGlvbihhLGgpe3ZhciBkPXt9LGs9e30sZixjLGcsYjt0cnl7Yz1hLmNvbm4uZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCk7Zz1jLnNwbGl0KCJcbiIpO2ZvcihmPTA7ZjxnLmxlbmd0aDtmKyspe2I9Z1tmXS5pbmRleE9mKCI6Iik7aWYoYiE9LTEpe2tbZ1tmXS5zdWJzdHJpbmcoMCxiKV09WUFIT08ubGFuZy50cmltKGdbZl0uc3Vic3RyaW5nKGIrMikpO319fWNhdGNoKGope31kLnRJZD1hLnRJZDtkLnN0YXR1cz0oYS5jb25uLnN0YXR1cz09MTIyMyk/MjA0OmEuY29ubi5zdGF0dXM7ZC5zdGF0dXNUZXh0PShhLmNvbm4uc3RhdHVzPT0xMjIzKT8iTm8gQ29udGVudCI6YS5jb25uLnN0YXR1c1RleHQ7ZC5nZXRSZXNwb25zZUhlYWRlcj1rO2QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzPWM7ZC5yZXNwb25zZVRleHQ9YS5jb25uLnJlc3BvbnNlVGV4dDtkLnJlc3BvbnNlWE1MPWEuY29ubi5yZXNwb25zZVhNTDtpZihoKXtkLmFyZ3VtZW50PWg7fXJldHVybiBkO30sY3JlYXRlRXhjZXB0aW9uT2JqZWN0OmZ1bmN0aW9uKGgsZCxhKXt2YXIgZj0wLGc9ImNvbW11bmljYXRpb24gZmFpbHVyZSIsYz0tMSxiPSJ0cmFuc2FjdGlvbiBhYm9ydGVkIixlPXt9O2UudElkPWg7aWYoYSl7ZS5zdGF0dXM9YztlLnN0YXR1c1RleHQ9Yjt9ZWxzZXtlLnN0YXR1cz1mO2Uuc3RhdHVzVGV4dD1nO31pZihkKXtlLmFyZ3VtZW50PWQ7fXJldHVybiBlO30saW5pdEhlYWRlcjpmdW5jdGlvbihhLGQsYyl7dmFyIGI9KGMpP3RoaXMuX2RlZmF1bHRfaGVhZGVyczp0aGlzLl9odHRwX2hlYWRlcnM7YlthXT1kO2lmKGMpe3RoaXMuX2hhc19kZWZhdWx0X2hlYWRlcnM9dHJ1ZTt9ZWxzZXt0aGlzLl9oYXNfaHR0cF9oZWFkZXJzPXRydWU7fX0sc2V0SGVhZGVyOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKHRoaXMuX2hhc19kZWZhdWx0X2hlYWRlcnMpe2ZvcihiIGluIHRoaXMuX2RlZmF1bHRfaGVhZGVycyl7aWYoWUFIT08ubGFuZy5oYXNPd25Qcm9wZXJ0eSh0aGlzLl9kZWZhdWx0X2hlYWRlcnMsYikpe2EuY29ubi5zZXRSZXF1ZXN0SGVhZGVyKGIsdGhpcy5fZGVmYXVsdF9oZWFkZXJzW2JdKTsKfX19aWYodGhpcy5faGFzX2h0dHBfaGVhZGVycyl7Zm9yKGIgaW4gdGhpcy5faHR0cF9oZWFkZXJzKXtpZihZQUhPTy5sYW5nLmhhc093blByb3BlcnR5KHRoaXMuX2h0dHBfaGVhZGVycyxiKSl7YS5jb25uLnNldFJlcXVlc3RIZWFkZXIoYix0aGlzLl9odHRwX2hlYWRlcnNbYl0pO319dGhpcy5faHR0cF9oZWFkZXJzPXt9O3RoaXMuX2hhc19odHRwX2hlYWRlcnM9ZmFsc2U7fX0scmVzZXREZWZhdWx0SGVhZGVyczpmdW5jdGlvbigpe3RoaXMuX2RlZmF1bHRfaGVhZGVycz17fTt0aGlzLl9oYXNfZGVmYXVsdF9oZWFkZXJzPWZhbHNlO30sYWJvcnQ6ZnVuY3Rpb24oZSxnLGEpe3ZhciBkLGI9KGcmJmcuYXJndW1lbnQpP2cuYXJndW1lbnQ6bnVsbDtlPWV8fHt9O2lmKGUuY29ubil7aWYoZS54aHIpe2lmKHRoaXMuaXNDYWxsSW5Qcm9ncmVzcyhlKSl7ZS5jb25uLmFib3J0KCk7d2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fcG9sbFtlLnRJZF0pO2RlbGV0ZSB0aGlzLl9wb2xsW2UudElkXTtpZihhKXt3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVPdXRbZS50SWRdKTtkZWxldGUgdGhpcy5fdGltZU91dFtlLnRJZF07fWQ9dHJ1ZTt9fWVsc2V7aWYoZS54ZHIpe2UuY29ubi5hYm9ydChlLnRJZCk7ZD10cnVlO319fWVsc2V7aWYoZS51cGxvYWQpe3ZhciBjPSJ5dWlJTyIrZS50SWQ7dmFyIGY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYyk7aWYoZil7WUFIT08udXRpbC5FdmVudC5yZW1vdmVMaXN0ZW5lcihmLCJsb2FkIik7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChmKTtpZihhKXt3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVPdXRbZS50SWRdKTtkZWxldGUgdGhpcy5fdGltZU91dFtlLnRJZF07fWQ9dHJ1ZTt9fWVsc2V7ZD1mYWxzZTt9fWlmKGQ9PT10cnVlKXt0aGlzLmFib3J0RXZlbnQuZmlyZShlLGIpO2lmKGUuYWJvcnRFdmVudCl7ZS5hYm9ydEV2ZW50LmZpcmUoZSxiKTt9dGhpcy5oYW5kbGVUcmFuc2FjdGlvblJlc3BvbnNlKGUsZyx0cnVlKTt9cmV0dXJuIGQ7fSxpc0NhbGxJblByb2dyZXNzOmZ1bmN0aW9uKGEpe2E9YXx8e307aWYoYS54aHImJmEuY29ubil7cmV0dXJuIGEuY29ubi5yZWFkeVN0YXRlIT09NCYmYS5jb25uLnJlYWR5U3RhdGUhPT0wO31lbHNle2lmKGEueGRyJiZhLmNvbm4pe3JldHVybiBhLmNvbm4uaXNDYWxsSW5Qcm9ncmVzcyhhLnRJZCk7fWVsc2V7aWYoYS51cGxvYWQ9PT10cnVlKXtyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInl1aUlPIithLnRJZCk/dHJ1ZTpmYWxzZTt9ZWxzZXtyZXR1cm4gZmFsc2U7fX19fSxyZWxlYXNlT2JqZWN0OmZ1bmN0aW9uKGEpe2lmKGEmJmEuY29ubil7YS5jb25uPW51bGw7YT1udWxsO319fTsoZnVuY3Rpb24oKXt2YXIgZz1ZQUhPTy51dGlsLkNvbm5lY3QsaD17fTtmdW5jdGlvbiBkKGkpe3ZhciBqPSc8b2JqZWN0IGlkPSJZVUlDb25uZWN0aW9uU3dmIiB0eXBlPSJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCIgZGF0YT0iJytpKyciIHdpZHRoPSIwIiBoZWlnaHQ9IjAiPicrJzxwYXJhbSBuYW1lPSJtb3ZpZSIgdmFsdWU9IicraSsnIj4nKyc8cGFyYW0gbmFtZT0iYWxsb3dTY3JpcHRBY2Nlc3MiIHZhbHVlPSJhbHdheXMiPicrIjwvb2JqZWN0PiIsaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGspO2suaW5uZXJIVE1MPWo7fWZ1bmN0aW9uIGIobCxpLGosbixrKXtoW3BhcnNlSW50KGwudElkKV09eyJvIjpsLCJjIjpufTtpZihrKXtuLm1ldGhvZD1pO24uZGF0YT1rO31sLmNvbm4uc2VuZChqLG4sbC50SWQpO31mdW5jdGlvbiBlKGkpe2QoaSk7Zy5fdHJhbnNwb3J0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJZVUlDb25uZWN0aW9uU3dmIik7fWZ1bmN0aW9uIGMoKXtnLnhkclJlYWR5RXZlbnQuZmlyZSgpO31mdW5jdGlvbiBhKGosaSl7aWYoail7Zy5zdGFydEV2ZW50LmZpcmUoaixpLmFyZ3VtZW50KTtpZihqLnN0YXJ0RXZlbnQpe2ouc3RhcnRFdmVudC5maXJlKGosaS5hcmd1bWVudCk7fX19ZnVuY3Rpb24gZihqKXt2YXIgaz1oW2oudElkXS5vLGk9aFtqLnRJZF0uYztpZihqLnN0YXR1c1RleHQ9PT0ieGRyOnN0YXJ0Iil7YShrLGkpO3JldHVybjt9ai5yZXNwb25zZVRleHQ9ZGVjb2RlVVJJKGoucmVzcG9uc2VUZXh0KTtrLnI9ajtpZihpLmFyZ3VtZW50KXtrLnIuYXJndW1lbnQ9aS5hcmd1bWVudDt9dGhpcy5oYW5kbGVUcmFuc2FjdGlvblJlc3BvbnNlKGssaSxqLnN0YXR1c1RleHQ9PT0ieGRyOmFib3J0Ij90cnVlOmZhbHNlKTtkZWxldGUgaFtqLnRJZF07fWcueGRyPWI7Zy5zd2Y9ZDtnLnRyYW5zcG9ydD1lO2cueGRyUmVhZHlFdmVudD1uZXcgWUFIT08udXRpbC5DdXN0b21FdmVudCgieGRyUmVhZHkiKTtnLnhkclJlYWR5PWM7Zy5oYW5kbGVYZHJSZXNwb25zZT1mO30pKCk7KGZ1bmN0aW9uKCl7dmFyIGU9WUFIT08udXRpbC5Db25uZWN0LGc9WUFIT08udXRpbC5FdmVudCxhPWRvY3VtZW50LmRvY3VtZW50TW9kZT9kb2N1bWVudC5kb2N1bWVudE1vZGU6ZmFsc2U7ZS5faXNGaWxlVXBsb2FkPWZhbHNlO2UuX2Zvcm1Ob2RlPW51bGw7ZS5fc0Zvcm1EYXRhPW51bGw7ZS5fc3VibWl0RWxlbWVudFZhbHVlPW51bGw7ZS51cGxvYWRFdmVudD1uZXcgWUFIT08udXRpbC5DdXN0b21FdmVudCgidXBsb2FkIik7ZS5faGFzU3VibWl0TGlzdGVuZXI9ZnVuY3Rpb24oKXtpZihnKXtnLmFkZExpc3RlbmVyKGRvY3VtZW50LCJjbGljayIsZnVuY3Rpb24oayl7dmFyIGo9Zy5nZXRUYXJnZXQoayksaT1qLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoKGk9PT0iaW5wdXQifHxpPT09ImJ1dHRvbiIpJiYoai50eXBlJiZqLnR5cGUudG9Mb3dlckNhc2UoKT09InN1Ym1pdCIpKXtlLl9zdWJtaXRFbGVtZW50VmFsdWU9ZW5jb2RlVVJJQ29tcG9uZW50KGoubmFtZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChqLnZhbHVlKTt9fSk7cmV0dXJuIHRydWU7fXJldHVybiBmYWxzZTt9KCk7ZnVuY3Rpb24gaCh3LHIsbSl7dmFyIHYsbCx1LHMseix0PWZhbHNlLHA9W10seT0wLG8scSxuLHgsazt0aGlzLnJlc2V0Rm9ybVN0YXRlKCk7aWYodHlwZW9mIHc9PSJzdHJpbmciKXt2PShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh3KXx8ZG9jdW1lbnQuZm9ybXNbd10pO31lbHNle2lmKHR5cGVvZiB3PT0ib2JqZWN0Iil7dj13O31lbHNle3JldHVybjt9fWlmKHIpe3RoaXMuY3JlYXRlRnJhbWUobT9tOm51bGwpO3RoaXMuX2lzRm9ybVN1Ym1pdD10cnVlO3RoaXMuX2lzRmlsZVVwbG9hZD10cnVlO3RoaXMuX2Zvcm1Ob2RlPXY7cmV0dXJuO31mb3Iobz0wLHE9di5lbGVtZW50cy5sZW5ndGg7bzxxOysrbyl7bD12LmVsZW1lbnRzW29dO3o9bC5kaXNhYmxlZDt1PWwubmFtZTtpZigheiYmdSl7dT1lbmNvZGVVUklDb21wb25lbnQodSkrIj0iO3M9ZW5jb2RlVVJJQ29tcG9uZW50KGwudmFsdWUpO3N3aXRjaChsLnR5cGUpe2Nhc2Uic2VsZWN0LW9uZSI6aWYobC5zZWxlY3RlZEluZGV4Pi0xKXtrPWwub3B0aW9uc1tsLnNlbGVjdGVkSW5kZXhdO3BbeSsrXT11K2VuY29kZVVSSUNvbXBvbmVudCgoay5hdHRyaWJ1dGVzLnZhbHVlJiZrLmF0dHJpYnV0ZXMudmFsdWUuc3BlY2lmaWVkKT9rLnZhbHVlOmsudGV4dCk7fWJyZWFrO2Nhc2Uic2VsZWN0LW11bHRpcGxlIjppZihsLnNlbGVjdGVkSW5kZXg+LTEpe2ZvcihuPWwuc2VsZWN0ZWRJbmRleCx4PWwub3B0aW9ucy5sZW5ndGg7bjx4Oysrbil7az1sLm9wdGlvbnNbbl07aWYoay5zZWxlY3RlZCl7cFt5KytdPXUrZW5jb2RlVVJJQ29tcG9uZW50KChrLmF0dHJpYnV0ZXMudmFsdWUmJmsuYXR0cmlidXRlcy52YWx1ZS5zcGVjaWZpZWQpP2sudmFsdWU6ay50ZXh0KTt9fX1icmVhaztjYXNlInJhZGlvIjpjYXNlImNoZWNrYm94IjppZihsLmNoZWNrZWQpe3BbeSsrXT11K3M7fWJyZWFrO2Nhc2UiZmlsZSI6Y2FzZSB1bmRlZmluZWQ6Y2FzZSJyZXNldCI6Y2FzZSJidXR0b24iOmJyZWFrO2Nhc2Uic3VibWl0IjppZih0PT09ZmFsc2Upe2lmKHRoaXMuX2hhc1N1Ym1pdExpc3RlbmVyJiZ0aGlzLl9zdWJtaXRFbGVtZW50VmFsdWUpe3BbeSsrXT10aGlzLl9zdWJtaXRFbGVtZW50VmFsdWU7fXQ9dHJ1ZTt9YnJlYWs7ZGVmYXVsdDpwW3krK109dStzO319fXRoaXMuX2lzRm9ybVN1Ym1pdD10cnVlO3RoaXMuX3NGb3JtRGF0YT1wLmpvaW4oIiYiKTt0aGlzLmluaXRIZWFkZXIoIkNvbnRlbnQtVHlwZSIsdGhpcy5fZGVmYXVsdF9mb3JtX2hlYWRlcik7cmV0dXJuIHRoaXMuX3NGb3JtRGF0YTt9ZnVuY3Rpb24gZCgpe3RoaXMuX2lzRm9ybVN1Ym1pdD1mYWxzZTt0aGlzLl9pc0ZpbGVVcGxvYWQ9ZmFsc2U7dGhpcy5fZm9ybU5vZGU9bnVsbDt0aGlzLl9zRm9ybURhdGE9IiI7fWZ1bmN0aW9uIGMoaSl7dmFyIGo9Inl1aUlPIit0aGlzLl90cmFuc2FjdGlvbl9pZCxsPShhPT09OSk/dHJ1ZTpmYWxzZSxrO2lmKFlBSE9PLmVudi51YS5pZSYmIWwpe2s9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnPGlmcmFtZSBpZD0iJytqKyciIG5hbWU9IicraisnIiAvPicpO2lmKHR5cGVvZiBpPT0iYm9vbGVhbiIpe2suc3JjPSJqYXZhc2NyaXB0OmZhbHNlIjt9fWVsc2V7az1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTtrLmlkPWo7ay5uYW1lPWo7fWsuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtrLnN0eWxlLnRvcD0iLTEwMDBweCI7ay5zdHlsZS5sZWZ0PSItMTAwMHB4Ijtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGspO31mdW5jdGlvbiBmKGope3ZhciBtPVtdLGs9ai5zcGxpdCgiJiIpLGwsbjtmb3IobD0wO2w8ay5sZW5ndGg7bCsrKXtuPWtbbF0uaW5kZXhPZigiPSIpO2lmKG4hPS0xKXttW2xdPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7bVtsXS50eXBlPSJoaWRkZW4iO21bbF0ubmFtZT1kZWNvZGVVUklDb21wb25lbnQoa1tsXS5zdWJzdHJpbmcoMCxuKSk7bVtsXS52YWx1ZT1kZWNvZGVVUklDb21wb25lbnQoa1tsXS5zdWJzdHJpbmcobisxKSk7dGhpcy5fZm9ybU5vZGUuYXBwZW5kQ2hpbGQobVtsXSk7fX1yZXR1cm4gbTt9ZnVuY3Rpb24gYihtLHksbixsKXt2YXIgdD0ieXVpSU8iK20udElkLHU9Im11bHRpcGFydC9mb3JtLWRhdGEiLHc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCkscD0oYT49OCk/dHJ1ZTpmYWxzZSx6PXRoaXMsdj0oeSYmeS5hcmd1bWVudCk/eS5hcmd1bWVudDpudWxsLHgscyxrLHIsaixxO2o9e2FjdGlvbjp0aGlzLl9mb3JtTm9kZS5nZXRBdHRyaWJ1dGUoImFjdGlvbiIpLG1ldGhvZDp0aGlzLl9mb3JtTm9kZS5nZXRBdHRyaWJ1dGUoIm1ldGhvZCIpLHRhcmdldDp0aGlzLl9mb3JtTm9kZS5nZXRBdHRyaWJ1dGUoInRhcmdldCIpfTt0aGlzLl9mb3JtTm9kZS5zZXRBdHRyaWJ1dGUoImFjdGlvbiIsbik7dGhpcy5fZm9ybU5vZGUuc2V0QXR0cmlidXRlKCJtZXRob2QiLCJQT1NUIik7dGhpcy5fZm9ybU5vZGUuc2V0QXR0cmlidXRlKCJ0YXJnZXQiLHQpO2lmKFlBSE9PLmVudi51YS5pZSYmIXApe3RoaXMuX2Zvcm1Ob2RlLnNldEF0dHJpYnV0ZSgiZW5jb2RpbmciLHUpO31lbHNle3RoaXMuX2Zvcm1Ob2RlLnNldEF0dHJpYnV0ZSgiZW5jdHlwZSIsdSk7fWlmKGwpe3g9dGhpcy5hcHBlbmRQb3N0RGF0YShsKTt9dGhpcy5fZm9ybU5vZGUuc3VibWl0KCk7dGhpcy5zdGFydEV2ZW50LmZpcmUobSx2KTtpZihtLnN0YXJ0RXZlbnQpe20uc3RhcnRFdmVudC5maXJlKG0sdik7fWlmKHkmJnkudGltZW91dCl7dGhpcy5fdGltZU91dFttLnRJZF09d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt6LmFib3J0KG0seSx0cnVlKTt9LHkudGltZW91dCk7fWlmKHgmJngubGVuZ3RoPjApe2ZvcihzPTA7czx4Lmxlbmd0aDtzKyspe3RoaXMuX2Zvcm1Ob2RlLnJlbW92ZUNoaWxkKHhbc10pO319Zm9yKGsgaW4gail7aWYoWUFIT08ubGFuZy5oYXNPd25Qcm9wZXJ0eShqLGspKXtpZihqW2tdKXt0aGlzLl9mb3JtTm9kZS5zZXRBdHRyaWJ1dGUoayxqW2tdKTt9ZWxzZXt0aGlzLl9mb3JtTm9kZS5yZW1vdmVBdHRyaWJ1dGUoayk7fX19dGhpcy5yZXNldEZvcm1TdGF0ZSgpOwpxPWZ1bmN0aW9uKCl7dmFyIGksQSxCO2lmKHkmJnkudGltZW91dCl7d2luZG93LmNsZWFyVGltZW91dCh6Ll90aW1lT3V0W20udElkXSk7ZGVsZXRlIHouX3RpbWVPdXRbbS50SWRdO316LmNvbXBsZXRlRXZlbnQuZmlyZShtLHYpO2lmKG0uY29tcGxldGVFdmVudCl7bS5jb21wbGV0ZUV2ZW50LmZpcmUobSx2KTt9cj17dElkOm0udElkLGFyZ3VtZW50OnZ9O3RyeXtpPXcuY29udGVudFdpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdO0E9dy5jb250ZW50V2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwcmUiKVswXTtpZihpKXtpZihBKXtCPUEudGV4dENvbnRlbnQ/QS50ZXh0Q29udGVudDpBLmlubmVyVGV4dDt9ZWxzZXtCPWkudGV4dENvbnRlbnQ/aS50ZXh0Q29udGVudDppLmlubmVyVGV4dDt9fXIucmVzcG9uc2VUZXh0PUI7ci5yZXNwb25zZVhNTD13LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuWE1MRG9jdW1lbnQ/dy5jb250ZW50V2luZG93LmRvY3VtZW50LlhNTERvY3VtZW50OncuY29udGVudFdpbmRvdy5kb2N1bWVudDt9Y2F0Y2gobyl7fWlmKHkmJnkudXBsb2FkKXtpZigheS5zY29wZSl7eS51cGxvYWQocik7fWVsc2V7eS51cGxvYWQuYXBwbHkoeS5zY29wZSxbcl0pO319ei51cGxvYWRFdmVudC5maXJlKHIpO2lmKG0udXBsb2FkRXZlbnQpe20udXBsb2FkRXZlbnQuZmlyZShyKTt9Zy5yZW1vdmVMaXN0ZW5lcih3LCJsb2FkIixxKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh3KTt6LnJlbGVhc2VPYmplY3QobSk7fSwxMDApO307Zy5hZGRMaXN0ZW5lcih3LCJsb2FkIixxKTt9ZS5zZXRGb3JtPWg7ZS5yZXNldEZvcm1TdGF0ZT1kO2UuY3JlYXRlRnJhbWU9YztlLmFwcGVuZFBvc3REYXRhPWY7ZS51cGxvYWRGaWxlPWI7fSkoKTtZQUhPTy5yZWdpc3RlcigiY29ubmVjdGlvbiIsWUFIT08udXRpbC5Db25uZWN0LHt2ZXJzaW9uOiIyLjkuMCIsYnVpbGQ6IjI4MDAifSk7",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 17676
        },
        "cache": {},
        "timings": {
          "send": 9,
          "wait": 0,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27307"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.874-06:00",
        "time": 69,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/yui/datasource/datasource-min.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 344,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:35 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "8229"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 43544,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "LyoKQ29weXJpZ2h0IChjKSAyMDExLCBZYWhvbyEgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLgpDb2RlIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgTGljZW5zZToKaHR0cDovL2RldmVsb3Blci55YWhvby5jb20veXVpL2xpY2Vuc2UuaHRtbAp2ZXJzaW9uOiAyLjkuMAoqLwooZnVuY3Rpb24oKXt2YXIgbGFuZz1ZQUhPTy5sYW5nLHV0aWw9WUFIT08udXRpbCxFdj11dGlsLkV2ZW50O3V0aWwuRGF0YVNvdXJjZUJhc2U9ZnVuY3Rpb24ob0xpdmVEYXRhLG9Db25maWdzKXtpZihvTGl2ZURhdGE9PT1udWxsfHxvTGl2ZURhdGE9PT11bmRlZmluZWQpe3JldHVybjt9dGhpcy5saXZlRGF0YT1vTGl2ZURhdGE7dGhpcy5fb1F1ZXVlPXtpbnRlcnZhbDpudWxsLGNvbm46bnVsbCxyZXF1ZXN0czpbXX07dGhpcy5yZXNwb25zZVNjaGVtYT17fTtpZihvQ29uZmlncyYmKG9Db25maWdzLmNvbnN0cnVjdG9yPT1PYmplY3QpKXtmb3IodmFyIHNDb25maWcgaW4gb0NvbmZpZ3Mpe2lmKHNDb25maWcpe3RoaXNbc0NvbmZpZ109b0NvbmZpZ3Nbc0NvbmZpZ107fX19dmFyIG1heENhY2hlRW50cmllcz10aGlzLm1heENhY2hlRW50cmllcztpZighbGFuZy5pc051bWJlcihtYXhDYWNoZUVudHJpZXMpfHwobWF4Q2FjaGVFbnRyaWVzPDApKXttYXhDYWNoZUVudHJpZXM9MDt9dGhpcy5fYUludGVydmFscz1bXTt0aGlzLmNyZWF0ZUV2ZW50KCJjYWNoZVJlcXVlc3RFdmVudCIpO3RoaXMuY3JlYXRlRXZlbnQoImNhY2hlUmVzcG9uc2VFdmVudCIpO3RoaXMuY3JlYXRlRXZlbnQoInJlcXVlc3RFdmVudCIpO3RoaXMuY3JlYXRlRXZlbnQoInJlc3BvbnNlRXZlbnQiKTt0aGlzLmNyZWF0ZUV2ZW50KCJyZXNwb25zZVBhcnNlRXZlbnQiKTt0aGlzLmNyZWF0ZUV2ZW50KCJyZXNwb25zZUNhY2hlRXZlbnQiKTt0aGlzLmNyZWF0ZUV2ZW50KCJkYXRhRXJyb3JFdmVudCIpO3RoaXMuY3JlYXRlRXZlbnQoImNhY2hlRmx1c2hFdmVudCIpO3ZhciBEUz11dGlsLkRhdGFTb3VyY2VCYXNlO3RoaXMuX3NOYW1lPSJEYXRhU291cmNlIGluc3RhbmNlIitEUy5fbkluZGV4O0RTLl9uSW5kZXgrKzt9O3ZhciBEUz11dGlsLkRhdGFTb3VyY2VCYXNlO2xhbmcuYXVnbWVudE9iamVjdChEUyx7VFlQRV9VTktOT1dOOi0xLFRZUEVfSlNBUlJBWTowLFRZUEVfSlNGVU5DVElPTjoxLFRZUEVfWEhSOjIsVFlQRV9KU09OOjMsVFlQRV9YTUw6NCxUWVBFX1RFWFQ6NSxUWVBFX0hUTUxUQUJMRTo2LFRZUEVfU0NSSVBUTk9ERTo3LFRZUEVfTE9DQUw6OCxFUlJPUl9EQVRBSU5WQUxJRDoiSW52YWxpZCBkYXRhIixFUlJPUl9EQVRBTlVMTDoiTnVsbCBkYXRhIixfbkluZGV4OjAsX25UcmFuc2FjdGlvbklkOjAsX2Nsb25lT2JqZWN0OmZ1bmN0aW9uKG8pe2lmKCFsYW5nLmlzVmFsdWUobykpe3JldHVybiBvO312YXIgY29weT17fTtpZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KG8pPT09IltvYmplY3QgUmVnRXhwXSIpe2NvcHk9bzt9ZWxzZXtpZihsYW5nLmlzRnVuY3Rpb24obykpe2NvcHk9bzt9ZWxzZXtpZihsYW5nLmlzQXJyYXkobykpe3ZhciBhcnJheT1bXTtmb3IodmFyIGk9MCxsZW49by5sZW5ndGg7aTxsZW47aSsrKXthcnJheVtpXT1EUy5fY2xvbmVPYmplY3Qob1tpXSk7fWNvcHk9YXJyYXk7fWVsc2V7aWYobGFuZy5pc09iamVjdChvKSl7Zm9yKHZhciB4IGluIG8pe2lmKGxhbmcuaGFzT3duUHJvcGVydHkobyx4KSl7aWYobGFuZy5pc1ZhbHVlKG9beF0pJiZsYW5nLmlzT2JqZWN0KG9beF0pfHxsYW5nLmlzQXJyYXkob1t4XSkpe2NvcHlbeF09RFMuX2Nsb25lT2JqZWN0KG9beF0pO31lbHNle2NvcHlbeF09b1t4XTt9fX19ZWxzZXtjb3B5PW87fX19fXJldHVybiBjb3B5O30sX2dldExvY2F0aW9uVmFsdWU6ZnVuY3Rpb24oZmllbGQsY29udGV4dCl7dmFyIGxvY2F0b3I9ZmllbGQubG9jYXRvcnx8ZmllbGQua2V5fHxmaWVsZCx4bWxkb2M9Y29udGV4dC5vd25lckRvY3VtZW50fHxjb250ZXh0LHJlc3VsdCxyZXMsdmFsdWU9bnVsbDt0cnl7aWYoIWxhbmcuaXNVbmRlZmluZWQoeG1sZG9jLmV2YWx1YXRlKSl7cmVzdWx0PXhtbGRvYy5ldmFsdWF0ZShsb2NhdG9yLGNvbnRleHQseG1sZG9jLmNyZWF0ZU5TUmVzb2x2ZXIoIWNvbnRleHQub3duZXJEb2N1bWVudD9jb250ZXh0LmRvY3VtZW50RWxlbWVudDpjb250ZXh0Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSwwLG51bGwpO3doaWxlKHJlcz1yZXN1bHQuaXRlcmF0ZU5leHQoKSl7dmFsdWU9cmVzLnRleHRDb250ZW50O319ZWxzZXt4bWxkb2Muc2V0UHJvcGVydHkoIlNlbGVjdGlvbkxhbmd1YWdlIiwiWFBhdGgiKTtyZXN1bHQ9Y29udGV4dC5zZWxlY3ROb2Rlcyhsb2NhdG9yKVswXTt2YWx1ZT1yZXN1bHQudmFsdWV8fHJlc3VsdC50ZXh0fHxudWxsO31yZXR1cm4gdmFsdWU7fWNhdGNoKGUpe319LGlzc3VlQ2FsbGJhY2s6ZnVuY3Rpb24oY2FsbGJhY2sscGFyYW1zLGVycm9yLHNjb3BlKXtpZihsYW5nLmlzRnVuY3Rpb24oY2FsbGJhY2spKXtjYWxsYmFjay5hcHBseShzY29wZSxwYXJhbXMpO31lbHNle2lmKGxhbmcuaXNPYmplY3QoY2FsbGJhY2spKXtzY29wZT1jYWxsYmFjay5zY29wZXx8c2NvcGV8fHdpbmRvdzt2YXIgY2FsbGJhY2tGdW5jPWNhbGxiYWNrLnN1Y2Nlc3M7aWYoZXJyb3Ipe2NhbGxiYWNrRnVuYz1jYWxsYmFjay5mYWlsdXJlO31pZihjYWxsYmFja0Z1bmMpe2NhbGxiYWNrRnVuYy5hcHBseShzY29wZSxwYXJhbXMuY29uY2F0KFtjYWxsYmFjay5hcmd1bWVudF0pKTt9fX19LHBhcnNlU3RyaW5nOmZ1bmN0aW9uKG9EYXRhKXtpZighbGFuZy5pc1ZhbHVlKG9EYXRhKSl7cmV0dXJuIG51bGw7fXZhciBzdHJpbmc9b0RhdGErIiI7aWYobGFuZy5pc1N0cmluZyhzdHJpbmcpKXtyZXR1cm4gc3RyaW5nO31lbHNle3JldHVybiBudWxsO319LHBhcnNlTnVtYmVyOmZ1bmN0aW9uKG9EYXRhKXtpZighbGFuZy5pc1ZhbHVlKG9EYXRhKXx8KG9EYXRhPT09IiIpKXtyZXR1cm4gbnVsbDt9dmFyIG51bWJlcj1vRGF0YSoxO2lmKGxhbmcuaXNOdW1iZXIobnVtYmVyKSl7cmV0dXJuIG51bWJlcjt9ZWxzZXtyZXR1cm4gbnVsbDt9fSxjb252ZXJ0TnVtYmVyOmZ1bmN0aW9uKG9EYXRhKXtyZXR1cm4gRFMucGFyc2VOdW1iZXIob0RhdGEpO30scGFyc2VEYXRlOmZ1bmN0aW9uKG9EYXRhKXt2YXIgZGF0ZT1udWxsO2lmKGxhbmcuaXNWYWx1ZShvRGF0YSkmJiEob0RhdGEgaW5zdGFuY2VvZiBEYXRlKSl7ZGF0ZT1uZXcgRGF0ZShvRGF0YSk7fWVsc2V7cmV0dXJuIG9EYXRhO31pZihkYXRlIGluc3RhbmNlb2YgRGF0ZSl7cmV0dXJuIGRhdGU7fWVsc2V7cmV0dXJuIG51bGw7fX0sY29udmVydERhdGU6ZnVuY3Rpb24ob0RhdGEpe3JldHVybiBEUy5wYXJzZURhdGUob0RhdGEpO319KTtEUy5QYXJzZXI9e3N0cmluZzpEUy5wYXJzZVN0cmluZyxudW1iZXI6RFMucGFyc2VOdW1iZXIsZGF0ZTpEUy5wYXJzZURhdGV9O0RTLnByb3RvdHlwZT17X3NOYW1lOm51bGwsX2FDYWNoZTpudWxsLF9vUXVldWU6bnVsbCxfYUludGVydmFsczpudWxsLG1heENhY2hlRW50cmllczowLGxpdmVEYXRhOm51bGwsZGF0YVR5cGU6RFMuVFlQRV9VTktOT1dOLHJlc3BvbnNlVHlwZTpEUy5UWVBFX1VOS05PV04scmVzcG9uc2VTY2hlbWE6bnVsbCx1c2VYUGF0aDpmYWxzZSxjbG9uZUJlZm9yZUNhY2hpbmc6ZmFsc2UsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc05hbWU7fSxnZXRDYWNoZWRSZXNwb25zZTpmdW5jdGlvbihvUmVxdWVzdCxvQ2FsbGJhY2ssb0NhbGxlcil7dmFyIGFDYWNoZT10aGlzLl9hQ2FjaGU7aWYodGhpcy5tYXhDYWNoZUVudHJpZXM+MCl7aWYoIWFDYWNoZSl7dGhpcy5fYUNhY2hlPVtdO31lbHNle3ZhciBuQ2FjaGVMZW5ndGg9YUNhY2hlLmxlbmd0aDtpZihuQ2FjaGVMZW5ndGg+MCl7dmFyIG9SZXNwb25zZT1udWxsO3RoaXMuZmlyZUV2ZW50KCJjYWNoZVJlcXVlc3RFdmVudCIse3JlcXVlc3Q6b1JlcXVlc3QsY2FsbGJhY2s6b0NhbGxiYWNrLGNhbGxlcjpvQ2FsbGVyfSk7Zm9yKHZhciBpPW5DYWNoZUxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgb0NhY2hlRWxlbT1hQ2FjaGVbaV07aWYodGhpcy5pc0NhY2hlSGl0KG9SZXF1ZXN0LG9DYWNoZUVsZW0ucmVxdWVzdCkpe29SZXNwb25zZT1vQ2FjaGVFbGVtLnJlc3BvbnNlO3RoaXMuZmlyZUV2ZW50KCJjYWNoZVJlc3BvbnNlRXZlbnQiLHtyZXF1ZXN0Om9SZXF1ZXN0LHJlc3BvbnNlOm9SZXNwb25zZSxjYWxsYmFjazpvQ2FsbGJhY2ssY2FsbGVyOm9DYWxsZXJ9KTtpZihpPG5DYWNoZUxlbmd0aC0xKXthQ2FjaGUuc3BsaWNlKGksMSk7dGhpcy5hZGRUb0NhY2hlKG9SZXF1ZXN0LG9SZXNwb25zZSk7fW9SZXNwb25zZS5jYWNoZWQ9dHJ1ZTticmVhazt9fXJldHVybiBvUmVzcG9uc2U7fX19ZWxzZXtpZihhQ2FjaGUpe3RoaXMuX2FDYWNoZT1udWxsO319cmV0dXJuIG51bGw7fSxpc0NhY2hlSGl0OmZ1bmN0aW9uKG9SZXF1ZXN0LG9DYWNoZWRSZXF1ZXN0KXtyZXR1cm4ob1JlcXVlc3Q9PT1vQ2FjaGVkUmVxdWVzdCk7fSxhZGRUb0NhY2hlOmZ1bmN0aW9uKG9SZXF1ZXN0LG9SZXNwb25zZSl7dmFyIGFDYWNoZT10aGlzLl9hQ2FjaGU7aWYoIWFDYWNoZSl7cmV0dXJuO313aGlsZShhQ2FjaGUubGVuZ3RoPj10aGlzLm1heENhY2hlRW50cmllcyl7YUNhY2hlLnNoaWZ0KCk7fW9SZXNwb25zZT0odGhpcy5jbG9uZUJlZm9yZUNhY2hpbmcpP0RTLl9jbG9uZU9iamVjdChvUmVzcG9uc2UpOm9SZXNwb25zZTt2YXIgb0NhY2hlRWxlbT17cmVxdWVzdDpvUmVxdWVzdCxyZXNwb25zZTpvUmVzcG9uc2V9O2FDYWNoZVthQ2FjaGUubGVuZ3RoXT1vQ2FjaGVFbGVtO3RoaXMuZmlyZUV2ZW50KCJyZXNwb25zZUNhY2hlRXZlbnQiLHtyZXF1ZXN0Om9SZXF1ZXN0LHJlc3BvbnNlOm9SZXNwb25zZX0pO30sZmx1c2hDYWNoZTpmdW5jdGlvbigpe2lmKHRoaXMuX2FDYWNoZSl7dGhpcy5fYUNhY2hlPVtdO3RoaXMuZmlyZUV2ZW50KCJjYWNoZUZsdXNoRXZlbnQiKTt9fSxzZXRJbnRlcnZhbDpmdW5jdGlvbihuTXNlYyxvUmVxdWVzdCxvQ2FsbGJhY2ssb0NhbGxlcil7aWYobGFuZy5pc051bWJlcihuTXNlYykmJihuTXNlYz49MCkpe3ZhciBvU2VsZj10aGlzO3ZhciBuSWQ9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtvU2VsZi5tYWtlQ29ubmVjdGlvbihvUmVxdWVzdCxvQ2FsbGJhY2ssb0NhbGxlcik7fSxuTXNlYyk7dGhpcy5fYUludGVydmFscy5wdXNoKG5JZCk7cmV0dXJuIG5JZDt9ZWxzZXt9fSxjbGVhckludGVydmFsOmZ1bmN0aW9uKG5JZCl7dmFyIHRyYWNrZXI9dGhpcy5fYUludGVydmFsc3x8W107Zm9yKHZhciBpPXRyYWNrZXIubGVuZ3RoLTE7aT4tMTtpLS0pe2lmKHRyYWNrZXJbaV09PT1uSWQpe3RyYWNrZXIuc3BsaWNlKGksMSk7Y2xlYXJJbnRlcnZhbChuSWQpO319fSxjbGVhckFsbEludGVydmFsczpmdW5jdGlvbigpe3ZhciB0cmFja2VyPXRoaXMuX2FJbnRlcnZhbHN8fFtdO2Zvcih2YXIgaT10cmFja2VyLmxlbmd0aC0xO2k+LTE7aS0tKXtjbGVhckludGVydmFsKHRyYWNrZXJbaV0pO310cmFja2VyPVtdO30sc2VuZFJlcXVlc3Q6ZnVuY3Rpb24ob1JlcXVlc3Qsb0NhbGxiYWNrLG9DYWxsZXIpe3ZhciBvQ2FjaGVkUmVzcG9uc2U9dGhpcy5nZXRDYWNoZWRSZXNwb25zZShvUmVxdWVzdCxvQ2FsbGJhY2ssb0NhbGxlcik7aWYob0NhY2hlZFJlc3BvbnNlKXtEUy5pc3N1ZUNhbGxiYWNrKG9DYWxsYmFjayxbb1JlcXVlc3Qsb0NhY2hlZFJlc3BvbnNlXSxmYWxzZSxvQ2FsbGVyKTtyZXR1cm4gbnVsbDt9cmV0dXJuIHRoaXMubWFrZUNvbm5lY3Rpb24ob1JlcXVlc3Qsb0NhbGxiYWNrLG9DYWxsZXIpO30sbWFrZUNvbm5lY3Rpb246ZnVuY3Rpb24ob1JlcXVlc3Qsb0NhbGxiYWNrLG9DYWxsZXIpe3ZhciB0SWQ9RFMuX25UcmFuc2FjdGlvbklkKys7dGhpcy5maXJlRXZlbnQoInJlcXVlc3RFdmVudCIse3RJZDp0SWQscmVxdWVzdDpvUmVxdWVzdCxjYWxsYmFjazpvQ2FsbGJhY2ssY2FsbGVyOm9DYWxsZXJ9KTt2YXIgb1Jhd1Jlc3BvbnNlPXRoaXMubGl2ZURhdGE7dGhpcy5oYW5kbGVSZXNwb25zZShvUmVxdWVzdCxvUmF3UmVzcG9uc2Usb0NhbGxiYWNrLG9DYWxsZXIsdElkKTtyZXR1cm4gdElkO30saGFuZGxlUmVzcG9uc2U6ZnVuY3Rpb24ob1JlcXVlc3Qsb1Jhd1Jlc3BvbnNlLG9DYWxsYmFjayxvQ2FsbGVyLHRJZCl7dGhpcy5maXJlRXZlbnQoInJlc3BvbnNlRXZlbnQiLHt0SWQ6dElkLHJlcXVlc3Q6b1JlcXVlc3QscmVzcG9uc2U6b1Jhd1Jlc3BvbnNlLGNhbGxiYWNrOm9DYWxsYmFjayxjYWxsZXI6b0NhbGxlcn0pOwp2YXIgeGhyPSh0aGlzLmRhdGFUeXBlPT1EUy5UWVBFX1hIUik/dHJ1ZTpmYWxzZTt2YXIgb1BhcnNlZFJlc3BvbnNlPW51bGw7dmFyIG9GdWxsUmVzcG9uc2U9b1Jhd1Jlc3BvbnNlO2lmKHRoaXMucmVzcG9uc2VUeXBlPT09RFMuVFlQRV9VTktOT1dOKXt2YXIgY3R5cGU9KG9SYXdSZXNwb25zZSYmb1Jhd1Jlc3BvbnNlLmdldFJlc3BvbnNlSGVhZGVyKT9vUmF3UmVzcG9uc2UuZ2V0UmVzcG9uc2VIZWFkZXJbIkNvbnRlbnQtVHlwZSJdOm51bGw7aWYoY3R5cGUpe2lmKGN0eXBlLmluZGV4T2YoInRleHQveG1sIik+LTEpe3RoaXMucmVzcG9uc2VUeXBlPURTLlRZUEVfWE1MO31lbHNle2lmKGN0eXBlLmluZGV4T2YoImFwcGxpY2F0aW9uL2pzb24iKT4tMSl7dGhpcy5yZXNwb25zZVR5cGU9RFMuVFlQRV9KU09OO31lbHNle2lmKGN0eXBlLmluZGV4T2YoInRleHQvcGxhaW4iKT4tMSl7dGhpcy5yZXNwb25zZVR5cGU9RFMuVFlQRV9URVhUO319fX1lbHNle2lmKFlBSE9PLmxhbmcuaXNBcnJheShvUmF3UmVzcG9uc2UpKXt0aGlzLnJlc3BvbnNlVHlwZT1EUy5UWVBFX0pTQVJSQVk7fWVsc2V7aWYob1Jhd1Jlc3BvbnNlJiZvUmF3UmVzcG9uc2Uubm9kZVR5cGUmJihvUmF3UmVzcG9uc2Uubm9kZVR5cGU9PT05fHxvUmF3UmVzcG9uc2Uubm9kZVR5cGU9PT0xfHxvUmF3UmVzcG9uc2Uubm9kZVR5cGU9PT0xMSkpe3RoaXMucmVzcG9uc2VUeXBlPURTLlRZUEVfWE1MO31lbHNle2lmKG9SYXdSZXNwb25zZSYmb1Jhd1Jlc3BvbnNlLm5vZGVOYW1lJiYob1Jhd1Jlc3BvbnNlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PSJ0YWJsZSIpKXt0aGlzLnJlc3BvbnNlVHlwZT1EUy5UWVBFX0hUTUxUQUJMRTt9ZWxzZXtpZihZQUhPTy5sYW5nLmlzT2JqZWN0KG9SYXdSZXNwb25zZSkpe3RoaXMucmVzcG9uc2VUeXBlPURTLlRZUEVfSlNPTjt9ZWxzZXtpZihZQUhPTy5sYW5nLmlzU3RyaW5nKG9SYXdSZXNwb25zZSkpe3RoaXMucmVzcG9uc2VUeXBlPURTLlRZUEVfVEVYVDt9fX19fX19c3dpdGNoKHRoaXMucmVzcG9uc2VUeXBlKXtjYXNlIERTLlRZUEVfSlNBUlJBWTppZih4aHImJm9SYXdSZXNwb25zZSYmb1Jhd1Jlc3BvbnNlLnJlc3BvbnNlVGV4dCl7b0Z1bGxSZXNwb25zZT1vUmF3UmVzcG9uc2UucmVzcG9uc2VUZXh0O310cnl7aWYobGFuZy5pc1N0cmluZyhvRnVsbFJlc3BvbnNlKSl7dmFyIHBhcnNlQXJncz1bb0Z1bGxSZXNwb25zZV0uY29uY2F0KHRoaXMucGFyc2VKU09OQXJncyk7aWYobGFuZy5KU09OKXtvRnVsbFJlc3BvbnNlPWxhbmcuSlNPTi5wYXJzZS5hcHBseShsYW5nLkpTT04scGFyc2VBcmdzKTt9ZWxzZXtpZih3aW5kb3cuSlNPTiYmSlNPTi5wYXJzZSl7b0Z1bGxSZXNwb25zZT1KU09OLnBhcnNlLmFwcGx5KEpTT04scGFyc2VBcmdzKTt9ZWxzZXtpZihvRnVsbFJlc3BvbnNlLnBhcnNlSlNPTil7b0Z1bGxSZXNwb25zZT1vRnVsbFJlc3BvbnNlLnBhcnNlSlNPTi5hcHBseShvRnVsbFJlc3BvbnNlLHBhcnNlQXJncy5zbGljZSgxKSk7fWVsc2V7d2hpbGUob0Z1bGxSZXNwb25zZS5sZW5ndGg+MCYmKG9GdWxsUmVzcG9uc2UuY2hhckF0KDApIT0ieyIpJiYob0Z1bGxSZXNwb25zZS5jaGFyQXQoMCkhPSJbIikpe29GdWxsUmVzcG9uc2U9b0Z1bGxSZXNwb25zZS5zdWJzdHJpbmcoMSxvRnVsbFJlc3BvbnNlLmxlbmd0aCk7fWlmKG9GdWxsUmVzcG9uc2UubGVuZ3RoPjApe3ZhciBhcnJheUVuZD1NYXRoLm1heChvRnVsbFJlc3BvbnNlLmxhc3RJbmRleE9mKCJdIiksb0Z1bGxSZXNwb25zZS5sYXN0SW5kZXhPZigifSIpKTtvRnVsbFJlc3BvbnNlPW9GdWxsUmVzcG9uc2Uuc3Vic3RyaW5nKDAsYXJyYXlFbmQrMSk7b0Z1bGxSZXNwb25zZT1ldmFsKCIoIitvRnVsbFJlc3BvbnNlKyIpIik7fX19fX19Y2F0Y2goZTEpe31vRnVsbFJlc3BvbnNlPXRoaXMuZG9CZWZvcmVQYXJzZURhdGEob1JlcXVlc3Qsb0Z1bGxSZXNwb25zZSxvQ2FsbGJhY2spO29QYXJzZWRSZXNwb25zZT10aGlzLnBhcnNlQXJyYXlEYXRhKG9SZXF1ZXN0LG9GdWxsUmVzcG9uc2UpO2JyZWFrO2Nhc2UgRFMuVFlQRV9KU09OOmlmKHhociYmb1Jhd1Jlc3BvbnNlJiZvUmF3UmVzcG9uc2UucmVzcG9uc2VUZXh0KXtvRnVsbFJlc3BvbnNlPW9SYXdSZXNwb25zZS5yZXNwb25zZVRleHQ7fXRyeXtpZihsYW5nLmlzU3RyaW5nKG9GdWxsUmVzcG9uc2UpKXt2YXIgcGFyc2VBcmdzPVtvRnVsbFJlc3BvbnNlXS5jb25jYXQodGhpcy5wYXJzZUpTT05BcmdzKTtpZihsYW5nLkpTT04pe29GdWxsUmVzcG9uc2U9bGFuZy5KU09OLnBhcnNlLmFwcGx5KGxhbmcuSlNPTixwYXJzZUFyZ3MpO31lbHNle2lmKHdpbmRvdy5KU09OJiZKU09OLnBhcnNlKXtvRnVsbFJlc3BvbnNlPUpTT04ucGFyc2UuYXBwbHkoSlNPTixwYXJzZUFyZ3MpO31lbHNle2lmKG9GdWxsUmVzcG9uc2UucGFyc2VKU09OKXtvRnVsbFJlc3BvbnNlPW9GdWxsUmVzcG9uc2UucGFyc2VKU09OLmFwcGx5KG9GdWxsUmVzcG9uc2UscGFyc2VBcmdzLnNsaWNlKDEpKTt9ZWxzZXt3aGlsZShvRnVsbFJlc3BvbnNlLmxlbmd0aD4wJiYob0Z1bGxSZXNwb25zZS5jaGFyQXQoMCkhPSJ7IikmJihvRnVsbFJlc3BvbnNlLmNoYXJBdCgwKSE9IlsiKSl7b0Z1bGxSZXNwb25zZT1vRnVsbFJlc3BvbnNlLnN1YnN0cmluZygxLG9GdWxsUmVzcG9uc2UubGVuZ3RoKTt9aWYob0Z1bGxSZXNwb25zZS5sZW5ndGg+MCl7dmFyIG9iakVuZD1NYXRoLm1heChvRnVsbFJlc3BvbnNlLmxhc3RJbmRleE9mKCJdIiksb0Z1bGxSZXNwb25zZS5sYXN0SW5kZXhPZigifSIpKTtvRnVsbFJlc3BvbnNlPW9GdWxsUmVzcG9uc2Uuc3Vic3RyaW5nKDAsb2JqRW5kKzEpO29GdWxsUmVzcG9uc2U9ZXZhbCgiKCIrb0Z1bGxSZXNwb25zZSsiKSIpO319fX19fWNhdGNoKGUpe31vRnVsbFJlc3BvbnNlPXRoaXMuZG9CZWZvcmVQYXJzZURhdGEob1JlcXVlc3Qsb0Z1bGxSZXNwb25zZSxvQ2FsbGJhY2spO29QYXJzZWRSZXNwb25zZT10aGlzLnBhcnNlSlNPTkRhdGEob1JlcXVlc3Qsb0Z1bGxSZXNwb25zZSk7YnJlYWs7Y2FzZSBEUy5UWVBFX0hUTUxUQUJMRTppZih4aHImJm9SYXdSZXNwb25zZS5yZXNwb25zZVRleHQpe3ZhciBlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtlbC5pbm5lckhUTUw9b1Jhd1Jlc3BvbnNlLnJlc3BvbnNlVGV4dDtvRnVsbFJlc3BvbnNlPWVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0YWJsZSIpWzBdO31vRnVsbFJlc3BvbnNlPXRoaXMuZG9CZWZvcmVQYXJzZURhdGEob1JlcXVlc3Qsb0Z1bGxSZXNwb25zZSxvQ2FsbGJhY2spO29QYXJzZWRSZXNwb25zZT10aGlzLnBhcnNlSFRNTFRhYmxlRGF0YShvUmVxdWVzdCxvRnVsbFJlc3BvbnNlKTticmVhaztjYXNlIERTLlRZUEVfWE1MOmlmKHhociYmb1Jhd1Jlc3BvbnNlLnJlc3BvbnNlWE1MKXtvRnVsbFJlc3BvbnNlPW9SYXdSZXNwb25zZS5yZXNwb25zZVhNTDt9b0Z1bGxSZXNwb25zZT10aGlzLmRvQmVmb3JlUGFyc2VEYXRhKG9SZXF1ZXN0LG9GdWxsUmVzcG9uc2Usb0NhbGxiYWNrKTtvUGFyc2VkUmVzcG9uc2U9dGhpcy5wYXJzZVhNTERhdGEob1JlcXVlc3Qsb0Z1bGxSZXNwb25zZSk7YnJlYWs7Y2FzZSBEUy5UWVBFX1RFWFQ6aWYoeGhyJiZsYW5nLmlzU3RyaW5nKG9SYXdSZXNwb25zZS5yZXNwb25zZVRleHQpKXtvRnVsbFJlc3BvbnNlPW9SYXdSZXNwb25zZS5yZXNwb25zZVRleHQ7fW9GdWxsUmVzcG9uc2U9dGhpcy5kb0JlZm9yZVBhcnNlRGF0YShvUmVxdWVzdCxvRnVsbFJlc3BvbnNlLG9DYWxsYmFjayk7b1BhcnNlZFJlc3BvbnNlPXRoaXMucGFyc2VUZXh0RGF0YShvUmVxdWVzdCxvRnVsbFJlc3BvbnNlKTticmVhaztkZWZhdWx0Om9GdWxsUmVzcG9uc2U9dGhpcy5kb0JlZm9yZVBhcnNlRGF0YShvUmVxdWVzdCxvRnVsbFJlc3BvbnNlLG9DYWxsYmFjayk7b1BhcnNlZFJlc3BvbnNlPXRoaXMucGFyc2VEYXRhKG9SZXF1ZXN0LG9GdWxsUmVzcG9uc2UpO2JyZWFrO31vUGFyc2VkUmVzcG9uc2U9b1BhcnNlZFJlc3BvbnNlfHx7fTtpZighb1BhcnNlZFJlc3BvbnNlLnJlc3VsdHMpe29QYXJzZWRSZXNwb25zZS5yZXN1bHRzPVtdO31pZighb1BhcnNlZFJlc3BvbnNlLm1ldGEpe29QYXJzZWRSZXNwb25zZS5tZXRhPXt9O31pZighb1BhcnNlZFJlc3BvbnNlLmVycm9yKXtvUGFyc2VkUmVzcG9uc2U9dGhpcy5kb0JlZm9yZUNhbGxiYWNrKG9SZXF1ZXN0LG9GdWxsUmVzcG9uc2Usb1BhcnNlZFJlc3BvbnNlLG9DYWxsYmFjayk7dGhpcy5maXJlRXZlbnQoInJlc3BvbnNlUGFyc2VFdmVudCIse3JlcXVlc3Q6b1JlcXVlc3QscmVzcG9uc2U6b1BhcnNlZFJlc3BvbnNlLGNhbGxiYWNrOm9DYWxsYmFjayxjYWxsZXI6b0NhbGxlcn0pO3RoaXMuYWRkVG9DYWNoZShvUmVxdWVzdCxvUGFyc2VkUmVzcG9uc2UpO31lbHNle29QYXJzZWRSZXNwb25zZS5lcnJvcj10cnVlO3RoaXMuZmlyZUV2ZW50KCJkYXRhRXJyb3JFdmVudCIse3JlcXVlc3Q6b1JlcXVlc3QscmVzcG9uc2U6b1Jhd1Jlc3BvbnNlLGNhbGxiYWNrOm9DYWxsYmFjayxjYWxsZXI6b0NhbGxlcixtZXNzYWdlOkRTLkVSUk9SX0RBVEFOVUxMfSk7fW9QYXJzZWRSZXNwb25zZS50SWQ9dElkO0RTLmlzc3VlQ2FsbGJhY2sob0NhbGxiYWNrLFtvUmVxdWVzdCxvUGFyc2VkUmVzcG9uc2VdLG9QYXJzZWRSZXNwb25zZS5lcnJvcixvQ2FsbGVyKTt9LGRvQmVmb3JlUGFyc2VEYXRhOmZ1bmN0aW9uKG9SZXF1ZXN0LG9GdWxsUmVzcG9uc2Usb0NhbGxiYWNrKXtyZXR1cm4gb0Z1bGxSZXNwb25zZTt9LGRvQmVmb3JlQ2FsbGJhY2s6ZnVuY3Rpb24ob1JlcXVlc3Qsb0Z1bGxSZXNwb25zZSxvUGFyc2VkUmVzcG9uc2Usb0NhbGxiYWNrKXtyZXR1cm4gb1BhcnNlZFJlc3BvbnNlO30scGFyc2VEYXRhOmZ1bmN0aW9uKG9SZXF1ZXN0LG9GdWxsUmVzcG9uc2Upe2lmKGxhbmcuaXNWYWx1ZShvRnVsbFJlc3BvbnNlKSl7dmFyIG9QYXJzZWRSZXNwb25zZT17cmVzdWx0czpvRnVsbFJlc3BvbnNlLG1ldGE6e319O3JldHVybiBvUGFyc2VkUmVzcG9uc2U7fXJldHVybiBudWxsO30scGFyc2VBcnJheURhdGE6ZnVuY3Rpb24ob1JlcXVlc3Qsb0Z1bGxSZXNwb25zZSl7aWYobGFuZy5pc0FycmF5KG9GdWxsUmVzcG9uc2UpKXt2YXIgcmVzdWx0cz1bXSxpLGoscmVjLGZpZWxkLGRhdGE7aWYobGFuZy5pc0FycmF5KHRoaXMucmVzcG9uc2VTY2hlbWEuZmllbGRzKSl7dmFyIGZpZWxkcz10aGlzLnJlc3BvbnNlU2NoZW1hLmZpZWxkcztmb3IoaT1maWVsZHMubGVuZ3RoLTE7aT49MDstLWkpe2lmKHR5cGVvZiBmaWVsZHNbaV0hPT0ib2JqZWN0Iil7ZmllbGRzW2ldPXtrZXk6ZmllbGRzW2ldfTt9fXZhciBwYXJzZXJzPXt9LHA7Zm9yKGk9ZmllbGRzLmxlbmd0aC0xO2k+PTA7LS1pKXtwPSh0eXBlb2YgZmllbGRzW2ldLnBhcnNlcj09PSJmdW5jdGlvbiI/ZmllbGRzW2ldLnBhcnNlcjpEUy5QYXJzZXJbZmllbGRzW2ldLnBhcnNlcisiIl0pfHxmaWVsZHNbaV0uY29udmVydGVyO2lmKHApe3BhcnNlcnNbZmllbGRzW2ldLmtleV09cDt9fXZhciBhcnJUeXBlPWxhbmcuaXNBcnJheShvRnVsbFJlc3BvbnNlWzBdKTtmb3IoaT1vRnVsbFJlc3BvbnNlLmxlbmd0aC0xO2k+LTE7aS0tKXt2YXIgb1Jlc3VsdD17fTtyZWM9b0Z1bGxSZXNwb25zZVtpXTtpZih0eXBlb2YgcmVjPT09Im9iamVjdCIpe2ZvcihqPWZpZWxkcy5sZW5ndGgtMTtqPi0xO2otLSl7ZmllbGQ9ZmllbGRzW2pdO2RhdGE9YXJyVHlwZT9yZWNbal06cmVjW2ZpZWxkLmtleV07aWYocGFyc2Vyc1tmaWVsZC5rZXldKXtkYXRhPXBhcnNlcnNbZmllbGQua2V5XS5jYWxsKHRoaXMsZGF0YSk7fWlmKGRhdGE9PT11bmRlZmluZWQpe2RhdGE9bnVsbDt9b1Jlc3VsdFtmaWVsZC5rZXldPWRhdGE7fX1lbHNle2lmKGxhbmcuaXNTdHJpbmcocmVjKSl7Zm9yKGo9ZmllbGRzLmxlbmd0aC0xO2o+LTE7ai0tKXtmaWVsZD1maWVsZHNbal07ZGF0YT1yZWM7aWYocGFyc2Vyc1tmaWVsZC5rZXldKXtkYXRhPXBhcnNlcnNbZmllbGQua2V5XS5jYWxsKHRoaXMsZGF0YSk7fWlmKGRhdGE9PT11bmRlZmluZWQpe2RhdGE9bnVsbDt9b1Jlc3VsdFtmaWVsZC5rZXldPWRhdGE7Cn19fXJlc3VsdHNbaV09b1Jlc3VsdDt9fWVsc2V7cmVzdWx0cz1vRnVsbFJlc3BvbnNlO312YXIgb1BhcnNlZFJlc3BvbnNlPXtyZXN1bHRzOnJlc3VsdHN9O3JldHVybiBvUGFyc2VkUmVzcG9uc2U7fXJldHVybiBudWxsO30scGFyc2VUZXh0RGF0YTpmdW5jdGlvbihvUmVxdWVzdCxvRnVsbFJlc3BvbnNlKXtpZihsYW5nLmlzU3RyaW5nKG9GdWxsUmVzcG9uc2UpKXtpZihsYW5nLmlzU3RyaW5nKHRoaXMucmVzcG9uc2VTY2hlbWEucmVjb3JkRGVsaW0pJiZsYW5nLmlzU3RyaW5nKHRoaXMucmVzcG9uc2VTY2hlbWEuZmllbGREZWxpbSkpe3ZhciBvUGFyc2VkUmVzcG9uc2U9e3Jlc3VsdHM6W119O3ZhciByZWNEZWxpbT10aGlzLnJlc3BvbnNlU2NoZW1hLnJlY29yZERlbGltO3ZhciBmaWVsZERlbGltPXRoaXMucmVzcG9uc2VTY2hlbWEuZmllbGREZWxpbTtpZihvRnVsbFJlc3BvbnNlLmxlbmd0aD4wKXt2YXIgbmV3TGVuZ3RoPW9GdWxsUmVzcG9uc2UubGVuZ3RoLXJlY0RlbGltLmxlbmd0aDtpZihvRnVsbFJlc3BvbnNlLnN1YnN0cihuZXdMZW5ndGgpPT1yZWNEZWxpbSl7b0Z1bGxSZXNwb25zZT1vRnVsbFJlc3BvbnNlLnN1YnN0cigwLG5ld0xlbmd0aCk7fWlmKG9GdWxsUmVzcG9uc2UubGVuZ3RoPjApe3ZhciByZWNvcmRzYXJyYXk9b0Z1bGxSZXNwb25zZS5zcGxpdChyZWNEZWxpbSk7Zm9yKHZhciBpPTAsbGVuPXJlY29yZHNhcnJheS5sZW5ndGgscmVjSWR4PTA7aTxsZW47KytpKXt2YXIgYkVycm9yPWZhbHNlLHNSZWNvcmQ9cmVjb3Jkc2FycmF5W2ldO2lmKGxhbmcuaXNTdHJpbmcoc1JlY29yZCkmJihzUmVjb3JkLmxlbmd0aD4wKSl7dmFyIGZpZWxkZGF0YWFycmF5PXJlY29yZHNhcnJheVtpXS5zcGxpdChmaWVsZERlbGltKTt2YXIgb1Jlc3VsdD17fTtpZihsYW5nLmlzQXJyYXkodGhpcy5yZXNwb25zZVNjaGVtYS5maWVsZHMpKXt2YXIgZmllbGRzPXRoaXMucmVzcG9uc2VTY2hlbWEuZmllbGRzO2Zvcih2YXIgaj1maWVsZHMubGVuZ3RoLTE7aj4tMTtqLS0pe3RyeXt2YXIgZGF0YT1maWVsZGRhdGFhcnJheVtqXTtpZihsYW5nLmlzU3RyaW5nKGRhdGEpKXtpZihkYXRhLmNoYXJBdCgwKT09JyInKXtkYXRhPWRhdGEuc3Vic3RyKDEpO31pZihkYXRhLmNoYXJBdChkYXRhLmxlbmd0aC0xKT09JyInKXtkYXRhPWRhdGEuc3Vic3RyKDAsZGF0YS5sZW5ndGgtMSk7fXZhciBmaWVsZD1maWVsZHNbal07dmFyIGtleT0obGFuZy5pc1ZhbHVlKGZpZWxkLmtleSkpP2ZpZWxkLmtleTpmaWVsZDtpZighZmllbGQucGFyc2VyJiZmaWVsZC5jb252ZXJ0ZXIpe2ZpZWxkLnBhcnNlcj1maWVsZC5jb252ZXJ0ZXI7fXZhciBwYXJzZXI9KHR5cGVvZiBmaWVsZC5wYXJzZXI9PT0iZnVuY3Rpb24iKT9maWVsZC5wYXJzZXI6RFMuUGFyc2VyW2ZpZWxkLnBhcnNlcisiIl07aWYocGFyc2VyKXtkYXRhPXBhcnNlci5jYWxsKHRoaXMsZGF0YSk7fWlmKGRhdGE9PT11bmRlZmluZWQpe2RhdGE9bnVsbDt9b1Jlc3VsdFtrZXldPWRhdGE7fWVsc2V7YkVycm9yPXRydWU7fX1jYXRjaChlKXtiRXJyb3I9dHJ1ZTt9fX1lbHNle29SZXN1bHQ9ZmllbGRkYXRhYXJyYXk7fWlmKCFiRXJyb3Ipe29QYXJzZWRSZXNwb25zZS5yZXN1bHRzW3JlY0lkeCsrXT1vUmVzdWx0O319fX19cmV0dXJuIG9QYXJzZWRSZXNwb25zZTt9fXJldHVybiBudWxsO30scGFyc2VYTUxSZXN1bHQ6ZnVuY3Rpb24ocmVzdWx0KXt2YXIgb1Jlc3VsdD17fSxzY2hlbWE9dGhpcy5yZXNwb25zZVNjaGVtYTt0cnl7Zm9yKHZhciBtPXNjaGVtYS5maWVsZHMubGVuZ3RoLTE7bT49MDttLS0pe3ZhciBmaWVsZD1zY2hlbWEuZmllbGRzW21dO3ZhciBrZXk9KGxhbmcuaXNWYWx1ZShmaWVsZC5rZXkpKT9maWVsZC5rZXk6ZmllbGQ7dmFyIGRhdGE9bnVsbDtpZih0aGlzLnVzZVhQYXRoKXtkYXRhPVlBSE9PLnV0aWwuRGF0YVNvdXJjZS5fZ2V0TG9jYXRpb25WYWx1ZShmaWVsZCxyZXN1bHQpO31lbHNle3ZhciB4bWxBdHRyPXJlc3VsdC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShrZXkpO2lmKHhtbEF0dHIpe2RhdGE9eG1sQXR0ci52YWx1ZTt9ZWxzZXt2YXIgeG1sTm9kZT1yZXN1bHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoa2V5KTtpZih4bWxOb2RlJiZ4bWxOb2RlLml0ZW0oMCkpe3ZhciBpdGVtPXhtbE5vZGUuaXRlbSgwKTtkYXRhPShpdGVtKT8oKGl0ZW0udGV4dCk/aXRlbS50ZXh0OihpdGVtLnRleHRDb250ZW50KT9pdGVtLnRleHRDb250ZW50Om51bGwpOm51bGw7aWYoIWRhdGEpe3ZhciBkYXRhcGllY2VzPVtdO2Zvcih2YXIgaj0wLGxlbj1pdGVtLmNoaWxkTm9kZXMubGVuZ3RoO2o8bGVuO2orKyl7aWYoaXRlbS5jaGlsZE5vZGVzW2pdLm5vZGVWYWx1ZSl7ZGF0YXBpZWNlc1tkYXRhcGllY2VzLmxlbmd0aF09aXRlbS5jaGlsZE5vZGVzW2pdLm5vZGVWYWx1ZTt9fWlmKGRhdGFwaWVjZXMubGVuZ3RoPjApe2RhdGE9ZGF0YXBpZWNlcy5qb2luKCIiKTt9fX19fWlmKGRhdGE9PT1udWxsKXtkYXRhPSIiO31pZighZmllbGQucGFyc2VyJiZmaWVsZC5jb252ZXJ0ZXIpe2ZpZWxkLnBhcnNlcj1maWVsZC5jb252ZXJ0ZXI7fXZhciBwYXJzZXI9KHR5cGVvZiBmaWVsZC5wYXJzZXI9PT0iZnVuY3Rpb24iKT9maWVsZC5wYXJzZXI6RFMuUGFyc2VyW2ZpZWxkLnBhcnNlcisiIl07aWYocGFyc2VyKXtkYXRhPXBhcnNlci5jYWxsKHRoaXMsZGF0YSk7fWlmKGRhdGE9PT11bmRlZmluZWQpe2RhdGE9bnVsbDt9b1Jlc3VsdFtrZXldPWRhdGE7fX1jYXRjaChlKXt9cmV0dXJuIG9SZXN1bHQ7fSxwYXJzZVhNTERhdGE6ZnVuY3Rpb24ob1JlcXVlc3Qsb0Z1bGxSZXNwb25zZSl7dmFyIGJFcnJvcj1mYWxzZSxzY2hlbWE9dGhpcy5yZXNwb25zZVNjaGVtYSxvUGFyc2VkUmVzcG9uc2U9e21ldGE6e319LHhtbExpc3Q9bnVsbCxtZXRhTm9kZT1zY2hlbWEubWV0YU5vZGUsbWV0YUxvY2F0b3JzPXNjaGVtYS5tZXRhRmllbGRzfHx7fSxpLGssbG9jLHY7dHJ5e2lmKHRoaXMudXNlWFBhdGgpe2ZvcihrIGluIG1ldGFMb2NhdG9ycyl7b1BhcnNlZFJlc3BvbnNlLm1ldGFba109WUFIT08udXRpbC5EYXRhU291cmNlLl9nZXRMb2NhdGlvblZhbHVlKG1ldGFMb2NhdG9yc1trXSxvRnVsbFJlc3BvbnNlKTt9fWVsc2V7bWV0YU5vZGU9bWV0YU5vZGU/b0Z1bGxSZXNwb25zZS5nZXRFbGVtZW50c0J5VGFnTmFtZShtZXRhTm9kZSlbMF06b0Z1bGxSZXNwb25zZTtpZihtZXRhTm9kZSl7Zm9yKGsgaW4gbWV0YUxvY2F0b3JzKXtpZihsYW5nLmhhc093blByb3BlcnR5KG1ldGFMb2NhdG9ycyxrKSl7bG9jPW1ldGFMb2NhdG9yc1trXTt2PW1ldGFOb2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKGxvYylbMF07aWYodil7dj12LmZpcnN0Q2hpbGQubm9kZVZhbHVlO31lbHNle3Y9bWV0YU5vZGUuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0obG9jKTtpZih2KXt2PXYudmFsdWU7fX1pZihsYW5nLmlzVmFsdWUodikpe29QYXJzZWRSZXNwb25zZS5tZXRhW2tdPXY7fX19fX14bWxMaXN0PShzY2hlbWEucmVzdWx0Tm9kZSk/b0Z1bGxSZXNwb25zZS5nZXRFbGVtZW50c0J5VGFnTmFtZShzY2hlbWEucmVzdWx0Tm9kZSk6bnVsbDt9Y2F0Y2goZSl7fWlmKCF4bWxMaXN0fHwhbGFuZy5pc0FycmF5KHNjaGVtYS5maWVsZHMpKXtiRXJyb3I9dHJ1ZTt9ZWxzZXtvUGFyc2VkUmVzcG9uc2UucmVzdWx0cz1bXTtmb3IoaT14bWxMaXN0Lmxlbmd0aC0xO2k+PTA7LS1pKXt2YXIgb1Jlc3VsdD10aGlzLnBhcnNlWE1MUmVzdWx0KHhtbExpc3QuaXRlbShpKSk7b1BhcnNlZFJlc3BvbnNlLnJlc3VsdHNbaV09b1Jlc3VsdDt9fWlmKGJFcnJvcil7b1BhcnNlZFJlc3BvbnNlLmVycm9yPXRydWU7fWVsc2V7fXJldHVybiBvUGFyc2VkUmVzcG9uc2U7fSxwYXJzZUpTT05EYXRhOmZ1bmN0aW9uKG9SZXF1ZXN0LG9GdWxsUmVzcG9uc2Upe3ZhciBvUGFyc2VkUmVzcG9uc2U9e3Jlc3VsdHM6W10sbWV0YTp7fX07aWYobGFuZy5pc09iamVjdChvRnVsbFJlc3BvbnNlKSYmdGhpcy5yZXNwb25zZVNjaGVtYS5yZXN1bHRzTGlzdCl7dmFyIHNjaGVtYT10aGlzLnJlc3BvbnNlU2NoZW1hLGZpZWxkcz1zY2hlbWEuZmllbGRzLHJlc3VsdHNMaXN0PW9GdWxsUmVzcG9uc2UscmVzdWx0cz1bXSxtZXRhRmllbGRzPXNjaGVtYS5tZXRhRmllbGRzfHx7fSxmaWVsZFBhcnNlcnM9W10sZmllbGRQYXRocz1bXSxzaW1wbGVGaWVsZHM9W10sYkVycm9yPWZhbHNlLGksbGVuLGosdixrZXkscGFyc2VyLHBhdGg7dmFyIGJ1aWxkUGF0aD1mdW5jdGlvbihuZWVkbGUpe3ZhciBwYXRoPW51bGwsa2V5cz1bXSxpPTA7aWYobmVlZGxlKXtuZWVkbGU9bmVlZGxlLnJlcGxhY2UoL1xbKFsnIl0pKC4qPylcMVxdL2csZnVuY3Rpb24oeCwkMSwkMil7a2V5c1tpXT0kMjtyZXR1cm4iLkAiKyhpKyspO30pLnJlcGxhY2UoL1xbKFxkKylcXS9nLGZ1bmN0aW9uKHgsJDEpe2tleXNbaV09cGFyc2VJbnQoJDEsMTApfDA7cmV0dXJuIi5AIisoaSsrKTt9KS5yZXBsYWNlKC9eXC4vLCIiKTtpZighL1teXHdcLlwkQF0vLnRlc3QobmVlZGxlKSl7cGF0aD1uZWVkbGUuc3BsaXQoIi4iKTtmb3IoaT1wYXRoLmxlbmd0aC0xO2k+PTA7LS1pKXtpZihwYXRoW2ldLmNoYXJBdCgwKT09PSJAIil7cGF0aFtpXT1rZXlzW3BhcnNlSW50KHBhdGhbaV0uc3Vic3RyKDEpLDEwKV07fX19ZWxzZXt9fXJldHVybiBwYXRoO307dmFyIHdhbGtQYXRoPWZ1bmN0aW9uKHBhdGgsb3JpZ2luKXt2YXIgdj1vcmlnaW4saT0wLGxlbj1wYXRoLmxlbmd0aDtmb3IoO2k8bGVuJiZ2OysraSl7dj12W3BhdGhbaV1dO31yZXR1cm4gdjt9O3BhdGg9YnVpbGRQYXRoKHNjaGVtYS5yZXN1bHRzTGlzdCk7aWYocGF0aCl7cmVzdWx0c0xpc3Q9d2Fsa1BhdGgocGF0aCxvRnVsbFJlc3BvbnNlKTtpZihyZXN1bHRzTGlzdD09PXVuZGVmaW5lZCl7YkVycm9yPXRydWU7fX1lbHNle2JFcnJvcj10cnVlO31pZighcmVzdWx0c0xpc3Qpe3Jlc3VsdHNMaXN0PVtdO31pZighbGFuZy5pc0FycmF5KHJlc3VsdHNMaXN0KSl7cmVzdWx0c0xpc3Q9W3Jlc3VsdHNMaXN0XTt9aWYoIWJFcnJvcil7aWYoc2NoZW1hLmZpZWxkcyl7dmFyIGZpZWxkO2ZvcihpPTAsbGVuPWZpZWxkcy5sZW5ndGg7aTxsZW47aSsrKXtmaWVsZD1maWVsZHNbaV07a2V5PWZpZWxkLmtleXx8ZmllbGQ7cGFyc2VyPSgodHlwZW9mIGZpZWxkLnBhcnNlcj09PSJmdW5jdGlvbiIpP2ZpZWxkLnBhcnNlcjpEUy5QYXJzZXJbZmllbGQucGFyc2VyKyIiXSl8fGZpZWxkLmNvbnZlcnRlcjtwYXRoPWJ1aWxkUGF0aChrZXkpO2lmKHBhcnNlcil7ZmllbGRQYXJzZXJzW2ZpZWxkUGFyc2Vycy5sZW5ndGhdPXtrZXk6a2V5LHBhcnNlcjpwYXJzZXJ9O31pZihwYXRoKXtpZihwYXRoLmxlbmd0aD4xKXtmaWVsZFBhdGhzW2ZpZWxkUGF0aHMubGVuZ3RoXT17a2V5OmtleSxwYXRoOnBhdGh9O31lbHNle3NpbXBsZUZpZWxkc1tzaW1wbGVGaWVsZHMubGVuZ3RoXT17a2V5OmtleSxwYXRoOnBhdGhbMF19O319ZWxzZXt9fWZvcihpPXJlc3VsdHNMaXN0Lmxlbmd0aC0xO2k+PTA7LS1pKXt2YXIgcj1yZXN1bHRzTGlzdFtpXSxyZWM9e307aWYocil7Zm9yKGo9c2ltcGxlRmllbGRzLmxlbmd0aC0xO2o+PTA7LS1qKXtyZWNbc2ltcGxlRmllbGRzW2pdLmtleV09KHJbc2ltcGxlRmllbGRzW2pdLnBhdGhdIT09dW5kZWZpbmVkKT9yW3NpbXBsZUZpZWxkc1tqXS5wYXRoXTpyW2pdO31mb3Ioaj1maWVsZFBhdGhzLmxlbmd0aC0xO2o+PTA7LS1qKXtyZWNbZmllbGRQYXRoc1tqXS5rZXldPXdhbGtQYXRoKGZpZWxkUGF0aHNbal0ucGF0aCxyKTt9Zm9yKGo9ZmllbGRQYXJzZXJzLmxlbmd0aC0xO2o+PTA7LS1qKXt2YXIgcD1maWVsZFBhcnNlcnNbal0ua2V5O3JlY1twXT1maWVsZFBhcnNlcnNbal0ucGFyc2VyLmNhbGwodGhpcyxyZWNbcF0pO2lmKHJlY1twXT09PXVuZGVmaW5lZCl7cmVjW3BdPW51bGw7fX19cmVzdWx0c1tpXT1yZWM7fX1lbHNle3Jlc3VsdHM9cmVzdWx0c0xpc3Q7fWZvcihrZXkgaW4gbWV0YUZpZWxkcyl7aWYobGFuZy5oYXNPd25Qcm9wZXJ0eShtZXRhRmllbGRzLGtleSkpe3BhdGg9YnVpbGRQYXRoKG1ldGFGaWVsZHNba2V5XSk7CmlmKHBhdGgpe3Y9d2Fsa1BhdGgocGF0aCxvRnVsbFJlc3BvbnNlKTtvUGFyc2VkUmVzcG9uc2UubWV0YVtrZXldPXY7fX19fWVsc2V7b1BhcnNlZFJlc3BvbnNlLmVycm9yPXRydWU7fW9QYXJzZWRSZXNwb25zZS5yZXN1bHRzPXJlc3VsdHM7fWVsc2V7b1BhcnNlZFJlc3BvbnNlLmVycm9yPXRydWU7fXJldHVybiBvUGFyc2VkUmVzcG9uc2U7fSxwYXJzZUhUTUxUYWJsZURhdGE6ZnVuY3Rpb24ob1JlcXVlc3Qsb0Z1bGxSZXNwb25zZSl7dmFyIGJFcnJvcj1mYWxzZTt2YXIgZWxUYWJsZT1vRnVsbFJlc3BvbnNlO3ZhciBmaWVsZHM9dGhpcy5yZXNwb25zZVNjaGVtYS5maWVsZHM7dmFyIG9QYXJzZWRSZXNwb25zZT17cmVzdWx0czpbXX07aWYobGFuZy5pc0FycmF5KGZpZWxkcykpe2Zvcih2YXIgaT0wO2k8ZWxUYWJsZS50Qm9kaWVzLmxlbmd0aDtpKyspe3ZhciBlbFRib2R5PWVsVGFibGUudEJvZGllc1tpXTtmb3IodmFyIGo9ZWxUYm9keS5yb3dzLmxlbmd0aC0xO2o+LTE7ai0tKXt2YXIgZWxSb3c9ZWxUYm9keS5yb3dzW2pdO3ZhciBvUmVzdWx0PXt9O2Zvcih2YXIgaz1maWVsZHMubGVuZ3RoLTE7az4tMTtrLS0pe3ZhciBmaWVsZD1maWVsZHNba107dmFyIGtleT0obGFuZy5pc1ZhbHVlKGZpZWxkLmtleSkpP2ZpZWxkLmtleTpmaWVsZDt2YXIgZGF0YT1lbFJvdy5jZWxsc1trXS5pbm5lckhUTUw7aWYoIWZpZWxkLnBhcnNlciYmZmllbGQuY29udmVydGVyKXtmaWVsZC5wYXJzZXI9ZmllbGQuY29udmVydGVyO312YXIgcGFyc2VyPSh0eXBlb2YgZmllbGQucGFyc2VyPT09ImZ1bmN0aW9uIik/ZmllbGQucGFyc2VyOkRTLlBhcnNlcltmaWVsZC5wYXJzZXIrIiJdO2lmKHBhcnNlcil7ZGF0YT1wYXJzZXIuY2FsbCh0aGlzLGRhdGEpO31pZihkYXRhPT09dW5kZWZpbmVkKXtkYXRhPW51bGw7fW9SZXN1bHRba2V5XT1kYXRhO31vUGFyc2VkUmVzcG9uc2UucmVzdWx0c1tqXT1vUmVzdWx0O319fWVsc2V7YkVycm9yPXRydWU7fWlmKGJFcnJvcil7b1BhcnNlZFJlc3BvbnNlLmVycm9yPXRydWU7fWVsc2V7fXJldHVybiBvUGFyc2VkUmVzcG9uc2U7fX07bGFuZy5hdWdtZW50UHJvdG8oRFMsdXRpbC5FdmVudFByb3ZpZGVyKTt1dGlsLkxvY2FsRGF0YVNvdXJjZT1mdW5jdGlvbihvTGl2ZURhdGEsb0NvbmZpZ3Mpe3RoaXMuZGF0YVR5cGU9RFMuVFlQRV9MT0NBTDtpZihvTGl2ZURhdGEpe2lmKFlBSE9PLmxhbmcuaXNBcnJheShvTGl2ZURhdGEpKXt0aGlzLnJlc3BvbnNlVHlwZT1EUy5UWVBFX0pTQVJSQVk7fWVsc2V7aWYob0xpdmVEYXRhLm5vZGVUeXBlJiZvTGl2ZURhdGEubm9kZVR5cGU9PTkpe3RoaXMucmVzcG9uc2VUeXBlPURTLlRZUEVfWE1MO31lbHNle2lmKG9MaXZlRGF0YS5ub2RlTmFtZSYmKG9MaXZlRGF0YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT0idGFibGUiKSl7dGhpcy5yZXNwb25zZVR5cGU9RFMuVFlQRV9IVE1MVEFCTEU7b0xpdmVEYXRhPW9MaXZlRGF0YS5jbG9uZU5vZGUodHJ1ZSk7fWVsc2V7aWYoWUFIT08ubGFuZy5pc1N0cmluZyhvTGl2ZURhdGEpKXt0aGlzLnJlc3BvbnNlVHlwZT1EUy5UWVBFX1RFWFQ7fWVsc2V7aWYoWUFIT08ubGFuZy5pc09iamVjdChvTGl2ZURhdGEpKXt0aGlzLnJlc3BvbnNlVHlwZT1EUy5UWVBFX0pTT047fX19fX19ZWxzZXtvTGl2ZURhdGE9W107dGhpcy5yZXNwb25zZVR5cGU9RFMuVFlQRV9KU0FSUkFZO311dGlsLkxvY2FsRGF0YVNvdXJjZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxvTGl2ZURhdGEsb0NvbmZpZ3MpO307bGFuZy5leHRlbmQodXRpbC5Mb2NhbERhdGFTb3VyY2UsRFMpO2xhbmcuYXVnbWVudE9iamVjdCh1dGlsLkxvY2FsRGF0YVNvdXJjZSxEUyk7dXRpbC5GdW5jdGlvbkRhdGFTb3VyY2U9ZnVuY3Rpb24ob0xpdmVEYXRhLG9Db25maWdzKXt0aGlzLmRhdGFUeXBlPURTLlRZUEVfSlNGVU5DVElPTjtvTGl2ZURhdGE9b0xpdmVEYXRhfHxmdW5jdGlvbigpe307dXRpbC5GdW5jdGlvbkRhdGFTb3VyY2Uuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsb0xpdmVEYXRhLG9Db25maWdzKTt9O2xhbmcuZXh0ZW5kKHV0aWwuRnVuY3Rpb25EYXRhU291cmNlLERTLHtzY29wZTpudWxsLG1ha2VDb25uZWN0aW9uOmZ1bmN0aW9uKG9SZXF1ZXN0LG9DYWxsYmFjayxvQ2FsbGVyKXt2YXIgdElkPURTLl9uVHJhbnNhY3Rpb25JZCsrO3RoaXMuZmlyZUV2ZW50KCJyZXF1ZXN0RXZlbnQiLHt0SWQ6dElkLHJlcXVlc3Q6b1JlcXVlc3QsY2FsbGJhY2s6b0NhbGxiYWNrLGNhbGxlcjpvQ2FsbGVyfSk7dmFyIG9SYXdSZXNwb25zZT0odGhpcy5zY29wZSk/dGhpcy5saXZlRGF0YS5jYWxsKHRoaXMuc2NvcGUsb1JlcXVlc3QsdGhpcyxvQ2FsbGJhY2spOnRoaXMubGl2ZURhdGEob1JlcXVlc3Qsb0NhbGxiYWNrKTtpZih0aGlzLnJlc3BvbnNlVHlwZT09PURTLlRZUEVfVU5LTk9XTil7aWYoWUFIT08ubGFuZy5pc0FycmF5KG9SYXdSZXNwb25zZSkpe3RoaXMucmVzcG9uc2VUeXBlPURTLlRZUEVfSlNBUlJBWTt9ZWxzZXtpZihvUmF3UmVzcG9uc2UmJm9SYXdSZXNwb25zZS5ub2RlVHlwZSYmb1Jhd1Jlc3BvbnNlLm5vZGVUeXBlPT05KXt0aGlzLnJlc3BvbnNlVHlwZT1EUy5UWVBFX1hNTDt9ZWxzZXtpZihvUmF3UmVzcG9uc2UmJm9SYXdSZXNwb25zZS5ub2RlTmFtZSYmKG9SYXdSZXNwb25zZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT0idGFibGUiKSl7dGhpcy5yZXNwb25zZVR5cGU9RFMuVFlQRV9IVE1MVEFCTEU7fWVsc2V7aWYoWUFIT08ubGFuZy5pc09iamVjdChvUmF3UmVzcG9uc2UpKXt0aGlzLnJlc3BvbnNlVHlwZT1EUy5UWVBFX0pTT047fWVsc2V7aWYoWUFIT08ubGFuZy5pc1N0cmluZyhvUmF3UmVzcG9uc2UpKXt0aGlzLnJlc3BvbnNlVHlwZT1EUy5UWVBFX1RFWFQ7fX19fX19dGhpcy5oYW5kbGVSZXNwb25zZShvUmVxdWVzdCxvUmF3UmVzcG9uc2Usb0NhbGxiYWNrLG9DYWxsZXIsdElkKTtyZXR1cm4gdElkO319KTtsYW5nLmF1Z21lbnRPYmplY3QodXRpbC5GdW5jdGlvbkRhdGFTb3VyY2UsRFMpO3V0aWwuU2NyaXB0Tm9kZURhdGFTb3VyY2U9ZnVuY3Rpb24ob0xpdmVEYXRhLG9Db25maWdzKXt0aGlzLmRhdGFUeXBlPURTLlRZUEVfU0NSSVBUTk9ERTtvTGl2ZURhdGE9b0xpdmVEYXRhfHwiIjt1dGlsLlNjcmlwdE5vZGVEYXRhU291cmNlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLG9MaXZlRGF0YSxvQ29uZmlncyk7fTtsYW5nLmV4dGVuZCh1dGlsLlNjcmlwdE5vZGVEYXRhU291cmNlLERTLHtnZXRVdGlsaXR5OnV0aWwuR2V0LGFzeW5jTW9kZToiYWxsb3dBbGwiLHNjcmlwdENhbGxiYWNrUGFyYW06ImNhbGxiYWNrIixnZW5lcmF0ZVJlcXVlc3RDYWxsYmFjazpmdW5jdGlvbihpZCl7cmV0dXJuIiYiK3RoaXMuc2NyaXB0Q2FsbGJhY2tQYXJhbSsiPVlBSE9PLnV0aWwuU2NyaXB0Tm9kZURhdGFTb3VyY2UuY2FsbGJhY2tzWyIraWQrIl0iO30sZG9CZWZvcmVHZXRTY3JpcHROb2RlOmZ1bmN0aW9uKHNVcmkpe3JldHVybiBzVXJpO30sbWFrZUNvbm5lY3Rpb246ZnVuY3Rpb24ob1JlcXVlc3Qsb0NhbGxiYWNrLG9DYWxsZXIpe3ZhciB0SWQ9RFMuX25UcmFuc2FjdGlvbklkKys7dGhpcy5maXJlRXZlbnQoInJlcXVlc3RFdmVudCIse3RJZDp0SWQscmVxdWVzdDpvUmVxdWVzdCxjYWxsYmFjazpvQ2FsbGJhY2ssY2FsbGVyOm9DYWxsZXJ9KTtpZih1dGlsLlNjcmlwdE5vZGVEYXRhU291cmNlLl9uUGVuZGluZz09PTApe3V0aWwuU2NyaXB0Tm9kZURhdGFTb3VyY2UuY2FsbGJhY2tzPVtdO3V0aWwuU2NyaXB0Tm9kZURhdGFTb3VyY2UuX25JZD0wO312YXIgaWQ9dXRpbC5TY3JpcHROb2RlRGF0YVNvdXJjZS5fbklkO3V0aWwuU2NyaXB0Tm9kZURhdGFTb3VyY2UuX25JZCsrO3ZhciBvU2VsZj10aGlzO3V0aWwuU2NyaXB0Tm9kZURhdGFTb3VyY2UuY2FsbGJhY2tzW2lkXT1mdW5jdGlvbihvUmF3UmVzcG9uc2Upe2lmKChvU2VsZi5hc3luY01vZGUhPT0iaWdub3JlU3RhbGVSZXNwb25zZXMiKXx8KGlkPT09dXRpbC5TY3JpcHROb2RlRGF0YVNvdXJjZS5jYWxsYmFja3MubGVuZ3RoLTEpKXtpZihvU2VsZi5yZXNwb25zZVR5cGU9PT1EUy5UWVBFX1VOS05PV04pe2lmKFlBSE9PLmxhbmcuaXNBcnJheShvUmF3UmVzcG9uc2UpKXtvU2VsZi5yZXNwb25zZVR5cGU9RFMuVFlQRV9KU0FSUkFZO31lbHNle2lmKG9SYXdSZXNwb25zZS5ub2RlVHlwZSYmb1Jhd1Jlc3BvbnNlLm5vZGVUeXBlPT05KXtvU2VsZi5yZXNwb25zZVR5cGU9RFMuVFlQRV9YTUw7fWVsc2V7aWYob1Jhd1Jlc3BvbnNlLm5vZGVOYW1lJiYob1Jhd1Jlc3BvbnNlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PSJ0YWJsZSIpKXtvU2VsZi5yZXNwb25zZVR5cGU9RFMuVFlQRV9IVE1MVEFCTEU7fWVsc2V7aWYoWUFIT08ubGFuZy5pc09iamVjdChvUmF3UmVzcG9uc2UpKXtvU2VsZi5yZXNwb25zZVR5cGU9RFMuVFlQRV9KU09OO31lbHNle2lmKFlBSE9PLmxhbmcuaXNTdHJpbmcob1Jhd1Jlc3BvbnNlKSl7b1NlbGYucmVzcG9uc2VUeXBlPURTLlRZUEVfVEVYVDt9fX19fX1vU2VsZi5oYW5kbGVSZXNwb25zZShvUmVxdWVzdCxvUmF3UmVzcG9uc2Usb0NhbGxiYWNrLG9DYWxsZXIsdElkKTt9ZWxzZXt9ZGVsZXRlIHV0aWwuU2NyaXB0Tm9kZURhdGFTb3VyY2UuY2FsbGJhY2tzW2lkXTt9O3V0aWwuU2NyaXB0Tm9kZURhdGFTb3VyY2UuX25QZW5kaW5nKys7dmFyIHNVcmk9dGhpcy5saXZlRGF0YStvUmVxdWVzdCt0aGlzLmdlbmVyYXRlUmVxdWVzdENhbGxiYWNrKGlkKTtzVXJpPXRoaXMuZG9CZWZvcmVHZXRTY3JpcHROb2RlKHNVcmkpO3RoaXMuZ2V0VXRpbGl0eS5zY3JpcHQoc1VyaSx7YXV0b3B1cmdlOnRydWUsb25zdWNjZXNzOnV0aWwuU2NyaXB0Tm9kZURhdGFTb3VyY2UuX2J1bXBQZW5kaW5nRG93bixvbmZhaWw6dXRpbC5TY3JpcHROb2RlRGF0YVNvdXJjZS5fYnVtcFBlbmRpbmdEb3dufSk7cmV0dXJuIHRJZDt9fSk7bGFuZy5hdWdtZW50T2JqZWN0KHV0aWwuU2NyaXB0Tm9kZURhdGFTb3VyY2UsRFMpO2xhbmcuYXVnbWVudE9iamVjdCh1dGlsLlNjcmlwdE5vZGVEYXRhU291cmNlLHtfbklkOjAsX25QZW5kaW5nOjAsY2FsbGJhY2tzOltdfSk7dXRpbC5YSFJEYXRhU291cmNlPWZ1bmN0aW9uKG9MaXZlRGF0YSxvQ29uZmlncyl7dGhpcy5kYXRhVHlwZT1EUy5UWVBFX1hIUjt0aGlzLmNvbm5NZ3I9dGhpcy5jb25uTWdyfHx1dGlsLkNvbm5lY3Q7b0xpdmVEYXRhPW9MaXZlRGF0YXx8IiI7dXRpbC5YSFJEYXRhU291cmNlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLG9MaXZlRGF0YSxvQ29uZmlncyk7fTtsYW5nLmV4dGVuZCh1dGlsLlhIUkRhdGFTb3VyY2UsRFMse2Nvbm5NZ3I6bnVsbCxjb25uWGhyTW9kZToiYWxsb3dBbGwiLGNvbm5NZXRob2RQb3N0OmZhbHNlLGNvbm5UaW1lb3V0OjAsbWFrZUNvbm5lY3Rpb246ZnVuY3Rpb24ob1JlcXVlc3Qsb0NhbGxiYWNrLG9DYWxsZXIpe3ZhciBvUmF3UmVzcG9uc2U9bnVsbDt2YXIgdElkPURTLl9uVHJhbnNhY3Rpb25JZCsrO3RoaXMuZmlyZUV2ZW50KCJyZXF1ZXN0RXZlbnQiLHt0SWQ6dElkLHJlcXVlc3Q6b1JlcXVlc3QsY2FsbGJhY2s6b0NhbGxiYWNrLGNhbGxlcjpvQ2FsbGVyfSk7dmFyIG9TZWxmPXRoaXM7dmFyIG9Db25uTWdyPXRoaXMuY29ubk1ncjt2YXIgb1F1ZXVlPXRoaXMuX29RdWV1ZTt2YXIgX3hoclN1Y2Nlc3M9ZnVuY3Rpb24ob1Jlc3BvbnNlKXtpZihvUmVzcG9uc2UmJih0aGlzLmNvbm5YaHJNb2RlPT0iaWdub3JlU3RhbGVSZXNwb25zZXMiKSYmKG9SZXNwb25zZS50SWQhPW9RdWV1ZS5jb25uLnRJZCkpe3JldHVybiBudWxsO31lbHNle2lmKCFvUmVzcG9uc2Upe3RoaXMuZmlyZUV2ZW50KCJkYXRhRXJyb3JFdmVudCIse3JlcXVlc3Q6b1JlcXVlc3QscmVzcG9uc2U6bnVsbCxjYWxsYmFjazpvQ2FsbGJhY2ssY2FsbGVyOm9DYWxsZXIsbWVzc2FnZTpEUy5FUlJPUl9EQVRBTlVMTH0pO0RTLmlzc3VlQ2FsbGJhY2sob0NhbGxiYWNrLFtvUmVxdWVzdCx7ZXJyb3I6dHJ1ZX1dLHRydWUsb0NhbGxlcik7cmV0dXJuIG51bGw7Cn1lbHNle2lmKHRoaXMucmVzcG9uc2VUeXBlPT09RFMuVFlQRV9VTktOT1dOKXt2YXIgY3R5cGU9KG9SZXNwb25zZS5nZXRSZXNwb25zZUhlYWRlcik/b1Jlc3BvbnNlLmdldFJlc3BvbnNlSGVhZGVyWyJDb250ZW50LVR5cGUiXTpudWxsO2lmKGN0eXBlKXtpZihjdHlwZS5pbmRleE9mKCJ0ZXh0L3htbCIpPi0xKXt0aGlzLnJlc3BvbnNlVHlwZT1EUy5UWVBFX1hNTDt9ZWxzZXtpZihjdHlwZS5pbmRleE9mKCJhcHBsaWNhdGlvbi9qc29uIik+LTEpe3RoaXMucmVzcG9uc2VUeXBlPURTLlRZUEVfSlNPTjt9ZWxzZXtpZihjdHlwZS5pbmRleE9mKCJ0ZXh0L3BsYWluIik+LTEpe3RoaXMucmVzcG9uc2VUeXBlPURTLlRZUEVfVEVYVDt9fX19fXRoaXMuaGFuZGxlUmVzcG9uc2Uob1JlcXVlc3Qsb1Jlc3BvbnNlLG9DYWxsYmFjayxvQ2FsbGVyLHRJZCk7fX19O3ZhciBfeGhyRmFpbHVyZT1mdW5jdGlvbihvUmVzcG9uc2Upe3RoaXMuZmlyZUV2ZW50KCJkYXRhRXJyb3JFdmVudCIse3JlcXVlc3Q6b1JlcXVlc3QscmVzcG9uc2U6b1Jlc3BvbnNlLGNhbGxiYWNrOm9DYWxsYmFjayxjYWxsZXI6b0NhbGxlcixtZXNzYWdlOkRTLkVSUk9SX0RBVEFJTlZBTElEfSk7aWYobGFuZy5pc1N0cmluZyh0aGlzLmxpdmVEYXRhKSYmbGFuZy5pc1N0cmluZyhvUmVxdWVzdCkmJih0aGlzLmxpdmVEYXRhLmxhc3RJbmRleE9mKCI/IikhPT10aGlzLmxpdmVEYXRhLmxlbmd0aC0xKSYmKG9SZXF1ZXN0LmluZGV4T2YoIj8iKSE9PTApKXt9b1Jlc3BvbnNlPW9SZXNwb25zZXx8e307b1Jlc3BvbnNlLmVycm9yPXRydWU7RFMuaXNzdWVDYWxsYmFjayhvQ2FsbGJhY2ssW29SZXF1ZXN0LG9SZXNwb25zZV0sdHJ1ZSxvQ2FsbGVyKTtyZXR1cm4gbnVsbDt9O3ZhciBfeGhyQ2FsbGJhY2s9e3N1Y2Nlc3M6X3hoclN1Y2Nlc3MsZmFpbHVyZTpfeGhyRmFpbHVyZSxzY29wZTp0aGlzfTtpZihsYW5nLmlzTnVtYmVyKHRoaXMuY29ublRpbWVvdXQpKXtfeGhyQ2FsbGJhY2sudGltZW91dD10aGlzLmNvbm5UaW1lb3V0O31pZih0aGlzLmNvbm5YaHJNb2RlPT0iY2FuY2VsU3RhbGVSZXF1ZXN0cyIpe2lmKG9RdWV1ZS5jb25uKXtpZihvQ29ubk1nci5hYm9ydCl7b0Nvbm5NZ3IuYWJvcnQob1F1ZXVlLmNvbm4pO29RdWV1ZS5jb25uPW51bGw7fWVsc2V7fX19aWYob0Nvbm5NZ3ImJm9Db25uTWdyLmFzeW5jUmVxdWVzdCl7dmFyIHNMaXZlRGF0YT10aGlzLmxpdmVEYXRhO3ZhciBpc1Bvc3Q9dGhpcy5jb25uTWV0aG9kUG9zdDt2YXIgc01ldGhvZD0oaXNQb3N0KT8iUE9TVCI6IkdFVCI7dmFyIHNVcmk9KGlzUG9zdHx8IWxhbmcuaXNWYWx1ZShvUmVxdWVzdCkpP3NMaXZlRGF0YTpzTGl2ZURhdGErb1JlcXVlc3Q7dmFyIHNSZXF1ZXN0PShpc1Bvc3QpP29SZXF1ZXN0Om51bGw7aWYodGhpcy5jb25uWGhyTW9kZSE9InF1ZXVlUmVxdWVzdHMiKXtvUXVldWUuY29ubj1vQ29ubk1nci5hc3luY1JlcXVlc3Qoc01ldGhvZCxzVXJpLF94aHJDYWxsYmFjayxzUmVxdWVzdCk7fWVsc2V7aWYob1F1ZXVlLmNvbm4pe3ZhciBhbGxSZXF1ZXN0cz1vUXVldWUucmVxdWVzdHM7YWxsUmVxdWVzdHMucHVzaCh7cmVxdWVzdDpvUmVxdWVzdCxjYWxsYmFjazpfeGhyQ2FsbGJhY2t9KTtpZighb1F1ZXVlLmludGVydmFsKXtvUXVldWUuaW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZihvQ29ubk1nci5pc0NhbGxJblByb2dyZXNzKG9RdWV1ZS5jb25uKSl7cmV0dXJuO31lbHNle2lmKGFsbFJlcXVlc3RzLmxlbmd0aD4wKXtzVXJpPShpc1Bvc3R8fCFsYW5nLmlzVmFsdWUoYWxsUmVxdWVzdHNbMF0ucmVxdWVzdCkpP3NMaXZlRGF0YTpzTGl2ZURhdGErYWxsUmVxdWVzdHNbMF0ucmVxdWVzdDtzUmVxdWVzdD0oaXNQb3N0KT9hbGxSZXF1ZXN0c1swXS5yZXF1ZXN0Om51bGw7b1F1ZXVlLmNvbm49b0Nvbm5NZ3IuYXN5bmNSZXF1ZXN0KHNNZXRob2Qsc1VyaSxhbGxSZXF1ZXN0c1swXS5jYWxsYmFjayxzUmVxdWVzdCk7YWxsUmVxdWVzdHMuc2hpZnQoKTt9ZWxzZXtjbGVhckludGVydmFsKG9RdWV1ZS5pbnRlcnZhbCk7b1F1ZXVlLmludGVydmFsPW51bGw7fX19LDUwKTt9fWVsc2V7b1F1ZXVlLmNvbm49b0Nvbm5NZ3IuYXN5bmNSZXF1ZXN0KHNNZXRob2Qsc1VyaSxfeGhyQ2FsbGJhY2ssc1JlcXVlc3QpO319fWVsc2V7RFMuaXNzdWVDYWxsYmFjayhvQ2FsbGJhY2ssW29SZXF1ZXN0LHtlcnJvcjp0cnVlfV0sdHJ1ZSxvQ2FsbGVyKTt9cmV0dXJuIHRJZDt9fSk7bGFuZy5hdWdtZW50T2JqZWN0KHV0aWwuWEhSRGF0YVNvdXJjZSxEUyk7dXRpbC5EYXRhU291cmNlPWZ1bmN0aW9uKG9MaXZlRGF0YSxvQ29uZmlncyl7b0NvbmZpZ3M9b0NvbmZpZ3N8fHt9O3ZhciBkYXRhVHlwZT1vQ29uZmlncy5kYXRhVHlwZTtpZihkYXRhVHlwZSl7aWYoZGF0YVR5cGU9PURTLlRZUEVfTE9DQUwpe3JldHVybiBuZXcgdXRpbC5Mb2NhbERhdGFTb3VyY2Uob0xpdmVEYXRhLG9Db25maWdzKTt9ZWxzZXtpZihkYXRhVHlwZT09RFMuVFlQRV9YSFIpe3JldHVybiBuZXcgdXRpbC5YSFJEYXRhU291cmNlKG9MaXZlRGF0YSxvQ29uZmlncyk7fWVsc2V7aWYoZGF0YVR5cGU9PURTLlRZUEVfU0NSSVBUTk9ERSl7cmV0dXJuIG5ldyB1dGlsLlNjcmlwdE5vZGVEYXRhU291cmNlKG9MaXZlRGF0YSxvQ29uZmlncyk7fWVsc2V7aWYoZGF0YVR5cGU9PURTLlRZUEVfSlNGVU5DVElPTil7cmV0dXJuIG5ldyB1dGlsLkZ1bmN0aW9uRGF0YVNvdXJjZShvTGl2ZURhdGEsb0NvbmZpZ3MpO319fX19aWYoWUFIT08ubGFuZy5pc1N0cmluZyhvTGl2ZURhdGEpKXtyZXR1cm4gbmV3IHV0aWwuWEhSRGF0YVNvdXJjZShvTGl2ZURhdGEsb0NvbmZpZ3MpO31lbHNle2lmKFlBSE9PLmxhbmcuaXNGdW5jdGlvbihvTGl2ZURhdGEpKXtyZXR1cm4gbmV3IHV0aWwuRnVuY3Rpb25EYXRhU291cmNlKG9MaXZlRGF0YSxvQ29uZmlncyk7fWVsc2V7cmV0dXJuIG5ldyB1dGlsLkxvY2FsRGF0YVNvdXJjZShvTGl2ZURhdGEsb0NvbmZpZ3MpO319fTtsYW5nLmF1Z21lbnRPYmplY3QodXRpbC5EYXRhU291cmNlLERTKTt9KSgpO1lBSE9PLnV0aWwuTnVtYmVyPXtmb3JtYXQ6ZnVuY3Rpb24oZSxrKXtpZihlPT09IiJ8fGU9PT1udWxsfHwhaXNGaW5pdGUoZSkpe3JldHVybiIiO31lPStlO2s9WUFIT08ubGFuZy5tZXJnZShZQUhPTy51dGlsLk51bWJlci5mb3JtYXQuZGVmYXVsdHMsKGt8fHt9KSk7dmFyIGo9ZSsiIixsPU1hdGguYWJzKGUpLGI9ay5kZWNpbWFsUGxhY2VzfHwwLHI9ay50aG91c2FuZHNTZXBhcmF0b3IsZj1rLm5lZ2F0aXZlRm9ybWF0fHwoIi0iK2suZm9ybWF0KSxxLHAsZyxoO2lmKGYuaW5kZXhPZigiIyIpPi0xKXtmPWYucmVwbGFjZSgvIy8say5mb3JtYXQpO31pZihiPDApe3E9bC0obCUxKSsiIjtnPXEubGVuZ3RoK2I7aWYoZz4wKXtxPU51bWJlcigiLiIrcSkudG9GaXhlZChnKS5zbGljZSgyKStuZXcgQXJyYXkocS5sZW5ndGgtZysxKS5qb2luKCIwIik7fWVsc2V7cT0iMCI7fX1lbHNle3ZhciBhPWwrIiI7aWYoYj4wfHxhLmluZGV4T2YoIi4iKT4wKXt2YXIgZD1NYXRoLnBvdygxMCxiKTtxPU1hdGgucm91bmQobCpkKS9kKyIiO3ZhciBjPXEuaW5kZXhPZigiLiIpLG0sbztpZihjPDApe209YjtvPShNYXRoLnBvdygxMCxtKSsiIikuc3Vic3RyaW5nKDEpO2lmKGI+MCl7cT1xKyIuIitvO319ZWxzZXttPWItKHEubGVuZ3RoLWMtMSk7bz0oTWF0aC5wb3coMTAsbSkrIiIpLnN1YnN0cmluZygxKTtxPXErbzt9fWVsc2V7cT1sLnRvRml4ZWQoYikrIiI7fX1wPXEuc3BsaXQoL1xELyk7aWYobD49MTAwMCl7Zz1wWzBdLmxlbmd0aCUzfHwzO3BbMF09cFswXS5zbGljZSgwLGcpK3BbMF0uc2xpY2UoZykucmVwbGFjZSgvKFxkezN9KS9nLHIrIiQxIik7fXJldHVybiBZQUhPTy51dGlsLk51bWJlci5mb3JtYXQuX2FwcGx5Rm9ybWF0KChlPDA/ZjprLmZvcm1hdCkscC5qb2luKGsuZGVjaW1hbFNlcGFyYXRvciksayk7fX07WUFIT08udXRpbC5OdW1iZXIuZm9ybWF0LmRlZmF1bHRzPXtmb3JtYXQ6IntwcmVmaXh9e251bWJlcn17c3VmZml4fSIsbmVnYXRpdmVGb3JtYXQ6bnVsbCxkZWNpbWFsU2VwYXJhdG9yOiIuIixkZWNpbWFsUGxhY2VzOm51bGwsdGhvdXNhbmRzU2VwYXJhdG9yOiIifTtZQUhPTy51dGlsLk51bWJlci5mb3JtYXQuX2FwcGx5Rm9ybWF0PWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYS5yZXBsYWNlKC9ceyhcdyspXH0vZyxmdW5jdGlvbihkLGUpe3JldHVybiBlPT09Im51bWJlciI/YjplIGluIGM/Y1tlXToiIjt9KTt9OyhmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGMsZSxkKXtpZih0eXBlb2YgZD09PSJ1bmRlZmluZWQiKXtkPTEwO31mb3IoO3BhcnNlSW50KGMsMTApPGQmJmQ+MTtkLz0xMCl7Yz1lLnRvU3RyaW5nKCkrYzt9cmV0dXJuIGMudG9TdHJpbmcoKTt9O3ZhciBiPXtmb3JtYXRzOnthOmZ1bmN0aW9uKGUsYyl7cmV0dXJuIGMuYVtlLmdldERheSgpXTt9LEE6ZnVuY3Rpb24oZSxjKXtyZXR1cm4gYy5BW2UuZ2V0RGF5KCldO30sYjpmdW5jdGlvbihlLGMpe3JldHVybiBjLmJbZS5nZXRNb250aCgpXTt9LEI6ZnVuY3Rpb24oZSxjKXtyZXR1cm4gYy5CW2UuZ2V0TW9udGgoKV07fSxDOmZ1bmN0aW9uKGMpe3JldHVybiBhKHBhcnNlSW50KGMuZ2V0RnVsbFllYXIoKS8xMDAsMTApLDApO30sZDpbImdldERhdGUiLCIwIl0sZTpbImdldERhdGUiLCIgIl0sZzpmdW5jdGlvbihjKXtyZXR1cm4gYShwYXJzZUludChiLmZvcm1hdHMuRyhjKSUxMDAsMTApLDApO30sRzpmdW5jdGlvbihmKXt2YXIgZz1mLmdldEZ1bGxZZWFyKCk7dmFyIGU9cGFyc2VJbnQoYi5mb3JtYXRzLlYoZiksMTApO3ZhciBjPXBhcnNlSW50KGIuZm9ybWF0cy5XKGYpLDEwKTtpZihjPmUpe2crKzt9ZWxzZXtpZihjPT09MCYmZT49NTIpe2ctLTt9fXJldHVybiBnO30sSDpbImdldEhvdXJzIiwiMCJdLEk6ZnVuY3Rpb24oZSl7dmFyIGM9ZS5nZXRIb3VycygpJTEyO3JldHVybiBhKGM9PT0wPzEyOmMsMCk7fSxqOmZ1bmN0aW9uKGgpe3ZhciBnPW5ldyBEYXRlKCIiK2guZ2V0RnVsbFllYXIoKSsiLzEvMSBHTVQiKTt2YXIgZT1uZXcgRGF0ZSgiIitoLmdldEZ1bGxZZWFyKCkrIi8iKyhoLmdldE1vbnRoKCkrMSkrIi8iK2guZ2V0RGF0ZSgpKyIgR01UIik7dmFyIGM9ZS1nO3ZhciBmPXBhcnNlSW50KGMvNjAwMDAvNjAvMjQsMTApKzE7cmV0dXJuIGEoZiwwLDEwMCk7fSxrOlsiZ2V0SG91cnMiLCIgIl0sbDpmdW5jdGlvbihlKXt2YXIgYz1lLmdldEhvdXJzKCklMTI7cmV0dXJuIGEoYz09PTA/MTI6YywiICIpO30sbTpmdW5jdGlvbihjKXtyZXR1cm4gYShjLmdldE1vbnRoKCkrMSwwKTt9LE06WyJnZXRNaW51dGVzIiwiMCJdLHA6ZnVuY3Rpb24oZSxjKXtyZXR1cm4gYy5wW2UuZ2V0SG91cnMoKT49MTI/MTowXTt9LFA6ZnVuY3Rpb24oZSxjKXtyZXR1cm4gYy5QW2UuZ2V0SG91cnMoKT49MTI/MTowXTt9LHM6ZnVuY3Rpb24oZSxjKXtyZXR1cm4gcGFyc2VJbnQoZS5nZXRUaW1lKCkvMTAwMCwxMCk7fSxTOlsiZ2V0U2Vjb25kcyIsIjAiXSx1OmZ1bmN0aW9uKGMpe3ZhciBlPWMuZ2V0RGF5KCk7cmV0dXJuIGU9PT0wPzc6ZTt9LFU6ZnVuY3Rpb24oZyl7dmFyIGM9cGFyc2VJbnQoYi5mb3JtYXRzLmooZyksMTApO3ZhciBmPTYtZy5nZXREYXkoKTt2YXIgZT1wYXJzZUludCgoYytmKS83LDEwKTtyZXR1cm4gYShlLDApO30sVjpmdW5jdGlvbihnKXt2YXIgZj1wYXJzZUludChiLmZvcm1hdHMuVyhnKSwxMCk7dmFyIGM9KG5ldyBEYXRlKCIiK2cuZ2V0RnVsbFllYXIoKSsiLzEvMSIpKS5nZXREYXkoKTt2YXIgZT1mKyhjPjR8fGM8PTE/MDoxKTtpZihlPT09NTMmJihuZXcgRGF0ZSgiIitnLmdldEZ1bGxZZWFyKCkrIi8xMi8zMSIpKS5nZXREYXkoKTw0KXtlPTE7fWVsc2V7aWYoZT09PTApe2U9Yi5mb3JtYXRzLlYobmV3IERhdGUoIiIrKGcuZ2V0RnVsbFllYXIoKS0xKSsiLzEyLzMxIikpO319cmV0dXJuIGEoZSwwKTt9LHc6ImdldERheSIsVzpmdW5jdGlvbihnKXt2YXIgYz1wYXJzZUludChiLmZvcm1hdHMuaihnKSwxMCk7dmFyIGY9Ny1iLmZvcm1hdHMudShnKTt2YXIgZT1wYXJzZUludCgoYytmKS83LDEwKTsKcmV0dXJuIGEoZSwwLDEwKTt9LHk6ZnVuY3Rpb24oYyl7cmV0dXJuIGEoYy5nZXRGdWxsWWVhcigpJTEwMCwwKTt9LFk6ImdldEZ1bGxZZWFyIix6OmZ1bmN0aW9uKGYpe3ZhciBlPWYuZ2V0VGltZXpvbmVPZmZzZXQoKTt2YXIgYz1hKHBhcnNlSW50KE1hdGguYWJzKGUvNjApLDEwKSwwKTt2YXIgZz1hKE1hdGguYWJzKGUlNjApLDApO3JldHVybihlPjA/Ii0iOiIrIikrYytnO30sWjpmdW5jdGlvbihjKXt2YXIgZT1jLnRvU3RyaW5nKCkucmVwbGFjZSgvXi4qOlxkXGQoIEdNVFsrLV1cZCspPyBcKD8oW0EtWmEteiBdKylcKT9cZCokLywiJDIiKS5yZXBsYWNlKC9bYS16IF0vZywiIik7aWYoZS5sZW5ndGg+NCl7ZT1iLmZvcm1hdHMueihjKTt9cmV0dXJuIGU7fSwiJSI6ZnVuY3Rpb24oYyl7cmV0dXJuIiUiO319LGFnZ3JlZ2F0ZXM6e2M6ImxvY2FsZSIsRDoiJW0vJWQvJXkiLEY6IiVZLSVtLSVkIixoOiIlYiIsbjoiXG4iLHI6ImxvY2FsZSIsUjoiJUg6JU0iLHQ6Ilx0IixUOiIlSDolTTolUyIseDoibG9jYWxlIixYOiJsb2NhbGUifSxmb3JtYXQ6ZnVuY3Rpb24oZyxmLGQpe2Y9Znx8e307aWYoIShnIGluc3RhbmNlb2YgRGF0ZSkpe3JldHVybiBZQUhPTy5sYW5nLmlzVmFsdWUoZyk/ZzoiIjt9dmFyIGg9Zi5mb3JtYXR8fCIlbS8lZC8lWSI7aWYoaD09PSJZWVlZL01NL0REIil7aD0iJVkvJW0vJWQiO31lbHNle2lmKGg9PT0iREQvTU0vWVlZWSIpe2g9IiVkLyVtLyVZIjt9ZWxzZXtpZihoPT09Ik1NL0REL1lZWVkiKXtoPSIlbS8lZC8lWSI7fX19ZD1kfHwiZW4iO2lmKCEoZCBpbiBZQUhPTy51dGlsLkRhdGVMb2NhbGUpKXtpZihkLnJlcGxhY2UoLy1bYS16QS1aXSskLywiIikgaW4gWUFIT08udXRpbC5EYXRlTG9jYWxlKXtkPWQucmVwbGFjZSgvLVthLXpBLVpdKyQvLCIiKTt9ZWxzZXtkPSJlbiI7fX12YXIgaj1ZQUhPTy51dGlsLkRhdGVMb2NhbGVbZF07dmFyIGM9ZnVuY3Rpb24obCxrKXt2YXIgbT1iLmFnZ3JlZ2F0ZXNba107cmV0dXJuKG09PT0ibG9jYWxlIj9qW2tdOm0pO307dmFyIGU9ZnVuY3Rpb24obCxrKXt2YXIgbT1iLmZvcm1hdHNba107aWYodHlwZW9mIG09PT0ic3RyaW5nIil7cmV0dXJuIGdbbV0oKTt9ZWxzZXtpZih0eXBlb2YgbT09PSJmdW5jdGlvbiIpe3JldHVybiBtLmNhbGwoZyxnLGopO31lbHNle2lmKHR5cGVvZiBtPT09Im9iamVjdCImJnR5cGVvZiBtWzBdPT09InN0cmluZyIpe3JldHVybiBhKGdbbVswXV0oKSxtWzFdKTt9ZWxzZXtyZXR1cm4gazt9fX19O3doaWxlKGgubWF0Y2goLyVbY0RGaG5yUnRUeFhdLykpe2g9aC5yZXBsYWNlKC8lKFtjREZobnJSdFR4WF0pL2csYyk7fXZhciBpPWgucmVwbGFjZSgvJShbYUFiQkNkZWdHSElqa2xtTXBQc1N1VVZ3V3lZelolXSkvZyxlKTtjPWU9dW5kZWZpbmVkO3JldHVybiBpO319O1lBSE9PLm5hbWVzcGFjZSgiWUFIT08udXRpbCIpO1lBSE9PLnV0aWwuRGF0ZT1iO1lBSE9PLnV0aWwuRGF0ZUxvY2FsZT17YTpbIlN1biIsIk1vbiIsIlR1ZSIsIldlZCIsIlRodSIsIkZyaSIsIlNhdCJdLEE6WyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdLGI6WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXSxCOlsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXSxjOiIlYSAlZCAlYiAlWSAlVCAlWiIscDpbIkFNIiwiUE0iXSxQOlsiYW0iLCJwbSJdLHI6IiVJOiVNOiVTICVwIix4OiIlZC8lbS8leSIsWDoiJVQifTtZQUhPTy51dGlsLkRhdGVMb2NhbGVbImVuIl09WUFIT08ubGFuZy5tZXJnZShZQUhPTy51dGlsLkRhdGVMb2NhbGUse30pO1lBSE9PLnV0aWwuRGF0ZUxvY2FsZVsiZW4tVVMiXT1ZQUhPTy5sYW5nLm1lcmdlKFlBSE9PLnV0aWwuRGF0ZUxvY2FsZVsiZW4iXSx7YzoiJWEgJWQgJWIgJVkgJUk6JU06JVMgJXAgJVoiLHg6IiVtLyVkLyVZIixYOiIlSTolTTolUyAlcCJ9KTtZQUhPTy51dGlsLkRhdGVMb2NhbGVbImVuLUdCIl09WUFIT08ubGFuZy5tZXJnZShZQUhPTy51dGlsLkRhdGVMb2NhbGVbImVuIl0se3I6IiVsOiVNOiVTICVQICVaIn0pO1lBSE9PLnV0aWwuRGF0ZUxvY2FsZVsiZW4tQVUiXT1ZQUhPTy5sYW5nLm1lcmdlKFlBSE9PLnV0aWwuRGF0ZUxvY2FsZVsiZW4iXSk7fSkoKTtZQUhPTy5yZWdpc3RlcigiZGF0YXNvdXJjZSIsWUFIT08udXRpbC5EYXRhU291cmNlLHt2ZXJzaW9uOiIyLjkuMCIsYnVpbGQ6IjI4MDAifSk7",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 43544
        },
        "cache": {},
        "timings": {
          "send": 4,
          "wait": 2,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27305"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.874-06:00",
        "time": 72,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/yui/autocomplete/autocomplete-min.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 348,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:35 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "7254"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 43464,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "LyoKQ29weXJpZ2h0IChjKSAyMDExLCBZYWhvbyEgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLgpDb2RlIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgTGljZW5zZToKaHR0cDovL2RldmVsb3Blci55YWhvby5jb20veXVpL2xpY2Vuc2UuaHRtbAp2ZXJzaW9uOiAyLjkuMAoqLwpZQUhPTy53aWRnZXQuRFNfSlNBcnJheT1ZQUhPTy51dGlsLkxvY2FsRGF0YVNvdXJjZTtZQUhPTy53aWRnZXQuRFNfSlNGdW5jdGlvbj1ZQUhPTy51dGlsLkZ1bmN0aW9uRGF0YVNvdXJjZTtZQUhPTy53aWRnZXQuRFNfWEhSPWZ1bmN0aW9uKGIsYSxkKXt2YXIgYz1uZXcgWUFIT08udXRpbC5YSFJEYXRhU291cmNlKGIsZCk7Yy5fYURlcHJlY2F0ZWRTY2hlbWE9YTtyZXR1cm4gYzt9O1lBSE9PLndpZGdldC5EU19TY3JpcHROb2RlPWZ1bmN0aW9uKGIsYSxkKXt2YXIgYz1uZXcgWUFIT08udXRpbC5TY3JpcHROb2RlRGF0YVNvdXJjZShiLGQpO2MuX2FEZXByZWNhdGVkU2NoZW1hPWE7cmV0dXJuIGM7fTtZQUhPTy53aWRnZXQuRFNfWEhSLlRZUEVfSlNPTj1ZQUhPTy51dGlsLkRhdGFTb3VyY2VCYXNlLlRZUEVfSlNPTjtZQUhPTy53aWRnZXQuRFNfWEhSLlRZUEVfWE1MPVlBSE9PLnV0aWwuRGF0YVNvdXJjZUJhc2UuVFlQRV9YTUw7WUFIT08ud2lkZ2V0LkRTX1hIUi5UWVBFX0ZMQVQ9WUFIT08udXRpbC5EYXRhU291cmNlQmFzZS5UWVBFX1RFWFQ7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZT1mdW5jdGlvbihnLGIsaixjKXtpZihnJiZiJiZqKXtpZihqJiZZQUhPTy5sYW5nLmlzRnVuY3Rpb24oai5zZW5kUmVxdWVzdCkpe3RoaXMuZGF0YVNvdXJjZT1qO31lbHNle3JldHVybjt9dGhpcy5rZXk9MDt2YXIgZD1qLnJlc3BvbnNlU2NoZW1hO2lmKGouX2FEZXByZWNhdGVkU2NoZW1hKXt2YXIgaz1qLl9hRGVwcmVjYXRlZFNjaGVtYTtpZihZQUhPTy5sYW5nLmlzQXJyYXkoaykpe2lmKChqLnJlc3BvbnNlVHlwZT09PVlBSE9PLnV0aWwuRGF0YVNvdXJjZUJhc2UuVFlQRV9KU09OKXx8KGoucmVzcG9uc2VUeXBlPT09WUFIT08udXRpbC5EYXRhU291cmNlQmFzZS5UWVBFX1VOS05PV04pKXtkLnJlc3VsdHNMaXN0PWtbMF07dGhpcy5rZXk9a1sxXTtkLmZpZWxkcz0oay5sZW5ndGg8Myk/bnVsbDprLnNsaWNlKDEpO31lbHNle2lmKGoucmVzcG9uc2VUeXBlPT09WUFIT08udXRpbC5EYXRhU291cmNlQmFzZS5UWVBFX1hNTCl7ZC5yZXN1bHROb2RlPWtbMF07dGhpcy5rZXk9a1sxXTtkLmZpZWxkcz1rLnNsaWNlKDEpO31lbHNle2lmKGoucmVzcG9uc2VUeXBlPT09WUFIT08udXRpbC5EYXRhU291cmNlQmFzZS5UWVBFX1RFWFQpe2QucmVjb3JkRGVsaW09a1swXTtkLmZpZWxkRGVsaW09a1sxXTt9fX1qLnJlc3BvbnNlU2NoZW1hPWQ7fX1pZihZQUhPTy51dGlsLkRvbS5pbkRvY3VtZW50KGcpKXtpZihZQUhPTy5sYW5nLmlzU3RyaW5nKGcpKXt0aGlzLl9zTmFtZT0iaW5zdGFuY2UiK1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUuX25JbmRleCsiICIrZzt0aGlzLl9lbFRleHRib3g9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZyk7fWVsc2V7dGhpcy5fc05hbWU9KGcuaWQpPyJpbnN0YW5jZSIrWUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5fbkluZGV4KyIgIitnLmlkOiJpbnN0YW5jZSIrWUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5fbkluZGV4O3RoaXMuX2VsVGV4dGJveD1nO31ZQUhPTy51dGlsLkRvbS5hZGRDbGFzcyh0aGlzLl9lbFRleHRib3gsInl1aS1hYy1pbnB1dCIpO31lbHNle3JldHVybjt9aWYoWUFIT08udXRpbC5Eb20uaW5Eb2N1bWVudChiKSl7aWYoWUFIT08ubGFuZy5pc1N0cmluZyhiKSl7dGhpcy5fZWxDb250YWluZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYik7fWVsc2V7dGhpcy5fZWxDb250YWluZXI9Yjt9aWYodGhpcy5fZWxDb250YWluZXIuc3R5bGUuZGlzcGxheT09Im5vbmUiKXt9dmFyIGU9dGhpcy5fZWxDb250YWluZXIucGFyZW50Tm9kZTt2YXIgYT1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtpZihhPT0iZGl2Iil7WUFIT08udXRpbC5Eb20uYWRkQ2xhc3MoZSwieXVpLWFjIik7fWVsc2V7fX1lbHNle3JldHVybjt9aWYodGhpcy5kYXRhU291cmNlLmRhdGFUeXBlPT09WUFIT08udXRpbC5EYXRhU291cmNlQmFzZS5UWVBFX0xPQ0FMKXt0aGlzLmFwcGx5TG9jYWxGaWx0ZXI9dHJ1ZTt9aWYoYyYmKGMuY29uc3RydWN0b3I9PU9iamVjdCkpe2Zvcih2YXIgaSBpbiBjKXtpZihpKXt0aGlzW2ldPWNbaV07fX19dGhpcy5faW5pdENvbnRhaW5lckVsKCk7dGhpcy5faW5pdFByb3BzKCk7dGhpcy5faW5pdExpc3RFbCgpO3RoaXMuX2luaXRDb250YWluZXJIZWxwZXJFbHMoKTt2YXIgaD10aGlzO3ZhciBmPXRoaXMuX2VsVGV4dGJveDtZQUhPTy51dGlsLkV2ZW50LmFkZExpc3RlbmVyKGYsImtleXVwIixoLl9vblRleHRib3hLZXlVcCxoKTtZQUhPTy51dGlsLkV2ZW50LmFkZExpc3RlbmVyKGYsImtleWRvd24iLGguX29uVGV4dGJveEtleURvd24saCk7WUFIT08udXRpbC5FdmVudC5hZGRMaXN0ZW5lcihmLCJmb2N1cyIsaC5fb25UZXh0Ym94Rm9jdXMsaCk7WUFIT08udXRpbC5FdmVudC5hZGRMaXN0ZW5lcihmLCJibHVyIixoLl9vblRleHRib3hCbHVyLGgpO1lBSE9PLnV0aWwuRXZlbnQuYWRkTGlzdGVuZXIoYiwibW91c2VvdmVyIixoLl9vbkNvbnRhaW5lck1vdXNlb3ZlcixoKTtZQUhPTy51dGlsLkV2ZW50LmFkZExpc3RlbmVyKGIsIm1vdXNlb3V0IixoLl9vbkNvbnRhaW5lck1vdXNlb3V0LGgpO1lBSE9PLnV0aWwuRXZlbnQuYWRkTGlzdGVuZXIoYiwiY2xpY2siLGguX29uQ29udGFpbmVyQ2xpY2ssaCk7WUFIT08udXRpbC5FdmVudC5hZGRMaXN0ZW5lcihiLCJzY3JvbGwiLGguX29uQ29udGFpbmVyU2Nyb2xsLGgpO1lBSE9PLnV0aWwuRXZlbnQuYWRkTGlzdGVuZXIoYiwicmVzaXplIixoLl9vbkNvbnRhaW5lclJlc2l6ZSxoKTtZQUhPTy51dGlsLkV2ZW50LmFkZExpc3RlbmVyKGYsImtleXByZXNzIixoLl9vblRleHRib3hLZXlQcmVzcyxoKTtZQUhPTy51dGlsLkV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywidW5sb2FkIixoLl9vbldpbmRvd1VubG9hZCxoKTt0aGlzLnRleHRib3hGb2N1c0V2ZW50PW5ldyBZQUhPTy51dGlsLkN1c3RvbUV2ZW50KCJ0ZXh0Ym94Rm9jdXMiLHRoaXMpO3RoaXMudGV4dGJveEtleUV2ZW50PW5ldyBZQUhPTy51dGlsLkN1c3RvbUV2ZW50KCJ0ZXh0Ym94S2V5Iix0aGlzKTt0aGlzLmRhdGFSZXF1ZXN0RXZlbnQ9bmV3IFlBSE9PLnV0aWwuQ3VzdG9tRXZlbnQoImRhdGFSZXF1ZXN0Iix0aGlzKTt0aGlzLmRhdGFSZXF1ZXN0Q2FuY2VsRXZlbnQ9bmV3IFlBSE9PLnV0aWwuQ3VzdG9tRXZlbnQoImRhdGFSZXF1ZXN0Q2FuY2VsIix0aGlzKTt0aGlzLmRhdGFSZXR1cm5FdmVudD1uZXcgWUFIT08udXRpbC5DdXN0b21FdmVudCgiZGF0YVJldHVybiIsdGhpcyk7dGhpcy5kYXRhRXJyb3JFdmVudD1uZXcgWUFIT08udXRpbC5DdXN0b21FdmVudCgiZGF0YUVycm9yIix0aGlzKTt0aGlzLmNvbnRhaW5lclBvcHVsYXRlRXZlbnQ9bmV3IFlBSE9PLnV0aWwuQ3VzdG9tRXZlbnQoImNvbnRhaW5lclBvcHVsYXRlIix0aGlzKTt0aGlzLmNvbnRhaW5lckV4cGFuZEV2ZW50PW5ldyBZQUhPTy51dGlsLkN1c3RvbUV2ZW50KCJjb250YWluZXJFeHBhbmQiLHRoaXMpO3RoaXMudHlwZUFoZWFkRXZlbnQ9bmV3IFlBSE9PLnV0aWwuQ3VzdG9tRXZlbnQoInR5cGVBaGVhZCIsdGhpcyk7dGhpcy5pdGVtTW91c2VPdmVyRXZlbnQ9bmV3IFlBSE9PLnV0aWwuQ3VzdG9tRXZlbnQoIml0ZW1Nb3VzZU92ZXIiLHRoaXMpO3RoaXMuaXRlbU1vdXNlT3V0RXZlbnQ9bmV3IFlBSE9PLnV0aWwuQ3VzdG9tRXZlbnQoIml0ZW1Nb3VzZU91dCIsdGhpcyk7dGhpcy5pdGVtQXJyb3dUb0V2ZW50PW5ldyBZQUhPTy51dGlsLkN1c3RvbUV2ZW50KCJpdGVtQXJyb3dUbyIsdGhpcyk7dGhpcy5pdGVtQXJyb3dGcm9tRXZlbnQ9bmV3IFlBSE9PLnV0aWwuQ3VzdG9tRXZlbnQoIml0ZW1BcnJvd0Zyb20iLHRoaXMpO3RoaXMuaXRlbVNlbGVjdEV2ZW50PW5ldyBZQUhPTy51dGlsLkN1c3RvbUV2ZW50KCJpdGVtU2VsZWN0Iix0aGlzKTt0aGlzLnVubWF0Y2hlZEl0ZW1TZWxlY3RFdmVudD1uZXcgWUFIT08udXRpbC5DdXN0b21FdmVudCgidW5tYXRjaGVkSXRlbVNlbGVjdCIsdGhpcyk7dGhpcy5zZWxlY3Rpb25FbmZvcmNlRXZlbnQ9bmV3IFlBSE9PLnV0aWwuQ3VzdG9tRXZlbnQoInNlbGVjdGlvbkVuZm9yY2UiLHRoaXMpO3RoaXMuY29udGFpbmVyQ29sbGFwc2VFdmVudD1uZXcgWUFIT08udXRpbC5DdXN0b21FdmVudCgiY29udGFpbmVyQ29sbGFwc2UiLHRoaXMpO3RoaXMudGV4dGJveEJsdXJFdmVudD1uZXcgWUFIT08udXRpbC5DdXN0b21FdmVudCgidGV4dGJveEJsdXIiLHRoaXMpO3RoaXMudGV4dGJveENoYW5nZUV2ZW50PW5ldyBZQUhPTy51dGlsLkN1c3RvbUV2ZW50KCJ0ZXh0Ym94Q2hhbmdlIix0aGlzKTtmLnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwib2ZmIik7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5fbkluZGV4Kys7fWVsc2V7fX07WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuZGF0YVNvdXJjZT1udWxsO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLmFwcGx5TG9jYWxGaWx0ZXI9bnVsbDtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5xdWVyeU1hdGNoQ2FzZT1mYWxzZTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5xdWVyeU1hdGNoQ29udGFpbnM9ZmFsc2U7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUucXVlcnlNYXRjaFN1YnNldD1mYWxzZTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5taW5RdWVyeUxlbmd0aD0xO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLm1heFJlc3VsdHNEaXNwbGF5ZWQ9MTA7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUucXVlcnlEZWxheT0wLjI7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUudHlwZUFoZWFkRGVsYXk9MC41O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLnF1ZXJ5SW50ZXJ2YWw9NTAwO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLmhpZ2hsaWdodENsYXNzTmFtZT0ieXVpLWFjLWhpZ2hsaWdodCI7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUucHJlaGlnaGxpZ2h0Q2xhc3NOYW1lPW51bGw7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuZGVsaW1DaGFyPW51bGw7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuYXV0b0hpZ2hsaWdodD10cnVlO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLnR5cGVBaGVhZD1mYWxzZTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5hbmltSG9yaXo9ZmFsc2U7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuYW5pbVZlcnQ9dHJ1ZTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5hbmltU3BlZWQ9MC4zO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLmZvcmNlU2VsZWN0aW9uPWZhbHNlO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLmFsbG93QnJvd3NlckF1dG9jb21wbGV0ZT10cnVlO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLmFsd2F5c1Nob3dDb250YWluZXI9ZmFsc2U7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUudXNlSUZyYW1lPWZhbHNlO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLnVzZVNoYWRvdz1mYWxzZTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5zdXBwcmVzc0lucHV0VXBkYXRlPWZhbHNlO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLnJlc3VsdFR5cGVMaXN0PXRydWU7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUucXVlcnlRdWVzdGlvbk1hcms9dHJ1ZTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5hdXRvU25hcENvbnRhaW5lcj10cnVlO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIkF1dG9Db21wbGV0ZSAiK3RoaXMuX3NOYW1lO307WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuZ2V0SW5wdXRFbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbFRleHRib3g7Cn07WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuZ2V0Q29udGFpbmVyRWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZWxDb250YWluZXI7fTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5pc0ZvY3VzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYkZvY3VzZWQ7fTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5pc0NvbnRhaW5lck9wZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYkNvbnRhaW5lck9wZW47fTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5nZXRMaXN0RWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZWxMaXN0O307WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuZ2V0TGlzdEl0ZW1NYXRjaD1mdW5jdGlvbihhKXtpZihhLl9zUmVzdWx0TWF0Y2gpe3JldHVybiBhLl9zUmVzdWx0TWF0Y2g7fWVsc2V7cmV0dXJuIG51bGw7fX07WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuZ2V0TGlzdEl0ZW1EYXRhPWZ1bmN0aW9uKGEpe2lmKGEuX29SZXN1bHREYXRhKXtyZXR1cm4gYS5fb1Jlc3VsdERhdGE7fWVsc2V7cmV0dXJuIG51bGw7fX07WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuZ2V0TGlzdEl0ZW1JbmRleD1mdW5jdGlvbihhKXtpZihZQUhPTy5sYW5nLmlzTnVtYmVyKGEuX25JdGVtSW5kZXgpKXtyZXR1cm4gYS5fbkl0ZW1JbmRleDt9ZWxzZXtyZXR1cm4gbnVsbDt9fTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5zZXRIZWFkZXI9ZnVuY3Rpb24oYil7aWYodGhpcy5fZWxIZWFkZXIpe3ZhciBhPXRoaXMuX2VsSGVhZGVyO2lmKGIpe2EuaW5uZXJIVE1MPWI7YS5zdHlsZS5kaXNwbGF5PSIiO31lbHNle2EuaW5uZXJIVE1MPSIiO2Euc3R5bGUuZGlzcGxheT0ibm9uZSI7fX19O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLnNldEZvb3Rlcj1mdW5jdGlvbihiKXtpZih0aGlzLl9lbEZvb3Rlcil7dmFyIGE9dGhpcy5fZWxGb290ZXI7aWYoYil7YS5pbm5lckhUTUw9YjthLnN0eWxlLmRpc3BsYXk9IiI7fWVsc2V7YS5pbm5lckhUTUw9IiI7YS5zdHlsZS5kaXNwbGF5PSJub25lIjt9fX07WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuc2V0Qm9keT1mdW5jdGlvbihhKXtpZih0aGlzLl9lbEJvZHkpe3ZhciBiPXRoaXMuX2VsQm9keTtZQUhPTy51dGlsLkV2ZW50LnB1cmdlRWxlbWVudChiLHRydWUpO2lmKGEpe2IuaW5uZXJIVE1MPWE7Yi5zdHlsZS5kaXNwbGF5PSIiO31lbHNle2IuaW5uZXJIVE1MPSIiO2Iuc3R5bGUuZGlzcGxheT0ibm9uZSI7fXRoaXMuX2VsTGlzdD1udWxsO319O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLmdlbmVyYXRlUmVxdWVzdD1mdW5jdGlvbihiKXt2YXIgYT10aGlzLmRhdGFTb3VyY2UuZGF0YVR5cGU7aWYoYT09PVlBSE9PLnV0aWwuRGF0YVNvdXJjZUJhc2UuVFlQRV9YSFIpe2lmKCF0aGlzLmRhdGFTb3VyY2UuY29ubk1ldGhvZFBvc3Qpe2I9KHRoaXMucXVlcnlRdWVzdGlvbk1hcms/Ij8iOiIiKSsodGhpcy5kYXRhU291cmNlLnNjcmlwdFF1ZXJ5UGFyYW18fCJxdWVyeSIpKyI9IitiKyh0aGlzLmRhdGFTb3VyY2Uuc2NyaXB0UXVlcnlBcHBlbmQ/KCImIit0aGlzLmRhdGFTb3VyY2Uuc2NyaXB0UXVlcnlBcHBlbmQpOiIiKTt9ZWxzZXtiPSh0aGlzLmRhdGFTb3VyY2Uuc2NyaXB0UXVlcnlQYXJhbXx8InF1ZXJ5IikrIj0iK2IrKHRoaXMuZGF0YVNvdXJjZS5zY3JpcHRRdWVyeUFwcGVuZD8oIiYiK3RoaXMuZGF0YVNvdXJjZS5zY3JpcHRRdWVyeUFwcGVuZCk6IiIpO319ZWxzZXtpZihhPT09WUFIT08udXRpbC5EYXRhU291cmNlQmFzZS5UWVBFX1NDUklQVE5PREUpe2I9IiYiKyh0aGlzLmRhdGFTb3VyY2Uuc2NyaXB0UXVlcnlQYXJhbXx8InF1ZXJ5IikrIj0iK2IrKHRoaXMuZGF0YVNvdXJjZS5zY3JpcHRRdWVyeUFwcGVuZD8oIiYiK3RoaXMuZGF0YVNvdXJjZS5zY3JpcHRRdWVyeUFwcGVuZCk6IiIpO319cmV0dXJuIGI7fTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5zZW5kUXVlcnk9ZnVuY3Rpb24oYil7dGhpcy5fYkZvY3VzZWQ9dHJ1ZTt2YXIgYT0odGhpcy5kZWxpbUNoYXIpP3RoaXMuX2VsVGV4dGJveC52YWx1ZStiOmI7dGhpcy5fc2VuZFF1ZXJ5KGEpO307WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuc25hcENvbnRhaW5lcj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuX2VsVGV4dGJveCxiPVlBSE9PLnV0aWwuRG9tLmdldFhZKGEpO2JbMV0rPVlBSE9PLnV0aWwuRG9tLmdldChhKS5vZmZzZXRIZWlnaHQrMjtZQUhPTy51dGlsLkRvbS5zZXRYWSh0aGlzLl9lbENvbnRhaW5lcixiKTt9O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLmV4cGFuZENvbnRhaW5lcj1mdW5jdGlvbigpe3RoaXMuX3RvZ2dsZUNvbnRhaW5lcih0cnVlKTt9O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLmNvbGxhcHNlQ29udGFpbmVyPWZ1bmN0aW9uKCl7dGhpcy5fdG9nZ2xlQ29udGFpbmVyKGZhbHNlKTt9O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLmNsZWFyTGlzdD1mdW5jdGlvbigpe3ZhciBiPXRoaXMuX2VsTGlzdC5jaGlsZE5vZGVzLGE9Yi5sZW5ndGgtMTtmb3IoO2E+LTE7YS0tKXtiW2FdLnN0eWxlLmRpc3BsYXk9Im5vbmUiO319O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLmdldFN1YnNldE1hdGNoZXM9ZnVuY3Rpb24oZSl7dmFyIGQsYyxhO2Zvcih2YXIgYj1lLmxlbmd0aDtiPj10aGlzLm1pblF1ZXJ5TGVuZ3RoO2ItLSl7YT10aGlzLmdlbmVyYXRlUmVxdWVzdChlLnN1YnN0cigwLGIpKTt0aGlzLmRhdGFSZXF1ZXN0RXZlbnQuZmlyZSh0aGlzLGQsYSk7Yz10aGlzLmRhdGFTb3VyY2UuZ2V0Q2FjaGVkUmVzcG9uc2UoYSk7aWYoYyl7cmV0dXJuIHRoaXMuZmlsdGVyUmVzdWx0cy5hcHBseSh0aGlzLmRhdGFTb3VyY2UsW2UsYyxjLHtzY29wZTp0aGlzfV0pO319cmV0dXJuIG51bGw7fTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5wcmVwYXJzZVJhd1Jlc3BvbnNlPWZ1bmN0aW9uKGMsYixhKXt2YXIgZD0oKHRoaXMucmVzcG9uc2VTdHJpcEFmdGVyIT09IiIpJiYoYi5pbmRleE9mKSk/Yi5pbmRleE9mKHRoaXMucmVzcG9uc2VTdHJpcEFmdGVyKTotMTtpZihkIT0tMSl7Yj1iLnN1YnN0cmluZygwLGQpO31yZXR1cm4gYjt9O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLmZpbHRlclJlc3VsdHM9ZnVuY3Rpb24obCxuLHIsbSl7aWYobSYmbS5hcmd1bWVudCYmWUFIT08ubGFuZy5pc1ZhbHVlKG0uYXJndW1lbnQucXVlcnkpKXtsPW0uYXJndW1lbnQucXVlcnk7fWlmKGwmJmwhPT0iIil7cj1ZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLl9jbG9uZU9iamVjdChyKTt2YXIgaj1tLnNjb3BlLHE9dGhpcyxjPXIucmVzdWx0cyxvPVtdLGI9ai5tYXhSZXN1bHRzRGlzcGxheWVkLGs9KHEucXVlcnlNYXRjaENhc2V8fGoucXVlcnlNYXRjaENhc2UpLGE9KHEucXVlcnlNYXRjaENvbnRhaW5zfHxqLnF1ZXJ5TWF0Y2hDb250YWlucyk7Zm9yKHZhciBkPTAsaD1jLmxlbmd0aDtkPGg7ZCsrKXt2YXIgZj1jW2RdO3ZhciBlPW51bGw7aWYoWUFIT08ubGFuZy5pc1N0cmluZyhmKSl7ZT1mO31lbHNle2lmKFlBSE9PLmxhbmcuaXNBcnJheShmKSl7ZT1mWzBdO31lbHNle2lmKHRoaXMucmVzcG9uc2VTY2hlbWEuZmllbGRzKXt2YXIgcD10aGlzLnJlc3BvbnNlU2NoZW1hLmZpZWxkc1swXS5rZXl8fHRoaXMucmVzcG9uc2VTY2hlbWEuZmllbGRzWzBdO2U9ZltwXTt9ZWxzZXtpZih0aGlzLmtleSl7ZT1mW3RoaXMua2V5XTt9fX19aWYoWUFIT08ubGFuZy5pc1N0cmluZyhlKSl7dmFyIGc9KGspP2UuaW5kZXhPZihkZWNvZGVVUklDb21wb25lbnQobCkpOmUudG9Mb3dlckNhc2UoKS5pbmRleE9mKGRlY29kZVVSSUNvbXBvbmVudChsKS50b0xvd2VyQ2FzZSgpKTtpZigoIWEmJihnPT09MCkpfHwoYSYmKGc+LTEpKSl7by5wdXNoKGYpO319aWYoaD5iJiZvLmxlbmd0aD09PWIpe2JyZWFrO319ci5yZXN1bHRzPW87fWVsc2V7fXJldHVybiByO307WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuaGFuZGxlUmVzcG9uc2U9ZnVuY3Rpb24oYyxhLGIpe2lmKCh0aGlzIGluc3RhbmNlb2YgWUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZSkmJnRoaXMuX3NOYW1lKXt0aGlzLl9wb3B1bGF0ZUxpc3QoYyxhLGIpO319O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLmRvQmVmb3JlTG9hZERhdGE9ZnVuY3Rpb24oYyxhLGIpe3JldHVybiB0cnVlO307WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuZm9ybWF0UmVzdWx0PWZ1bmN0aW9uKGIsZCxhKXt2YXIgYz0oYSk/YToiIjtyZXR1cm4gYzt9O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLmZvcm1hdEVzY2FwZWRSZXN1bHQ9ZnVuY3Rpb24oYyxkLGIpe3ZhciBhPShiKT9iOiIiO3JldHVybiBZQUhPTy5sYW5nLmVzY2FwZUhUTUwoYSk7fTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5kb0JlZm9yZUV4cGFuZENvbnRhaW5lcj1mdW5jdGlvbihkLGEsYyxiKXtyZXR1cm4gdHJ1ZTt9O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLnRvU3RyaW5nKCk7dmFyIGE9dGhpcy5fZWxUZXh0Ym94O3ZhciBkPXRoaXMuX2VsQ29udGFpbmVyO3RoaXMudGV4dGJveEZvY3VzRXZlbnQudW5zdWJzY3JpYmVBbGwoKTt0aGlzLnRleHRib3hLZXlFdmVudC51bnN1YnNjcmliZUFsbCgpO3RoaXMuZGF0YVJlcXVlc3RFdmVudC51bnN1YnNjcmliZUFsbCgpO3RoaXMuZGF0YVJldHVybkV2ZW50LnVuc3Vic2NyaWJlQWxsKCk7dGhpcy5kYXRhRXJyb3JFdmVudC51bnN1YnNjcmliZUFsbCgpO3RoaXMuY29udGFpbmVyUG9wdWxhdGVFdmVudC51bnN1YnNjcmliZUFsbCgpO3RoaXMuY29udGFpbmVyRXhwYW5kRXZlbnQudW5zdWJzY3JpYmVBbGwoKTt0aGlzLnR5cGVBaGVhZEV2ZW50LnVuc3Vic2NyaWJlQWxsKCk7dGhpcy5pdGVtTW91c2VPdmVyRXZlbnQudW5zdWJzY3JpYmVBbGwoKTt0aGlzLml0ZW1Nb3VzZU91dEV2ZW50LnVuc3Vic2NyaWJlQWxsKCk7dGhpcy5pdGVtQXJyb3dUb0V2ZW50LnVuc3Vic2NyaWJlQWxsKCk7dGhpcy5pdGVtQXJyb3dGcm9tRXZlbnQudW5zdWJzY3JpYmVBbGwoKTt0aGlzLml0ZW1TZWxlY3RFdmVudC51bnN1YnNjcmliZUFsbCgpO3RoaXMudW5tYXRjaGVkSXRlbVNlbGVjdEV2ZW50LnVuc3Vic2NyaWJlQWxsKCk7dGhpcy5zZWxlY3Rpb25FbmZvcmNlRXZlbnQudW5zdWJzY3JpYmVBbGwoKTt0aGlzLmNvbnRhaW5lckNvbGxhcHNlRXZlbnQudW5zdWJzY3JpYmVBbGwoKTt0aGlzLnRleHRib3hCbHVyRXZlbnQudW5zdWJzY3JpYmVBbGwoKTt0aGlzLnRleHRib3hDaGFuZ2VFdmVudC51bnN1YnNjcmliZUFsbCgpO1lBSE9PLnV0aWwuRXZlbnQucHVyZ2VFbGVtZW50KGEsdHJ1ZSk7WUFIT08udXRpbC5FdmVudC5wdXJnZUVsZW1lbnQoZCx0cnVlKTtkLmlubmVySFRNTD0iIjtmb3IodmFyIGMgaW4gdGhpcyl7aWYoWUFIT08ubGFuZy5oYXNPd25Qcm9wZXJ0eSh0aGlzLGMpKXt0aGlzW2NdPW51bGw7fX19O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLnRleHRib3hGb2N1c0V2ZW50PW51bGw7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUudGV4dGJveEtleUV2ZW50PW51bGw7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuZGF0YVJlcXVlc3RFdmVudD1udWxsO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLmRhdGFSZXF1ZXN0Q2FuY2VsRXZlbnQ9bnVsbDtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5kYXRhUmV0dXJuRXZlbnQ9bnVsbDtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5kYXRhRXJyb3JFdmVudD1udWxsOwpZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5jb250YWluZXJQb3B1bGF0ZUV2ZW50PW51bGw7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuY29udGFpbmVyRXhwYW5kRXZlbnQ9bnVsbDtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS50eXBlQWhlYWRFdmVudD1udWxsO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLml0ZW1Nb3VzZU92ZXJFdmVudD1udWxsO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLml0ZW1Nb3VzZU91dEV2ZW50PW51bGw7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuaXRlbUFycm93VG9FdmVudD1udWxsO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLml0ZW1BcnJvd0Zyb21FdmVudD1udWxsO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLml0ZW1TZWxlY3RFdmVudD1udWxsO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLnVubWF0Y2hlZEl0ZW1TZWxlY3RFdmVudD1udWxsO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLnNlbGVjdGlvbkVuZm9yY2VFdmVudD1udWxsO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLmNvbnRhaW5lckNvbGxhcHNlRXZlbnQ9bnVsbDtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS50ZXh0Ym94Qmx1ckV2ZW50PW51bGw7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUudGV4dGJveENoYW5nZUV2ZW50PW51bGw7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5fbkluZGV4PTA7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX3NOYW1lPW51bGw7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX2VsVGV4dGJveD1udWxsO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl9lbENvbnRhaW5lcj1udWxsO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl9lbENvbnRlbnQ9bnVsbDtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5fZWxIZWFkZXI9bnVsbDtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5fZWxCb2R5PW51bGw7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX2VsRm9vdGVyPW51bGw7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX2VsU2hhZG93PW51bGw7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX2VsSUZyYW1lPW51bGw7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX2JGb2N1c2VkPWZhbHNlO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl9vQW5pbT1udWxsO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl9iQ29udGFpbmVyT3Blbj1mYWxzZTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5fYk92ZXJDb250YWluZXI9ZmFsc2U7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX2VsTGlzdD1udWxsO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl9uRGlzcGxheWVkSXRlbXM9MDtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5fc0N1clF1ZXJ5PW51bGw7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX3NQYXN0U2VsZWN0aW9ucz0iIjtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5fc0luaXRJbnB1dFZhbHVlPW51bGw7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX2VsQ3VyTGlzdEl0ZW09bnVsbDtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5fZWxDdXJQcmVoaWdobGlnaHRJdGVtPW51bGw7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX2JJdGVtU2VsZWN0ZWQ9ZmFsc2U7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX25LZXlDb2RlPW51bGw7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX25EZWxheUlEPS0xO1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl9uVHlwZUFoZWFkRGVsYXlJRD0tMTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5faUZyYW1lU3JjPSJqYXZhc2NyaXB0OmZhbHNlOyI7WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX3F1ZXJ5SW50ZXJ2YWw9bnVsbDtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5fc0xhc3RUZXh0Ym94VmFsdWU9bnVsbDtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5faW5pdFByb3BzPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5taW5RdWVyeUxlbmd0aDtpZighWUFIT08ubGFuZy5pc051bWJlcihiKSl7dGhpcy5taW5RdWVyeUxlbmd0aD0xO312YXIgZT10aGlzLm1heFJlc3VsdHNEaXNwbGF5ZWQ7aWYoIVlBSE9PLmxhbmcuaXNOdW1iZXIoZSl8fChlPDEpKXt0aGlzLm1heFJlc3VsdHNEaXNwbGF5ZWQ9MTA7fXZhciBmPXRoaXMucXVlcnlEZWxheTtpZighWUFIT08ubGFuZy5pc051bWJlcihmKXx8KGY8MCkpe3RoaXMucXVlcnlEZWxheT0wLjI7fXZhciBjPXRoaXMudHlwZUFoZWFkRGVsYXk7aWYoIVlBSE9PLmxhbmcuaXNOdW1iZXIoYyl8fChjPDApKXt0aGlzLnR5cGVBaGVhZERlbGF5PTAuMjt9dmFyIGE9dGhpcy5kZWxpbUNoYXI7aWYoWUFIT08ubGFuZy5pc1N0cmluZyhhKSYmKGEubGVuZ3RoPjApKXt0aGlzLmRlbGltQ2hhcj1bYV07fWVsc2V7aWYoIVlBSE9PLmxhbmcuaXNBcnJheShhKSl7dGhpcy5kZWxpbUNoYXI9bnVsbDt9fXZhciBkPXRoaXMuYW5pbVNwZWVkO2lmKCh0aGlzLmFuaW1Ib3Jpenx8dGhpcy5hbmltVmVydCkmJllBSE9PLnV0aWwuQW5pbSl7aWYoIVlBSE9PLmxhbmcuaXNOdW1iZXIoZCl8fChkPDApKXt0aGlzLmFuaW1TcGVlZD0wLjM7fWlmKCF0aGlzLl9vQW5pbSl7dGhpcy5fb0FuaW09bmV3IFlBSE9PLnV0aWwuQW5pbSh0aGlzLl9lbENvbnRlbnQse30sdGhpcy5hbmltU3BlZWQpO31lbHNle3RoaXMuX29BbmltLmR1cmF0aW9uPXRoaXMuYW5pbVNwZWVkO319aWYodGhpcy5mb3JjZVNlbGVjdGlvbiYmYSl7fX07WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX2luaXRDb250YWluZXJIZWxwZXJFbHM9ZnVuY3Rpb24oKXtpZih0aGlzLnVzZVNoYWRvdyYmIXRoaXMuX2VsU2hhZG93KXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTthLmNsYXNzTmFtZT0ieXVpLWFjLXNoYWRvdyI7YS5zdHlsZS53aWR0aD0wO2Euc3R5bGUuaGVpZ2h0PTA7dGhpcy5fZWxTaGFkb3c9dGhpcy5fZWxDb250YWluZXIuYXBwZW5kQ2hpbGQoYSk7fWlmKHRoaXMudXNlSUZyYW1lJiYhdGhpcy5fZWxJRnJhbWUpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO2Iuc3JjPXRoaXMuX2lGcmFtZVNyYztiLmZyYW1lQm9yZGVyPTA7Yi5zY3JvbGxpbmc9Im5vIjtiLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7Yi5zdHlsZS53aWR0aD0wO2Iuc3R5bGUuaGVpZ2h0PTA7Yi5zdHlsZS5wYWRkaW5nPTA7Yi50YWJJbmRleD0tMTtiLnJvbGU9InByZXNlbnRhdGlvbiI7Yi50aXRsZT0iUHJlc2VudGF0aW9uYWwgaWZyYW1lIHNoaW0iO3RoaXMuX2VsSUZyYW1lPXRoaXMuX2VsQ29udGFpbmVyLmFwcGVuZENoaWxkKGIpO319O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl9pbml0Q29udGFpbmVyRWw9ZnVuY3Rpb24oKXtZQUhPTy51dGlsLkRvbS5hZGRDbGFzcyh0aGlzLl9lbENvbnRhaW5lciwieXVpLWFjLWNvbnRhaW5lciIpO2lmKCF0aGlzLl9lbENvbnRlbnQpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2MuY2xhc3NOYW1lPSJ5dWktYWMtY29udGVudCI7Yy5zdHlsZS5kaXNwbGF5PSJub25lIjt0aGlzLl9lbENvbnRlbnQ9dGhpcy5fZWxDb250YWluZXIuYXBwZW5kQ2hpbGQoYyk7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yi5jbGFzc05hbWU9Inl1aS1hYy1oZCI7Yi5zdHlsZS5kaXNwbGF5PSJub25lIjt0aGlzLl9lbEhlYWRlcj10aGlzLl9lbENvbnRlbnQuYXBwZW5kQ2hpbGQoYik7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZC5jbGFzc05hbWU9Inl1aS1hYy1iZCI7dGhpcy5fZWxCb2R5PXRoaXMuX2VsQ29udGVudC5hcHBlbmRDaGlsZChkKTt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTthLmNsYXNzTmFtZT0ieXVpLWFjLWZ0IjthLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3RoaXMuX2VsRm9vdGVyPXRoaXMuX2VsQ29udGVudC5hcHBlbmRDaGlsZChhKTt9ZWxzZXt9fTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5faW5pdExpc3RFbD1mdW5jdGlvbigpe3ZhciBjPXRoaXMubWF4UmVzdWx0c0Rpc3BsYXllZCxhPXRoaXMuX2VsTGlzdHx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidWwiKSxiO3doaWxlKGEuY2hpbGROb2Rlcy5sZW5ndGg8Yyl7Yj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaSIpO2Iuc3R5bGUuZGlzcGxheT0ibm9uZSI7Yi5fbkl0ZW1JbmRleD1hLmNoaWxkTm9kZXMubGVuZ3RoO2EuYXBwZW5kQ2hpbGQoYik7fWlmKCF0aGlzLl9lbExpc3Qpe3ZhciBkPXRoaXMuX2VsQm9keTtZQUhPTy51dGlsLkV2ZW50LnB1cmdlRWxlbWVudChkLHRydWUpO2QuaW5uZXJIVE1MPSIiO3RoaXMuX2VsTGlzdD1kLmFwcGVuZENoaWxkKGEpO310aGlzLl9lbEJvZHkuc3R5bGUuZGlzcGxheT0iIjt9O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl9mb2N1cz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe3RyeXthLl9lbFRleHRib3guZm9jdXMoKTt9Y2F0Y2goYil7fX0sMCk7fTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5fZW5hYmxlSW50ZXJ2YWxEZXRlY3Rpb249ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKCFhLl9xdWVyeUludGVydmFsJiZhLnF1ZXJ5SW50ZXJ2YWwpe2EuX3F1ZXJ5SW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXthLl9vbkludGVydmFsKCk7fSxhLnF1ZXJ5SW50ZXJ2YWwpO319O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLmVuYWJsZUludGVydmFsRGV0ZWN0aW9uPVlBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl9lbmFibGVJbnRlcnZhbERldGVjdGlvbjtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5fb25JbnRlcnZhbD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuX2VsVGV4dGJveC52YWx1ZTt2YXIgYj10aGlzLl9zTGFzdFRleHRib3hWYWx1ZTtpZihhIT1iKXt0aGlzLl9zTGFzdFRleHRib3hWYWx1ZT1hO3RoaXMuX3NlbmRRdWVyeShhKTt9fTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5fY2xlYXJJbnRlcnZhbD1mdW5jdGlvbigpe2lmKHRoaXMuX3F1ZXJ5SW50ZXJ2YWwpe2NsZWFySW50ZXJ2YWwodGhpcy5fcXVlcnlJbnRlcnZhbCk7dGhpcy5fcXVlcnlJbnRlcnZhbD1udWxsO319O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl9pc0lnbm9yZUtleT1mdW5jdGlvbihhKXtpZigoYT09OSl8fChhPT0xMyl8fChhPT0xNil8fChhPT0xNyl8fChhPj0xOCYmYTw9MjApfHwoYT09MjcpfHwoYT49MzMmJmE8PTM1KXx8KGE+PTM2JiZhPD00MCl8fChhPj00NCYmYTw9NDUpfHwoYT09MjI5KSl7cmV0dXJuIHRydWU7fXJldHVybiBmYWxzZTt9O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl9zZW5kUXVlcnk9ZnVuY3Rpb24oZCl7aWYodGhpcy5taW5RdWVyeUxlbmd0aDwwKXt0aGlzLl90b2dnbGVDb250YWluZXIoZmFsc2UpO3JldHVybjt9aWYodGhpcy5kZWxpbUNoYXIpe3ZhciBhPXRoaXMuX2V4dHJhY3RRdWVyeShkKTtkPWEucXVlcnk7dGhpcy5fc1Bhc3RTZWxlY3Rpb25zPWEucHJldmlvdXM7fWlmKChkJiYoZC5sZW5ndGg8dGhpcy5taW5RdWVyeUxlbmd0aCkpfHwoIWQmJnRoaXMubWluUXVlcnlMZW5ndGg+MCkpe2lmKHRoaXMuX25EZWxheUlEIT0tMSl7Y2xlYXJUaW1lb3V0KHRoaXMuX25EZWxheUlEKTsKfXRoaXMuX3RvZ2dsZUNvbnRhaW5lcihmYWxzZSk7cmV0dXJuO31kPWVuY29kZVVSSUNvbXBvbmVudChkKTt0aGlzLl9uRGVsYXlJRD0tMTtpZih0aGlzLmRhdGFTb3VyY2UucXVlcnlNYXRjaFN1YnNldHx8dGhpcy5xdWVyeU1hdGNoU3Vic2V0KXt2YXIgYz10aGlzLmdldFN1YnNldE1hdGNoZXMoZCk7aWYoYyl7dGhpcy5oYW5kbGVSZXNwb25zZShkLGMse3F1ZXJ5OmR9KTtyZXR1cm47fX1pZih0aGlzLmRhdGFTb3VyY2UucmVzcG9uc2VTdHJpcEFmdGVyKXt0aGlzLmRhdGFTb3VyY2UuZG9CZWZvcmVQYXJzZURhdGE9dGhpcy5wcmVwYXJzZVJhd1Jlc3BvbnNlO31pZih0aGlzLmFwcGx5TG9jYWxGaWx0ZXIpe3RoaXMuZGF0YVNvdXJjZS5kb0JlZm9yZUNhbGxiYWNrPXRoaXMuZmlsdGVyUmVzdWx0czt9dmFyIGI9dGhpcy5nZW5lcmF0ZVJlcXVlc3QoZCk7aWYoYiE9PXVuZGVmaW5lZCl7dGhpcy5kYXRhUmVxdWVzdEV2ZW50LmZpcmUodGhpcyxkLGIpO3RoaXMuZGF0YVNvdXJjZS5zZW5kUmVxdWVzdChiLHtzdWNjZXNzOnRoaXMuaGFuZGxlUmVzcG9uc2UsZmFpbHVyZTp0aGlzLmhhbmRsZVJlc3BvbnNlLHNjb3BlOnRoaXMsYXJndW1lbnQ6e3F1ZXJ5OmR9fSk7fWVsc2V7dGhpcy5kYXRhUmVxdWVzdENhbmNlbEV2ZW50LmZpcmUodGhpcyxkKTt9fTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5fcG9wdWxhdGVMaXN0SXRlbT1mdW5jdGlvbihiLGEsYyl7Yi5pbm5lckhUTUw9dGhpcy5mb3JtYXRSZXN1bHQoYSxjLGIuX3NSZXN1bHRNYXRjaCk7fTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5fcG9wdWxhdGVMaXN0PWZ1bmN0aW9uKG4sZixjKXtpZih0aGlzLl9uVHlwZUFoZWFkRGVsYXlJRCE9LTEpe2NsZWFyVGltZW91dCh0aGlzLl9uVHlwZUFoZWFkRGVsYXlJRCk7fW49KGMmJmMucXVlcnkpP2MucXVlcnk6bjt2YXIgaD10aGlzLmRvQmVmb3JlTG9hZERhdGEobixmLGMpO2lmKGgmJiFmLmVycm9yKXt0aGlzLmRhdGFSZXR1cm5FdmVudC5maXJlKHRoaXMsbixmLnJlc3VsdHMpO2lmKHRoaXMuX2JGb2N1c2VkKXt2YXIgcD1kZWNvZGVVUklDb21wb25lbnQobik7dGhpcy5fc0N1clF1ZXJ5PXA7dGhpcy5fYkl0ZW1TZWxlY3RlZD1mYWxzZTt2YXIgdT1mLnJlc3VsdHMsYT1NYXRoLm1pbih1Lmxlbmd0aCx0aGlzLm1heFJlc3VsdHNEaXNwbGF5ZWQpLG09KHRoaXMuZGF0YVNvdXJjZS5yZXNwb25zZVNjaGVtYS5maWVsZHMpPyh0aGlzLmRhdGFTb3VyY2UucmVzcG9uc2VTY2hlbWEuZmllbGRzWzBdLmtleXx8dGhpcy5kYXRhU291cmNlLnJlc3BvbnNlU2NoZW1hLmZpZWxkc1swXSk6MDtpZihhPjApe2lmKCF0aGlzLl9lbExpc3R8fCh0aGlzLl9lbExpc3QuY2hpbGROb2Rlcy5sZW5ndGg8YSkpe3RoaXMuX2luaXRMaXN0RWwoKTt9dGhpcy5faW5pdENvbnRhaW5lckhlbHBlckVscygpO3ZhciBsPXRoaXMuX2VsTGlzdC5jaGlsZE5vZGVzO2Zvcih2YXIgdD1hLTE7dD49MDt0LS0pe3ZhciBzPWxbdF0sZT11W3RdO2lmKHRoaXMucmVzdWx0VHlwZUxpc3Qpe3ZhciBiPVtdO2JbMF09KFlBSE9PLmxhbmcuaXNTdHJpbmcoZSkpP2U6ZVttXXx8ZVt0aGlzLmtleV07dmFyIG89dGhpcy5kYXRhU291cmNlLnJlc3BvbnNlU2NoZW1hLmZpZWxkcztpZihZQUhPTy5sYW5nLmlzQXJyYXkobykmJihvLmxlbmd0aD4xKSl7Zm9yKHZhciBxPTEsdj1vLmxlbmd0aDtxPHY7cSsrKXtiW2IubGVuZ3RoXT1lW29bcV0ua2V5fHxvW3FdXTt9fWVsc2V7aWYoWUFIT08ubGFuZy5pc0FycmF5KGUpKXtiPWU7fWVsc2V7aWYoWUFIT08ubGFuZy5pc1N0cmluZyhlKSl7Yj1bZV07fWVsc2V7YlsxXT1lO319fWU9Yjt9cy5fc1Jlc3VsdE1hdGNoPShZQUhPTy5sYW5nLmlzU3RyaW5nKGUpKT9lOihZQUhPTy5sYW5nLmlzQXJyYXkoZSkpP2VbMF06KGVbbV18fCIiKTtzLl9vUmVzdWx0RGF0YT1lO3RoaXMuX3BvcHVsYXRlTGlzdEl0ZW0ocyxlLHApO3Muc3R5bGUuZGlzcGxheT0iIjt9aWYoYTxsLmxlbmd0aCl7dmFyIGc7Zm9yKHZhciByPWwubGVuZ3RoLTE7cj49YTtyLS0pe2c9bFtyXTtnLnN0eWxlLmRpc3BsYXk9Im5vbmUiO319dGhpcy5fbkRpc3BsYXllZEl0ZW1zPWE7dGhpcy5jb250YWluZXJQb3B1bGF0ZUV2ZW50LmZpcmUodGhpcyxuLHUpO2lmKHRoaXMuYXV0b0hpZ2hsaWdodCl7dmFyIGQ9dGhpcy5fZWxMaXN0LmZpcnN0Q2hpbGQ7dGhpcy5fdG9nZ2xlSGlnaGxpZ2h0KGQsInRvIik7dGhpcy5pdGVtQXJyb3dUb0V2ZW50LmZpcmUodGhpcyxkKTt0aGlzLl90eXBlQWhlYWQoZCxuKTt9ZWxzZXt0aGlzLl90b2dnbGVIaWdobGlnaHQodGhpcy5fZWxDdXJMaXN0SXRlbSwiZnJvbSIpO31oPXRoaXMuX2RvQmVmb3JlRXhwYW5kQ29udGFpbmVyKHRoaXMuX2VsVGV4dGJveCx0aGlzLl9lbENvbnRhaW5lcixuLHUpO3RoaXMuX3RvZ2dsZUNvbnRhaW5lcihoKTt9ZWxzZXt0aGlzLl90b2dnbGVDb250YWluZXIoZmFsc2UpO31yZXR1cm47fX1lbHNle3RoaXMuZGF0YUVycm9yRXZlbnQuZmlyZSh0aGlzLG4sZik7fX07WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX2RvQmVmb3JlRXhwYW5kQ29udGFpbmVyPWZ1bmN0aW9uKGQsYSxjLGIpe2lmKHRoaXMuYXV0b1NuYXBDb250YWluZXIpe3RoaXMuc25hcENvbnRhaW5lcigpO31yZXR1cm4gdGhpcy5kb0JlZm9yZUV4cGFuZENvbnRhaW5lcihkLGEsYyxiKTt9O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl9jbGVhclNlbGVjdGlvbj1mdW5jdGlvbigpe3ZhciBhPSh0aGlzLmRlbGltQ2hhcik/dGhpcy5fZXh0cmFjdFF1ZXJ5KHRoaXMuX2VsVGV4dGJveC52YWx1ZSk6e3ByZXZpb3VzOiIiLHF1ZXJ5OnRoaXMuX2VsVGV4dGJveC52YWx1ZX07dGhpcy5fZWxUZXh0Ym94LnZhbHVlPWEucHJldmlvdXM7dGhpcy5zZWxlY3Rpb25FbmZvcmNlRXZlbnQuZmlyZSh0aGlzLGEucXVlcnkpO307WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX3RleHRNYXRjaGVzT3B0aW9uPWZ1bmN0aW9uKCl7dmFyIGE9bnVsbDtmb3IodmFyIGI9MDtiPHRoaXMuX25EaXNwbGF5ZWRJdGVtcztiKyspe3ZhciBjPXRoaXMuX2VsTGlzdC5jaGlsZE5vZGVzW2JdO3ZhciBkPSgiIitjLl9zUmVzdWx0TWF0Y2gpLnRvTG93ZXJDYXNlKCk7aWYoZD09dGhpcy5fc0N1clF1ZXJ5LnRvTG93ZXJDYXNlKCkpe2E9YzticmVhazt9fXJldHVybihhKTt9O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl90eXBlQWhlYWQ9ZnVuY3Rpb24oYixkKXtpZighdGhpcy50eXBlQWhlYWR8fCh0aGlzLl9uS2V5Q29kZT09OCkpe3JldHVybjt9dmFyIGE9dGhpcyxjPXRoaXMuX2VsVGV4dGJveDtpZihjLnNldFNlbGVjdGlvblJhbmdlfHxjLmNyZWF0ZVRleHRSYW5nZSl7dGhpcy5fblR5cGVBaGVhZERlbGF5SUQ9c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBmPWMudmFsdWUubGVuZ3RoO2EuX3VwZGF0ZVZhbHVlKGIpO3ZhciBnPWMudmFsdWUubGVuZ3RoO2EuX3NlbGVjdFRleHQoYyxmLGcpO3ZhciBlPWMudmFsdWUuc3Vic3RyKGYsZyk7YS5fc0N1clF1ZXJ5PWIuX3NSZXN1bHRNYXRjaDthLnR5cGVBaGVhZEV2ZW50LmZpcmUoYSxkLGUpO30sKHRoaXMudHlwZUFoZWFkRGVsYXkqMTAwMCkpO319O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl9zZWxlY3RUZXh0PWZ1bmN0aW9uKGQsYSxiKXtpZihkLnNldFNlbGVjdGlvblJhbmdlKXtkLnNldFNlbGVjdGlvblJhbmdlKGEsYik7fWVsc2V7aWYoZC5jcmVhdGVUZXh0UmFuZ2Upe3ZhciBjPWQuY3JlYXRlVGV4dFJhbmdlKCk7Yy5tb3ZlU3RhcnQoImNoYXJhY3RlciIsYSk7Yy5tb3ZlRW5kKCJjaGFyYWN0ZXIiLGItZC52YWx1ZS5sZW5ndGgpO2Muc2VsZWN0KCk7fWVsc2V7ZC5zZWxlY3QoKTt9fX07WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX2V4dHJhY3RRdWVyeT1mdW5jdGlvbihoKXt2YXIgYz10aGlzLmRlbGltQ2hhcixmPS0xLGcsZSxiPWMubGVuZ3RoLTEsZDtmb3IoO2I+PTA7Yi0tKXtnPWgubGFzdEluZGV4T2YoY1tiXSk7aWYoZz5mKXtmPWc7fX1pZihjW2JdPT0iICIpe2Zvcih2YXIgYT1jLmxlbmd0aC0xO2E+PTA7YS0tKXtpZihoW2YtMV09PWNbYV0pe2YtLTticmVhazt9fX1pZihmPi0xKXtlPWYrMTt3aGlsZShoLmNoYXJBdChlKT09IiAiKXtlKz0xO31kPWguc3Vic3RyaW5nKDAsZSk7aD1oLnN1YnN0cihlKTt9ZWxzZXtkPSIiO31yZXR1cm57cHJldmlvdXM6ZCxxdWVyeTpofTt9O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl90b2dnbGVDb250YWluZXJIZWxwZXJzPWZ1bmN0aW9uKGQpe3ZhciBlPXRoaXMuX2VsQ29udGVudC5vZmZzZXRXaWR0aCsicHgiO3ZhciBiPXRoaXMuX2VsQ29udGVudC5vZmZzZXRIZWlnaHQrInB4IjtpZih0aGlzLnVzZUlGcmFtZSYmdGhpcy5fZWxJRnJhbWUpe3ZhciBjPXRoaXMuX2VsSUZyYW1lO2lmKGQpe2Muc3R5bGUud2lkdGg9ZTtjLnN0eWxlLmhlaWdodD1iO2Muc3R5bGUucGFkZGluZz0iIjt9ZWxzZXtjLnN0eWxlLndpZHRoPTA7Yy5zdHlsZS5oZWlnaHQ9MDtjLnN0eWxlLnBhZGRpbmc9MDt9fWlmKHRoaXMudXNlU2hhZG93JiZ0aGlzLl9lbFNoYWRvdyl7dmFyIGE9dGhpcy5fZWxTaGFkb3c7aWYoZCl7YS5zdHlsZS53aWR0aD1lO2Euc3R5bGUuaGVpZ2h0PWI7fWVsc2V7YS5zdHlsZS53aWR0aD0wO2Euc3R5bGUuaGVpZ2h0PTA7fX19O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl90b2dnbGVDb250YWluZXI9ZnVuY3Rpb24oaSl7dmFyIGQ9dGhpcy5fZWxDb250YWluZXI7aWYodGhpcy5hbHdheXNTaG93Q29udGFpbmVyJiZ0aGlzLl9iQ29udGFpbmVyT3Blbil7cmV0dXJuO31pZighaSl7dGhpcy5fdG9nZ2xlSGlnaGxpZ2h0KHRoaXMuX2VsQ3VyTGlzdEl0ZW0sImZyb20iKTt0aGlzLl9uRGlzcGxheWVkSXRlbXM9MDt0aGlzLl9zQ3VyUXVlcnk9bnVsbDtpZih0aGlzLl9lbENvbnRlbnQuc3R5bGUuZGlzcGxheT09Im5vbmUiKXtyZXR1cm47fX12YXIgYT10aGlzLl9vQW5pbTtpZihhJiZhLmdldEVsKCkmJih0aGlzLmFuaW1Ib3Jpenx8dGhpcy5hbmltVmVydCkpe2lmKGEuaXNBbmltYXRlZCgpKXthLnN0b3AodHJ1ZSk7fXZhciBnPXRoaXMuX2VsQ29udGVudC5jbG9uZU5vZGUodHJ1ZSk7ZC5hcHBlbmRDaGlsZChnKTtnLnN0eWxlLnRvcD0iLTkwMDBweCI7Zy5zdHlsZS53aWR0aD0iIjtnLnN0eWxlLmhlaWdodD0iIjtnLnN0eWxlLmRpc3BsYXk9IiI7dmFyIGY9Zy5vZmZzZXRXaWR0aDt2YXIgYz1nLm9mZnNldEhlaWdodDt2YXIgYj0odGhpcy5hbmltSG9yaXopPzA6Zjt2YXIgZT0odGhpcy5hbmltVmVydCk/MDpjO2EuYXR0cmlidXRlcz0oaSk/e3dpZHRoOnt0bzpmfSxoZWlnaHQ6e3RvOmN9fTp7d2lkdGg6e3RvOmJ9LGhlaWdodDp7dG86ZX19O2lmKGkmJiF0aGlzLl9iQ29udGFpbmVyT3Blbil7dGhpcy5fZWxDb250ZW50LnN0eWxlLndpZHRoPWIrInB4Ijt0aGlzLl9lbENvbnRlbnQuc3R5bGUuaGVpZ2h0PWUrInB4Ijt9ZWxzZXt0aGlzLl9lbENvbnRlbnQuc3R5bGUud2lkdGg9ZisicHgiO3RoaXMuX2VsQ29udGVudC5zdHlsZS5oZWlnaHQ9YysicHgiO31kLnJlbW92ZUNoaWxkKGcpO2c9bnVsbDt2YXIgaD10aGlzO3ZhciBqPWZ1bmN0aW9uKCl7YS5vbkNvbXBsZXRlLnVuc3Vic2NyaWJlQWxsKCk7aWYoaSl7aC5fdG9nZ2xlQ29udGFpbmVySGVscGVycyh0cnVlKTtoLl9iQ29udGFpbmVyT3Blbj1pO2guY29udGFpbmVyRXhwYW5kRXZlbnQuZmlyZShoKTt9ZWxzZXtoLl9lbENvbnRlbnQuc3R5bGUuZGlzcGxheT0ibm9uZSI7aC5fYkNvbnRhaW5lck9wZW49aTtoLmNvbnRhaW5lckNvbGxhcHNlRXZlbnQuZmlyZShoKTt9fTt0aGlzLl90b2dnbGVDb250YWluZXJIZWxwZXJzKGZhbHNlKTt0aGlzLl9lbENvbnRlbnQuc3R5bGUuZGlzcGxheT0iIjthLm9uQ29tcGxldGUuc3Vic2NyaWJlKGopO2EuYW5pbWF0ZSgpO31lbHNle2lmKGkpe3RoaXMuX2VsQ29udGVudC5zdHlsZS5kaXNwbGF5PSIiO3RoaXMuX3RvZ2dsZUNvbnRhaW5lckhlbHBlcnModHJ1ZSk7CnRoaXMuX2JDb250YWluZXJPcGVuPWk7dGhpcy5jb250YWluZXJFeHBhbmRFdmVudC5maXJlKHRoaXMpO31lbHNle3RoaXMuX3RvZ2dsZUNvbnRhaW5lckhlbHBlcnMoZmFsc2UpO3RoaXMuX2VsQ29udGVudC5zdHlsZS5kaXNwbGF5PSJub25lIjt0aGlzLl9iQ29udGFpbmVyT3Blbj1pO3RoaXMuY29udGFpbmVyQ29sbGFwc2VFdmVudC5maXJlKHRoaXMpO319fTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5fdG9nZ2xlSGlnaGxpZ2h0PWZ1bmN0aW9uKGEsYyl7aWYoYSl7dmFyIGI9dGhpcy5oaWdobGlnaHRDbGFzc05hbWU7aWYodGhpcy5fZWxDdXJMaXN0SXRlbSl7WUFIT08udXRpbC5Eb20ucmVtb3ZlQ2xhc3ModGhpcy5fZWxDdXJMaXN0SXRlbSxiKTt0aGlzLl9lbEN1ckxpc3RJdGVtPW51bGw7fWlmKChjPT0idG8iKSYmYil7WUFIT08udXRpbC5Eb20uYWRkQ2xhc3MoYSxiKTt0aGlzLl9lbEN1ckxpc3RJdGVtPWE7fX19O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl90b2dnbGVQcmVoaWdobGlnaHQ9ZnVuY3Rpb24oYixjKXt2YXIgYT10aGlzLnByZWhpZ2hsaWdodENsYXNzTmFtZTtpZih0aGlzLl9lbEN1clByZWhpZ2hsaWdodEl0ZW0pe1lBSE9PLnV0aWwuRG9tLnJlbW92ZUNsYXNzKHRoaXMuX2VsQ3VyUHJlaGlnaGxpZ2h0SXRlbSxhKTt9aWYoYj09dGhpcy5fZWxDdXJMaXN0SXRlbSl7cmV0dXJuO31pZigoYz09Im1vdXNlb3ZlciIpJiZhKXtZQUhPTy51dGlsLkRvbS5hZGRDbGFzcyhiLGEpO3RoaXMuX2VsQ3VyUHJlaGlnaGxpZ2h0SXRlbT1iO31lbHNle1lBSE9PLnV0aWwuRG9tLnJlbW92ZUNsYXNzKGIsYSk7fX07WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX3VwZGF0ZVZhbHVlPWZ1bmN0aW9uKGMpe2lmKCF0aGlzLnN1cHByZXNzSW5wdXRVcGRhdGUpe3ZhciBmPXRoaXMuX2VsVGV4dGJveDt2YXIgZT0odGhpcy5kZWxpbUNoYXIpPyh0aGlzLmRlbGltQ2hhclswXXx8dGhpcy5kZWxpbUNoYXIpOm51bGw7dmFyIGI9Yy5fc1Jlc3VsdE1hdGNoO3ZhciBkPSIiO2lmKGUpe2Q9dGhpcy5fc1Bhc3RTZWxlY3Rpb25zO2QrPWIrZTtpZihlIT0iICIpe2QrPSIgIjt9fWVsc2V7ZD1iO31mLnZhbHVlPWQ7aWYoZi50eXBlPT0idGV4dGFyZWEiKXtmLnNjcm9sbFRvcD1mLnNjcm9sbEhlaWdodDt9dmFyIGE9Zi52YWx1ZS5sZW5ndGg7dGhpcy5fc2VsZWN0VGV4dChmLGEsYSk7dGhpcy5fZWxDdXJMaXN0SXRlbT1jO319O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl9zZWxlY3RJdGVtPWZ1bmN0aW9uKGEpe3RoaXMuX2JJdGVtU2VsZWN0ZWQ9dHJ1ZTt0aGlzLl91cGRhdGVWYWx1ZShhKTt0aGlzLl9zUGFzdFNlbGVjdGlvbnM9dGhpcy5fZWxUZXh0Ym94LnZhbHVlO3RoaXMuX2NsZWFySW50ZXJ2YWwoKTt0aGlzLml0ZW1TZWxlY3RFdmVudC5maXJlKHRoaXMsYSxhLl9vUmVzdWx0RGF0YSk7dGhpcy5fdG9nZ2xlQ29udGFpbmVyKGZhbHNlKTt9O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl9qdW1wU2VsZWN0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy5fZWxDdXJMaXN0SXRlbSl7dGhpcy5fc2VsZWN0SXRlbSh0aGlzLl9lbEN1ckxpc3RJdGVtKTt9ZWxzZXt0aGlzLl90b2dnbGVDb250YWluZXIoZmFsc2UpO319O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl9tb3ZlU2VsZWN0aW9uPWZ1bmN0aW9uKGcpe2lmKHRoaXMuX2JDb250YWluZXJPcGVuKXt2YXIgaD10aGlzLl9lbEN1ckxpc3RJdGVtLGQ9LTE7aWYoaCl7ZD1oLl9uSXRlbUluZGV4O312YXIgZT0oZz09NDApPyhkKzEpOihkLTEpO2lmKGU8LTJ8fGU+PXRoaXMuX25EaXNwbGF5ZWRJdGVtcyl7cmV0dXJuO31pZihoKXt0aGlzLl90b2dnbGVIaWdobGlnaHQoaCwiZnJvbSIpO3RoaXMuaXRlbUFycm93RnJvbUV2ZW50LmZpcmUodGhpcyxoKTt9aWYoZT09LTEpe2lmKHRoaXMuZGVsaW1DaGFyKXt0aGlzLl9lbFRleHRib3gudmFsdWU9dGhpcy5fc1Bhc3RTZWxlY3Rpb25zK3RoaXMuX3NDdXJRdWVyeTt9ZWxzZXt0aGlzLl9lbFRleHRib3gudmFsdWU9dGhpcy5fc0N1clF1ZXJ5O31yZXR1cm47fWlmKGU9PS0yKXt0aGlzLl90b2dnbGVDb250YWluZXIoZmFsc2UpO3JldHVybjt9dmFyIGY9dGhpcy5fZWxMaXN0LmNoaWxkTm9kZXNbZV0sYj10aGlzLl9lbENvbnRlbnQsYz1ZQUhPTy51dGlsLkRvbS5nZXRTdHlsZShiLCJvdmVyZmxvdyIpLGk9WUFIT08udXRpbC5Eb20uZ2V0U3R5bGUoYiwib3ZlcmZsb3dZIiksYT0oKGM9PSJhdXRvIil8fChjPT0ic2Nyb2xsIil8fChpPT0iYXV0byIpfHwoaT09InNjcm9sbCIpKTtpZihhJiYoZT4tMSkmJihlPHRoaXMuX25EaXNwbGF5ZWRJdGVtcykpe2lmKGc9PTQwKXtpZigoZi5vZmZzZXRUb3ArZi5vZmZzZXRIZWlnaHQpPihiLnNjcm9sbFRvcCtiLm9mZnNldEhlaWdodCkpe2Iuc2Nyb2xsVG9wPShmLm9mZnNldFRvcCtmLm9mZnNldEhlaWdodCktYi5vZmZzZXRIZWlnaHQ7fWVsc2V7aWYoKGYub2Zmc2V0VG9wK2Yub2Zmc2V0SGVpZ2h0KTxiLnNjcm9sbFRvcCl7Yi5zY3JvbGxUb3A9Zi5vZmZzZXRUb3A7fX19ZWxzZXtpZihmLm9mZnNldFRvcDxiLnNjcm9sbFRvcCl7dGhpcy5fZWxDb250ZW50LnNjcm9sbFRvcD1mLm9mZnNldFRvcDt9ZWxzZXtpZihmLm9mZnNldFRvcD4oYi5zY3JvbGxUb3ArYi5vZmZzZXRIZWlnaHQpKXt0aGlzLl9lbENvbnRlbnQuc2Nyb2xsVG9wPShmLm9mZnNldFRvcCtmLm9mZnNldEhlaWdodCktYi5vZmZzZXRIZWlnaHQ7fX19fXRoaXMuX3RvZ2dsZUhpZ2hsaWdodChmLCJ0byIpO3RoaXMuaXRlbUFycm93VG9FdmVudC5maXJlKHRoaXMsZik7aWYodGhpcy50eXBlQWhlYWQpe3RoaXMuX3VwZGF0ZVZhbHVlKGYpO3RoaXMuX3NDdXJRdWVyeT1mLl9zUmVzdWx0TWF0Y2g7fX19O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl9vbkNvbnRhaW5lck1vdXNlb3Zlcj1mdW5jdGlvbihhLGMpe3ZhciBkPVlBSE9PLnV0aWwuRXZlbnQuZ2V0VGFyZ2V0KGEpO3ZhciBiPWQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTt3aGlsZShkJiYoYiE9InRhYmxlIikpe3N3aXRjaChiKXtjYXNlImJvZHkiOnJldHVybjtjYXNlImxpIjppZihjLnByZWhpZ2hsaWdodENsYXNzTmFtZSl7Yy5fdG9nZ2xlUHJlaGlnaGxpZ2h0KGQsIm1vdXNlb3ZlciIpO31lbHNle2MuX3RvZ2dsZUhpZ2hsaWdodChkLCJ0byIpO31jLml0ZW1Nb3VzZU92ZXJFdmVudC5maXJlKGMsZCk7YnJlYWs7Y2FzZSJkaXYiOmlmKFlBSE9PLnV0aWwuRG9tLmhhc0NsYXNzKGQsInl1aS1hYy1jb250YWluZXIiKSl7Yy5fYk92ZXJDb250YWluZXI9dHJ1ZTtyZXR1cm47fWJyZWFrO2RlZmF1bHQ6YnJlYWs7fWQ9ZC5wYXJlbnROb2RlO2lmKGQpe2I9ZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO319fTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5fb25Db250YWluZXJNb3VzZW91dD1mdW5jdGlvbihhLGMpe3ZhciBkPVlBSE9PLnV0aWwuRXZlbnQuZ2V0VGFyZ2V0KGEpO3ZhciBiPWQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTt3aGlsZShkJiYoYiE9InRhYmxlIikpe3N3aXRjaChiKXtjYXNlImJvZHkiOnJldHVybjtjYXNlImxpIjppZihjLnByZWhpZ2hsaWdodENsYXNzTmFtZSl7Yy5fdG9nZ2xlUHJlaGlnaGxpZ2h0KGQsIm1vdXNlb3V0Iik7fWVsc2V7Yy5fdG9nZ2xlSGlnaGxpZ2h0KGQsImZyb20iKTt9Yy5pdGVtTW91c2VPdXRFdmVudC5maXJlKGMsZCk7YnJlYWs7Y2FzZSJ1bCI6Yy5fdG9nZ2xlSGlnaGxpZ2h0KGMuX2VsQ3VyTGlzdEl0ZW0sInRvIik7YnJlYWs7Y2FzZSJkaXYiOmlmKFlBSE9PLnV0aWwuRG9tLmhhc0NsYXNzKGQsInl1aS1hYy1jb250YWluZXIiKSl7Yy5fYk92ZXJDb250YWluZXI9ZmFsc2U7cmV0dXJuO31icmVhaztkZWZhdWx0OmJyZWFrO31kPWQucGFyZW50Tm9kZTtpZihkKXtiPWQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTt9fX07WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX29uQ29udGFpbmVyQ2xpY2s9ZnVuY3Rpb24oYSxjKXt2YXIgZD1ZQUhPTy51dGlsLkV2ZW50LmdldFRhcmdldChhKTt2YXIgYj1kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7d2hpbGUoZCYmKGIhPSJ0YWJsZSIpKXtzd2l0Y2goYil7Y2FzZSJib2R5IjpyZXR1cm47Y2FzZSJsaSI6Yy5fdG9nZ2xlSGlnaGxpZ2h0KGQsInRvIik7Yy5fc2VsZWN0SXRlbShkKTtyZXR1cm47ZGVmYXVsdDpicmVhazt9ZD1kLnBhcmVudE5vZGU7aWYoZCl7Yj1kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7fX19O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl9vbkNvbnRhaW5lclNjcm9sbD1mdW5jdGlvbihhLGIpe2IuX2ZvY3VzKCk7fTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5fb25Db250YWluZXJSZXNpemU9ZnVuY3Rpb24oYSxiKXtiLl90b2dnbGVDb250YWluZXJIZWxwZXJzKGIuX2JDb250YWluZXJPcGVuKTt9O1lBSE9PLndpZGdldC5BdXRvQ29tcGxldGUucHJvdG90eXBlLl9vblRleHRib3hLZXlEb3duPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5rZXlDb2RlO2lmKGIuX25UeXBlQWhlYWREZWxheUlEIT0tMSl7Y2xlYXJUaW1lb3V0KGIuX25UeXBlQWhlYWREZWxheUlEKTt9c3dpdGNoKGMpe2Nhc2UgOTppZighWUFIT08uZW52LnVhLm9wZXJhJiYobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoIm1hYyIpPT0tMSl8fChZQUhPTy5lbnYudWEud2Via2l0PjQyMCkpe2lmKGIuX2VsQ3VyTGlzdEl0ZW0pe2lmKGIuZGVsaW1DaGFyJiYoYi5fbktleUNvZGUhPWMpKXtpZihiLl9iQ29udGFpbmVyT3Blbil7WUFIT08udXRpbC5FdmVudC5zdG9wRXZlbnQoYSk7fX1iLl9zZWxlY3RJdGVtKGIuX2VsQ3VyTGlzdEl0ZW0pO31lbHNle2IuX3RvZ2dsZUNvbnRhaW5lcihmYWxzZSk7fX1icmVhaztjYXNlIDEzOmlmKCFZQUhPTy5lbnYudWEub3BlcmEmJihuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZigibWFjIik9PS0xKXx8KFlBSE9PLmVudi51YS53ZWJraXQ+NDIwKSl7aWYoYi5fZWxDdXJMaXN0SXRlbSl7aWYoYi5fbktleUNvZGUhPWMpe2lmKGIuX2JDb250YWluZXJPcGVuKXtZQUhPTy51dGlsLkV2ZW50LnN0b3BFdmVudChhKTt9fWIuX3NlbGVjdEl0ZW0oYi5fZWxDdXJMaXN0SXRlbSk7fWVsc2V7Yi5fdG9nZ2xlQ29udGFpbmVyKGZhbHNlKTt9fWJyZWFrO2Nhc2UgMjc6Yi5fdG9nZ2xlQ29udGFpbmVyKGZhbHNlKTtyZXR1cm47Y2FzZSAzOTpiLl9qdW1wU2VsZWN0aW9uKCk7YnJlYWs7Y2FzZSAzODppZihiLl9iQ29udGFpbmVyT3Blbil7WUFIT08udXRpbC5FdmVudC5zdG9wRXZlbnQoYSk7Yi5fbW92ZVNlbGVjdGlvbihjKTt9YnJlYWs7Y2FzZSA0MDppZihiLl9iQ29udGFpbmVyT3Blbil7WUFIT08udXRpbC5FdmVudC5zdG9wRXZlbnQoYSk7Yi5fbW92ZVNlbGVjdGlvbihjKTt9YnJlYWs7ZGVmYXVsdDpiLl9iSXRlbVNlbGVjdGVkPWZhbHNlO2IuX3RvZ2dsZUhpZ2hsaWdodChiLl9lbEN1ckxpc3RJdGVtLCJmcm9tIik7Yi50ZXh0Ym94S2V5RXZlbnQuZmlyZShiLGMpO2JyZWFrO31pZihjPT09MTgpe2IuX2VuYWJsZUludGVydmFsRGV0ZWN0aW9uKCk7fWIuX25LZXlDb2RlPWM7fTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5fb25UZXh0Ym94S2V5UHJlc3M9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmtleUNvZGU7aWYoWUFIT08uZW52LnVhLm9wZXJhfHwobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoIm1hYyIpIT0tMSkmJihZQUhPTy5lbnYudWEud2Via2l0PDQyMCkpe3N3aXRjaChjKXtjYXNlIDk6aWYoYi5fYkNvbnRhaW5lck9wZW4pe2lmKGIuZGVsaW1DaGFyKXtZQUhPTy51dGlsLkV2ZW50LnN0b3BFdmVudChhKTt9aWYoYi5fZWxDdXJMaXN0SXRlbSl7Yi5fc2VsZWN0SXRlbShiLl9lbEN1ckxpc3RJdGVtKTt9ZWxzZXtiLl90b2dnbGVDb250YWluZXIoZmFsc2UpO319YnJlYWs7Y2FzZSAxMzppZihiLl9iQ29udGFpbmVyT3Blbil7WUFIT08udXRpbC5FdmVudC5zdG9wRXZlbnQoYSk7CmlmKGIuX2VsQ3VyTGlzdEl0ZW0pe2IuX3NlbGVjdEl0ZW0oYi5fZWxDdXJMaXN0SXRlbSk7fWVsc2V7Yi5fdG9nZ2xlQ29udGFpbmVyKGZhbHNlKTt9fWJyZWFrO2RlZmF1bHQ6YnJlYWs7fX1lbHNle2lmKGM9PTIyOSl7Yi5fZW5hYmxlSW50ZXJ2YWxEZXRlY3Rpb24oKTt9fX07WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX29uVGV4dGJveEtleVVwPWZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcy52YWx1ZTtjLl9pbml0UHJvcHMoKTt2YXIgZD1hLmtleUNvZGU7aWYoYy5faXNJZ25vcmVLZXkoZCkpe3JldHVybjt9aWYoYy5fbkRlbGF5SUQhPS0xKXtjbGVhclRpbWVvdXQoYy5fbkRlbGF5SUQpO31jLl9uRGVsYXlJRD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5fc2VuZFF1ZXJ5KGIpO30sKGMucXVlcnlEZWxheSoxMDAwKSk7fTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5fb25UZXh0Ym94Rm9jdXM9ZnVuY3Rpb24oYSxiKXtpZighYi5fYkZvY3VzZWQpe2IuX2VsVGV4dGJveC5zZXRBdHRyaWJ1dGUoImF1dG9jb21wbGV0ZSIsIm9mZiIpO2IuX2JGb2N1c2VkPXRydWU7Yi5fc0luaXRJbnB1dFZhbHVlPWIuX2VsVGV4dGJveC52YWx1ZTtiLnRleHRib3hGb2N1c0V2ZW50LmZpcmUoYik7fX07WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX29uVGV4dGJveEJsdXI9ZnVuY3Rpb24oYSxjKXtpZighYy5fYk92ZXJDb250YWluZXJ8fChjLl9uS2V5Q29kZT09OSkpe2lmKCFjLl9iSXRlbVNlbGVjdGVkKXt2YXIgYj1jLl90ZXh0TWF0Y2hlc09wdGlvbigpO2lmKCFjLl9iQ29udGFpbmVyT3Blbnx8KGMuX2JDb250YWluZXJPcGVuJiYoYj09PW51bGwpKSl7aWYoYy5mb3JjZVNlbGVjdGlvbil7Yy5fY2xlYXJTZWxlY3Rpb24oKTt9ZWxzZXtjLnVubWF0Y2hlZEl0ZW1TZWxlY3RFdmVudC5maXJlKGMsYy5fc0N1clF1ZXJ5KTt9fWVsc2V7aWYoYy5mb3JjZVNlbGVjdGlvbil7Yy5fc2VsZWN0SXRlbShiKTt9fX1jLl9jbGVhckludGVydmFsKCk7Yy5fYkZvY3VzZWQ9ZmFsc2U7aWYoYy5fc0luaXRJbnB1dFZhbHVlIT09Yy5fZWxUZXh0Ym94LnZhbHVlKXtjLnRleHRib3hDaGFuZ2VFdmVudC5maXJlKGMpO31jLnRleHRib3hCbHVyRXZlbnQuZmlyZShjKTtjLl90b2dnbGVDb250YWluZXIoZmFsc2UpO31lbHNle2MuX2ZvY3VzKCk7fX07WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5wcm90b3R5cGUuX29uV2luZG93VW5sb2FkPWZ1bmN0aW9uKGEsYil7aWYoYiYmYi5fZWxUZXh0Ym94JiZiLmFsbG93QnJvd3NlckF1dG9jb21wbGV0ZSl7Yi5fZWxUZXh0Ym94LnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwib24iKTt9fTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5kb0JlZm9yZVNlbmRRdWVyeT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZW5lcmF0ZVJlcXVlc3QoYSk7fTtZQUhPTy53aWRnZXQuQXV0b0NvbXBsZXRlLnByb3RvdHlwZS5nZXRMaXN0SXRlbXM9ZnVuY3Rpb24oKXt2YXIgYz1bXSxiPXRoaXMuX2VsTGlzdC5jaGlsZE5vZGVzO2Zvcih2YXIgYT1iLmxlbmd0aC0xO2E+PTA7YS0tKXtjW2FdPWJbYV07fXJldHVybiBjO307WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5fY2xvbmVPYmplY3Q9ZnVuY3Rpb24oZCl7aWYoIVlBSE9PLmxhbmcuaXNWYWx1ZShkKSl7cmV0dXJuIGQ7fXZhciBmPXt9O2lmKFlBSE9PLmxhbmcuaXNGdW5jdGlvbihkKSl7Zj1kO31lbHNle2lmKFlBSE9PLmxhbmcuaXNBcnJheShkKSl7dmFyIGU9W107Zm9yKHZhciBjPTAsYj1kLmxlbmd0aDtjPGI7YysrKXtlW2NdPVlBSE9PLndpZGdldC5BdXRvQ29tcGxldGUuX2Nsb25lT2JqZWN0KGRbY10pO31mPWU7fWVsc2V7aWYoWUFIT08ubGFuZy5pc09iamVjdChkKSl7Zm9yKHZhciBhIGluIGQpe2lmKFlBSE9PLmxhbmcuaGFzT3duUHJvcGVydHkoZCxhKSl7aWYoWUFIT08ubGFuZy5pc1ZhbHVlKGRbYV0pJiZZQUhPTy5sYW5nLmlzT2JqZWN0KGRbYV0pfHxZQUhPTy5sYW5nLmlzQXJyYXkoZFthXSkpe2ZbYV09WUFIT08ud2lkZ2V0LkF1dG9Db21wbGV0ZS5fY2xvbmVPYmplY3QoZFthXSk7fWVsc2V7ZlthXT1kW2FdO319fX1lbHNle2Y9ZDt9fX1yZXR1cm4gZjt9O1lBSE9PLnJlZ2lzdGVyKCJhdXRvY29tcGxldGUiLFlBSE9PLndpZGdldC5BdXRvQ29tcGxldGUse3ZlcnNpb246IjIuOS4wIixidWlsZDoiMjgwMCJ9KTs=",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 43464
        },
        "cache": {},
        "timings": {
          "send": 4,
          "wait": 0,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27307"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.874-06:00",
        "time": 75,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/yui/menu/menu-min.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 332,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:35 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "15880"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 77616,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "LyoKQ29weXJpZ2h0IChjKSAyMDExLCBZYWhvbyEgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLgpDb2RlIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgTGljZW5zZToKaHR0cDovL2RldmVsb3Blci55YWhvby5jb20veXVpL2xpY2Vuc2UuaHRtbAp2ZXJzaW9uOiAyLjkuMAoqLwooZnVuY3Rpb24oKXt2YXIgSz1ZQUhPTy5lbnYudWEsQz1ZQUhPTy51dGlsLkRvbSxaPVlBSE9PLnV0aWwuRXZlbnQsSD1ZQUhPTy5sYW5nLFQ9IkRJViIsUD0iaGQiLE09ImJkIixPPSJmdCIsWD0iTEkiLEE9ImRpc2FibGVkIixEPSJtb3VzZW92ZXIiLEY9Im1vdXNlb3V0IixVPSJtb3VzZWRvd24iLEc9Im1vdXNldXAiLFY9ImNsaWNrIixCPSJrZXlkb3duIixOPSJrZXl1cCIsST0ia2V5cHJlc3MiLEw9ImNsaWNrdG9oaWRlIixTPSJwb3NpdGlvbiIsUT0iZHluYW1pYyIsWT0ic2hvd2RlbGF5IixKPSJzZWxlY3RlZCIsRT0idmlzaWJsZSIsVz0iVUwiLFI9Ik1lbnVNYW5hZ2VyIjtZQUhPTy53aWRnZXQuTWVudU1hbmFnZXI9ZnVuY3Rpb24oKXt2YXIgbD1mYWxzZSxkPXt9LG89e30saD17fSxjPXsiY2xpY2siOiJjbGlja0V2ZW50IiwibW91c2Vkb3duIjoibW91c2VEb3duRXZlbnQiLCJtb3VzZXVwIjoibW91c2VVcEV2ZW50IiwibW91c2VvdmVyIjoibW91c2VPdmVyRXZlbnQiLCJtb3VzZW91dCI6Im1vdXNlT3V0RXZlbnQiLCJrZXlkb3duIjoia2V5RG93bkV2ZW50Iiwia2V5dXAiOiJrZXlVcEV2ZW50Iiwia2V5cHJlc3MiOiJrZXlQcmVzc0V2ZW50IiwiZm9jdXMiOiJmb2N1c0V2ZW50IiwiZm9jdXNpbiI6ImZvY3VzRXZlbnQiLCJibHVyIjoiYmx1ckV2ZW50IiwiZm9jdXNvdXQiOiJibHVyRXZlbnQifSxpPW51bGw7ZnVuY3Rpb24gYihyKXt2YXIgcCxxO2lmKHImJnIudGFnTmFtZSl7c3dpdGNoKHIudGFnTmFtZS50b1VwcGVyQ2FzZSgpKXtjYXNlIFQ6cD1yLnBhcmVudE5vZGU7aWYoKEMuaGFzQ2xhc3MocixQKXx8Qy5oYXNDbGFzcyhyLE0pfHxDLmhhc0NsYXNzKHIsTykpJiZwJiZwLnRhZ05hbWUmJnAudGFnTmFtZS50b1VwcGVyQ2FzZSgpPT1UKXtxPXA7fWVsc2V7cT1yO31icmVhaztjYXNlIFg6cT1yO2JyZWFrO2RlZmF1bHQ6cD1yLnBhcmVudE5vZGU7aWYocCl7cT1iKHApO31icmVhazt9fXJldHVybiBxO31mdW5jdGlvbiBlKHQpe3ZhciBwPVouZ2V0VGFyZ2V0KHQpLHE9YihwKSx1PXRydWUsdz10LnR5cGUseCxyLHMseix5O2lmKHEpe3I9cS50YWdOYW1lLnRvVXBwZXJDYXNlKCk7aWYocj09WCl7cz1xLmlkO2lmKHMmJmhbc10pe3o9aFtzXTt5PXoucGFyZW50O319ZWxzZXtpZihyPT1UKXtpZihxLmlkKXt5PWRbcS5pZF07fX19fWlmKHkpe3g9Y1t3XTtpZih3PT0iY2xpY2siJiYoSy5nZWNrbyYmeS5wbGF0Zm9ybSE9Im1hYyIpJiZ0LmJ1dHRvbj4wKXt1PWZhbHNlO31pZih1JiZ6JiYhei5jZmcuZ2V0UHJvcGVydHkoQSkpe3pbeF0uZmlyZSh0KTt9aWYodSl7eVt4XS5maXJlKHQseik7fX1lbHNle2lmKHc9PVUpe2Zvcih2YXIgdiBpbiBvKXtpZihILmhhc093blByb3BlcnR5KG8sdikpe3k9b1t2XTtpZih5LmNmZy5nZXRQcm9wZXJ0eShMKSYmISh5IGluc3RhbmNlb2YgWUFIT08ud2lkZ2V0Lk1lbnVCYXIpJiZ5LmNmZy5nZXRQcm9wZXJ0eShTKT09USl7eS5oaWRlKCk7aWYoSy5pZSYmcC5mb2N1cyYmKEsuaWU8OSkpe3Auc2V0QWN0aXZlKCk7fX1lbHNle2lmKHkuY2ZnLmdldFByb3BlcnR5KFkpPjApe3kuX2NhbmNlbFNob3dEZWxheSgpO31pZih5LmFjdGl2ZUl0ZW0pe3kuYWN0aXZlSXRlbS5ibHVyKCk7eS5hY3RpdmVJdGVtLmNmZy5zZXRQcm9wZXJ0eShKLGZhbHNlKTt5LmFjdGl2ZUl0ZW09bnVsbDt9fX19fX19ZnVuY3Rpb24gbihxLHAscil7aWYoZFtyLmlkXSl7dGhpcy5yZW1vdmVNZW51KHIpO319ZnVuY3Rpb24gayhxLHApe3ZhciByPXBbMV07aWYocil7aT1yO319ZnVuY3Rpb24gZihxLHApe2k9bnVsbDt9ZnVuY3Rpb24gYShyLHEpe3ZhciBwPXFbMF0scz10aGlzLmlkO2lmKHApe29bc109dGhpczt9ZWxzZXtpZihvW3NdKXtkZWxldGUgb1tzXTt9fX1mdW5jdGlvbiBqKHEscCl7bSh0aGlzKTt9ZnVuY3Rpb24gbShxKXt2YXIgcD1xLmlkO2lmKHAmJmhbcF0pe2lmKGk9PXEpe2k9bnVsbDt9ZGVsZXRlIGhbcF07cS5kZXN0cm95RXZlbnQudW5zdWJzY3JpYmUoaik7fX1mdW5jdGlvbiBnKHEscCl7dmFyIHM9cFswXSxyO2lmKHMgaW5zdGFuY2VvZiBZQUhPTy53aWRnZXQuTWVudUl0ZW0pe3I9cy5pZDtpZighaFtyXSl7aFtyXT1zO3MuZGVzdHJveUV2ZW50LnN1YnNjcmliZShqKTt9fX1yZXR1cm57YWRkTWVudTpmdW5jdGlvbihxKXt2YXIgcDtpZihxIGluc3RhbmNlb2YgWUFIT08ud2lkZ2V0Lk1lbnUmJnEuaWQmJiFkW3EuaWRdKXtkW3EuaWRdPXE7aWYoIWwpe3A9ZG9jdW1lbnQ7Wi5vbihwLEQsZSx0aGlzLHRydWUpO1oub24ocCxGLGUsdGhpcyx0cnVlKTtaLm9uKHAsVSxlLHRoaXMsdHJ1ZSk7Wi5vbihwLEcsZSx0aGlzLHRydWUpO1oub24ocCxWLGUsdGhpcyx0cnVlKTtaLm9uKHAsQixlLHRoaXMsdHJ1ZSk7Wi5vbihwLE4sZSx0aGlzLHRydWUpO1oub24ocCxJLGUsdGhpcyx0cnVlKTtaLm9uRm9jdXMocCxlLHRoaXMsdHJ1ZSk7Wi5vbkJsdXIocCxlLHRoaXMsdHJ1ZSk7bD10cnVlO31xLmNmZy5zdWJzY3JpYmVUb0NvbmZpZ0V2ZW50KEUsYSk7cS5kZXN0cm95RXZlbnQuc3Vic2NyaWJlKG4scSx0aGlzKTtxLml0ZW1BZGRlZEV2ZW50LnN1YnNjcmliZShnKTtxLmZvY3VzRXZlbnQuc3Vic2NyaWJlKGspO3EuYmx1ckV2ZW50LnN1YnNjcmliZShmKTt9fSxyZW1vdmVNZW51OmZ1bmN0aW9uKHMpe3ZhciBxLHAscjtpZihzKXtxPXMuaWQ7aWYoKHEgaW4gZCkmJihkW3FdPT1zKSl7cD1zLmdldEl0ZW1zKCk7aWYocCYmcC5sZW5ndGg+MCl7cj1wLmxlbmd0aC0xO2Rve20ocFtyXSk7fXdoaWxlKHItLSk7fWRlbGV0ZSBkW3FdO2lmKChxIGluIG8pJiYob1txXT09cykpe2RlbGV0ZSBvW3FdO31pZihzLmNmZyl7cy5jZmcudW5zdWJzY3JpYmVGcm9tQ29uZmlnRXZlbnQoRSxhKTt9cy5kZXN0cm95RXZlbnQudW5zdWJzY3JpYmUobixzKTtzLml0ZW1BZGRlZEV2ZW50LnVuc3Vic2NyaWJlKGcpO3MuZm9jdXNFdmVudC51bnN1YnNjcmliZShrKTtzLmJsdXJFdmVudC51bnN1YnNjcmliZShmKTt9fX0saGlkZVZpc2libGU6ZnVuY3Rpb24oKXt2YXIgcDtmb3IodmFyIHEgaW4gbyl7aWYoSC5oYXNPd25Qcm9wZXJ0eShvLHEpKXtwPW9bcV07aWYoIShwIGluc3RhbmNlb2YgWUFIT08ud2lkZ2V0Lk1lbnVCYXIpJiZwLmNmZy5nZXRQcm9wZXJ0eShTKT09USl7cC5oaWRlKCk7fX19fSxnZXRWaXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIG87fSxnZXRNZW51czpmdW5jdGlvbigpe3JldHVybiBkO30sZ2V0TWVudTpmdW5jdGlvbihxKXt2YXIgcDtpZihxIGluIGQpe3A9ZFtxXTt9cmV0dXJuIHA7fSxnZXRNZW51SXRlbTpmdW5jdGlvbihxKXt2YXIgcDtpZihxIGluIGgpe3A9aFtxXTt9cmV0dXJuIHA7fSxnZXRNZW51SXRlbUdyb3VwOmZ1bmN0aW9uKHQpe3ZhciBxPUMuZ2V0KHQpLHAsdix1LHIscztpZihxJiZxLnRhZ05hbWUmJnEudGFnTmFtZS50b1VwcGVyQ2FzZSgpPT1XKXt2PXEuZmlyc3RDaGlsZDtpZih2KXtwPVtdO2Rve3I9di5pZDtpZihyKXt1PXRoaXMuZ2V0TWVudUl0ZW0ocik7aWYodSl7cFtwLmxlbmd0aF09dTt9fX13aGlsZSgodj12Lm5leHRTaWJsaW5nKSk7aWYocC5sZW5ndGg+MCl7cz1wO319fXJldHVybiBzO30sZ2V0Rm9jdXNlZE1lbnVJdGVtOmZ1bmN0aW9uKCl7cmV0dXJuIGk7fSxnZXRGb2N1c2VkTWVudTpmdW5jdGlvbigpe3ZhciBwO2lmKGkpe3A9aS5wYXJlbnQuZ2V0Um9vdCgpO31yZXR1cm4gcDt9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIFI7fX07fSgpO30pKCk7KGZ1bmN0aW9uKCl7dmFyIEFNPVlBSE9PLmxhbmcsQXE9Ik1lbnUiLEc9IkRJViIsSz0iZGl2IixBbT0iaWQiLEFIPSJTRUxFQ1QiLGU9Inh5IixSPSJ5IixBeD0iVUwiLEw9InVsIixBSj0iZmlyc3Qtb2YtdHlwZSIsaz0iTEkiLGg9Ik9QVEdST1VQIixBej0iT1BUSU9OIixBaD0iZGlzYWJsZWQiLEFZPSJub25lIix5PSJzZWxlY3RlZCIsQXQ9Imdyb3VwaW5kZXgiLGk9ImluZGV4IixPPSJzdWJtZW51IixBdT0idmlzaWJsZSIsQVg9ImhpZGVkZWxheSIsQWM9InBvc2l0aW9uIixBRD0iZHluYW1pYyIsQz0ic3RhdGljIixBbj1BRCsiLCIrQyxRPSJ1cmwiLE09IiMiLFY9InRhcmdldCIsQVU9Im1heGhlaWdodCIsVD0idG9wc2Nyb2xsYmFyIix4PSJib3R0b21zY3JvbGxiYXIiLGQ9Il8iLFA9VCtkK0FoLEU9eCtkK0FoLGI9Im1vdXNlbW92ZSIsQXY9InNob3dkZWxheSIsYz0ic3VibWVudWhpZGVkZWxheSIsQUY9ImlmcmFtZSIsdz0iY29uc3RyYWludG92aWV3cG9ydCIsQTQ9InByZXZlbnRjb250ZXh0b3ZlcmxhcCIsQU89InN1Ym1lbnVhbGlnbm1lbnQiLFo9ImF1dG9zdWJtZW51ZGlzcGxheSIsQUM9ImNsaWNrdG9oaWRlIixnPSJjb250YWluZXIiLGo9InNjcm9sbGluY3JlbWVudCIsQWo9Im1pbnNjcm9sbGhlaWdodCIsQTI9ImNsYXNzbmFtZSIsQWc9InNoYWRvdyIsQXI9ImtlZXBvcGVuIixBMD0iaGQiLEQ9Imhhc3RpdGxlIixwPSJjb250ZXh0Iix1PSIiLEFrPSJtb3VzZWRvd24iLEFlPSJrZXlkb3duIixBbz0iaGVpZ2h0IixVPSJ3aWR0aCIsQVE9InB4IixBeT0iZWZmZWN0IixBRT0ibW9uaXRvcnJlc2l6ZSIsQVc9ImRpc3BsYXkiLEFWPSJibG9jayIsSj0idmlzaWJpbGl0eSIsej0iYWJzb2x1dGUiLEFTPSJ6aW5kZXgiLGw9Inl1aS1tZW51LWJvZHktc2Nyb2xsZWQiLEFLPSImIzMyOyIsQTE9IiAiLEFpPSJtb3VzZW92ZXIiLEg9Im1vdXNlb3V0IixBUj0iaXRlbUFkZGVkIixuPSJpdGVtUmVtb3ZlZCIsQUw9ImhpZGRlbiIscz0ieXVpLW1lbnUtc2hhZG93IixBRz1zKyItdmlzaWJsZSIsbT1zK0ExK0FHO1lBSE9PLndpZGdldC5NZW51PWZ1bmN0aW9uKEE2LEE1KXtpZihBNSl7dGhpcy5wYXJlbnQ9QTUucGFyZW50O3RoaXMubGF6eUxvYWQ9QTUubGF6eUxvYWR8fEE1Lmxhenlsb2FkO3RoaXMuaXRlbURhdGE9QTUuaXRlbURhdGF8fEE1Lml0ZW1kYXRhO31ZQUhPTy53aWRnZXQuTWVudS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxBNixBNSk7fTtmdW5jdGlvbiBCKEE2KXt2YXIgQTU9ZmFsc2U7aWYoQU0uaXNTdHJpbmcoQTYpKXtBNT0oQW4uaW5kZXhPZigoQTYudG9Mb3dlckNhc2UoKSkpIT0tMSk7fXJldHVybiBBNTt9dmFyIGY9WUFIT08udXRpbC5Eb20sQUE9WUFIT08udXRpbC5FdmVudCxBdz1ZQUhPTy53aWRnZXQuTW9kdWxlLEFCPVlBSE9PLndpZGdldC5PdmVybGF5LHI9WUFIT08ud2lkZ2V0Lk1lbnUsQTM9WUFIT08ud2lkZ2V0Lk1lbnVNYW5hZ2VyLEY9WUFIT08udXRpbC5DdXN0b21FdmVudCxBcz1ZQUhPTy5lbnYudWEsQXAsQVQ9ZmFsc2UsQWQsQWI9W1sibW91c2VPdmVyRXZlbnQiLEFpXSxbIm1vdXNlT3V0RXZlbnQiLEhdLFsibW91c2VEb3duRXZlbnQiLEFrXSxbIm1vdXNlVXBFdmVudCIsIm1vdXNldXAiXSxbImNsaWNrRXZlbnQiLCJjbGljayJdLFsia2V5UHJlc3NFdmVudCIsImtleXByZXNzIl0sWyJrZXlEb3duRXZlbnQiLEFlXSxbImtleVVwRXZlbnQiLCJrZXl1cCJdLFsiZm9jdXNFdmVudCIsImZvY3VzIl0sWyJibHVyRXZlbnQiLCJibHVyIl0sWyJpdGVtQWRkZWRFdmVudCIsQVJdLFsiaXRlbVJlbW92ZWRFdmVudCIsbl1dLEFaPXtrZXk6QXUsdmFsdWU6ZmFsc2UsdmFsaWRhdG9yOkFNLmlzQm9vbGVhbn0sQVA9e2tleTp3LHZhbHVlOnRydWUsdmFsaWRhdG9yOkFNLmlzQm9vbGVhbixzdXBlcmNlZGVzOltBRiwieCIsUixlXX0sQUk9e2tleTpBNCx2YWx1ZTp0cnVlLHZhbGlkYXRvcjpBTS5pc0Jvb2xlYW4sc3VwZXJjZWRlczpbd119LFM9e2tleTpBYyx2YWx1ZTpBRCx2YWxpZGF0b3I6QixzdXBlcmNlZGVzOltBdSxBRl19LEE9e2tleTpBTyx2YWx1ZTpbInRsIiwidHIiXX0sdD17a2V5OlosdmFsdWU6dHJ1ZSx2YWxpZGF0b3I6QU0uaXNCb29sZWFuLHN1cHByZXNzRXZlbnQ6dHJ1ZX0sWT17a2V5OkF2LHZhbHVlOjI1MCx2YWxpZGF0b3I6QU0uaXNOdW1iZXIsc3VwcHJlc3NFdmVudDp0cnVlfSxxPXtrZXk6QVgsdmFsdWU6MCx2YWxpZGF0b3I6QU0uaXNOdW1iZXIsc3VwcHJlc3NFdmVudDp0cnVlfSx2PXtrZXk6Yyx2YWx1ZToyNTAsdmFsaWRhdG9yOkFNLmlzTnVtYmVyLHN1cHByZXNzRXZlbnQ6dHJ1ZX0sbz17a2V5OkFDLHZhbHVlOnRydWUsdmFsaWRhdG9yOkFNLmlzQm9vbGVhbixzdXBwcmVzc0V2ZW50OnRydWV9LEFOPXtrZXk6ZyxzdXBwcmVzc0V2ZW50OnRydWV9LEFmPXtrZXk6aix2YWx1ZToxLHZhbGlkYXRvcjpBTS5pc051bWJlcixzdXBlcmNlZGVzOltBVV0sc3VwcHJlc3NFdmVudDp0cnVlfSxOPXtrZXk6QWosdmFsdWU6OTAsdmFsaWRhdG9yOkFNLmlzTnVtYmVyLHN1cGVyY2VkZXM6W0FVXSxzdXBwcmVzc0V2ZW50OnRydWV9LFg9e2tleTpBVSx2YWx1ZTowLHZhbGlkYXRvcjpBTS5pc051bWJlcixzdXBlcmNlZGVzOltBRl0sc3VwcHJlc3NFdmVudDp0cnVlfSxXPXtrZXk6QTIsdmFsdWU6bnVsbCx2YWxpZGF0b3I6QU0uaXNTdHJpbmcsc3VwcHJlc3NFdmVudDp0cnVlfSxhPXtrZXk6QWgsdmFsdWU6ZmFsc2UsdmFsaWRhdG9yOkFNLmlzQm9vbGVhbixzdXBwcmVzc0V2ZW50OnRydWV9LEk9e2tleTpBZyx2YWx1ZTp0cnVlLHZhbGlkYXRvcjpBTS5pc0Jvb2xlYW4sc3VwcHJlc3NFdmVudDp0cnVlLHN1cGVyY2VkZXM6W0F1XX0sQWw9e2tleTpBcix2YWx1ZTpmYWxzZSx2YWxpZGF0b3I6QU0uaXNCb29sZWFufTsKZnVuY3Rpb24gQWEoQTUpe0FkPUFBLmdldFRhcmdldChBNSk7fVlBSE9PLmxhbmcuZXh0ZW5kKHIsQUIse0NTU19DTEFTU19OQU1FOiJ5dWltZW51IixJVEVNX1RZUEU6bnVsbCxHUk9VUF9USVRMRV9UQUdfTkFNRToiaDYiLE9GRl9TQ1JFRU5fUE9TSVRJT046Ii05OTllbSIsX3VzZUhpZGVEZWxheTpmYWxzZSxfYkhhbmRsZWRNb3VzZU92ZXJFdmVudDpmYWxzZSxfYkhhbmRsZWRNb3VzZU91dEV2ZW50OmZhbHNlLF9hR3JvdXBUaXRsZUVsZW1lbnRzOm51bGwsX2FJdGVtR3JvdXBzOm51bGwsX2FMaXN0RWxlbWVudHM6bnVsbCxfbkN1cnJlbnRNb3VzZVg6MCxfYlN0b3BNb3VzZUV2ZW50SGFuZGxlcnM6ZmFsc2UsX3NDbGFzc05hbWU6bnVsbCxsYXp5TG9hZDpmYWxzZSxpdGVtRGF0YTpudWxsLGFjdGl2ZUl0ZW06bnVsbCxwYXJlbnQ6bnVsbCxzcmNFbGVtZW50Om51bGwsaW5pdDpmdW5jdGlvbihBNyxBNil7dGhpcy5fYUl0ZW1Hcm91cHM9W107dGhpcy5fYUxpc3RFbGVtZW50cz1bXTt0aGlzLl9hR3JvdXBUaXRsZUVsZW1lbnRzPVtdO2lmKCF0aGlzLklURU1fVFlQRSl7dGhpcy5JVEVNX1RZUEU9WUFIT08ud2lkZ2V0Lk1lbnVJdGVtO312YXIgQTU7aWYoQU0uaXNTdHJpbmcoQTcpKXtBNT1mLmdldChBNyk7fWVsc2V7aWYoQTcudGFnTmFtZSl7QTU9QTc7fX1pZihBNSYmQTUudGFnTmFtZSl7c3dpdGNoKEE1LnRhZ05hbWUudG9VcHBlckNhc2UoKSl7Y2FzZSBHOnRoaXMuc3JjRWxlbWVudD1BNTtpZighQTUuaWQpe0E1LnNldEF0dHJpYnV0ZShBbSxmLmdlbmVyYXRlSWQoKSk7fXIuc3VwZXJjbGFzcy5pbml0LmNhbGwodGhpcyxBNSk7dGhpcy5iZWZvcmVJbml0RXZlbnQuZmlyZShyKTticmVhaztjYXNlIEFIOnRoaXMuc3JjRWxlbWVudD1BNTtyLnN1cGVyY2xhc3MuaW5pdC5jYWxsKHRoaXMsZi5nZW5lcmF0ZUlkKCkpO3RoaXMuYmVmb3JlSW5pdEV2ZW50LmZpcmUocik7YnJlYWs7fX1lbHNle3Iuc3VwZXJjbGFzcy5pbml0LmNhbGwodGhpcyxBNyk7dGhpcy5iZWZvcmVJbml0RXZlbnQuZmlyZShyKTt9aWYodGhpcy5lbGVtZW50KXtmLmFkZENsYXNzKHRoaXMuZWxlbWVudCx0aGlzLkNTU19DTEFTU19OQU1FKTt0aGlzLmluaXRFdmVudC5zdWJzY3JpYmUodGhpcy5fb25Jbml0KTt0aGlzLmJlZm9yZVJlbmRlckV2ZW50LnN1YnNjcmliZSh0aGlzLl9vbkJlZm9yZVJlbmRlcik7dGhpcy5yZW5kZXJFdmVudC5zdWJzY3JpYmUodGhpcy5fb25SZW5kZXIpO3RoaXMuYmVmb3JlU2hvd0V2ZW50LnN1YnNjcmliZSh0aGlzLl9vbkJlZm9yZVNob3cpO3RoaXMuaGlkZUV2ZW50LnN1YnNjcmliZSh0aGlzLl9vbkhpZGUpO3RoaXMuc2hvd0V2ZW50LnN1YnNjcmliZSh0aGlzLl9vblNob3cpO3RoaXMuYmVmb3JlSGlkZUV2ZW50LnN1YnNjcmliZSh0aGlzLl9vbkJlZm9yZUhpZGUpO3RoaXMubW91c2VPdmVyRXZlbnQuc3Vic2NyaWJlKHRoaXMuX29uTW91c2VPdmVyKTt0aGlzLm1vdXNlT3V0RXZlbnQuc3Vic2NyaWJlKHRoaXMuX29uTW91c2VPdXQpO3RoaXMuY2xpY2tFdmVudC5zdWJzY3JpYmUodGhpcy5fb25DbGljayk7dGhpcy5rZXlEb3duRXZlbnQuc3Vic2NyaWJlKHRoaXMuX29uS2V5RG93bik7dGhpcy5rZXlQcmVzc0V2ZW50LnN1YnNjcmliZSh0aGlzLl9vbktleVByZXNzKTt0aGlzLmJsdXJFdmVudC5zdWJzY3JpYmUodGhpcy5fb25CbHVyKTtpZighQVQpe0FBLm9uRm9jdXMoZG9jdW1lbnQsQWEpO0FUPXRydWU7fWlmKChBcy5nZWNrbyYmQXMuZ2Vja288MS45KXx8KEFzLndlYmtpdCYmQXMud2Via2l0PDUyMykpe3RoaXMuY2ZnLnN1YnNjcmliZVRvQ29uZmlnRXZlbnQoUix0aGlzLl9vbllDaGFuZ2UpO31pZihBNil7dGhpcy5jZmcuYXBwbHlDb25maWcoQTYsdHJ1ZSk7fUEzLmFkZE1lbnUodGhpcyk7dGhpcy5pbml0RXZlbnQuZmlyZShyKTt9fSxfaW5pdFN1YlRyZWU6ZnVuY3Rpb24oKXt2YXIgQTY9dGhpcy5zcmNFbGVtZW50LEE1LEE4LEJCLEJDLEJBLEE5LEE3O2lmKEE2KXtBNT0oQTYudGFnTmFtZSYmQTYudGFnTmFtZS50b1VwcGVyQ2FzZSgpKTtpZihBNT09Ryl7QkM9dGhpcy5ib2R5LmZpcnN0Q2hpbGQ7aWYoQkMpe0E4PTA7QkI9dGhpcy5HUk9VUF9USVRMRV9UQUdfTkFNRS50b1VwcGVyQ2FzZSgpO2Rve2lmKEJDJiZCQy50YWdOYW1lKXtzd2l0Y2goQkMudGFnTmFtZS50b1VwcGVyQ2FzZSgpKXtjYXNlIEJCOnRoaXMuX2FHcm91cFRpdGxlRWxlbWVudHNbQThdPUJDO2JyZWFrO2Nhc2UgQXg6dGhpcy5fYUxpc3RFbGVtZW50c1tBOF09QkM7dGhpcy5fYUl0ZW1Hcm91cHNbQThdPVtdO0E4Kys7YnJlYWs7fX19d2hpbGUoKEJDPUJDLm5leHRTaWJsaW5nKSk7aWYodGhpcy5fYUxpc3RFbGVtZW50c1swXSl7Zi5hZGRDbGFzcyh0aGlzLl9hTGlzdEVsZW1lbnRzWzBdLEFKKTt9fX1CQz1udWxsO2lmKEE1KXtzd2l0Y2goQTUpe2Nhc2UgRzpCQT10aGlzLl9hTGlzdEVsZW1lbnRzO0E5PUJBLmxlbmd0aDtpZihBOT4wKXtBNz1BOS0xO2Rve0JDPUJBW0E3XS5maXJzdENoaWxkO2lmKEJDKXtkb3tpZihCQyYmQkMudGFnTmFtZSYmQkMudGFnTmFtZS50b1VwcGVyQ2FzZSgpPT1rKXt0aGlzLmFkZEl0ZW0obmV3IHRoaXMuSVRFTV9UWVBFKEJDLHtwYXJlbnQ6dGhpc30pLEE3KTt9fXdoaWxlKChCQz1CQy5uZXh0U2libGluZykpO319d2hpbGUoQTctLSk7fWJyZWFrO2Nhc2UgQUg6QkM9QTYuZmlyc3RDaGlsZDtkb3tpZihCQyYmQkMudGFnTmFtZSl7c3dpdGNoKEJDLnRhZ05hbWUudG9VcHBlckNhc2UoKSl7Y2FzZSBoOmNhc2UgQXo6dGhpcy5hZGRJdGVtKG5ldyB0aGlzLklURU1fVFlQRShCQyx7cGFyZW50OnRoaXN9KSk7YnJlYWs7fX19d2hpbGUoKEJDPUJDLm5leHRTaWJsaW5nKSk7YnJlYWs7fX19fSxfZ2V0Rmlyc3RFbmFibGVkSXRlbTpmdW5jdGlvbigpe3ZhciBBNT10aGlzLmdldEl0ZW1zKCksQTk9QTUubGVuZ3RoLEE4LEE3O2Zvcih2YXIgQTY9MDtBNjxBOTtBNisrKXtBOD1BNVtBNl07aWYoQTgmJiFBOC5jZmcuZ2V0UHJvcGVydHkoQWgpJiZBOC5lbGVtZW50LnN0eWxlLmRpc3BsYXkhPUFZKXtBNz1BODticmVhazt9fXJldHVybiBBNzt9LF9hZGRJdGVtVG9Hcm91cDpmdW5jdGlvbihCQSxCQixCRil7dmFyIEJELEJHLEE4LEJFLEE5LEE2LEE3LEJDO2Z1bmN0aW9uIEE1KEJILEJJKXtyZXR1cm4oQkhbQkldfHxBNShCSCwoQkkrMSkpKTt9aWYoQkIgaW5zdGFuY2VvZiB0aGlzLklURU1fVFlQRSl7QkQ9QkI7QkQucGFyZW50PXRoaXM7fWVsc2V7aWYoQU0uaXNTdHJpbmcoQkIpKXtCRD1uZXcgdGhpcy5JVEVNX1RZUEUoQkIse3BhcmVudDp0aGlzfSk7fWVsc2V7aWYoQU0uaXNPYmplY3QoQkIpKXtCQi5wYXJlbnQ9dGhpcztCRD1uZXcgdGhpcy5JVEVNX1RZUEUoQkIudGV4dCxCQik7fX19aWYoQkQpe2lmKEJELmNmZy5nZXRQcm9wZXJ0eSh5KSl7dGhpcy5hY3RpdmVJdGVtPUJEO31CRz1BTS5pc051bWJlcihCQSk/QkE6MDtBOD10aGlzLl9nZXRJdGVtR3JvdXAoQkcpO2lmKCFBOCl7QTg9dGhpcy5fY3JlYXRlSXRlbUdyb3VwKEJHKTt9aWYoQU0uaXNOdW1iZXIoQkYpKXtBOT0oQkY+PUE4Lmxlbmd0aCk7aWYoQThbQkZdKXtBOC5zcGxpY2UoQkYsMCxCRCk7fWVsc2V7QThbQkZdPUJEO31CRT1BOFtCRl07aWYoQkUpe2lmKEE5JiYoIUJFLmVsZW1lbnQucGFyZW50Tm9kZXx8QkUuZWxlbWVudC5wYXJlbnROb2RlLm5vZGVUeXBlPT0xMSkpe3RoaXMuX2FMaXN0RWxlbWVudHNbQkddLmFwcGVuZENoaWxkKEJFLmVsZW1lbnQpO31lbHNle0E2PUE1KEE4LChCRisxKSk7aWYoQTYmJighQkUuZWxlbWVudC5wYXJlbnROb2RlfHxCRS5lbGVtZW50LnBhcmVudE5vZGUubm9kZVR5cGU9PTExKSl7dGhpcy5fYUxpc3RFbGVtZW50c1tCR10uaW5zZXJ0QmVmb3JlKEJFLmVsZW1lbnQsQTYuZWxlbWVudCk7fX1CRS5wYXJlbnQ9dGhpczt0aGlzLl9zdWJzY3JpYmVUb0l0ZW1FdmVudHMoQkUpO3RoaXMuX2NvbmZpZ3VyZVN1Ym1lbnUoQkUpO3RoaXMuX3VwZGF0ZUl0ZW1Qcm9wZXJ0aWVzKEJHKTt0aGlzLml0ZW1BZGRlZEV2ZW50LmZpcmUoQkUpO3RoaXMuY2hhbmdlQ29udGVudEV2ZW50LmZpcmUoKTtCQz1CRTt9fWVsc2V7QTc9QTgubGVuZ3RoO0E4W0E3XT1CRDtCRT1BOFtBN107aWYoQkUpe2lmKCFmLmlzQW5jZXN0b3IodGhpcy5fYUxpc3RFbGVtZW50c1tCR10sQkUuZWxlbWVudCkpe3RoaXMuX2FMaXN0RWxlbWVudHNbQkddLmFwcGVuZENoaWxkKEJFLmVsZW1lbnQpO31CRS5lbGVtZW50LnNldEF0dHJpYnV0ZShBdCxCRyk7QkUuZWxlbWVudC5zZXRBdHRyaWJ1dGUoaSxBNyk7QkUucGFyZW50PXRoaXM7QkUuaW5kZXg9QTc7QkUuZ3JvdXBJbmRleD1CRzt0aGlzLl9zdWJzY3JpYmVUb0l0ZW1FdmVudHMoQkUpO3RoaXMuX2NvbmZpZ3VyZVN1Ym1lbnUoQkUpO2lmKEE3PT09MCl7Zi5hZGRDbGFzcyhCRS5lbGVtZW50LEFKKTt9dGhpcy5pdGVtQWRkZWRFdmVudC5maXJlKEJFKTt0aGlzLmNoYW5nZUNvbnRlbnRFdmVudC5maXJlKCk7QkM9QkU7fX19cmV0dXJuIEJDO30sX3JlbW92ZUl0ZW1Gcm9tR3JvdXBCeUluZGV4OmZ1bmN0aW9uKEE4LEE2KXt2YXIgQTc9QU0uaXNOdW1iZXIoQTgpP0E4OjAsQTk9dGhpcy5fZ2V0SXRlbUdyb3VwKEE3KSxCQixCQSxBNTtpZihBOSl7QkI9QTkuc3BsaWNlKEE2LDEpO0JBPUJCWzBdO2lmKEJBKXt0aGlzLl91cGRhdGVJdGVtUHJvcGVydGllcyhBNyk7aWYoQTkubGVuZ3RoPT09MCl7QTU9dGhpcy5fYUxpc3RFbGVtZW50c1tBN107aWYoQTUmJkE1LnBhcmVudE5vZGUpe0E1LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoQTUpO310aGlzLl9hSXRlbUdyb3Vwcy5zcGxpY2UoQTcsMSk7dGhpcy5fYUxpc3RFbGVtZW50cy5zcGxpY2UoQTcsMSk7QTU9dGhpcy5fYUxpc3RFbGVtZW50c1swXTtpZihBNSl7Zi5hZGRDbGFzcyhBNSxBSik7fX10aGlzLml0ZW1SZW1vdmVkRXZlbnQuZmlyZShCQSk7dGhpcy5jaGFuZ2VDb250ZW50RXZlbnQuZmlyZSgpO319cmV0dXJuIEJBO30sX3JlbW92ZUl0ZW1Gcm9tR3JvdXBCeVZhbHVlOmZ1bmN0aW9uKEE4LEE1KXt2YXIgQkE9dGhpcy5fZ2V0SXRlbUdyb3VwKEE4KSxCQixBOSxBNyxBNjtpZihCQSl7QkI9QkEubGVuZ3RoO0E5PS0xO2lmKEJCPjApe0E2PUJCLTE7ZG97aWYoQkFbQTZdPT1BNSl7QTk9QTY7YnJlYWs7fX13aGlsZShBNi0tKTtpZihBOT4tMSl7QTc9dGhpcy5fcmVtb3ZlSXRlbUZyb21Hcm91cEJ5SW5kZXgoQTgsQTkpO319fXJldHVybiBBNzt9LF91cGRhdGVJdGVtUHJvcGVydGllczpmdW5jdGlvbihBNil7dmFyIEE3PXRoaXMuX2dldEl0ZW1Hcm91cChBNiksQkE9QTcubGVuZ3RoLEE5LEE4LEE1O2lmKEJBPjApe0E1PUJBLTE7ZG97QTk9QTdbQTVdO2lmKEE5KXtBOD1BOS5lbGVtZW50O0E5LmluZGV4PUE1O0E5Lmdyb3VwSW5kZXg9QTY7QTguc2V0QXR0cmlidXRlKEF0LEE2KTtBOC5zZXRBdHRyaWJ1dGUoaSxBNSk7Zi5yZW1vdmVDbGFzcyhBOCxBSik7fX13aGlsZShBNS0tKTtpZihBOCl7Zi5hZGRDbGFzcyhBOCxBSik7fX19LF9jcmVhdGVJdGVtR3JvdXA6ZnVuY3Rpb24oQTcpe3ZhciBBNSxBNjtpZighdGhpcy5fYUl0ZW1Hcm91cHNbQTddKXt0aGlzLl9hSXRlbUdyb3Vwc1tBN109W107QTU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChMKTt0aGlzLl9hTGlzdEVsZW1lbnRzW0E3XT1BNTtBNj10aGlzLl9hSXRlbUdyb3Vwc1tBN107fXJldHVybiBBNjt9LF9nZXRJdGVtR3JvdXA6ZnVuY3Rpb24oQTcpe3ZhciBBNT1BTS5pc051bWJlcihBNyk/QTc6MCxBOD10aGlzLl9hSXRlbUdyb3VwcyxBNjtpZihBNSBpbiBBOCl7QTY9QThbQTVdO31yZXR1cm4gQTY7fSxfY29uZmlndXJlU3VibWVudTpmdW5jdGlvbihBNSl7dmFyIEE2PUE1LmNmZy5nZXRQcm9wZXJ0eShPKTtpZihBNil7dGhpcy5jZmcuY29uZmlnQ2hhbmdlZEV2ZW50LnN1YnNjcmliZSh0aGlzLl9vblBhcmVudE1lbnVDb25maWdDaGFuZ2UsQTYsdHJ1ZSk7dGhpcy5yZW5kZXJFdmVudC5zdWJzY3JpYmUodGhpcy5fb25QYXJlbnRNZW51UmVuZGVyLEE2LHRydWUpO319LF9zdWJzY3JpYmVUb0l0ZW1FdmVudHM6ZnVuY3Rpb24oQTUpe0E1LmRlc3Ryb3lFdmVudC5zdWJzY3JpYmUodGhpcy5fb25NZW51SXRlbURlc3Ryb3ksQTUsdGhpcyk7CkE1LmNmZy5jb25maWdDaGFuZ2VkRXZlbnQuc3Vic2NyaWJlKHRoaXMuX29uTWVudUl0ZW1Db25maWdDaGFuZ2UsQTUsdGhpcyk7fSxfb25WaXNpYmxlQ2hhbmdlOmZ1bmN0aW9uKEE3LEE2KXt2YXIgQTU9QTZbMF07aWYoQTUpe2YuYWRkQ2xhc3ModGhpcy5lbGVtZW50LEF1KTt9ZWxzZXtmLnJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudCxBdSk7fX0sX2NhbmNlbEhpZGVEZWxheTpmdW5jdGlvbigpe3ZhciBBNT10aGlzLmdldFJvb3QoKS5faGlkZURlbGF5VGltZXI7aWYoQTUpe0E1LmNhbmNlbCgpO319LF9leGVjSGlkZURlbGF5OmZ1bmN0aW9uKCl7dGhpcy5fY2FuY2VsSGlkZURlbGF5KCk7dmFyIEE1PXRoaXMuZ2V0Um9vdCgpO0E1Ll9oaWRlRGVsYXlUaW1lcj1BTS5sYXRlcihBNS5jZmcuZ2V0UHJvcGVydHkoQVgpLHRoaXMsZnVuY3Rpb24oKXtpZihBNS5hY3RpdmVJdGVtKXtpZihBNS5oYXNGb2N1cygpKXtBNS5hY3RpdmVJdGVtLmZvY3VzKCk7fUE1LmNsZWFyQWN0aXZlSXRlbSgpO31pZihBNT09dGhpcyYmISh0aGlzIGluc3RhbmNlb2YgWUFIT08ud2lkZ2V0Lk1lbnVCYXIpJiZ0aGlzLmNmZy5nZXRQcm9wZXJ0eShBYyk9PUFEKXt0aGlzLmhpZGUoKTt9fSk7fSxfY2FuY2VsU2hvd0RlbGF5OmZ1bmN0aW9uKCl7dmFyIEE1PXRoaXMuZ2V0Um9vdCgpLl9zaG93RGVsYXlUaW1lcjtpZihBNSl7QTUuY2FuY2VsKCk7fX0sX2V4ZWNTdWJtZW51SGlkZURlbGF5OmZ1bmN0aW9uKEE3LEE2LEE1KXtBNy5fc3VibWVudUhpZGVEZWxheVRpbWVyPUFNLmxhdGVyKDUwLHRoaXMsZnVuY3Rpb24oKXtpZih0aGlzLl9uQ3VycmVudE1vdXNlWD4oQTYrMTApKXtBNy5fc3VibWVudUhpZGVEZWxheVRpbWVyPUFNLmxhdGVyKEE1LEE3LGZ1bmN0aW9uKCl7dGhpcy5oaWRlKCk7fSk7fWVsc2V7QTcuaGlkZSgpO319KTt9LF9kaXNhYmxlU2Nyb2xsSGVhZGVyOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX2JIZWFkZXJEaXNhYmxlZCl7Zi5hZGRDbGFzcyh0aGlzLmhlYWRlcixQKTt0aGlzLl9iSGVhZGVyRGlzYWJsZWQ9dHJ1ZTt9fSxfZGlzYWJsZVNjcm9sbEZvb3RlcjpmdW5jdGlvbigpe2lmKCF0aGlzLl9iRm9vdGVyRGlzYWJsZWQpe2YuYWRkQ2xhc3ModGhpcy5mb290ZXIsRSk7dGhpcy5fYkZvb3RlckRpc2FibGVkPXRydWU7fX0sX2VuYWJsZVNjcm9sbEhlYWRlcjpmdW5jdGlvbigpe2lmKHRoaXMuX2JIZWFkZXJEaXNhYmxlZCl7Zi5yZW1vdmVDbGFzcyh0aGlzLmhlYWRlcixQKTt0aGlzLl9iSGVhZGVyRGlzYWJsZWQ9ZmFsc2U7fX0sX2VuYWJsZVNjcm9sbEZvb3RlcjpmdW5jdGlvbigpe2lmKHRoaXMuX2JGb290ZXJEaXNhYmxlZCl7Zi5yZW1vdmVDbGFzcyh0aGlzLmZvb3RlcixFKTt0aGlzLl9iRm9vdGVyRGlzYWJsZWQ9ZmFsc2U7fX0sX29uTW91c2VPdmVyOmZ1bmN0aW9uKEJILEJBKXt2YXIgQkk9QkFbMF0sQkU9QkFbMV0sQTU9QUEuZ2V0VGFyZ2V0KEJJKSxBOT10aGlzLmdldFJvb3QoKSxCRz10aGlzLl9zdWJtZW51SGlkZURlbGF5VGltZXIsQTYsQTgsQkQsQTcsQkMsQkI7dmFyIEJGPWZ1bmN0aW9uKCl7aWYodGhpcy5wYXJlbnQuY2ZnLmdldFByb3BlcnR5KHkpKXt0aGlzLnNob3coKTt9fTtpZighdGhpcy5fYlN0b3BNb3VzZUV2ZW50SGFuZGxlcnMpe2lmKCF0aGlzLl9iSGFuZGxlZE1vdXNlT3ZlckV2ZW50JiYoQTU9PXRoaXMuZWxlbWVudHx8Zi5pc0FuY2VzdG9yKHRoaXMuZWxlbWVudCxBNSkpKXtpZih0aGlzLl91c2VIaWRlRGVsYXkpe3RoaXMuX2NhbmNlbEhpZGVEZWxheSgpO310aGlzLl9uQ3VycmVudE1vdXNlWD0wO0FBLm9uKHRoaXMuZWxlbWVudCxiLHRoaXMuX29uTW91c2VNb3ZlLHRoaXMsdHJ1ZSk7aWYoIShCRSYmZi5pc0FuY2VzdG9yKEJFLmVsZW1lbnQsQUEuZ2V0UmVsYXRlZFRhcmdldChCSSkpKSl7dGhpcy5jbGVhckFjdGl2ZUl0ZW0oKTt9aWYodGhpcy5wYXJlbnQmJkJHKXtCRy5jYW5jZWwoKTt0aGlzLnBhcmVudC5jZmcuc2V0UHJvcGVydHkoeSx0cnVlKTtBNj10aGlzLnBhcmVudC5wYXJlbnQ7QTYuX2JIYW5kbGVkTW91c2VPdXRFdmVudD10cnVlO0E2Ll9iSGFuZGxlZE1vdXNlT3ZlckV2ZW50PWZhbHNlO310aGlzLl9iSGFuZGxlZE1vdXNlT3ZlckV2ZW50PXRydWU7dGhpcy5fYkhhbmRsZWRNb3VzZU91dEV2ZW50PWZhbHNlO31pZihCRSYmIUJFLmhhbmRsZWRNb3VzZU92ZXJFdmVudCYmIUJFLmNmZy5nZXRQcm9wZXJ0eShBaCkmJihBNT09QkUuZWxlbWVudHx8Zi5pc0FuY2VzdG9yKEJFLmVsZW1lbnQsQTUpKSl7QTg9dGhpcy5jZmcuZ2V0UHJvcGVydHkoQXYpO0JEPShBOD4wKTtpZihCRCl7dGhpcy5fY2FuY2VsU2hvd0RlbGF5KCk7fUE3PXRoaXMuYWN0aXZlSXRlbTtpZihBNyl7QTcuY2ZnLnNldFByb3BlcnR5KHksZmFsc2UpO31CQz1CRS5jZmc7QkMuc2V0UHJvcGVydHkoeSx0cnVlKTtpZih0aGlzLmhhc0ZvY3VzKCl8fEE5Ll9oYXNGb2N1cyl7QkUuZm9jdXMoKTtBOS5faGFzRm9jdXM9ZmFsc2U7fWlmKHRoaXMuY2ZnLmdldFByb3BlcnR5KFopKXtCQj1CQy5nZXRQcm9wZXJ0eShPKTtpZihCQil7aWYoQkQpe0E5Ll9zaG93RGVsYXlUaW1lcj1BTS5sYXRlcihBOS5jZmcuZ2V0UHJvcGVydHkoQXYpLEJCLEJGKTt9ZWxzZXtCQi5zaG93KCk7fX19QkUuaGFuZGxlZE1vdXNlT3ZlckV2ZW50PXRydWU7QkUuaGFuZGxlZE1vdXNlT3V0RXZlbnQ9ZmFsc2U7fX19LF9vbk1vdXNlT3V0OmZ1bmN0aW9uKEJELEE3KXt2YXIgQkU9QTdbMF0sQkI9QTdbMV0sQTg9QUEuZ2V0UmVsYXRlZFRhcmdldChCRSksQkM9ZmFsc2UsQkEsQTksQTUsQTY7aWYoIXRoaXMuX2JTdG9wTW91c2VFdmVudEhhbmRsZXJzKXtpZihCQiYmIUJCLmNmZy5nZXRQcm9wZXJ0eShBaCkpe0JBPUJCLmNmZztBOT1CQS5nZXRQcm9wZXJ0eShPKTtpZihBOSYmKEE4PT1BOS5lbGVtZW50fHxmLmlzQW5jZXN0b3IoQTkuZWxlbWVudCxBOCkpKXtCQz10cnVlO31pZighQkIuaGFuZGxlZE1vdXNlT3V0RXZlbnQmJigoQTghPUJCLmVsZW1lbnQmJiFmLmlzQW5jZXN0b3IoQkIuZWxlbWVudCxBOCkpfHxCQykpe2lmKCFCQyl7QkIuY2ZnLnNldFByb3BlcnR5KHksZmFsc2UpO2lmKEE5KXtBNT10aGlzLmNmZy5nZXRQcm9wZXJ0eShjKTtBNj10aGlzLmNmZy5nZXRQcm9wZXJ0eShBdik7aWYoISh0aGlzIGluc3RhbmNlb2YgWUFIT08ud2lkZ2V0Lk1lbnVCYXIpJiZBNT4wJiZBNT49QTYpe3RoaXMuX2V4ZWNTdWJtZW51SGlkZURlbGF5KEE5LEFBLmdldFBhZ2VYKEJFKSxBNSk7fWVsc2V7QTkuaGlkZSgpO319fUJCLmhhbmRsZWRNb3VzZU91dEV2ZW50PXRydWU7QkIuaGFuZGxlZE1vdXNlT3ZlckV2ZW50PWZhbHNlO319aWYoIXRoaXMuX2JIYW5kbGVkTW91c2VPdXRFdmVudCl7aWYodGhpcy5fZGlkTW91c2VMZWF2ZShBOCl8fEJDKXtpZih0aGlzLl91c2VIaWRlRGVsYXkpe3RoaXMuX2V4ZWNIaWRlRGVsYXkoKTt9QUEucmVtb3ZlTGlzdGVuZXIodGhpcy5lbGVtZW50LGIsdGhpcy5fb25Nb3VzZU1vdmUpO3RoaXMuX25DdXJyZW50TW91c2VYPUFBLmdldFBhZ2VYKEJFKTt0aGlzLl9iSGFuZGxlZE1vdXNlT3V0RXZlbnQ9dHJ1ZTt0aGlzLl9iSGFuZGxlZE1vdXNlT3ZlckV2ZW50PWZhbHNlO319fX0sX2RpZE1vdXNlTGVhdmU6ZnVuY3Rpb24oQTUpe3JldHVybihBNT09PXRoaXMuX3NoYWRvd3x8KEE1IT10aGlzLmVsZW1lbnQmJiFmLmlzQW5jZXN0b3IodGhpcy5lbGVtZW50LEE1KSkpO30sX29uTW91c2VNb3ZlOmZ1bmN0aW9uKEE2LEE1KXtpZighdGhpcy5fYlN0b3BNb3VzZUV2ZW50SGFuZGxlcnMpe3RoaXMuX25DdXJyZW50TW91c2VYPUFBLmdldFBhZ2VYKEE2KTt9fSxfb25DbGljazpmdW5jdGlvbihCRyxBNyl7dmFyIEJIPUE3WzBdLEJCPUE3WzFdLEJEPWZhbHNlLEE5LEJFLEE2LEE1LEJBLEJDLEJGO3ZhciBBOD1mdW5jdGlvbigpe0E2PXRoaXMuZ2V0Um9vdCgpO2lmKEE2IGluc3RhbmNlb2YgWUFIT08ud2lkZ2V0Lk1lbnVCYXJ8fEE2LmNmZy5nZXRQcm9wZXJ0eShBYyk9PUMpe0E2LmNsZWFyQWN0aXZlSXRlbSgpO31lbHNle0E2LmhpZGUoKTt9fTtpZihCQil7aWYoQkIuY2ZnLmdldFByb3BlcnR5KEFoKSl7QUEucHJldmVudERlZmF1bHQoQkgpO0E4LmNhbGwodGhpcyk7fWVsc2V7QTk9QkIuY2ZnLmdldFByb3BlcnR5KE8pO0JBPUJCLmNmZy5nZXRQcm9wZXJ0eShRKTtpZihCQSl7QkM9QkEuaW5kZXhPZihNKTtCRj1CQS5sZW5ndGg7aWYoQkMhPS0xKXtCQT1CQS5zdWJzdHIoQkMsQkYpO0JGPUJBLmxlbmd0aDtpZihCRj4xKXtBNT1CQS5zdWJzdHIoMSxCRik7QkU9WUFIT08ud2lkZ2V0Lk1lbnVNYW5hZ2VyLmdldE1lbnUoQTUpO2lmKEJFKXtCRD0odGhpcy5nZXRSb290KCk9PT1CRS5nZXRSb290KCkpO319ZWxzZXtpZihCRj09PTEpe0JEPXRydWU7fX19fWlmKEJEJiYhQkIuY2ZnLmdldFByb3BlcnR5KFYpKXtBQS5wcmV2ZW50RGVmYXVsdChCSCk7aWYoQXMud2Via2l0KXtCQi5mb2N1cygpO31lbHNle0JCLmZvY3VzRXZlbnQuZmlyZSgpO319aWYoIUE5JiYhdGhpcy5jZmcuZ2V0UHJvcGVydHkoQXIpKXtBOC5jYWxsKHRoaXMpO319fX0sX3N0b3BNb3VzZUV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24oKXt0aGlzLl9iU3RvcE1vdXNlRXZlbnRIYW5kbGVycz10cnVlO0FNLmxhdGVyKDEwLHRoaXMsZnVuY3Rpb24oKXt0aGlzLl9iU3RvcE1vdXNlRXZlbnRIYW5kbGVycz1mYWxzZTt9KTt9LF9vbktleURvd246ZnVuY3Rpb24oQkosQkQpe3ZhciBCRz1CRFswXSxCRj1CRFsxXSxCQyxCSCxBNixBOSxCSyxBNSxCTixBOCxCSSxBNyxCRSxCTSxCQSxCQjtpZih0aGlzLl91c2VIaWRlRGVsYXkpe3RoaXMuX2NhbmNlbEhpZGVEZWxheSgpO31pZihCRiYmIUJGLmNmZy5nZXRQcm9wZXJ0eShBaCkpe0JIPUJGLmNmZztBNj10aGlzLnBhcmVudDtzd2l0Y2goQkcua2V5Q29kZSl7Y2FzZSAzODpjYXNlIDQwOkJLPShCRy5rZXlDb2RlPT0zOCk/QkYuZ2V0UHJldmlvdXNFbmFibGVkU2libGluZygpOkJGLmdldE5leHRFbmFibGVkU2libGluZygpO2lmKEJLKXt0aGlzLmNsZWFyQWN0aXZlSXRlbSgpO0JLLmNmZy5zZXRQcm9wZXJ0eSh5LHRydWUpO0JLLmZvY3VzKCk7aWYodGhpcy5jZmcuZ2V0UHJvcGVydHkoQVUpPjB8fGYuaGFzQ2xhc3ModGhpcy5ib2R5LGwpKXtBNT10aGlzLmJvZHk7Qk49QTUuc2Nyb2xsVG9wO0E4PUE1Lm9mZnNldEhlaWdodDtCST10aGlzLmdldEl0ZW1zKCk7QTc9QkkubGVuZ3RoLTE7QkU9QksuZWxlbWVudC5vZmZzZXRUb3A7aWYoQkcua2V5Q29kZT09NDApe2lmKEJFPj0oQTgrQk4pKXtBNS5zY3JvbGxUb3A9QkUtQTg7fWVsc2V7aWYoQkU8PUJOKXtBNS5zY3JvbGxUb3A9MDt9fWlmKEJLPT1CSVtBN10pe0E1LnNjcm9sbFRvcD1CSy5lbGVtZW50Lm9mZnNldFRvcDt9fWVsc2V7aWYoQkU8PUJOKXtBNS5zY3JvbGxUb3A9QkUtQksuZWxlbWVudC5vZmZzZXRIZWlnaHQ7fWVsc2V7aWYoQkU+PShCTitBOCkpe0E1LnNjcm9sbFRvcD1CRTt9fWlmKEJLPT1CSVswXSl7QTUuc2Nyb2xsVG9wPTA7fX1CTj1BNS5zY3JvbGxUb3A7Qk09QTUuc2Nyb2xsSGVpZ2h0LUE1Lm9mZnNldEhlaWdodDtpZihCTj09PTApe3RoaXMuX2Rpc2FibGVTY3JvbGxIZWFkZXIoKTt0aGlzLl9lbmFibGVTY3JvbGxGb290ZXIoKTt9ZWxzZXtpZihCTj09Qk0pe3RoaXMuX2VuYWJsZVNjcm9sbEhlYWRlcigpO3RoaXMuX2Rpc2FibGVTY3JvbGxGb290ZXIoKTt9ZWxzZXt0aGlzLl9lbmFibGVTY3JvbGxIZWFkZXIoKTt0aGlzLl9lbmFibGVTY3JvbGxGb290ZXIoKTt9fX19QUEucHJldmVudERlZmF1bHQoQkcpO3RoaXMuX3N0b3BNb3VzZUV2ZW50SGFuZGxlcnMoKTticmVhaztjYXNlIDM5OkJDPUJILmdldFByb3BlcnR5KE8pO2lmKEJDKXtpZighQkguZ2V0UHJvcGVydHkoeSkpe0JILnNldFByb3BlcnR5KHksdHJ1ZSk7fUJDLnNob3coKTtCQy5zZXRJbml0aWFsRm9jdXMoKTtCQy5zZXRJbml0aWFsU2VsZWN0aW9uKCk7fWVsc2V7QTk9dGhpcy5nZXRSb290KCk7aWYoQTkgaW5zdGFuY2VvZiBZQUhPTy53aWRnZXQuTWVudUJhcil7Qks9QTkuYWN0aXZlSXRlbS5nZXROZXh0RW5hYmxlZFNpYmxpbmcoKTsKaWYoQkspe0E5LmNsZWFyQWN0aXZlSXRlbSgpO0JLLmNmZy5zZXRQcm9wZXJ0eSh5LHRydWUpO0JDPUJLLmNmZy5nZXRQcm9wZXJ0eShPKTtpZihCQyl7QkMuc2hvdygpO0JDLnNldEluaXRpYWxGb2N1cygpO31lbHNle0JLLmZvY3VzKCk7fX19fUFBLnByZXZlbnREZWZhdWx0KEJHKTt0aGlzLl9zdG9wTW91c2VFdmVudEhhbmRsZXJzKCk7YnJlYWs7Y2FzZSAzNzppZihBNil7QkE9QTYucGFyZW50O2lmKEJBIGluc3RhbmNlb2YgWUFIT08ud2lkZ2V0Lk1lbnVCYXIpe0JLPUJBLmFjdGl2ZUl0ZW0uZ2V0UHJldmlvdXNFbmFibGVkU2libGluZygpO2lmKEJLKXtCQS5jbGVhckFjdGl2ZUl0ZW0oKTtCSy5jZmcuc2V0UHJvcGVydHkoeSx0cnVlKTtCQz1CSy5jZmcuZ2V0UHJvcGVydHkoTyk7aWYoQkMpe0JDLnNob3coKTtCQy5zZXRJbml0aWFsRm9jdXMoKTt9ZWxzZXtCSy5mb2N1cygpO319fWVsc2V7dGhpcy5oaWRlKCk7QTYuZm9jdXMoKTt9fUFBLnByZXZlbnREZWZhdWx0KEJHKTt0aGlzLl9zdG9wTW91c2VFdmVudEhhbmRsZXJzKCk7YnJlYWs7fX1pZihCRy5rZXlDb2RlPT0yNyl7aWYodGhpcy5jZmcuZ2V0UHJvcGVydHkoQWMpPT1BRCl7dGhpcy5oaWRlKCk7aWYodGhpcy5wYXJlbnQpe3RoaXMucGFyZW50LmZvY3VzKCk7fWVsc2V7QkI9dGhpcy5fZm9jdXNlZEVsZW1lbnQ7aWYoQkImJkJCLmZvY3VzKXt0cnl7QkIuZm9jdXMoKTt9Y2F0Y2goQkwpe319fX1lbHNle2lmKHRoaXMuYWN0aXZlSXRlbSl7QkM9dGhpcy5hY3RpdmVJdGVtLmNmZy5nZXRQcm9wZXJ0eShPKTtpZihCQyYmQkMuY2ZnLmdldFByb3BlcnR5KEF1KSl7QkMuaGlkZSgpO3RoaXMuYWN0aXZlSXRlbS5mb2N1cygpO31lbHNle3RoaXMuYWN0aXZlSXRlbS5ibHVyKCk7dGhpcy5hY3RpdmVJdGVtLmNmZy5zZXRQcm9wZXJ0eSh5LGZhbHNlKTt9fX1BQS5wcmV2ZW50RGVmYXVsdChCRyk7fX0sX29uS2V5UHJlc3M6ZnVuY3Rpb24oQTcsQTYpe3ZhciBBNT1BNlswXTtpZihBNS5rZXlDb2RlPT00MHx8QTUua2V5Q29kZT09Mzgpe0FBLnByZXZlbnREZWZhdWx0KEE1KTt9fSxfb25CbHVyOmZ1bmN0aW9uKEE2LEE1KXtpZih0aGlzLl9oYXNGb2N1cyl7dGhpcy5faGFzRm9jdXM9ZmFsc2U7fX0sX29uWUNoYW5nZTpmdW5jdGlvbihBNixBNSl7dmFyIEE4PXRoaXMucGFyZW50LEJBLEE3LEE5O2lmKEE4KXtCQT1BOC5wYXJlbnQuYm9keS5zY3JvbGxUb3A7aWYoQkE+MCl7QTk9KHRoaXMuY2ZnLmdldFByb3BlcnR5KFIpLUJBKTtmLnNldFkodGhpcy5lbGVtZW50LEE5KTtBNz10aGlzLmlmcmFtZTtpZihBNyl7Zi5zZXRZKEE3LEE5KTt9dGhpcy5jZmcuc2V0UHJvcGVydHkoUixBOSx0cnVlKTt9fX0sX29uU2Nyb2xsVGFyZ2V0TW91c2VPdmVyOmZ1bmN0aW9uKEJCLEJFKXt2YXIgQkQ9dGhpcy5fYm9keVNjcm9sbFRpbWVyO2lmKEJEKXtCRC5jYW5jZWwoKTt9dGhpcy5fY2FuY2VsSGlkZURlbGF5KCk7dmFyIEE3PUFBLmdldFRhcmdldChCQiksQTk9dGhpcy5ib2R5LEE4PXRoaXMuY2ZnLmdldFByb3BlcnR5KGopLEE1LEE2O2Z1bmN0aW9uIEJDKCl7dmFyIEJGPUE5LnNjcm9sbFRvcDtpZihCRjxBNSl7QTkuc2Nyb2xsVG9wPShCRitBOCk7dGhpcy5fZW5hYmxlU2Nyb2xsSGVhZGVyKCk7fWVsc2V7QTkuc2Nyb2xsVG9wPUE1O3RoaXMuX2JvZHlTY3JvbGxUaW1lci5jYW5jZWwoKTt0aGlzLl9kaXNhYmxlU2Nyb2xsRm9vdGVyKCk7fX1mdW5jdGlvbiBCQSgpe3ZhciBCRj1BOS5zY3JvbGxUb3A7aWYoQkY+MCl7QTkuc2Nyb2xsVG9wPShCRi1BOCk7dGhpcy5fZW5hYmxlU2Nyb2xsRm9vdGVyKCk7fWVsc2V7QTkuc2Nyb2xsVG9wPTA7dGhpcy5fYm9keVNjcm9sbFRpbWVyLmNhbmNlbCgpO3RoaXMuX2Rpc2FibGVTY3JvbGxIZWFkZXIoKTt9fWlmKGYuaGFzQ2xhc3MoQTcsQTApKXtBNj1CQTt9ZWxzZXtBNT1BOS5zY3JvbGxIZWlnaHQtQTkub2Zmc2V0SGVpZ2h0O0E2PUJDO310aGlzLl9ib2R5U2Nyb2xsVGltZXI9QU0ubGF0ZXIoMTAsdGhpcyxBNixudWxsLHRydWUpO30sX29uU2Nyb2xsVGFyZ2V0TW91c2VPdXQ6ZnVuY3Rpb24oQTcsQTUpe3ZhciBBNj10aGlzLl9ib2R5U2Nyb2xsVGltZXI7aWYoQTYpe0E2LmNhbmNlbCgpO310aGlzLl9jYW5jZWxIaWRlRGVsYXkoKTt9LF9vbkluaXQ6ZnVuY3Rpb24oQTYsQTUpe3RoaXMuY2ZnLnN1YnNjcmliZVRvQ29uZmlnRXZlbnQoQXUsdGhpcy5fb25WaXNpYmxlQ2hhbmdlKTt2YXIgQTc9IXRoaXMucGFyZW50LEE4PXRoaXMubGF6eUxvYWQ7aWYoKChBNyYmIUE4KXx8KEE3JiYodGhpcy5jZmcuZ2V0UHJvcGVydHkoQXUpfHx0aGlzLmNmZy5nZXRQcm9wZXJ0eShBYyk9PUMpKXx8KCFBNyYmIUE4KSkmJnRoaXMuZ2V0SXRlbUdyb3VwcygpLmxlbmd0aD09PTApe2lmKHRoaXMuc3JjRWxlbWVudCl7dGhpcy5faW5pdFN1YlRyZWUoKTt9aWYodGhpcy5pdGVtRGF0YSl7dGhpcy5hZGRJdGVtcyh0aGlzLml0ZW1EYXRhKTt9fWVsc2V7aWYoQTgpe3RoaXMuY2ZnLmZpcmVRdWV1ZSgpO319fSxfb25CZWZvcmVSZW5kZXI6ZnVuY3Rpb24oQTgsQTcpe3ZhciBBOT10aGlzLmVsZW1lbnQsQkM9dGhpcy5fYUxpc3RFbGVtZW50cy5sZW5ndGgsQTY9dHJ1ZSxCQj0wLEE1LEJBO2lmKEJDPjApe2Rve0E1PXRoaXMuX2FMaXN0RWxlbWVudHNbQkJdO2lmKEE1KXtpZihBNil7Zi5hZGRDbGFzcyhBNSxBSik7QTY9ZmFsc2U7fWlmKCFmLmlzQW5jZXN0b3IoQTksQTUpKXt0aGlzLmFwcGVuZFRvQm9keShBNSk7fUJBPXRoaXMuX2FHcm91cFRpdGxlRWxlbWVudHNbQkJdO2lmKEJBKXtpZighZi5pc0FuY2VzdG9yKEE5LEJBKSl7QTUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoQkEsQTUpO31mLmFkZENsYXNzKEE1LEQpO319QkIrKzt9d2hpbGUoQkI8QkMpO319LF9vblJlbmRlcjpmdW5jdGlvbihBNixBNSl7aWYodGhpcy5jZmcuZ2V0UHJvcGVydHkoQWMpPT1BRCl7aWYoIXRoaXMuY2ZnLmdldFByb3BlcnR5KEF1KSl7dGhpcy5wb3NpdGlvbk9mZlNjcmVlbigpO319fSxfb25CZWZvcmVTaG93OmZ1bmN0aW9uKEE3LEE2KXt2YXIgQTksQkMsQTgsQkE9dGhpcy5jZmcuZ2V0UHJvcGVydHkoZyk7aWYodGhpcy5sYXp5TG9hZCYmdGhpcy5nZXRJdGVtR3JvdXBzKCkubGVuZ3RoPT09MCl7aWYodGhpcy5zcmNFbGVtZW50KXt0aGlzLl9pbml0U3ViVHJlZSgpO31pZih0aGlzLml0ZW1EYXRhKXtpZih0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQucGFyZW50JiZ0aGlzLnBhcmVudC5wYXJlbnQuc3JjRWxlbWVudCYmdGhpcy5wYXJlbnQucGFyZW50LnNyY0VsZW1lbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpPT1BSCl7QTk9dGhpcy5pdGVtRGF0YS5sZW5ndGg7Zm9yKEJDPTA7QkM8QTk7QkMrKyl7aWYodGhpcy5pdGVtRGF0YVtCQ10udGFnTmFtZSl7dGhpcy5hZGRJdGVtKChuZXcgdGhpcy5JVEVNX1RZUEUodGhpcy5pdGVtRGF0YVtCQ10pKSk7fX19ZWxzZXt0aGlzLmFkZEl0ZW1zKHRoaXMuaXRlbURhdGEpO319QTg9dGhpcy5zcmNFbGVtZW50O2lmKEE4KXtpZihBOC50YWdOYW1lLnRvVXBwZXJDYXNlKCk9PUFIKXtpZihmLmluRG9jdW1lbnQoQTgpKXt0aGlzLnJlbmRlcihBOC5wYXJlbnROb2RlKTt9ZWxzZXt0aGlzLnJlbmRlcihCQSk7fX1lbHNle3RoaXMucmVuZGVyKCk7fX1lbHNle2lmKHRoaXMucGFyZW50KXt0aGlzLnJlbmRlcih0aGlzLnBhcmVudC5lbGVtZW50KTt9ZWxzZXt0aGlzLnJlbmRlcihCQSk7fX19dmFyIEJCPXRoaXMucGFyZW50LEE1O2lmKCFCQiYmdGhpcy5jZmcuZ2V0UHJvcGVydHkoQWMpPT1BRCl7dGhpcy5jZmcucmVmaXJlRXZlbnQoZSk7fWlmKEJCKXtBNT1CQi5wYXJlbnQuY2ZnLmdldFByb3BlcnR5KEFPKTt0aGlzLmNmZy5zZXRQcm9wZXJ0eShwLFtCQi5lbGVtZW50LEE1WzBdLEE1WzFdXSk7dGhpcy5hbGlnbigpO319LGdldENvbnN0cmFpbmVkWTpmdW5jdGlvbihCSCl7dmFyIEJTPXRoaXMsQk89QlMuY2ZnLmdldFByb3BlcnR5KHApLEJWPUJTLmNmZy5nZXRQcm9wZXJ0eShBVSksQlIsQkc9eyJ0cmJyIjp0cnVlLCJ0bGJsIjp0cnVlLCJibHRsIjp0cnVlLCJicnRyIjp0cnVlfSxCQT0oQk8mJkJHW0JPWzFdK0JPWzJdXSksQkM9QlMuZWxlbWVudCxCVz1CQy5vZmZzZXRIZWlnaHQsQlE9QUIuVklFV1BPUlRfT0ZGU0VULEJMPWYuZ2V0Vmlld3BvcnRIZWlnaHQoKSxCUD1mLmdldERvY3VtZW50U2Nyb2xsVG9wKCksQk09KEJTLmNmZy5nZXRQcm9wZXJ0eShBaikrQlE8QkwpLEJVLEJELEJKLEJLLEJGPWZhbHNlLEJFLEE3LEJJPUJQK0JRLEE5PUJQK0JMLUJXLUJRLEE1PUJIO3ZhciBCQj1mdW5jdGlvbigpe3ZhciBCWDtpZigoQlMuY2ZnLmdldFByb3BlcnR5KFIpLUJQKT5CSil7Qlg9KEJKLUJXKTt9ZWxzZXtCWD0oQkorQkspO31CUy5jZmcuc2V0UHJvcGVydHkoUiwoQlgrQlApLHRydWUpO3JldHVybiBCWDt9O3ZhciBBOD1mdW5jdGlvbigpe2lmKChCUy5jZmcuZ2V0UHJvcGVydHkoUiktQlApPkJKKXtyZXR1cm4oQTctQlEpO31lbHNle3JldHVybihCRS1CUSk7fX07dmFyIEJOPWZ1bmN0aW9uKCl7dmFyIEJYO2lmKChCUy5jZmcuZ2V0UHJvcGVydHkoUiktQlApPkJKKXtCWD0oQkorQkspO31lbHNle0JYPShCSi1CQy5vZmZzZXRIZWlnaHQpO31CUy5jZmcuc2V0UHJvcGVydHkoUiwoQlgrQlApLHRydWUpO307dmFyIEE2PWZ1bmN0aW9uKCl7QlMuX3NldFNjcm9sbEhlaWdodCh0aGlzLmNmZy5nZXRQcm9wZXJ0eShBVSkpO0JTLmhpZGVFdmVudC51bnN1YnNjcmliZShBNik7fTt2YXIgQlQ9ZnVuY3Rpb24oKXt2YXIgQmE9QTgoKSxCWD0oQlMuZ2V0SXRlbXMoKS5sZW5ndGg+MCksQlosQlk7aWYoQlc+QmEpe0JaPUJYP0JTLmNmZy5nZXRQcm9wZXJ0eShBaik6Qlc7aWYoKEJhPkJaKSYmQlgpe0JSPUJhO31lbHNle0JSPUJWO31CUy5fc2V0U2Nyb2xsSGVpZ2h0KEJSKTtCUy5oaWRlRXZlbnQuc3Vic2NyaWJlKEE2KTtCTigpO2lmKEJhPEJaKXtpZihCRil7QkIoKTt9ZWxzZXtCQigpO0JGPXRydWU7Qlk9QlQoKTt9fX1lbHNle2lmKEJSJiYoQlIhPT1CVikpe0JTLl9zZXRTY3JvbGxIZWlnaHQoQlYpO0JTLmhpZGVFdmVudC5zdWJzY3JpYmUoQTYpO0JOKCk7fX1yZXR1cm4gQlk7fTtpZihCSDxCSXx8Qkg+QTkpe2lmKEJNKXtpZihCUy5jZmcuZ2V0UHJvcGVydHkoQTQpJiZCQSl7QkQ9Qk9bMF07Qks9QkQub2Zmc2V0SGVpZ2h0O0JKPShmLmdldFkoQkQpLUJQKTtCRT1CSjtBNz0oQkwtKEJKK0JLKSk7QlQoKTtBNT1CUy5jZmcuZ2V0UHJvcGVydHkoUik7fWVsc2V7aWYoIShCUyBpbnN0YW5jZW9mIFlBSE9PLndpZGdldC5NZW51QmFyKSYmQlc+PUJMKXtCVT0oQkwtKEJRKjIpKTtpZihCVT5CUy5jZmcuZ2V0UHJvcGVydHkoQWopKXtCUy5fc2V0U2Nyb2xsSGVpZ2h0KEJVKTtCUy5oaWRlRXZlbnQuc3Vic2NyaWJlKEE2KTtCTigpO0E1PUJTLmNmZy5nZXRQcm9wZXJ0eShSKTt9fWVsc2V7aWYoQkg8Qkkpe0E1PUJJO31lbHNle2lmKEJIPkE5KXtBNT1BOTt9fX19fWVsc2V7QTU9QlErQlA7fX1yZXR1cm4gQTU7fSxfb25IaWRlOmZ1bmN0aW9uKEE2LEE1KXtpZih0aGlzLmNmZy5nZXRQcm9wZXJ0eShBYyk9PT1BRCl7dGhpcy5wb3NpdGlvbk9mZlNjcmVlbigpO319LF9vblNob3c6ZnVuY3Rpb24oQkQsQkIpe3ZhciBBNT10aGlzLnBhcmVudCxBNyxBOCxCQSxBNjtmdW5jdGlvbiBBOShCRil7dmFyIEJFO2lmKEJGLnR5cGU9PUFrfHwoQkYudHlwZT09QWUmJkJGLmtleUNvZGU9PTI3KSl7QkU9QUEuZ2V0VGFyZ2V0KEJGKTtpZihCRSE9QTcuZWxlbWVudHx8IWYuaXNBbmNlc3RvcihBNy5lbGVtZW50LEJFKSl7QTcuY2ZnLnNldFByb3BlcnR5KFosZmFsc2UpO0FBLnJlbW92ZUxpc3RlbmVyKGRvY3VtZW50LEFrLEE5KTtBQS5yZW1vdmVMaXN0ZW5lcihkb2N1bWVudCxBZSxBOSk7fX19ZnVuY3Rpb24gQkMoQkYsQkUsQkcpe3RoaXMuY2ZnLnNldFByb3BlcnR5KFUsdSk7dGhpcy5oaWRlRXZlbnQudW5zdWJzY3JpYmUoQkMsQkcpO31pZihBNSl7QTc9QTUucGFyZW50O2lmKCFBNy5jZmcuZ2V0UHJvcGVydHkoWikmJihBNyBpbnN0YW5jZW9mIFlBSE9PLndpZGdldC5NZW51QmFyfHxBNy5jZmcuZ2V0UHJvcGVydHkoQWMpPT1DKSl7QTcuY2ZnLnNldFByb3BlcnR5KFosdHJ1ZSk7CkFBLm9uKGRvY3VtZW50LEFrLEE5KTtBQS5vbihkb2N1bWVudCxBZSxBOSk7fWlmKCh0aGlzLmNmZy5nZXRQcm9wZXJ0eSgieCIpPEE3LmNmZy5nZXRQcm9wZXJ0eSgieCIpKSYmKEFzLmdlY2tvJiZBcy5nZWNrbzwxLjkpJiYhdGhpcy5jZmcuZ2V0UHJvcGVydHkoVSkpe0E4PXRoaXMuZWxlbWVudDtCQT1BOC5vZmZzZXRXaWR0aDtBOC5zdHlsZS53aWR0aD1CQStBUTtBNj0oQkEtKEE4Lm9mZnNldFdpZHRoLUJBKSkrQVE7dGhpcy5jZmcuc2V0UHJvcGVydHkoVSxBNik7dGhpcy5oaWRlRXZlbnQuc3Vic2NyaWJlKEJDLEE2KTt9fWlmKHRoaXM9PT10aGlzLmdldFJvb3QoKSYmdGhpcy5jZmcuZ2V0UHJvcGVydHkoQWMpPT09QUQpe3RoaXMuX2ZvY3VzZWRFbGVtZW50PUFkO3RoaXMuZm9jdXMoKTt9fSxfb25CZWZvcmVIaWRlOmZ1bmN0aW9uKEE3LEE2KXt2YXIgQTU9dGhpcy5hY3RpdmVJdGVtLEE5PXRoaXMuZ2V0Um9vdCgpLEJBLEE4O2lmKEE1KXtCQT1BNS5jZmc7QkEuc2V0UHJvcGVydHkoeSxmYWxzZSk7QTg9QkEuZ2V0UHJvcGVydHkoTyk7aWYoQTgpe0E4LmhpZGUoKTt9fWlmKEFzLmllJiZ0aGlzLmNmZy5nZXRQcm9wZXJ0eShBYyk9PT1BRCYmdGhpcy5wYXJlbnQpe0E5Ll9oYXNGb2N1cz10aGlzLmhhc0ZvY3VzKCk7fWlmKEE5PT10aGlzKXtBOS5ibHVyKCk7fX0sX29uUGFyZW50TWVudUNvbmZpZ0NoYW5nZTpmdW5jdGlvbihBNixBNSxBOSl7dmFyIEE3PUE1WzBdWzBdLEE4PUE1WzBdWzFdO3N3aXRjaChBNyl7Y2FzZSBBRjpjYXNlIHc6Y2FzZSBBWDpjYXNlIEF2OmNhc2UgYzpjYXNlIEFDOmNhc2UgQXk6Y2FzZSBBMjpjYXNlIGo6Y2FzZSBBVTpjYXNlIEFqOmNhc2UgQUU6Y2FzZSBBZzpjYXNlIEE0OmNhc2UgQXI6QTkuY2ZnLnNldFByb3BlcnR5KEE3LEE4KTticmVhaztjYXNlIEFPOmlmKCEodGhpcy5wYXJlbnQucGFyZW50IGluc3RhbmNlb2YgWUFIT08ud2lkZ2V0Lk1lbnVCYXIpKXtBOS5jZmcuc2V0UHJvcGVydHkoQTcsQTgpO31icmVhazt9fSxfb25QYXJlbnRNZW51UmVuZGVyOmZ1bmN0aW9uKEE2LEE1LEJCKXt2YXIgQTg9QkIucGFyZW50LnBhcmVudCxBNz1BOC5jZmcsQTk9e2NvbnN0cmFpbnRvdmlld3BvcnQ6QTcuZ2V0UHJvcGVydHkodykseHk6WzAsMF0sY2xpY2t0b2hpZGU6QTcuZ2V0UHJvcGVydHkoQUMpLGVmZmVjdDpBNy5nZXRQcm9wZXJ0eShBeSksc2hvd2RlbGF5OkE3LmdldFByb3BlcnR5KEF2KSxoaWRlZGVsYXk6QTcuZ2V0UHJvcGVydHkoQVgpLHN1Ym1lbnVoaWRlZGVsYXk6QTcuZ2V0UHJvcGVydHkoYyksY2xhc3NuYW1lOkE3LmdldFByb3BlcnR5KEEyKSxzY3JvbGxpbmNyZW1lbnQ6QTcuZ2V0UHJvcGVydHkoaiksbWF4aGVpZ2h0OkE3LmdldFByb3BlcnR5KEFVKSxtaW5zY3JvbGxoZWlnaHQ6QTcuZ2V0UHJvcGVydHkoQWopLGlmcmFtZTpBNy5nZXRQcm9wZXJ0eShBRiksc2hhZG93OkE3LmdldFByb3BlcnR5KEFnKSxwcmV2ZW50Y29udGV4dG92ZXJsYXA6QTcuZ2V0UHJvcGVydHkoQTQpLG1vbml0b3JyZXNpemU6QTcuZ2V0UHJvcGVydHkoQUUpLGtlZXBvcGVuOkE3LmdldFByb3BlcnR5KEFyKX0sQkE7aWYoIShBOCBpbnN0YW5jZW9mIFlBSE9PLndpZGdldC5NZW51QmFyKSl7QTlbQU9dPUE3LmdldFByb3BlcnR5KEFPKTt9QkIuY2ZnLmFwcGx5Q29uZmlnKEE5KTtpZighdGhpcy5sYXp5TG9hZCl7QkE9dGhpcy5wYXJlbnQuZWxlbWVudDtpZih0aGlzLmVsZW1lbnQucGFyZW50Tm9kZT09QkEpe3RoaXMucmVuZGVyKCk7fWVsc2V7dGhpcy5yZW5kZXIoQkEpO319fSxfb25NZW51SXRlbURlc3Ryb3k6ZnVuY3Rpb24oQTcsQTYsQTUpe3RoaXMuX3JlbW92ZUl0ZW1Gcm9tR3JvdXBCeVZhbHVlKEE1Lmdyb3VwSW5kZXgsQTUpO30sX29uTWVudUl0ZW1Db25maWdDaGFuZ2U6ZnVuY3Rpb24oQTcsQTYsQTUpe3ZhciBBOT1BNlswXVswXSxCQT1BNlswXVsxXSxBODtzd2l0Y2goQTkpe2Nhc2UgeTppZihCQT09PXRydWUpe3RoaXMuYWN0aXZlSXRlbT1BNTt9YnJlYWs7Y2FzZSBPOkE4PUE2WzBdWzFdO2lmKEE4KXt0aGlzLl9jb25maWd1cmVTdWJtZW51KEE1KTt9YnJlYWs7fX0sY29uZmlnVmlzaWJsZTpmdW5jdGlvbihBNyxBNixBOCl7dmFyIEE1LEE5O2lmKHRoaXMuY2ZnLmdldFByb3BlcnR5KEFjKT09QUQpe3Iuc3VwZXJjbGFzcy5jb25maWdWaXNpYmxlLmNhbGwodGhpcyxBNyxBNixBOCk7fWVsc2V7QTU9QTZbMF07QTk9Zi5nZXRTdHlsZSh0aGlzLmVsZW1lbnQsQVcpO2Yuc2V0U3R5bGUodGhpcy5lbGVtZW50LEosQXUpO2lmKEE1KXtpZihBOSE9QVYpe3RoaXMuYmVmb3JlU2hvd0V2ZW50LmZpcmUoKTtmLnNldFN0eWxlKHRoaXMuZWxlbWVudCxBVyxBVik7dGhpcy5zaG93RXZlbnQuZmlyZSgpO319ZWxzZXtpZihBOT09QVYpe3RoaXMuYmVmb3JlSGlkZUV2ZW50LmZpcmUoKTtmLnNldFN0eWxlKHRoaXMuZWxlbWVudCxBVyxBWSk7dGhpcy5oaWRlRXZlbnQuZmlyZSgpO319fX0sY29uZmlnUG9zaXRpb246ZnVuY3Rpb24oQTcsQTYsQkEpe3ZhciBBOT10aGlzLmVsZW1lbnQsQTg9QTZbMF09PUM/Qzp6LEJCPXRoaXMuY2ZnLEE1O2Yuc2V0U3R5bGUoQTksQWMsQTgpO2lmKEE4PT1DKXtmLnNldFN0eWxlKEE5LEFXLEFWKTtCQi5zZXRQcm9wZXJ0eShBdSx0cnVlKTt9ZWxzZXtmLnNldFN0eWxlKEE5LEosQUwpO31pZihBOD09eil7QTU9QkIuZ2V0UHJvcGVydHkoQVMpO2lmKCFBNXx8QTU9PT0wKXtCQi5zZXRQcm9wZXJ0eShBUywxKTt9fX0sY29uZmlnSWZyYW1lOmZ1bmN0aW9uKEE2LEE1LEE3KXtpZih0aGlzLmNmZy5nZXRQcm9wZXJ0eShBYyk9PUFEKXtyLnN1cGVyY2xhc3MuY29uZmlnSWZyYW1lLmNhbGwodGhpcyxBNixBNSxBNyk7fX0sY29uZmlnSGlkZURlbGF5OmZ1bmN0aW9uKEE2LEE1LEE3KXt2YXIgQTg9QTVbMF07dGhpcy5fdXNlSGlkZURlbGF5PShBOD4wKTt9LGNvbmZpZ0NvbnRhaW5lcjpmdW5jdGlvbihBNixBNSxBOCl7dmFyIEE3PUE1WzBdO2lmKEFNLmlzU3RyaW5nKEE3KSl7dGhpcy5jZmcuc2V0UHJvcGVydHkoZyxmLmdldChBNyksdHJ1ZSk7fX0sX2NsZWFyU2V0V2lkdGhGbGFnOmZ1bmN0aW9uKCl7dGhpcy5fd2lkdGhTZXRGb3JTY3JvbGw9ZmFsc2U7dGhpcy5jZmcudW5zdWJzY3JpYmVGcm9tQ29uZmlnRXZlbnQoVSx0aGlzLl9jbGVhclNldFdpZHRoRmxhZyk7fSxfc3Vic2NyaWJlU2Nyb2xsSGFuZGxlcnM6ZnVuY3Rpb24oQTYsQTUpe3ZhciBBOD10aGlzLl9vblNjcm9sbFRhcmdldE1vdXNlT3Zlcjt2YXIgQTc9dGhpcy5fb25TY3JvbGxUYXJnZXRNb3VzZU91dDtBQS5vbihBNixBaSxBOCx0aGlzLHRydWUpO0FBLm9uKEE2LEgsQTcsdGhpcyx0cnVlKTtBQS5vbihBNSxBaSxBOCx0aGlzLHRydWUpO0FBLm9uKEE1LEgsQTcsdGhpcyx0cnVlKTt9LF91bnN1YnNjcmliZVNjcm9sbEhhbmRsZXJzOmZ1bmN0aW9uKEE2LEE1KXt2YXIgQTg9dGhpcy5fb25TY3JvbGxUYXJnZXRNb3VzZU92ZXI7dmFyIEE3PXRoaXMuX29uU2Nyb2xsVGFyZ2V0TW91c2VPdXQ7QUEucmVtb3ZlTGlzdGVuZXIoQTYsQWksQTgpO0FBLnJlbW92ZUxpc3RlbmVyKEE2LEgsQTcpO0FBLnJlbW92ZUxpc3RlbmVyKEE1LEFpLEE4KTtBQS5yZW1vdmVMaXN0ZW5lcihBNSxILEE3KTt9LF9zZXRTY3JvbGxIZWlnaHQ6ZnVuY3Rpb24oQkYpe3ZhciBCQz1CRixCQj1mYWxzZSxCRz1mYWxzZSxBOCxBOSxCRSxBNixBNSxCRCxCQSxBNztpZih0aGlzLmdldEl0ZW1zKCkubGVuZ3RoPjApe0E4PXRoaXMuZWxlbWVudDtBOT10aGlzLmJvZHk7QkU9dGhpcy5oZWFkZXI7QTY9dGhpcy5mb290ZXI7QTU9dGhpcy5jZmcuZ2V0UHJvcGVydHkoQWopO2lmKEJDPjAmJkJDPEE1KXtCQz1BNTt9Zi5zZXRTdHlsZShBOSxBbyx1KTtmLnJlbW92ZUNsYXNzKEE5LGwpO0E5LnNjcm9sbFRvcD0wO0JHPSgoQXMuZ2Vja28mJkFzLmdlY2tvPDEuOSl8fEFzLmllKTtpZihCQz4wJiZCRyYmIXRoaXMuY2ZnLmdldFByb3BlcnR5KFUpKXtCQT1BOC5vZmZzZXRXaWR0aDtBOC5zdHlsZS53aWR0aD1CQStBUTtBNz0oQkEtKEE4Lm9mZnNldFdpZHRoLUJBKSkrQVE7dGhpcy5jZmcudW5zdWJzY3JpYmVGcm9tQ29uZmlnRXZlbnQoVSx0aGlzLl9jbGVhclNldFdpZHRoRmxhZyk7dGhpcy5jZmcuc2V0UHJvcGVydHkoVSxBNyk7dGhpcy5fd2lkdGhTZXRGb3JTY3JvbGw9dHJ1ZTt0aGlzLmNmZy5zdWJzY3JpYmVUb0NvbmZpZ0V2ZW50KFUsdGhpcy5fY2xlYXJTZXRXaWR0aEZsYWcpO31pZihCQz4wJiYoIUJFJiYhQTYpKXt0aGlzLnNldEhlYWRlcihBSyk7dGhpcy5zZXRGb290ZXIoQUspO0JFPXRoaXMuaGVhZGVyO0E2PXRoaXMuZm9vdGVyO2YuYWRkQ2xhc3MoQkUsVCk7Zi5hZGRDbGFzcyhBNix4KTtBOC5pbnNlcnRCZWZvcmUoQkUsQTkpO0E4LmFwcGVuZENoaWxkKEE2KTt9QkQ9QkM7aWYoQkUmJkE2KXtCRD0oQkQtKEJFLm9mZnNldEhlaWdodCtBNi5vZmZzZXRIZWlnaHQpKTt9aWYoKEJEPjApJiYoQTkub2Zmc2V0SGVpZ2h0PkJDKSl7Zi5hZGRDbGFzcyhBOSxsKTtmLnNldFN0eWxlKEE5LEFvLChCRCtBUSkpO2lmKCF0aGlzLl9oYXNTY3JvbGxFdmVudEhhbmRsZXJzKXt0aGlzLl9zdWJzY3JpYmVTY3JvbGxIYW5kbGVycyhCRSxBNik7dGhpcy5faGFzU2Nyb2xsRXZlbnRIYW5kbGVycz10cnVlO310aGlzLl9kaXNhYmxlU2Nyb2xsSGVhZGVyKCk7dGhpcy5fZW5hYmxlU2Nyb2xsRm9vdGVyKCk7QkI9dHJ1ZTt9ZWxzZXtpZihCRSYmQTYpe2lmKHRoaXMuX3dpZHRoU2V0Rm9yU2Nyb2xsKXt0aGlzLl93aWR0aFNldEZvclNjcm9sbD1mYWxzZTt0aGlzLmNmZy51bnN1YnNjcmliZUZyb21Db25maWdFdmVudChVLHRoaXMuX2NsZWFyU2V0V2lkdGhGbGFnKTt0aGlzLmNmZy5zZXRQcm9wZXJ0eShVLHUpO310aGlzLl9lbmFibGVTY3JvbGxIZWFkZXIoKTt0aGlzLl9lbmFibGVTY3JvbGxGb290ZXIoKTtpZih0aGlzLl9oYXNTY3JvbGxFdmVudEhhbmRsZXJzKXt0aGlzLl91bnN1YnNjcmliZVNjcm9sbEhhbmRsZXJzKEJFLEE2KTt0aGlzLl9oYXNTY3JvbGxFdmVudEhhbmRsZXJzPWZhbHNlO31BOC5yZW1vdmVDaGlsZChCRSk7QTgucmVtb3ZlQ2hpbGQoQTYpO3RoaXMuaGVhZGVyPW51bGw7dGhpcy5mb290ZXI9bnVsbDtCQj10cnVlO319aWYoQkIpe3RoaXMuY2ZnLnJlZmlyZUV2ZW50KEFGKTt0aGlzLmNmZy5yZWZpcmVFdmVudChBZyk7fX19LF9zZXRNYXhIZWlnaHQ6ZnVuY3Rpb24oQTYsQTUsQTcpe3RoaXMuX3NldFNjcm9sbEhlaWdodChBNyk7dGhpcy5yZW5kZXJFdmVudC51bnN1YnNjcmliZSh0aGlzLl9zZXRNYXhIZWlnaHQpO30sY29uZmlnTWF4SGVpZ2h0OmZ1bmN0aW9uKEE2LEE1LEE3KXt2YXIgQTg9QTVbMF07aWYodGhpcy5sYXp5TG9hZCYmIXRoaXMuYm9keSYmQTg+MCl7dGhpcy5yZW5kZXJFdmVudC5zdWJzY3JpYmUodGhpcy5fc2V0TWF4SGVpZ2h0LEE4LHRoaXMpO31lbHNle3RoaXMuX3NldFNjcm9sbEhlaWdodChBOCk7fX0sY29uZmlnQ2xhc3NOYW1lOmZ1bmN0aW9uKEE3LEE2LEE4KXt2YXIgQTU9QTZbMF07aWYodGhpcy5fc0NsYXNzTmFtZSl7Zi5yZW1vdmVDbGFzcyh0aGlzLmVsZW1lbnQsdGhpcy5fc0NsYXNzTmFtZSk7fWYuYWRkQ2xhc3ModGhpcy5lbGVtZW50LEE1KTt0aGlzLl9zQ2xhc3NOYW1lPUE1O30sX29uSXRlbUFkZGVkOmZ1bmN0aW9uKEE2LEE1KXt2YXIgQTc9QTVbMF07aWYoQTcpe0E3LmNmZy5zZXRQcm9wZXJ0eShBaCx0cnVlKTt9fSxjb25maWdEaXNhYmxlZDpmdW5jdGlvbihBNyxBNixCQSl7dmFyIEE5PUE2WzBdLEE1PXRoaXMuZ2V0SXRlbXMoKSxCQixBODtpZihBTS5pc0FycmF5KEE1KSl7QkI9QTUubGVuZ3RoO2lmKEJCPjApe0E4PUJCLTE7ZG97QTVbQThdLmNmZy5zZXRQcm9wZXJ0eShBaCxBOSk7fXdoaWxlKEE4LS0pO31pZihBOSl7dGhpcy5jbGVhckFjdGl2ZUl0ZW0odHJ1ZSk7Zi5hZGRDbGFzcyh0aGlzLmVsZW1lbnQsQWgpO3RoaXMuaXRlbUFkZGVkRXZlbnQuc3Vic2NyaWJlKHRoaXMuX29uSXRlbUFkZGVkKTt9ZWxzZXtmLnJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudCxBaCk7dGhpcy5pdGVtQWRkZWRFdmVudC51bnN1YnNjcmliZSh0aGlzLl9vbkl0ZW1BZGRlZCk7Cn19fSxfc2l6ZVNoYWRvdzpmdW5jdGlvbigpe3ZhciBBNj10aGlzLmVsZW1lbnQsQTU9dGhpcy5fc2hhZG93O2lmKEE1JiZBNil7aWYoQTUuc3R5bGUud2lkdGgmJkE1LnN0eWxlLmhlaWdodCl7QTUuc3R5bGUud2lkdGg9dTtBNS5zdHlsZS5oZWlnaHQ9dTt9QTUuc3R5bGUud2lkdGg9KEE2Lm9mZnNldFdpZHRoKzYpK0FRO0E1LnN0eWxlLmhlaWdodD0oQTYub2Zmc2V0SGVpZ2h0KzEpK0FRO319LF9yZXBsYWNlU2hhZG93OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX3NoYWRvdyk7fSxfYWRkU2hhZG93VmlzaWJsZUNsYXNzOmZ1bmN0aW9uKCl7Zi5hZGRDbGFzcyh0aGlzLl9zaGFkb3csQUcpO30sX3JlbW92ZVNoYWRvd1Zpc2libGVDbGFzczpmdW5jdGlvbigpe2YucmVtb3ZlQ2xhc3ModGhpcy5fc2hhZG93LEFHKTt9LF9yZW1vdmVTaGFkb3c6ZnVuY3Rpb24oKXt2YXIgQTU9KHRoaXMuX3NoYWRvdyYmdGhpcy5fc2hhZG93LnBhcmVudE5vZGUpO2lmKEE1KXtBNS5yZW1vdmVDaGlsZCh0aGlzLl9zaGFkb3cpO310aGlzLmJlZm9yZVNob3dFdmVudC51bnN1YnNjcmliZSh0aGlzLl9hZGRTaGFkb3dWaXNpYmxlQ2xhc3MpO3RoaXMuYmVmb3JlSGlkZUV2ZW50LnVuc3Vic2NyaWJlKHRoaXMuX3JlbW92ZVNoYWRvd1Zpc2libGVDbGFzcyk7dGhpcy5jZmcudW5zdWJzY3JpYmVGcm9tQ29uZmlnRXZlbnQoVSx0aGlzLl9zaXplU2hhZG93KTt0aGlzLmNmZy51bnN1YnNjcmliZUZyb21Db25maWdFdmVudChBbyx0aGlzLl9zaXplU2hhZG93KTt0aGlzLmNmZy51bnN1YnNjcmliZUZyb21Db25maWdFdmVudChBVSx0aGlzLl9zaXplU2hhZG93KTt0aGlzLmNmZy51bnN1YnNjcmliZUZyb21Db25maWdFdmVudChBVSx0aGlzLl9yZXBsYWNlU2hhZG93KTt0aGlzLmNoYW5nZUNvbnRlbnRFdmVudC51bnN1YnNjcmliZSh0aGlzLl9zaXplU2hhZG93KTtBdy50ZXh0UmVzaXplRXZlbnQudW5zdWJzY3JpYmUodGhpcy5fc2l6ZVNoYWRvdyk7fSxfY3JlYXRlU2hhZG93OmZ1bmN0aW9uKCl7dmFyIEE2PXRoaXMuX3NoYWRvdyxBNTtpZighQTYpe0E1PXRoaXMuZWxlbWVudDtpZighQXApe0FwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoSyk7QXAuY2xhc3NOYW1lPW07fUE2PUFwLmNsb25lTm9kZShmYWxzZSk7QTUuYXBwZW5kQ2hpbGQoQTYpO3RoaXMuX3NoYWRvdz1BNjt0aGlzLmJlZm9yZVNob3dFdmVudC5zdWJzY3JpYmUodGhpcy5fYWRkU2hhZG93VmlzaWJsZUNsYXNzKTt0aGlzLmJlZm9yZUhpZGVFdmVudC5zdWJzY3JpYmUodGhpcy5fcmVtb3ZlU2hhZG93VmlzaWJsZUNsYXNzKTtpZihBcy5pZSl7QU0ubGF0ZXIoMCx0aGlzLGZ1bmN0aW9uKCl7dGhpcy5fc2l6ZVNoYWRvdygpO3RoaXMuc3luY0lmcmFtZSgpO30pO3RoaXMuY2ZnLnN1YnNjcmliZVRvQ29uZmlnRXZlbnQoVSx0aGlzLl9zaXplU2hhZG93KTt0aGlzLmNmZy5zdWJzY3JpYmVUb0NvbmZpZ0V2ZW50KEFvLHRoaXMuX3NpemVTaGFkb3cpO3RoaXMuY2ZnLnN1YnNjcmliZVRvQ29uZmlnRXZlbnQoQVUsdGhpcy5fc2l6ZVNoYWRvdyk7dGhpcy5jaGFuZ2VDb250ZW50RXZlbnQuc3Vic2NyaWJlKHRoaXMuX3NpemVTaGFkb3cpO0F3LnRleHRSZXNpemVFdmVudC5zdWJzY3JpYmUodGhpcy5fc2l6ZVNoYWRvdyx0aGlzLHRydWUpO3RoaXMuZGVzdHJveUV2ZW50LnN1YnNjcmliZShmdW5jdGlvbigpe0F3LnRleHRSZXNpemVFdmVudC51bnN1YnNjcmliZSh0aGlzLl9zaXplU2hhZG93LHRoaXMpO30pO310aGlzLmNmZy5zdWJzY3JpYmVUb0NvbmZpZ0V2ZW50KEFVLHRoaXMuX3JlcGxhY2VTaGFkb3cpO319LF9zaGFkb3dCZWZvcmVTaG93OmZ1bmN0aW9uKCl7aWYodGhpcy5fc2hhZG93KXt0aGlzLl9yZXBsYWNlU2hhZG93KCk7aWYoQXMuaWUpe3RoaXMuX3NpemVTaGFkb3coKTt9fWVsc2V7dGhpcy5fY3JlYXRlU2hhZG93KCk7fXRoaXMuYmVmb3JlU2hvd0V2ZW50LnVuc3Vic2NyaWJlKHRoaXMuX3NoYWRvd0JlZm9yZVNob3cpO30sY29uZmlnU2hhZG93OmZ1bmN0aW9uKEE2LEE1LEE3KXt2YXIgQTg9QTVbMF07aWYoQTgmJnRoaXMuY2ZnLmdldFByb3BlcnR5KEFjKT09QUQpe2lmKHRoaXMuY2ZnLmdldFByb3BlcnR5KEF1KSl7aWYodGhpcy5fc2hhZG93KXt0aGlzLl9yZXBsYWNlU2hhZG93KCk7aWYoQXMuaWUpe3RoaXMuX3NpemVTaGFkb3coKTt9fWVsc2V7dGhpcy5fY3JlYXRlU2hhZG93KCk7fX1lbHNle3RoaXMuYmVmb3JlU2hvd0V2ZW50LnN1YnNjcmliZSh0aGlzLl9zaGFkb3dCZWZvcmVTaG93KTt9fWVsc2V7aWYoIUE4KXt0aGlzLmJlZm9yZVNob3dFdmVudC51bnN1YnNjcmliZSh0aGlzLl9zaGFkb3dCZWZvcmVTaG93KTt0aGlzLl9yZW1vdmVTaGFkb3coKTt9fX0saW5pdEV2ZW50czpmdW5jdGlvbigpe3Iuc3VwZXJjbGFzcy5pbml0RXZlbnRzLmNhbGwodGhpcyk7dmFyIEE2PUFiLmxlbmd0aC0xLEE3LEE1O2Rve0E3PUFiW0E2XTtBNT10aGlzLmNyZWF0ZUV2ZW50KEE3WzFdKTtBNS5zaWduYXR1cmU9Ri5MSVNUO3RoaXNbQTdbMF1dPUE1O313aGlsZShBNi0tKTt9LHBvc2l0aW9uT2ZmU2NyZWVuOmZ1bmN0aW9uKCl7dmFyIEE2PXRoaXMuaWZyYW1lLEE3PXRoaXMuZWxlbWVudCxBNT10aGlzLk9GRl9TQ1JFRU5fUE9TSVRJT047QTcuc3R5bGUudG9wPXU7QTcuc3R5bGUubGVmdD11O2lmKEE2KXtBNi5zdHlsZS50b3A9QTU7QTYuc3R5bGUubGVmdD1BNTt9fSxnZXRSb290OmZ1bmN0aW9uKCl7dmFyIEE3PXRoaXMucGFyZW50LEE2LEE1O2lmKEE3KXtBNj1BNy5wYXJlbnQ7QTU9QTY/QTYuZ2V0Um9vdCgpOnRoaXM7fWVsc2V7QTU9dGhpczt9cmV0dXJuIEE1O30sdG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgQTY9QXEsQTU9dGhpcy5pZDtpZihBNSl7QTYrPShBMStBNSk7fXJldHVybiBBNjt9LHNldEl0ZW1Hcm91cFRpdGxlOmZ1bmN0aW9uKEJBLEE5KXt2YXIgQTgsQTcsQTYsQTU7aWYoQU0uaXNTdHJpbmcoQkEpJiZCQS5sZW5ndGg+MCl7QTg9QU0uaXNOdW1iZXIoQTkpP0E5OjA7QTc9dGhpcy5fYUdyb3VwVGl0bGVFbGVtZW50c1tBOF07aWYoQTcpe0E3LmlubmVySFRNTD1CQTt9ZWxzZXtBNz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMuR1JPVVBfVElUTEVfVEFHX05BTUUpO0E3LmlubmVySFRNTD1CQTt0aGlzLl9hR3JvdXBUaXRsZUVsZW1lbnRzW0E4XT1BNzt9QTY9dGhpcy5fYUdyb3VwVGl0bGVFbGVtZW50cy5sZW5ndGgtMTtkb3tpZih0aGlzLl9hR3JvdXBUaXRsZUVsZW1lbnRzW0E2XSl7Zi5yZW1vdmVDbGFzcyh0aGlzLl9hR3JvdXBUaXRsZUVsZW1lbnRzW0E2XSxBSik7QTU9QTY7fX13aGlsZShBNi0tKTtpZihBNSE9PW51bGwpe2YuYWRkQ2xhc3ModGhpcy5fYUdyb3VwVGl0bGVFbGVtZW50c1tBNV0sQUopO310aGlzLmNoYW5nZUNvbnRlbnRFdmVudC5maXJlKCk7fX0sYWRkSXRlbTpmdW5jdGlvbihBNSxBNil7cmV0dXJuIHRoaXMuX2FkZEl0ZW1Ub0dyb3VwKEE2LEE1KTt9LGFkZEl0ZW1zOmZ1bmN0aW9uKEE5LEE4KXt2YXIgQkIsQTUsQkEsQTYsQTc7aWYoQU0uaXNBcnJheShBOSkpe0JCPUE5Lmxlbmd0aDtBNT1bXTtmb3IoQTY9MDtBNjxCQjtBNisrKXtCQT1BOVtBNl07aWYoQkEpe2lmKEFNLmlzQXJyYXkoQkEpKXtBNVtBNS5sZW5ndGhdPXRoaXMuYWRkSXRlbXMoQkEsQTYpO31lbHNle0E1W0E1Lmxlbmd0aF09dGhpcy5fYWRkSXRlbVRvR3JvdXAoQTgsQkEpO319fWlmKEE1Lmxlbmd0aCl7QTc9QTU7fX1yZXR1cm4gQTc7fSxpbnNlcnRJdGVtOmZ1bmN0aW9uKEE1LEE2LEE3KXtyZXR1cm4gdGhpcy5fYWRkSXRlbVRvR3JvdXAoQTcsQTUsQTYpO30scmVtb3ZlSXRlbTpmdW5jdGlvbihBNSxBNyl7dmFyIEE4LEE2O2lmKCFBTS5pc1VuZGVmaW5lZChBNSkpe2lmKEE1IGluc3RhbmNlb2YgWUFIT08ud2lkZ2V0Lk1lbnVJdGVtKXtBOD10aGlzLl9yZW1vdmVJdGVtRnJvbUdyb3VwQnlWYWx1ZShBNyxBNSk7fWVsc2V7aWYoQU0uaXNOdW1iZXIoQTUpKXtBOD10aGlzLl9yZW1vdmVJdGVtRnJvbUdyb3VwQnlJbmRleChBNyxBNSk7fX1pZihBOCl7QTguZGVzdHJveSgpO0E2PUE4O319cmV0dXJuIEE2O30sZ2V0SXRlbXM6ZnVuY3Rpb24oKXt2YXIgQTg9dGhpcy5fYUl0ZW1Hcm91cHMsQTYsQTcsQTU9W107aWYoQU0uaXNBcnJheShBOCkpe0E2PUE4Lmxlbmd0aDtBNz0oKEE2PT0xKT9BOFswXTooQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShBNSxBOCkpKTt9cmV0dXJuIEE3O30sZ2V0SXRlbUdyb3VwczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hSXRlbUdyb3Vwczt9LGdldEl0ZW06ZnVuY3Rpb24oQTYsQTcpe3ZhciBBOCxBNTtpZihBTS5pc051bWJlcihBNikpe0E4PXRoaXMuX2dldEl0ZW1Hcm91cChBNyk7aWYoQTgpe0E1PUE4W0E2XTt9fXJldHVybiBBNTt9LGdldFN1Ym1lbnVzOmZ1bmN0aW9uKCl7dmFyIEE2PXRoaXMuZ2V0SXRlbXMoKSxCQT1BNi5sZW5ndGgsQTUsQTcsQTksQTg7aWYoQkE+MCl7QTU9W107Zm9yKEE4PTA7QTg8QkE7QTgrKyl7QTk9QTZbQThdO2lmKEE5KXtBNz1BOS5jZmcuZ2V0UHJvcGVydHkoTyk7aWYoQTcpe0E1W0E1Lmxlbmd0aF09QTc7fX19fXJldHVybiBBNTt9LGNsZWFyQ29udGVudDpmdW5jdGlvbigpe3ZhciBBOT10aGlzLmdldEl0ZW1zKCksQTY9QTkubGVuZ3RoLEE3PXRoaXMuZWxlbWVudCxBOD10aGlzLmJvZHksQkQ9dGhpcy5oZWFkZXIsQTU9dGhpcy5mb290ZXIsQkMsQkIsQkE7aWYoQTY+MCl7QkE9QTYtMTtkb3tCQz1BOVtCQV07aWYoQkMpe0JCPUJDLmNmZy5nZXRQcm9wZXJ0eShPKTtpZihCQil7dGhpcy5jZmcuY29uZmlnQ2hhbmdlZEV2ZW50LnVuc3Vic2NyaWJlKHRoaXMuX29uUGFyZW50TWVudUNvbmZpZ0NoYW5nZSxCQik7dGhpcy5yZW5kZXJFdmVudC51bnN1YnNjcmliZSh0aGlzLl9vblBhcmVudE1lbnVSZW5kZXIsQkIpO310aGlzLnJlbW92ZUl0ZW0oQkMsQkMuZ3JvdXBJbmRleCk7fX13aGlsZShCQS0tKTt9aWYoQkQpe0FBLnB1cmdlRWxlbWVudChCRCk7QTcucmVtb3ZlQ2hpbGQoQkQpO31pZihBNSl7QUEucHVyZ2VFbGVtZW50KEE1KTtBNy5yZW1vdmVDaGlsZChBNSk7fWlmKEE4KXtBQS5wdXJnZUVsZW1lbnQoQTgpO0E4LmlubmVySFRNTD11O310aGlzLmFjdGl2ZUl0ZW09bnVsbDt0aGlzLl9hSXRlbUdyb3Vwcz1bXTt0aGlzLl9hTGlzdEVsZW1lbnRzPVtdO3RoaXMuX2FHcm91cFRpdGxlRWxlbWVudHM9W107dGhpcy5jZmcuc2V0UHJvcGVydHkoVSxudWxsKTt9LGRlc3Ryb3k6ZnVuY3Rpb24oQTUpe3RoaXMuY2xlYXJDb250ZW50KCk7dGhpcy5fYUl0ZW1Hcm91cHM9bnVsbDt0aGlzLl9hTGlzdEVsZW1lbnRzPW51bGw7dGhpcy5fYUdyb3VwVGl0bGVFbGVtZW50cz1udWxsO3Iuc3VwZXJjbGFzcy5kZXN0cm95LmNhbGwodGhpcyxBNSk7fSxzZXRJbml0aWFsRm9jdXM6ZnVuY3Rpb24oKXt2YXIgQTU9dGhpcy5fZ2V0Rmlyc3RFbmFibGVkSXRlbSgpO2lmKEE1KXtBNS5mb2N1cygpO319LHNldEluaXRpYWxTZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgQTU9dGhpcy5fZ2V0Rmlyc3RFbmFibGVkSXRlbSgpO2lmKEE1KXtBNS5jZmcuc2V0UHJvcGVydHkoeSx0cnVlKTt9fSxjbGVhckFjdGl2ZUl0ZW06ZnVuY3Rpb24oQTcpe2lmKHRoaXMuY2ZnLmdldFByb3BlcnR5KEF2KT4wKXt0aGlzLl9jYW5jZWxTaG93RGVsYXkoKTt9dmFyIEE1PXRoaXMuYWN0aXZlSXRlbSxBOCxBNjtpZihBNSl7QTg9QTUuY2ZnO2lmKEE3KXtBNS5ibHVyKCk7dGhpcy5nZXRSb290KCkuX2hhc0ZvY3VzPXRydWU7fUE4LnNldFByb3BlcnR5KHksZmFsc2UpO0E2PUE4LmdldFByb3BlcnR5KE8pO2lmKEE2KXtBNi5oaWRlKCk7fXRoaXMuYWN0aXZlSXRlbT1udWxsO319LGZvY3VzOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaGFzRm9jdXMoKSl7dGhpcy5zZXRJbml0aWFsRm9jdXMoKTt9fSxibHVyOmZ1bmN0aW9uKCl7dmFyIEE1O2lmKHRoaXMuaGFzRm9jdXMoKSl7QTU9QTMuZ2V0Rm9jdXNlZE1lbnVJdGVtKCk7aWYoQTUpe0E1LmJsdXIoKTt9fX0saGFzRm9jdXM6ZnVuY3Rpb24oKXtyZXR1cm4oQTMuZ2V0Rm9jdXNlZE1lbnUoKT09dGhpcy5nZXRSb290KCkpOwp9LF9kb0l0ZW1TdWJtZW51U3Vic2NyaWJlOmZ1bmN0aW9uKEE2LEE1LEE4KXt2YXIgQTk9QTVbMF0sQTc9QTkuY2ZnLmdldFByb3BlcnR5KE8pO2lmKEE3KXtBNy5zdWJzY3JpYmUuYXBwbHkoQTcsQTgpO319LF9kb1N1Ym1lbnVTdWJzY3JpYmU6ZnVuY3Rpb24oQTYsQTUsQTgpe3ZhciBBNz10aGlzLmNmZy5nZXRQcm9wZXJ0eShPKTtpZihBNyl7QTcuc3Vic2NyaWJlLmFwcGx5KEE3LEE4KTt9fSxzdWJzY3JpYmU6ZnVuY3Rpb24oKXtyLnN1cGVyY2xhc3Muc3Vic2NyaWJlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyLnN1cGVyY2xhc3Muc3Vic2NyaWJlLmNhbGwodGhpcyxBUix0aGlzLl9kb0l0ZW1TdWJtZW51U3Vic2NyaWJlLGFyZ3VtZW50cyk7dmFyIEE1PXRoaXMuZ2V0SXRlbXMoKSxBOSxBOCxBNixBNztpZihBNSl7QTk9QTUubGVuZ3RoO2lmKEE5PjApe0E3PUE5LTE7ZG97QTg9QTVbQTddO0E2PUE4LmNmZy5nZXRQcm9wZXJ0eShPKTtpZihBNil7QTYuc3Vic2NyaWJlLmFwcGx5KEE2LGFyZ3VtZW50cyk7fWVsc2V7QTguY2ZnLnN1YnNjcmliZVRvQ29uZmlnRXZlbnQoTyx0aGlzLl9kb1N1Ym1lbnVTdWJzY3JpYmUsYXJndW1lbnRzKTt9fXdoaWxlKEE3LS0pO319fSx1bnN1YnNjcmliZTpmdW5jdGlvbigpe3Iuc3VwZXJjbGFzcy51bnN1YnNjcmliZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ci5zdXBlcmNsYXNzLnVuc3Vic2NyaWJlLmNhbGwodGhpcyxBUix0aGlzLl9kb0l0ZW1TdWJtZW51U3Vic2NyaWJlLGFyZ3VtZW50cyk7dmFyIEE1PXRoaXMuZ2V0SXRlbXMoKSxBOSxBOCxBNixBNztpZihBNSl7QTk9QTUubGVuZ3RoO2lmKEE5PjApe0E3PUE5LTE7ZG97QTg9QTVbQTddO0E2PUE4LmNmZy5nZXRQcm9wZXJ0eShPKTtpZihBNil7QTYudW5zdWJzY3JpYmUuYXBwbHkoQTYsYXJndW1lbnRzKTt9ZWxzZXtBOC5jZmcudW5zdWJzY3JpYmVGcm9tQ29uZmlnRXZlbnQoTyx0aGlzLl9kb1N1Ym1lbnVTdWJzY3JpYmUsYXJndW1lbnRzKTt9fXdoaWxlKEE3LS0pO319fSxpbml0RGVmYXVsdENvbmZpZzpmdW5jdGlvbigpe3Iuc3VwZXJjbGFzcy5pbml0RGVmYXVsdENvbmZpZy5jYWxsKHRoaXMpO3ZhciBBNT10aGlzLmNmZztBNS5hZGRQcm9wZXJ0eShBWi5rZXkse2hhbmRsZXI6dGhpcy5jb25maWdWaXNpYmxlLHZhbHVlOkFaLnZhbHVlLHZhbGlkYXRvcjpBWi52YWxpZGF0b3J9KTtBNS5hZGRQcm9wZXJ0eShBUC5rZXkse2hhbmRsZXI6dGhpcy5jb25maWdDb25zdHJhaW5Ub1ZpZXdwb3J0LHZhbHVlOkFQLnZhbHVlLHZhbGlkYXRvcjpBUC52YWxpZGF0b3Isc3VwZXJjZWRlczpBUC5zdXBlcmNlZGVzfSk7QTUuYWRkUHJvcGVydHkoQUkua2V5LHt2YWx1ZTpBSS52YWx1ZSx2YWxpZGF0b3I6QUkudmFsaWRhdG9yLHN1cGVyY2VkZXM6QUkuc3VwZXJjZWRlc30pO0E1LmFkZFByb3BlcnR5KFMua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnUG9zaXRpb24sdmFsdWU6Uy52YWx1ZSx2YWxpZGF0b3I6Uy52YWxpZGF0b3Isc3VwZXJjZWRlczpTLnN1cGVyY2VkZXN9KTtBNS5hZGRQcm9wZXJ0eShBLmtleSx7dmFsdWU6QS52YWx1ZSxzdXBwcmVzc0V2ZW50OkEuc3VwcHJlc3NFdmVudH0pO0E1LmFkZFByb3BlcnR5KHQua2V5LHt2YWx1ZTp0LnZhbHVlLHZhbGlkYXRvcjp0LnZhbGlkYXRvcixzdXBwcmVzc0V2ZW50OnQuc3VwcHJlc3NFdmVudH0pO0E1LmFkZFByb3BlcnR5KFkua2V5LHt2YWx1ZTpZLnZhbHVlLHZhbGlkYXRvcjpZLnZhbGlkYXRvcixzdXBwcmVzc0V2ZW50Olkuc3VwcHJlc3NFdmVudH0pO0E1LmFkZFByb3BlcnR5KHEua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnSGlkZURlbGF5LHZhbHVlOnEudmFsdWUsdmFsaWRhdG9yOnEudmFsaWRhdG9yLHN1cHByZXNzRXZlbnQ6cS5zdXBwcmVzc0V2ZW50fSk7QTUuYWRkUHJvcGVydHkodi5rZXkse3ZhbHVlOnYudmFsdWUsdmFsaWRhdG9yOnYudmFsaWRhdG9yLHN1cHByZXNzRXZlbnQ6di5zdXBwcmVzc0V2ZW50fSk7QTUuYWRkUHJvcGVydHkoby5rZXkse3ZhbHVlOm8udmFsdWUsdmFsaWRhdG9yOm8udmFsaWRhdG9yLHN1cHByZXNzRXZlbnQ6by5zdXBwcmVzc0V2ZW50fSk7QTUuYWRkUHJvcGVydHkoQU4ua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnQ29udGFpbmVyLHZhbHVlOmRvY3VtZW50LmJvZHksc3VwcHJlc3NFdmVudDpBTi5zdXBwcmVzc0V2ZW50fSk7QTUuYWRkUHJvcGVydHkoQWYua2V5LHt2YWx1ZTpBZi52YWx1ZSx2YWxpZGF0b3I6QWYudmFsaWRhdG9yLHN1cGVyY2VkZXM6QWYuc3VwZXJjZWRlcyxzdXBwcmVzc0V2ZW50OkFmLnN1cHByZXNzRXZlbnR9KTtBNS5hZGRQcm9wZXJ0eShOLmtleSx7dmFsdWU6Ti52YWx1ZSx2YWxpZGF0b3I6Ti52YWxpZGF0b3Isc3VwZXJjZWRlczpOLnN1cGVyY2VkZXMsc3VwcHJlc3NFdmVudDpOLnN1cHByZXNzRXZlbnR9KTtBNS5hZGRQcm9wZXJ0eShYLmtleSx7aGFuZGxlcjp0aGlzLmNvbmZpZ01heEhlaWdodCx2YWx1ZTpYLnZhbHVlLHZhbGlkYXRvcjpYLnZhbGlkYXRvcixzdXBwcmVzc0V2ZW50Olguc3VwcHJlc3NFdmVudCxzdXBlcmNlZGVzOlguc3VwZXJjZWRlc30pO0E1LmFkZFByb3BlcnR5KFcua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnQ2xhc3NOYW1lLHZhbHVlOlcudmFsdWUsdmFsaWRhdG9yOlcudmFsaWRhdG9yLHN1cGVyY2VkZXM6Vy5zdXBlcmNlZGVzfSk7QTUuYWRkUHJvcGVydHkoYS5rZXkse2hhbmRsZXI6dGhpcy5jb25maWdEaXNhYmxlZCx2YWx1ZTphLnZhbHVlLHZhbGlkYXRvcjphLnZhbGlkYXRvcixzdXBwcmVzc0V2ZW50OmEuc3VwcHJlc3NFdmVudH0pO0E1LmFkZFByb3BlcnR5KEkua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnU2hhZG93LHZhbHVlOkkudmFsdWUsdmFsaWRhdG9yOkkudmFsaWRhdG9yfSk7QTUuYWRkUHJvcGVydHkoQWwua2V5LHt2YWx1ZTpBbC52YWx1ZSx2YWxpZGF0b3I6QWwudmFsaWRhdG9yfSk7fX0pO30pKCk7KGZ1bmN0aW9uKCl7WUFIT08ud2lkZ2V0Lk1lbnVJdGVtPWZ1bmN0aW9uKEFTLEFSKXtpZihBUyl7aWYoQVIpe3RoaXMucGFyZW50PUFSLnBhcmVudDt0aGlzLnZhbHVlPUFSLnZhbHVlO3RoaXMuaWQ9QVIuaWQ7fXRoaXMuaW5pdChBUyxBUik7fX07dmFyIHg9WUFIT08udXRpbC5Eb20saj1ZQUhPTy53aWRnZXQuTW9kdWxlLEFCPVlBSE9PLndpZGdldC5NZW51LGM9WUFIT08ud2lkZ2V0Lk1lbnVJdGVtLEFLPVlBSE9PLnV0aWwuQ3VzdG9tRXZlbnQsaz1ZQUhPTy5lbnYudWEsQVE9WUFIT08ubGFuZyxBTD0idGV4dCIsTz0iIyIsUT0iLSIsTD0iaGVscHRleHQiLG49InVybCIsQUg9InRhcmdldCIsQT0iZW1waGFzaXMiLE49InN0cm9uZ2VtcGhhc2lzIixiPSJjaGVja2VkIix3PSJzdWJtZW51IixIPSJkaXNhYmxlZCIsQj0ic2VsZWN0ZWQiLFA9Imhhc3N1Ym1lbnUiLFU9ImNoZWNrZWQtZGlzYWJsZWQiLEFJPSJoYXNzdWJtZW51LWRpc2FibGVkIixBRD0iaGFzc3VibWVudS1zZWxlY3RlZCIsVD0iY2hlY2tlZC1zZWxlY3RlZCIscT0ib25jbGljayIsSj0iY2xhc3NuYW1lIixBSj0iIixpPSJPUFRJT04iLHY9Ik9QVEdST1VQIixLPSJMSSIsQUU9ImhyZWYiLHI9IlNFTEVDVCIsWD0iRElWIixBTj0nPGVtIGNsYXNzPSJoZWxwdGV4dCI+JyxhPSI8ZW0+IixJPSI8L2VtPiIsVz0iPHN0cm9uZz4iLHk9Ijwvc3Ryb25nPiIsWT0icHJldmVudGNvbnRleHRvdmVybGFwIixoPSJvYmoiLEFHPSJzY29wZSIsdD0ibm9uZSIsVj0idmlzaWJsZSIsRT0iICIsbT0iTWVudUl0ZW0iLEFBPSJjbGljayIsRD0ic2hvdyIsTT0iaGlkZSIsUz0ibGkiLEFGPSc8YSBocmVmPSIjIj48L2E+JyxwPVtbIm1vdXNlT3ZlckV2ZW50IiwibW91c2VvdmVyIl0sWyJtb3VzZU91dEV2ZW50IiwibW91c2VvdXQiXSxbIm1vdXNlRG93bkV2ZW50IiwibW91c2Vkb3duIl0sWyJtb3VzZVVwRXZlbnQiLCJtb3VzZXVwIl0sWyJjbGlja0V2ZW50IixBQV0sWyJrZXlQcmVzc0V2ZW50Iiwia2V5cHJlc3MiXSxbImtleURvd25FdmVudCIsImtleWRvd24iXSxbImtleVVwRXZlbnQiLCJrZXl1cCJdLFsiZm9jdXNFdmVudCIsImZvY3VzIl0sWyJibHVyRXZlbnQiLCJibHVyIl0sWyJkZXN0cm95RXZlbnQiLCJkZXN0cm95Il1dLG89e2tleTpBTCx2YWx1ZTpBSix2YWxpZGF0b3I6QVEuaXNTdHJpbmcsc3VwcHJlc3NFdmVudDp0cnVlfSxzPXtrZXk6TCxzdXBlcmNlZGVzOltBTF0sc3VwcHJlc3NFdmVudDp0cnVlfSxHPXtrZXk6bix2YWx1ZTpPLHN1cHByZXNzRXZlbnQ6dHJ1ZX0sQU89e2tleTpBSCxzdXBwcmVzc0V2ZW50OnRydWV9LEFQPXtrZXk6QSx2YWx1ZTpmYWxzZSx2YWxpZGF0b3I6QVEuaXNCb29sZWFuLHN1cHByZXNzRXZlbnQ6dHJ1ZSxzdXBlcmNlZGVzOltBTF19LGQ9e2tleTpOLHZhbHVlOmZhbHNlLHZhbGlkYXRvcjpBUS5pc0Jvb2xlYW4sc3VwcHJlc3NFdmVudDp0cnVlLHN1cGVyY2VkZXM6W0FMXX0sbD17a2V5OmIsdmFsdWU6ZmFsc2UsdmFsaWRhdG9yOkFRLmlzQm9vbGVhbixzdXBwcmVzc0V2ZW50OnRydWUsc3VwZXJjZWRlczpbSCxCXX0sRj17a2V5Oncsc3VwcHJlc3NFdmVudDp0cnVlLHN1cGVyY2VkZXM6W0gsQl19LEFNPXtrZXk6SCx2YWx1ZTpmYWxzZSx2YWxpZGF0b3I6QVEuaXNCb29sZWFuLHN1cHByZXNzRXZlbnQ6dHJ1ZSxzdXBlcmNlZGVzOltBTCxCXX0sZj17a2V5OkIsdmFsdWU6ZmFsc2UsdmFsaWRhdG9yOkFRLmlzQm9vbGVhbixzdXBwcmVzc0V2ZW50OnRydWV9LHU9e2tleTpxLHN1cHByZXNzRXZlbnQ6dHJ1ZX0sQUM9e2tleTpKLHZhbHVlOm51bGwsdmFsaWRhdG9yOkFRLmlzU3RyaW5nLHN1cHByZXNzRXZlbnQ6dHJ1ZX0sej17a2V5OiJrZXlsaXN0ZW5lciIsdmFsdWU6bnVsbCxzdXBwcmVzc0V2ZW50OnRydWV9LEM9bnVsbCxlPXt9O3ZhciBaPWZ1bmN0aW9uKEFVLEFUKXt2YXIgQVI9ZVtBVV07aWYoIUFSKXtlW0FVXT17fTtBUj1lW0FVXTt9dmFyIEFTPUFSW0FUXTtpZighQVMpe0FTPUFVK1ErQVQ7QVJbQVRdPUFTO31yZXR1cm4gQVM7fTt2YXIgZz1mdW5jdGlvbihBUil7eC5hZGRDbGFzcyh0aGlzLmVsZW1lbnQsWih0aGlzLkNTU19DTEFTU19OQU1FLEFSKSk7eC5hZGRDbGFzcyh0aGlzLl9vQW5jaG9yLFoodGhpcy5DU1NfTEFCRUxfQ0xBU1NfTkFNRSxBUikpO307dmFyIFI9ZnVuY3Rpb24oQVIpe3gucmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50LFoodGhpcy5DU1NfQ0xBU1NfTkFNRSxBUikpO3gucmVtb3ZlQ2xhc3ModGhpcy5fb0FuY2hvcixaKHRoaXMuQ1NTX0xBQkVMX0NMQVNTX05BTUUsQVIpKTt9O2MucHJvdG90eXBlPXtDU1NfQ0xBU1NfTkFNRToieXVpbWVudWl0ZW0iLENTU19MQUJFTF9DTEFTU19OQU1FOiJ5dWltZW51aXRlbWxhYmVsIixTVUJNRU5VX1RZUEU6bnVsbCxfb0FuY2hvcjpudWxsLF9vSGVscFRleHRFTTpudWxsLF9vU3VibWVudTpudWxsLF9vT25jbGlja0F0dHJpYnV0ZVZhbHVlOm51bGwsX3NDbGFzc05hbWU6bnVsbCxjb25zdHJ1Y3RvcjpjLGluZGV4Om51bGwsZ3JvdXBJbmRleDpudWxsLHBhcmVudDpudWxsLGVsZW1lbnQ6bnVsbCxzcmNFbGVtZW50Om51bGwsdmFsdWU6bnVsbCxicm93c2VyOmoucHJvdG90eXBlLmJyb3dzZXIsaWQ6bnVsbCxpbml0OmZ1bmN0aW9uKEFSLEFiKXtpZighdGhpcy5TVUJNRU5VX1RZUEUpe3RoaXMuU1VCTUVOVV9UWVBFPUFCO310aGlzLmNmZz1uZXcgWUFIT08udXRpbC5Db25maWcodGhpcyk7dGhpcy5pbml0RGVmYXVsdENvbmZpZygpO3ZhciBBWD10aGlzLmNmZyxBWT1PLEFULEFhLEFaLEFTLEFWLEFVLEFXO2lmKEFRLmlzU3RyaW5nKEFSKSl7dGhpcy5fY3JlYXRlUm9vdE5vZGVTdHJ1Y3R1cmUoKTtBWC5xdWV1ZVByb3BlcnR5KEFMLEFSKTt9ZWxzZXtpZihBUiYmQVIudGFnTmFtZSl7c3dpdGNoKEFSLnRhZ05hbWUudG9VcHBlckNhc2UoKSl7Y2FzZSBpOnRoaXMuX2NyZWF0ZVJvb3ROb2RlU3RydWN0dXJlKCk7QVgucXVldWVQcm9wZXJ0eShBTCxBUi50ZXh0KTtBWC5xdWV1ZVByb3BlcnR5KEgsQVIuZGlzYWJsZWQpO3RoaXMudmFsdWU9QVIudmFsdWU7dGhpcy5zcmNFbGVtZW50PUFSO2JyZWFrO2Nhc2Ugdjp0aGlzLl9jcmVhdGVSb290Tm9kZVN0cnVjdHVyZSgpOwpBWC5xdWV1ZVByb3BlcnR5KEFMLEFSLmxhYmVsKTtBWC5xdWV1ZVByb3BlcnR5KEgsQVIuZGlzYWJsZWQpO3RoaXMuc3JjRWxlbWVudD1BUjt0aGlzLl9pbml0U3ViVHJlZSgpO2JyZWFrO2Nhc2UgSzpBWj14LmdldEZpcnN0Q2hpbGQoQVIpO2lmKEFaKXtBWT1BWi5nZXRBdHRyaWJ1dGUoQUUsMik7QVM9QVouZ2V0QXR0cmlidXRlKEFIKTtBVj1BWi5pbm5lckhUTUw7fXRoaXMuc3JjRWxlbWVudD1BUjt0aGlzLmVsZW1lbnQ9QVI7dGhpcy5fb0FuY2hvcj1BWjtBWC5zZXRQcm9wZXJ0eShBTCxBVix0cnVlKTtBWC5zZXRQcm9wZXJ0eShuLEFZLHRydWUpO0FYLnNldFByb3BlcnR5KEFILEFTLHRydWUpO3RoaXMuX2luaXRTdWJUcmVlKCk7YnJlYWs7fX19aWYodGhpcy5lbGVtZW50KXtBVT0odGhpcy5zcmNFbGVtZW50fHx0aGlzLmVsZW1lbnQpLmlkO2lmKCFBVSl7QVU9dGhpcy5pZHx8eC5nZW5lcmF0ZUlkKCk7dGhpcy5lbGVtZW50LmlkPUFVO310aGlzLmlkPUFVO3guYWRkQ2xhc3ModGhpcy5lbGVtZW50LHRoaXMuQ1NTX0NMQVNTX05BTUUpO3guYWRkQ2xhc3ModGhpcy5fb0FuY2hvcix0aGlzLkNTU19MQUJFTF9DTEFTU19OQU1FKTtBVz1wLmxlbmd0aC0xO2Rve0FhPXBbQVddO0FUPXRoaXMuY3JlYXRlRXZlbnQoQWFbMV0pO0FULnNpZ25hdHVyZT1BSy5MSVNUO3RoaXNbQWFbMF1dPUFUO313aGlsZShBVy0tKTtpZihBYil7QVguYXBwbHlDb25maWcoQWIpO31BWC5maXJlUXVldWUoKTt9fSxfY3JlYXRlUm9vdE5vZGVTdHJ1Y3R1cmU6ZnVuY3Rpb24oKXt2YXIgQVIsQVM7aWYoIUMpe0M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChTKTtDLmlubmVySFRNTD1BRjt9QVI9Qy5jbG9uZU5vZGUodHJ1ZSk7QVIuY2xhc3NOYW1lPXRoaXMuQ1NTX0NMQVNTX05BTUU7QVM9QVIuZmlyc3RDaGlsZDtBUy5jbGFzc05hbWU9dGhpcy5DU1NfTEFCRUxfQ0xBU1NfTkFNRTt0aGlzLmVsZW1lbnQ9QVI7dGhpcy5fb0FuY2hvcj1BUzt9LF9pbml0U3ViVHJlZTpmdW5jdGlvbigpe3ZhciBBWD10aGlzLnNyY0VsZW1lbnQsQVQ9dGhpcy5jZmcsQVYsQVUsQVMsQVIsQVc7aWYoQVguY2hpbGROb2Rlcy5sZW5ndGg+MCl7aWYodGhpcy5wYXJlbnQubGF6eUxvYWQmJnRoaXMucGFyZW50LnNyY0VsZW1lbnQmJnRoaXMucGFyZW50LnNyY0VsZW1lbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpPT1yKXtBVC5zZXRQcm9wZXJ0eSh3LHtpZDp4LmdlbmVyYXRlSWQoKSxpdGVtZGF0YTpBWC5jaGlsZE5vZGVzfSk7fWVsc2V7QVY9QVguZmlyc3RDaGlsZDtBVT1bXTtkb3tpZihBViYmQVYudGFnTmFtZSl7c3dpdGNoKEFWLnRhZ05hbWUudG9VcHBlckNhc2UoKSl7Y2FzZSBYOkFULnNldFByb3BlcnR5KHcsQVYpO2JyZWFrO2Nhc2UgaTpBVVtBVS5sZW5ndGhdPUFWO2JyZWFrO319fXdoaWxlKChBVj1BVi5uZXh0U2libGluZykpO0FTPUFVLmxlbmd0aDtpZihBUz4wKXtBUj1uZXcgdGhpcy5TVUJNRU5VX1RZUEUoeC5nZW5lcmF0ZUlkKCkpO0FULnNldFByb3BlcnR5KHcsQVIpO2ZvcihBVz0wO0FXPEFTO0FXKyspe0FSLmFkZEl0ZW0oKG5ldyBBUi5JVEVNX1RZUEUoQVVbQVddKSkpO319fX19LGNvbmZpZ1RleHQ6ZnVuY3Rpb24oQWEsQVQsQVYpe3ZhciBBUz1BVFswXSxBVT10aGlzLmNmZyxBWT10aGlzLl9vQW5jaG9yLEFSPUFVLmdldFByb3BlcnR5KEwpLEFaPUFKLEFXPUFKLEFYPUFKO2lmKEFTKXtpZihBUil7QVo9QU4rQVIrSTt9aWYoQVUuZ2V0UHJvcGVydHkoQSkpe0FXPWE7QVg9STt9aWYoQVUuZ2V0UHJvcGVydHkoTikpe0FXPVc7QVg9eTt9QVkuaW5uZXJIVE1MPShBVytBUytBWCtBWik7fX0sY29uZmlnSGVscFRleHQ6ZnVuY3Rpb24oQVQsQVMsQVIpe3RoaXMuY2ZnLnJlZmlyZUV2ZW50KEFMKTt9LGNvbmZpZ1VSTDpmdW5jdGlvbihBVCxBUyxBUil7dmFyIEFWPUFTWzBdO2lmKCFBVil7QVY9Tzt9dmFyIEFVPXRoaXMuX29BbmNob3I7aWYoay5vcGVyYSl7QVUucmVtb3ZlQXR0cmlidXRlKEFFKTt9QVUuc2V0QXR0cmlidXRlKEFFLEFWKTt9LGNvbmZpZ1RhcmdldDpmdW5jdGlvbihBVSxBVCxBUyl7dmFyIEFSPUFUWzBdLEFWPXRoaXMuX29BbmNob3I7aWYoQVImJkFSLmxlbmd0aD4wKXtBVi5zZXRBdHRyaWJ1dGUoQUgsQVIpO31lbHNle0FWLnJlbW92ZUF0dHJpYnV0ZShBSCk7fX0sY29uZmlnRW1waGFzaXM6ZnVuY3Rpb24oQVQsQVMsQVIpe3ZhciBBVj1BU1swXSxBVT10aGlzLmNmZztpZihBViYmQVUuZ2V0UHJvcGVydHkoTikpe0FVLnNldFByb3BlcnR5KE4sZmFsc2UpO31BVS5yZWZpcmVFdmVudChBTCk7fSxjb25maWdTdHJvbmdFbXBoYXNpczpmdW5jdGlvbihBVSxBVCxBUyl7dmFyIEFSPUFUWzBdLEFWPXRoaXMuY2ZnO2lmKEFSJiZBVi5nZXRQcm9wZXJ0eShBKSl7QVYuc2V0UHJvcGVydHkoQSxmYWxzZSk7fUFWLnJlZmlyZUV2ZW50KEFMKTt9LGNvbmZpZ0NoZWNrZWQ6ZnVuY3Rpb24oQVQsQVMsQVIpe3ZhciBBVj1BU1swXSxBVT10aGlzLmNmZztpZihBVil7Zy5jYWxsKHRoaXMsYik7fWVsc2V7Ui5jYWxsKHRoaXMsYik7fUFVLnJlZmlyZUV2ZW50KEFMKTtpZihBVS5nZXRQcm9wZXJ0eShIKSl7QVUucmVmaXJlRXZlbnQoSCk7fWlmKEFVLmdldFByb3BlcnR5KEIpKXtBVS5yZWZpcmVFdmVudChCKTt9fSxjb25maWdEaXNhYmxlZDpmdW5jdGlvbihBVCxBUyxBUil7dmFyIEFWPUFTWzBdLEFXPXRoaXMuY2ZnLEFVPUFXLmdldFByb3BlcnR5KHcpLEFYPUFXLmdldFByb3BlcnR5KGIpO2lmKEFWKXtpZihBVy5nZXRQcm9wZXJ0eShCKSl7QVcuc2V0UHJvcGVydHkoQixmYWxzZSk7fWcuY2FsbCh0aGlzLEgpO2lmKEFVKXtnLmNhbGwodGhpcyxBSSk7fWlmKEFYKXtnLmNhbGwodGhpcyxVKTt9fWVsc2V7Ui5jYWxsKHRoaXMsSCk7aWYoQVUpe1IuY2FsbCh0aGlzLEFJKTt9aWYoQVgpe1IuY2FsbCh0aGlzLFUpO319fSxjb25maWdTZWxlY3RlZDpmdW5jdGlvbihBVCxBUyxBUil7dmFyIEFYPXRoaXMuY2ZnLEFXPXRoaXMuX29BbmNob3IsQVY9QVNbMF0sQVk9QVguZ2V0UHJvcGVydHkoYiksQVU9QVguZ2V0UHJvcGVydHkodyk7aWYoay5vcGVyYSl7QVcuYmx1cigpO31pZihBViYmIUFYLmdldFByb3BlcnR5KEgpKXtnLmNhbGwodGhpcyxCKTtpZihBVSl7Zy5jYWxsKHRoaXMsQUQpO31pZihBWSl7Zy5jYWxsKHRoaXMsVCk7fX1lbHNle1IuY2FsbCh0aGlzLEIpO2lmKEFVKXtSLmNhbGwodGhpcyxBRCk7fWlmKEFZKXtSLmNhbGwodGhpcyxUKTt9fWlmKHRoaXMuaGFzRm9jdXMoKSYmay5vcGVyYSl7QVcuZm9jdXMoKTt9fSxfb25TdWJtZW51QmVmb3JlSGlkZTpmdW5jdGlvbihBVSxBVCl7dmFyIEFWPXRoaXMucGFyZW50LEFSO2Z1bmN0aW9uIEFTKCl7QVYuX29BbmNob3IuYmx1cigpO0FSLmJlZm9yZUhpZGVFdmVudC51bnN1YnNjcmliZShBUyk7fWlmKEFWLmhhc0ZvY3VzKCkpe0FSPUFWLnBhcmVudDtBUi5iZWZvcmVIaWRlRXZlbnQuc3Vic2NyaWJlKEFTKTt9fSxjb25maWdTdWJtZW51OmZ1bmN0aW9uKEFZLEFULEFXKXt2YXIgQVY9QVRbMF0sQVU9dGhpcy5jZmcsQVM9dGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LmxhenlMb2FkLEFYLEFaLEFSO2lmKEFWKXtpZihBViBpbnN0YW5jZW9mIEFCKXtBWD1BVjtBWC5wYXJlbnQ9dGhpcztBWC5sYXp5TG9hZD1BUzt9ZWxzZXtpZihBUS5pc09iamVjdChBVikmJkFWLmlkJiYhQVYubm9kZVR5cGUpe0FaPUFWLmlkO0FSPUFWO0FSLmxhenlsb2FkPUFTO0FSLnBhcmVudD10aGlzO0FYPW5ldyB0aGlzLlNVQk1FTlVfVFlQRShBWixBUik7QVUuc2V0UHJvcGVydHkodyxBWCx0cnVlKTt9ZWxzZXtBWD1uZXcgdGhpcy5TVUJNRU5VX1RZUEUoQVYse2xhenlsb2FkOkFTLHBhcmVudDp0aGlzfSk7QVUuc2V0UHJvcGVydHkodyxBWCx0cnVlKTt9fWlmKEFYKXtBWC5jZmcuc2V0UHJvcGVydHkoWSx0cnVlKTtnLmNhbGwodGhpcyxQKTtpZihBVS5nZXRQcm9wZXJ0eShuKT09PU8pe0FVLnNldFByb3BlcnR5KG4sKE8rQVguaWQpKTt9dGhpcy5fb1N1Ym1lbnU9QVg7aWYoay5vcGVyYSl7QVguYmVmb3JlSGlkZUV2ZW50LnN1YnNjcmliZSh0aGlzLl9vblN1Ym1lbnVCZWZvcmVIaWRlKTt9fX1lbHNle1IuY2FsbCh0aGlzLFApO2lmKHRoaXMuX29TdWJtZW51KXt0aGlzLl9vU3VibWVudS5kZXN0cm95KCk7fX1pZihBVS5nZXRQcm9wZXJ0eShIKSl7QVUucmVmaXJlRXZlbnQoSCk7fWlmKEFVLmdldFByb3BlcnR5KEIpKXtBVS5yZWZpcmVFdmVudChCKTt9fSxjb25maWdPbkNsaWNrOmZ1bmN0aW9uKEFULEFTLEFSKXt2YXIgQVU9QVNbMF07aWYodGhpcy5fb09uY2xpY2tBdHRyaWJ1dGVWYWx1ZSYmKHRoaXMuX29PbmNsaWNrQXR0cmlidXRlVmFsdWUhPUFVKSl7dGhpcy5jbGlja0V2ZW50LnVuc3Vic2NyaWJlKHRoaXMuX29PbmNsaWNrQXR0cmlidXRlVmFsdWUuZm4sdGhpcy5fb09uY2xpY2tBdHRyaWJ1dGVWYWx1ZS5vYmopO3RoaXMuX29PbmNsaWNrQXR0cmlidXRlVmFsdWU9bnVsbDt9aWYoIXRoaXMuX29PbmNsaWNrQXR0cmlidXRlVmFsdWUmJkFRLmlzT2JqZWN0KEFVKSYmQVEuaXNGdW5jdGlvbihBVS5mbikpe3RoaXMuY2xpY2tFdmVudC5zdWJzY3JpYmUoQVUuZm4sKChoIGluIEFVKT9BVS5vYmo6dGhpcyksKChBRyBpbiBBVSk/QVUuc2NvcGU6bnVsbCkpO3RoaXMuX29PbmNsaWNrQXR0cmlidXRlVmFsdWU9QVU7fX0sY29uZmlnQ2xhc3NOYW1lOmZ1bmN0aW9uKEFVLEFULEFTKXt2YXIgQVI9QVRbMF07aWYodGhpcy5fc0NsYXNzTmFtZSl7eC5yZW1vdmVDbGFzcyh0aGlzLmVsZW1lbnQsdGhpcy5fc0NsYXNzTmFtZSk7fXguYWRkQ2xhc3ModGhpcy5lbGVtZW50LEFSKTt0aGlzLl9zQ2xhc3NOYW1lPUFSO30sX2Rpc3BhdGNoQ2xpY2tFdmVudDpmdW5jdGlvbigpe3ZhciBBUz10aGlzLEFSO2lmKCFBUy5jZmcuZ2V0UHJvcGVydHkoSCkpe0FSPXguZ2V0Rmlyc3RDaGlsZChBUy5lbGVtZW50KTt0aGlzLl9kaXNwYXRjaERPTUNsaWNrKEFSKTt9fSxfZGlzcGF0Y2hET01DbGljazpmdW5jdGlvbihBUyl7dmFyIEFSO2lmKGsuaWUmJmsuaWU8OSl7QVMuZmlyZUV2ZW50KHEpO31lbHNle2lmKChrLmdlY2tvJiZrLmdlY2tvPj0xLjkpfHxrLm9wZXJhfHxrLndlYmtpdCl7QVI9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTtBUi5pbml0RXZlbnQoQUEsdHJ1ZSx0cnVlKTt9ZWxzZXtBUj1kb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudHMiKTtBUi5pbml0TW91c2VFdmVudChBQSx0cnVlLHRydWUsd2luZG93LDAsMCwwLDAsMCxmYWxzZSxmYWxzZSxmYWxzZSxmYWxzZSwwLG51bGwpO31BUy5kaXNwYXRjaEV2ZW50KEFSKTt9fSxfY3JlYXRlS2V5TGlzdGVuZXI6ZnVuY3Rpb24oQVUsQVQsQVcpe3ZhciBBVj10aGlzLEFTPUFWLnBhcmVudDt2YXIgQVI9bmV3IFlBSE9PLnV0aWwuS2V5TGlzdGVuZXIoQVMuZWxlbWVudC5vd25lckRvY3VtZW50LEFXLHtmbjpBVi5fZGlzcGF0Y2hDbGlja0V2ZW50LHNjb3BlOkFWLGNvcnJlY3RTY29wZTp0cnVlfSk7aWYoQVMuY2ZnLmdldFByb3BlcnR5KFYpKXtBUi5lbmFibGUoKTt9QVMuc3Vic2NyaWJlKEQsQVIuZW5hYmxlLG51bGwsQVIpO0FTLnN1YnNjcmliZShNLEFSLmRpc2FibGUsbnVsbCxBUik7QVYuX2tleUxpc3RlbmVyPUFSO0FTLnVuc3Vic2NyaWJlKEQsQVYuX2NyZWF0ZUtleUxpc3RlbmVyLEFXKTt9LGNvbmZpZ0tleUxpc3RlbmVyOmZ1bmN0aW9uKEFULEFTKXt2YXIgQVY9QVNbMF0sQVU9dGhpcyxBUj1BVS5wYXJlbnQ7aWYoQVUuX2tleURhdGEpe0FSLnVuc3Vic2NyaWJlKEQsQVUuX2NyZWF0ZUtleUxpc3RlbmVyLEFVLl9rZXlEYXRhKTtBVS5fa2V5RGF0YT1udWxsO31pZihBVS5fa2V5TGlzdGVuZXIpe0FSLnVuc3Vic2NyaWJlKEQsQVUuX2tleUxpc3RlbmVyLmVuYWJsZSk7QVIudW5zdWJzY3JpYmUoTSxBVS5fa2V5TGlzdGVuZXIuZGlzYWJsZSk7QVUuX2tleUxpc3RlbmVyLmRpc2FibGUoKTtBVS5fa2V5TGlzdGVuZXI9bnVsbDt9aWYoQVYpe0FVLl9rZXlEYXRhPUFWO0FSLnN1YnNjcmliZShELEFVLl9jcmVhdGVLZXlMaXN0ZW5lcixBVixBVSk7fX0saW5pdERlZmF1bHRDb25maWc6ZnVuY3Rpb24oKXt2YXIgQVI9dGhpcy5jZmc7CkFSLmFkZFByb3BlcnR5KG8ua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnVGV4dCx2YWx1ZTpvLnZhbHVlLHZhbGlkYXRvcjpvLnZhbGlkYXRvcixzdXBwcmVzc0V2ZW50Om8uc3VwcHJlc3NFdmVudH0pO0FSLmFkZFByb3BlcnR5KHMua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnSGVscFRleHQsc3VwZXJjZWRlczpzLnN1cGVyY2VkZXMsc3VwcHJlc3NFdmVudDpzLnN1cHByZXNzRXZlbnR9KTtBUi5hZGRQcm9wZXJ0eShHLmtleSx7aGFuZGxlcjp0aGlzLmNvbmZpZ1VSTCx2YWx1ZTpHLnZhbHVlLHN1cHByZXNzRXZlbnQ6Ry5zdXBwcmVzc0V2ZW50fSk7QVIuYWRkUHJvcGVydHkoQU8ua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnVGFyZ2V0LHN1cHByZXNzRXZlbnQ6QU8uc3VwcHJlc3NFdmVudH0pO0FSLmFkZFByb3BlcnR5KEFQLmtleSx7aGFuZGxlcjp0aGlzLmNvbmZpZ0VtcGhhc2lzLHZhbHVlOkFQLnZhbHVlLHZhbGlkYXRvcjpBUC52YWxpZGF0b3Isc3VwcHJlc3NFdmVudDpBUC5zdXBwcmVzc0V2ZW50LHN1cGVyY2VkZXM6QVAuc3VwZXJjZWRlc30pO0FSLmFkZFByb3BlcnR5KGQua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnU3Ryb25nRW1waGFzaXMsdmFsdWU6ZC52YWx1ZSx2YWxpZGF0b3I6ZC52YWxpZGF0b3Isc3VwcHJlc3NFdmVudDpkLnN1cHByZXNzRXZlbnQsc3VwZXJjZWRlczpkLnN1cGVyY2VkZXN9KTtBUi5hZGRQcm9wZXJ0eShsLmtleSx7aGFuZGxlcjp0aGlzLmNvbmZpZ0NoZWNrZWQsdmFsdWU6bC52YWx1ZSx2YWxpZGF0b3I6bC52YWxpZGF0b3Isc3VwcHJlc3NFdmVudDpsLnN1cHByZXNzRXZlbnQsc3VwZXJjZWRlczpsLnN1cGVyY2VkZXN9KTtBUi5hZGRQcm9wZXJ0eShBTS5rZXkse2hhbmRsZXI6dGhpcy5jb25maWdEaXNhYmxlZCx2YWx1ZTpBTS52YWx1ZSx2YWxpZGF0b3I6QU0udmFsaWRhdG9yLHN1cHByZXNzRXZlbnQ6QU0uc3VwcHJlc3NFdmVudH0pO0FSLmFkZFByb3BlcnR5KGYua2V5LHtoYW5kbGVyOnRoaXMuY29uZmlnU2VsZWN0ZWQsdmFsdWU6Zi52YWx1ZSx2YWxpZGF0b3I6Zi52YWxpZGF0b3Isc3VwcHJlc3NFdmVudDpmLnN1cHByZXNzRXZlbnR9KTtBUi5hZGRQcm9wZXJ0eShGLmtleSx7aGFuZGxlcjp0aGlzLmNvbmZpZ1N1Ym1lbnUsc3VwZXJjZWRlczpGLnN1cGVyY2VkZXMsc3VwcHJlc3NFdmVudDpGLnN1cHByZXNzRXZlbnR9KTtBUi5hZGRQcm9wZXJ0eSh1LmtleSx7aGFuZGxlcjp0aGlzLmNvbmZpZ09uQ2xpY2ssc3VwcHJlc3NFdmVudDp1LnN1cHByZXNzRXZlbnR9KTtBUi5hZGRQcm9wZXJ0eShBQy5rZXkse2hhbmRsZXI6dGhpcy5jb25maWdDbGFzc05hbWUsdmFsdWU6QUMudmFsdWUsdmFsaWRhdG9yOkFDLnZhbGlkYXRvcixzdXBwcmVzc0V2ZW50OkFDLnN1cHByZXNzRXZlbnR9KTtBUi5hZGRQcm9wZXJ0eSh6LmtleSx7aGFuZGxlcjp0aGlzLmNvbmZpZ0tleUxpc3RlbmVyLHZhbHVlOnoudmFsdWUsc3VwcHJlc3NFdmVudDp6LnN1cHByZXNzRXZlbnR9KTt9LGdldE5leHRTaWJsaW5nOmZ1bmN0aW9uKCl7dmFyIEFSPWZ1bmN0aW9uKEFYKXtyZXR1cm4oQVgubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJ1bCIpO30sQVY9dGhpcy5lbGVtZW50LEFVPXguZ2V0TmV4dFNpYmxpbmcoQVYpLEFULEFTLEFXO2lmKCFBVSl7QVQ9QVYucGFyZW50Tm9kZTtBUz14LmdldE5leHRTaWJsaW5nQnkoQVQsQVIpO2lmKEFTKXtBVz1BUzt9ZWxzZXtBVz14LmdldEZpcnN0Q2hpbGRCeShBVC5wYXJlbnROb2RlLEFSKTt9QVU9eC5nZXRGaXJzdENoaWxkKEFXKTt9cmV0dXJuIFlBSE9PLndpZGdldC5NZW51TWFuYWdlci5nZXRNZW51SXRlbShBVS5pZCk7fSxnZXROZXh0RW5hYmxlZFNpYmxpbmc6ZnVuY3Rpb24oKXt2YXIgQVI9dGhpcy5nZXROZXh0U2libGluZygpO3JldHVybihBUi5jZmcuZ2V0UHJvcGVydHkoSCl8fEFSLmVsZW1lbnQuc3R5bGUuZGlzcGxheT09dCk/QVIuZ2V0TmV4dEVuYWJsZWRTaWJsaW5nKCk6QVI7fSxnZXRQcmV2aW91c1NpYmxpbmc6ZnVuY3Rpb24oKXt2YXIgQVI9ZnVuY3Rpb24oQVgpe3JldHVybihBWC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09InVsIik7fSxBVj10aGlzLmVsZW1lbnQsQVU9eC5nZXRQcmV2aW91c1NpYmxpbmcoQVYpLEFULEFTLEFXO2lmKCFBVSl7QVQ9QVYucGFyZW50Tm9kZTtBUz14LmdldFByZXZpb3VzU2libGluZ0J5KEFULEFSKTtpZihBUyl7QVc9QVM7fWVsc2V7QVc9eC5nZXRMYXN0Q2hpbGRCeShBVC5wYXJlbnROb2RlLEFSKTt9QVU9eC5nZXRMYXN0Q2hpbGQoQVcpO31yZXR1cm4gWUFIT08ud2lkZ2V0Lk1lbnVNYW5hZ2VyLmdldE1lbnVJdGVtKEFVLmlkKTt9LGdldFByZXZpb3VzRW5hYmxlZFNpYmxpbmc6ZnVuY3Rpb24oKXt2YXIgQVI9dGhpcy5nZXRQcmV2aW91c1NpYmxpbmcoKTtyZXR1cm4oQVIuY2ZnLmdldFByb3BlcnR5KEgpfHxBUi5lbGVtZW50LnN0eWxlLmRpc3BsYXk9PXQpP0FSLmdldFByZXZpb3VzRW5hYmxlZFNpYmxpbmcoKTpBUjt9LGZvY3VzOmZ1bmN0aW9uKCl7dmFyIEFVPXRoaXMucGFyZW50LEFUPXRoaXMuX29BbmNob3IsQVI9QVUuYWN0aXZlSXRlbTtmdW5jdGlvbiBBUygpe3RyeXtpZighKGsuaWUmJiFkb2N1bWVudC5oYXNGb2N1cygpKSl7aWYoQVIpe0FSLmJsdXJFdmVudC5maXJlKCk7fUFULmZvY3VzKCk7dGhpcy5mb2N1c0V2ZW50LmZpcmUoKTt9fWNhdGNoKEFWKXt9fWlmKCF0aGlzLmNmZy5nZXRQcm9wZXJ0eShIKSYmQVUmJkFVLmNmZy5nZXRQcm9wZXJ0eShWKSYmdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkhPXQpe0FRLmxhdGVyKDAsdGhpcyxBUyk7fX0sYmx1cjpmdW5jdGlvbigpe3ZhciBBUj10aGlzLnBhcmVudDtpZighdGhpcy5jZmcuZ2V0UHJvcGVydHkoSCkmJkFSJiZBUi5jZmcuZ2V0UHJvcGVydHkoVikpe0FRLmxhdGVyKDAsdGhpcyxmdW5jdGlvbigpe3RyeXt0aGlzLl9vQW5jaG9yLmJsdXIoKTt0aGlzLmJsdXJFdmVudC5maXJlKCk7fWNhdGNoKEFTKXt9fSwwKTt9fSxoYXNGb2N1czpmdW5jdGlvbigpe3JldHVybihZQUhPTy53aWRnZXQuTWVudU1hbmFnZXIuZ2V0Rm9jdXNlZE1lbnVJdGVtKCk9PXRoaXMpO30sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBBVD10aGlzLmVsZW1lbnQsQVMsQVIsQVYsQVU7aWYoQVQpe0FTPXRoaXMuY2ZnLmdldFByb3BlcnR5KHcpO2lmKEFTKXtBUy5kZXN0cm95KCk7fUFSPUFULnBhcmVudE5vZGU7aWYoQVIpe0FSLnJlbW92ZUNoaWxkKEFUKTt0aGlzLmRlc3Ryb3lFdmVudC5maXJlKCk7fUFVPXAubGVuZ3RoLTE7ZG97QVY9cFtBVV07dGhpc1tBVlswXV0udW5zdWJzY3JpYmVBbGwoKTt9d2hpbGUoQVUtLSk7dGhpcy5jZmcuY29uZmlnQ2hhbmdlZEV2ZW50LnVuc3Vic2NyaWJlQWxsKCk7fX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgQVM9bSxBUj10aGlzLmlkO2lmKEFSKXtBUys9KEUrQVIpO31yZXR1cm4gQVM7fX07QVEuYXVnbWVudFByb3RvKGMsWUFIT08udXRpbC5FdmVudFByb3ZpZGVyKTt9KSgpOyhmdW5jdGlvbigpe3ZhciBCPSJ4eSIsQz0ibW91c2Vkb3duIixGPSJDb250ZXh0TWVudSIsSj0iICI7WUFIT08ud2lkZ2V0LkNvbnRleHRNZW51PWZ1bmN0aW9uKEwsSyl7WUFIT08ud2lkZ2V0LkNvbnRleHRNZW51LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLEwsSyk7fTt2YXIgST1ZQUhPTy51dGlsLkV2ZW50LEU9WUFIT08uZW52LnVhLEc9WUFIT08ud2lkZ2V0LkNvbnRleHRNZW51LEE9eyJUUklHR0VSX0NPTlRFWFRfTUVOVSI6InRyaWdnZXJDb250ZXh0TWVudSIsIkNPTlRFWFRfTUVOVSI6KEUub3BlcmE/QzoiY29udGV4dG1lbnUiKSwiQ0xJQ0siOiJjbGljayJ9LEg9e2tleToidHJpZ2dlciIsc3VwcHJlc3NFdmVudDp0cnVlfTtmdW5jdGlvbiBEKEwsSyxNKXt0aGlzLmNmZy5zZXRQcm9wZXJ0eShCLE0pO3RoaXMuYmVmb3JlU2hvd0V2ZW50LnVuc3Vic2NyaWJlKEQsTSk7fVlBSE9PLmxhbmcuZXh0ZW5kKEcsWUFIT08ud2lkZ2V0Lk1lbnUse19vVHJpZ2dlcjpudWxsLF9iQ2FuY2VsbGVkOmZhbHNlLGNvbnRleHRFdmVudFRhcmdldDpudWxsLHRyaWdnZXJDb250ZXh0TWVudUV2ZW50Om51bGwsaW5pdDpmdW5jdGlvbihMLEspe0cuc3VwZXJjbGFzcy5pbml0LmNhbGwodGhpcyxMKTt0aGlzLmJlZm9yZUluaXRFdmVudC5maXJlKEcpO2lmKEspe3RoaXMuY2ZnLmFwcGx5Q29uZmlnKEssdHJ1ZSk7fXRoaXMuaW5pdEV2ZW50LmZpcmUoRyk7fSxpbml0RXZlbnRzOmZ1bmN0aW9uKCl7Ry5zdXBlcmNsYXNzLmluaXRFdmVudHMuY2FsbCh0aGlzKTt0aGlzLnRyaWdnZXJDb250ZXh0TWVudUV2ZW50PXRoaXMuY3JlYXRlRXZlbnQoQS5UUklHR0VSX0NPTlRFWFRfTUVOVSk7dGhpcy50cmlnZ2VyQ29udGV4dE1lbnVFdmVudC5zaWduYXR1cmU9WUFIT08udXRpbC5DdXN0b21FdmVudC5MSVNUO30sY2FuY2VsOmZ1bmN0aW9uKCl7dGhpcy5fYkNhbmNlbGxlZD10cnVlO30sX3JlbW92ZUV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24oKXt2YXIgSz10aGlzLl9vVHJpZ2dlcjtpZihLKXtJLnJlbW92ZUxpc3RlbmVyKEssQS5DT05URVhUX01FTlUsdGhpcy5fb25UcmlnZ2VyQ29udGV4dE1lbnUpO2lmKEUub3BlcmEpe0kucmVtb3ZlTGlzdGVuZXIoSyxBLkNMSUNLLHRoaXMuX29uVHJpZ2dlckNsaWNrKTt9fX0sX29uVHJpZ2dlckNsaWNrOmZ1bmN0aW9uKEwsSyl7aWYoTC5jdHJsS2V5KXtJLnN0b3BFdmVudChMKTt9fSxfb25UcmlnZ2VyQ29udGV4dE1lbnU6ZnVuY3Rpb24oTSxLKXt2YXIgTDtpZighKE0udHlwZT09QyYmIU0uY3RybEtleSkpe3RoaXMuY29udGV4dEV2ZW50VGFyZ2V0PUkuZ2V0VGFyZ2V0KE0pO3RoaXMudHJpZ2dlckNvbnRleHRNZW51RXZlbnQuZmlyZShNKTtpZighdGhpcy5fYkNhbmNlbGxlZCl7SS5zdG9wRXZlbnQoTSk7WUFIT08ud2lkZ2V0Lk1lbnVNYW5hZ2VyLmhpZGVWaXNpYmxlKCk7TD1JLmdldFhZKE0pO2lmKCFZQUhPTy51dGlsLkRvbS5pbkRvY3VtZW50KHRoaXMuZWxlbWVudCkpe3RoaXMuYmVmb3JlU2hvd0V2ZW50LnN1YnNjcmliZShELEwpO31lbHNle3RoaXMuY2ZnLnNldFByb3BlcnR5KEIsTCk7fXRoaXMuc2hvdygpO310aGlzLl9iQ2FuY2VsbGVkPWZhbHNlO319LHRvU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIEw9RixLPXRoaXMuaWQ7aWYoSyl7TCs9KEorSyk7fXJldHVybiBMO30saW5pdERlZmF1bHRDb25maWc6ZnVuY3Rpb24oKXtHLnN1cGVyY2xhc3MuaW5pdERlZmF1bHRDb25maWcuY2FsbCh0aGlzKTt0aGlzLmNmZy5hZGRQcm9wZXJ0eShILmtleSx7aGFuZGxlcjp0aGlzLmNvbmZpZ1RyaWdnZXIsc3VwcHJlc3NFdmVudDpILnN1cHByZXNzRXZlbnR9KTt9LGRlc3Ryb3k6ZnVuY3Rpb24oSyl7dGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO0cuc3VwZXJjbGFzcy5kZXN0cm95LmNhbGwodGhpcyxLKTt9LGNvbmZpZ1RyaWdnZXI6ZnVuY3Rpb24oTCxLLE4pe3ZhciBNPUtbMF07aWYoTSl7aWYodGhpcy5fb1RyaWdnZXIpe3RoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTt9dGhpcy5fb1RyaWdnZXI9TTtJLm9uKE0sQS5DT05URVhUX01FTlUsdGhpcy5fb25UcmlnZ2VyQ29udGV4dE1lbnUsdGhpcyx0cnVlKTtpZihFLm9wZXJhKXtJLm9uKE0sQS5DTElDSyx0aGlzLl9vblRyaWdnZXJDbGljayx0aGlzLHRydWUpO319ZWxzZXt0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7fX19KTt9KCkpO1lBSE9PLndpZGdldC5Db250ZXh0TWVudUl0ZW09WUFIT08ud2lkZ2V0Lk1lbnVJdGVtOyhmdW5jdGlvbigpe3ZhciBEPVlBSE9PLmxhbmcsTj0ic3RhdGljIixNPSJkeW5hbWljLCIrTixBPSJkaXNhYmxlZCIsRj0ic2VsZWN0ZWQiLEI9ImF1dG9zdWJtZW51ZGlzcGxheSIsRz0ic3VibWVudSIsQz0idmlzaWJsZSIsUT0iICIsSD0ic3VibWVudXRvZ2dsZXJlZ2lvbiIsUD0iTWVudUJhciI7WUFIT08ud2lkZ2V0Lk1lbnVCYXI9ZnVuY3Rpb24oVCxTKXtZQUhPTy53aWRnZXQuTWVudUJhci5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxULFMpO307ZnVuY3Rpb24gTyhUKXt2YXIgUz1mYWxzZTtpZihELmlzU3RyaW5nKFQpKXtTPShNLmluZGV4T2YoKFQudG9Mb3dlckNhc2UoKSkpIT0tMSk7Cn1yZXR1cm4gUzt9dmFyIFI9WUFIT08udXRpbC5FdmVudCxMPVlBSE9PLndpZGdldC5NZW51QmFyLEs9e2tleToicG9zaXRpb24iLHZhbHVlOk4sdmFsaWRhdG9yOk8sc3VwZXJjZWRlczpbQ119LEU9e2tleToic3VibWVudWFsaWdubWVudCIsdmFsdWU6WyJ0bCIsImJsIl19LEo9e2tleTpCLHZhbHVlOmZhbHNlLHZhbGlkYXRvcjpELmlzQm9vbGVhbixzdXBwcmVzc0V2ZW50OnRydWV9LEk9e2tleTpILHZhbHVlOmZhbHNlLHZhbGlkYXRvcjpELmlzQm9vbGVhbn07RC5leHRlbmQoTCxZQUhPTy53aWRnZXQuTWVudSx7aW5pdDpmdW5jdGlvbihULFMpe2lmKCF0aGlzLklURU1fVFlQRSl7dGhpcy5JVEVNX1RZUEU9WUFIT08ud2lkZ2V0Lk1lbnVCYXJJdGVtO31MLnN1cGVyY2xhc3MuaW5pdC5jYWxsKHRoaXMsVCk7dGhpcy5iZWZvcmVJbml0RXZlbnQuZmlyZShMKTtpZihTKXt0aGlzLmNmZy5hcHBseUNvbmZpZyhTLHRydWUpO310aGlzLmluaXRFdmVudC5maXJlKEwpO30sQ1NTX0NMQVNTX05BTUU6Inl1aW1lbnViYXIiLFNVQk1FTlVfVE9HR0xFX1JFR0lPTl9XSURUSDoyMCxfb25LZXlEb3duOmZ1bmN0aW9uKFUsVCxZKXt2YXIgUz1UWzBdLFo9VFsxXSxXLFgsVjtpZihaJiYhWi5jZmcuZ2V0UHJvcGVydHkoQSkpe1g9Wi5jZmc7c3dpdGNoKFMua2V5Q29kZSl7Y2FzZSAzNzpjYXNlIDM5OmlmKFo9PXRoaXMuYWN0aXZlSXRlbSYmIVguZ2V0UHJvcGVydHkoRikpe1guc2V0UHJvcGVydHkoRix0cnVlKTt9ZWxzZXtWPShTLmtleUNvZGU9PTM3KT9aLmdldFByZXZpb3VzRW5hYmxlZFNpYmxpbmcoKTpaLmdldE5leHRFbmFibGVkU2libGluZygpO2lmKFYpe3RoaXMuY2xlYXJBY3RpdmVJdGVtKCk7Vi5jZmcuc2V0UHJvcGVydHkoRix0cnVlKTtXPVYuY2ZnLmdldFByb3BlcnR5KEcpO2lmKFcpe1cuc2hvdygpO1cuc2V0SW5pdGlhbEZvY3VzKCk7fWVsc2V7Vi5mb2N1cygpO319fVIucHJldmVudERlZmF1bHQoUyk7YnJlYWs7Y2FzZSA0MDppZih0aGlzLmFjdGl2ZUl0ZW0hPVope3RoaXMuY2xlYXJBY3RpdmVJdGVtKCk7WC5zZXRQcm9wZXJ0eShGLHRydWUpO1ouZm9jdXMoKTt9Vz1YLmdldFByb3BlcnR5KEcpO2lmKFcpe2lmKFcuY2ZnLmdldFByb3BlcnR5KEMpKXtXLnNldEluaXRpYWxTZWxlY3Rpb24oKTtXLnNldEluaXRpYWxGb2N1cygpO31lbHNle1cuc2hvdygpO1cuc2V0SW5pdGlhbEZvY3VzKCk7fX1SLnByZXZlbnREZWZhdWx0KFMpO2JyZWFrO319aWYoUy5rZXlDb2RlPT0yNyYmdGhpcy5hY3RpdmVJdGVtKXtXPXRoaXMuYWN0aXZlSXRlbS5jZmcuZ2V0UHJvcGVydHkoRyk7aWYoVyYmVy5jZmcuZ2V0UHJvcGVydHkoQykpe1cuaGlkZSgpO3RoaXMuYWN0aXZlSXRlbS5mb2N1cygpO31lbHNle3RoaXMuYWN0aXZlSXRlbS5jZmcuc2V0UHJvcGVydHkoRixmYWxzZSk7dGhpcy5hY3RpdmVJdGVtLmJsdXIoKTt9Ui5wcmV2ZW50RGVmYXVsdChTKTt9fSxfb25DbGljazpmdW5jdGlvbihlLFksYil7TC5zdXBlcmNsYXNzLl9vbkNsaWNrLmNhbGwodGhpcyxlLFksYik7dmFyIGQ9WVsxXSxUPXRydWUsUyxmLFUsVyxaLGEsYyxWO3ZhciBYPWZ1bmN0aW9uKCl7aWYoYS5jZmcuZ2V0UHJvcGVydHkoQykpe2EuaGlkZSgpO31lbHNle2Euc2hvdygpO319O2lmKGQmJiFkLmNmZy5nZXRQcm9wZXJ0eShBKSl7Zj1ZWzBdO1U9Ui5nZXRUYXJnZXQoZik7Vz10aGlzLmFjdGl2ZUl0ZW07Wj10aGlzLmNmZztpZihXJiZXIT1kKXt0aGlzLmNsZWFyQWN0aXZlSXRlbSgpO31kLmNmZy5zZXRQcm9wZXJ0eShGLHRydWUpO2E9ZC5jZmcuZ2V0UHJvcGVydHkoRyk7aWYoYSl7Uz1kLmVsZW1lbnQ7Yz1ZQUhPTy51dGlsLkRvbS5nZXRYKFMpO1Y9YysoUy5vZmZzZXRXaWR0aC10aGlzLlNVQk1FTlVfVE9HR0xFX1JFR0lPTl9XSURUSCk7aWYoWi5nZXRQcm9wZXJ0eShIKSl7aWYoUi5nZXRQYWdlWChmKT5WKXtYKCk7Ui5wcmV2ZW50RGVmYXVsdChmKTtUPWZhbHNlO319ZWxzZXtYKCk7fX19cmV0dXJuIFQ7fSxjb25maWdTdWJtZW51VG9nZ2xlOmZ1bmN0aW9uKFUsVCl7dmFyIFM9VFswXTtpZihTKXt0aGlzLmNmZy5zZXRQcm9wZXJ0eShCLGZhbHNlKTt9fSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBUPVAsUz10aGlzLmlkO2lmKFMpe1QrPShRK1MpO31yZXR1cm4gVDt9LGluaXREZWZhdWx0Q29uZmlnOmZ1bmN0aW9uKCl7TC5zdXBlcmNsYXNzLmluaXREZWZhdWx0Q29uZmlnLmNhbGwodGhpcyk7dmFyIFM9dGhpcy5jZmc7Uy5hZGRQcm9wZXJ0eShLLmtleSx7aGFuZGxlcjp0aGlzLmNvbmZpZ1Bvc2l0aW9uLHZhbHVlOksudmFsdWUsdmFsaWRhdG9yOksudmFsaWRhdG9yLHN1cGVyY2VkZXM6Sy5zdXBlcmNlZGVzfSk7Uy5hZGRQcm9wZXJ0eShFLmtleSx7dmFsdWU6RS52YWx1ZSxzdXBwcmVzc0V2ZW50OkUuc3VwcHJlc3NFdmVudH0pO1MuYWRkUHJvcGVydHkoSi5rZXkse3ZhbHVlOkoudmFsdWUsdmFsaWRhdG9yOkoudmFsaWRhdG9yLHN1cHByZXNzRXZlbnQ6Si5zdXBwcmVzc0V2ZW50fSk7Uy5hZGRQcm9wZXJ0eShJLmtleSx7dmFsdWU6SS52YWx1ZSx2YWxpZGF0b3I6SS52YWxpZGF0b3IsaGFuZGxlcjp0aGlzLmNvbmZpZ1N1Ym1lbnVUb2dnbGV9KTt9fSk7fSgpKTtZQUhPTy53aWRnZXQuTWVudUJhckl0ZW09ZnVuY3Rpb24oQixBKXtZQUhPTy53aWRnZXQuTWVudUJhckl0ZW0uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsQixBKTt9O1lBSE9PLmxhbmcuZXh0ZW5kKFlBSE9PLndpZGdldC5NZW51QmFySXRlbSxZQUhPTy53aWRnZXQuTWVudUl0ZW0se2luaXQ6ZnVuY3Rpb24oQixBKXtpZighdGhpcy5TVUJNRU5VX1RZUEUpe3RoaXMuU1VCTUVOVV9UWVBFPVlBSE9PLndpZGdldC5NZW51O31ZQUhPTy53aWRnZXQuTWVudUJhckl0ZW0uc3VwZXJjbGFzcy5pbml0LmNhbGwodGhpcyxCKTt2YXIgQz10aGlzLmNmZztpZihBKXtDLmFwcGx5Q29uZmlnKEEsdHJ1ZSk7fUMuZmlyZVF1ZXVlKCk7fSxDU1NfQ0xBU1NfTkFNRToieXVpbWVudWJhcml0ZW0iLENTU19MQUJFTF9DTEFTU19OQU1FOiJ5dWltZW51YmFyaXRlbWxhYmVsIix0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBBPSJNZW51QmFySXRlbSI7aWYodGhpcy5jZmcmJnRoaXMuY2ZnLmdldFByb3BlcnR5KCJ0ZXh0Iikpe0ErPSgiOiAiK3RoaXMuY2ZnLmdldFByb3BlcnR5KCJ0ZXh0IikpO31yZXR1cm4gQTt9fSk7WUFIT08ucmVnaXN0ZXIoIm1lbnUiLFlBSE9PLndpZGdldC5NZW51LHt2ZXJzaW9uOiIyLjkuMCIsYnVpbGQ6IjI4MDAifSk7",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 313,
          "bodySize": 77616
        },
        "cache": {},
        "timings": {
          "send": 1,
          "wait": 4,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27305"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.874-06:00",
        "time": 76,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/yui/element/element-min.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 338,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:35 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "2698"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 12476,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "LyoKQ29weXJpZ2h0IChjKSAyMDExLCBZYWhvbyEgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLgpDb2RlIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgTGljZW5zZToKaHR0cDovL2RldmVsb3Blci55YWhvby5jb20veXVpL2xpY2Vuc2UuaHRtbAp2ZXJzaW9uOiAyLjkuMAoqLwpZQUhPTy51dGlsLkF0dHJpYnV0ZT1mdW5jdGlvbihiLGEpe2lmKGEpe3RoaXMub3duZXI9YTt0aGlzLmNvbmZpZ3VyZShiLHRydWUpO319O1lBSE9PLnV0aWwuQXR0cmlidXRlLklOVkFMSURfVkFMVUU9e307WUFIT08udXRpbC5BdHRyaWJ1dGUucHJvdG90eXBlPXtuYW1lOnVuZGVmaW5lZCx2YWx1ZTpudWxsLG93bmVyOm51bGwscmVhZE9ubHk6ZmFsc2Usd3JpdGVPbmNlOmZhbHNlLF9pbml0aWFsQ29uZmlnOm51bGwsX3dyaXR0ZW46ZmFsc2UsbWV0aG9kOm51bGwsc2V0dGVyOm51bGwsZ2V0dGVyOm51bGwsdmFsaWRhdG9yOm51bGwsZ2V0VmFsdWU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnZhbHVlO2lmKHRoaXMuZ2V0dGVyKXthPXRoaXMuZ2V0dGVyLmNhbGwodGhpcy5vd25lcix0aGlzLm5hbWUsYSk7fXJldHVybiBhO30sc2V0VmFsdWU6ZnVuY3Rpb24oZixiKXt2YXIgZSxhPXRoaXMub3duZXIsYz10aGlzLm5hbWUsZz1ZQUhPTy51dGlsLkF0dHJpYnV0ZS5JTlZBTElEX1ZBTFVFLGQ9e3R5cGU6YyxwcmV2VmFsdWU6dGhpcy5nZXRWYWx1ZSgpLG5ld1ZhbHVlOmZ9O2lmKHRoaXMucmVhZE9ubHl8fCh0aGlzLndyaXRlT25jZSYmdGhpcy5fd3JpdHRlbikpe3JldHVybiBmYWxzZTt9aWYodGhpcy52YWxpZGF0b3ImJiF0aGlzLnZhbGlkYXRvci5jYWxsKGEsZikpe3JldHVybiBmYWxzZTt9aWYoIWIpe2U9YS5maXJlQmVmb3JlQ2hhbmdlRXZlbnQoZCk7aWYoZT09PWZhbHNlKXtyZXR1cm4gZmFsc2U7fX1pZih0aGlzLnNldHRlcil7Zj10aGlzLnNldHRlci5jYWxsKGEsZix0aGlzLm5hbWUpO2lmKGY9PT11bmRlZmluZWQpe31pZihmPT09Zyl7cmV0dXJuIGZhbHNlO319aWYodGhpcy5tZXRob2Qpe2lmKHRoaXMubWV0aG9kLmNhbGwoYSxmLHRoaXMubmFtZSk9PT1nKXtyZXR1cm4gZmFsc2U7fX10aGlzLnZhbHVlPWY7dGhpcy5fd3JpdHRlbj10cnVlO2QudHlwZT1jO2lmKCFiKXt0aGlzLm93bmVyLmZpcmVDaGFuZ2VFdmVudChkKTt9cmV0dXJuIHRydWU7fSxjb25maWd1cmU6ZnVuY3Rpb24oYixjKXtiPWJ8fHt9O2lmKGMpe3RoaXMuX3dyaXR0ZW49ZmFsc2U7fXRoaXMuX2luaXRpYWxDb25maWc9dGhpcy5faW5pdGlhbENvbmZpZ3x8e307Zm9yKHZhciBhIGluIGIpe2lmKGIuaGFzT3duUHJvcGVydHkoYSkpe3RoaXNbYV09YlthXTtpZihjKXt0aGlzLl9pbml0aWFsQ29uZmlnW2FdPWJbYV07fX19fSxyZXNldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0VmFsdWUodGhpcy5faW5pdGlhbENvbmZpZy52YWx1ZSk7fSxyZXNldENvbmZpZzpmdW5jdGlvbigpe3RoaXMuY29uZmlndXJlKHRoaXMuX2luaXRpYWxDb25maWcsdHJ1ZSk7fSxyZWZyZXNoOmZ1bmN0aW9uKGEpe3RoaXMuc2V0VmFsdWUodGhpcy52YWx1ZSxhKTt9fTsoZnVuY3Rpb24oKXt2YXIgYT1ZQUhPTy51dGlsLkxhbmc7WUFIT08udXRpbC5BdHRyaWJ1dGVQcm92aWRlcj1mdW5jdGlvbigpe307WUFIT08udXRpbC5BdHRyaWJ1dGVQcm92aWRlci5wcm90b3R5cGU9e19jb25maWdzOm51bGwsZ2V0OmZ1bmN0aW9uKGMpe3RoaXMuX2NvbmZpZ3M9dGhpcy5fY29uZmlnc3x8e307dmFyIGI9dGhpcy5fY29uZmlnc1tjXTtpZighYnx8IXRoaXMuX2NvbmZpZ3MuaGFzT3duUHJvcGVydHkoYykpe3JldHVybiBudWxsO31yZXR1cm4gYi5nZXRWYWx1ZSgpO30sc2V0OmZ1bmN0aW9uKGQsZSxiKXt0aGlzLl9jb25maWdzPXRoaXMuX2NvbmZpZ3N8fHt9O3ZhciBjPXRoaXMuX2NvbmZpZ3NbZF07aWYoIWMpe3JldHVybiBmYWxzZTt9cmV0dXJuIGMuc2V0VmFsdWUoZSxiKTt9LGdldEF0dHJpYnV0ZUtleXM6ZnVuY3Rpb24oKXt0aGlzLl9jb25maWdzPXRoaXMuX2NvbmZpZ3M7dmFyIGM9W10sYjtmb3IoYiBpbiB0aGlzLl9jb25maWdzKXtpZihhLmhhc093blByb3BlcnR5KHRoaXMuX2NvbmZpZ3MsYikmJiFhLmlzVW5kZWZpbmVkKHRoaXMuX2NvbmZpZ3NbYl0pKXtjW2MubGVuZ3RoXT1iO319cmV0dXJuIGM7fSxzZXRBdHRyaWJ1dGVzOmZ1bmN0aW9uKGQsYil7Zm9yKHZhciBjIGluIGQpe2lmKGEuaGFzT3duUHJvcGVydHkoZCxjKSl7dGhpcy5zZXQoYyxkW2NdLGIpO319fSxyZXNldFZhbHVlOmZ1bmN0aW9uKGMsYil7dGhpcy5fY29uZmlncz10aGlzLl9jb25maWdzfHx7fTtpZih0aGlzLl9jb25maWdzW2NdKXt0aGlzLnNldChjLHRoaXMuX2NvbmZpZ3NbY10uX2luaXRpYWxDb25maWcudmFsdWUsYik7cmV0dXJuIHRydWU7fXJldHVybiBmYWxzZTt9LHJlZnJlc2g6ZnVuY3Rpb24oZSxjKXt0aGlzLl9jb25maWdzPXRoaXMuX2NvbmZpZ3N8fHt9O3ZhciBmPXRoaXMuX2NvbmZpZ3M7ZT0oKGEuaXNTdHJpbmcoZSkpP1tlXTplKXx8dGhpcy5nZXRBdHRyaWJ1dGVLZXlzKCk7Zm9yKHZhciBkPTAsYj1lLmxlbmd0aDtkPGI7KytkKXtpZihmLmhhc093blByb3BlcnR5KGVbZF0pKXt0aGlzLl9jb25maWdzW2VbZF1dLnJlZnJlc2goYyk7fX19LHJlZ2lzdGVyOmZ1bmN0aW9uKGIsYyl7dGhpcy5zZXRBdHRyaWJ1dGVDb25maWcoYixjKTt9LGdldEF0dHJpYnV0ZUNvbmZpZzpmdW5jdGlvbihjKXt0aGlzLl9jb25maWdzPXRoaXMuX2NvbmZpZ3N8fHt9O3ZhciBiPXRoaXMuX2NvbmZpZ3NbY118fHt9O3ZhciBkPXt9O2ZvcihjIGluIGIpe2lmKGEuaGFzT3duUHJvcGVydHkoYixjKSl7ZFtjXT1iW2NdO319cmV0dXJuIGQ7fSxzZXRBdHRyaWJ1dGVDb25maWc6ZnVuY3Rpb24oYixjLGQpe3RoaXMuX2NvbmZpZ3M9dGhpcy5fY29uZmlnc3x8e307Yz1jfHx7fTtpZighdGhpcy5fY29uZmlnc1tiXSl7Yy5uYW1lPWI7dGhpcy5fY29uZmlnc1tiXT10aGlzLmNyZWF0ZUF0dHJpYnV0ZShjKTt9ZWxzZXt0aGlzLl9jb25maWdzW2JdLmNvbmZpZ3VyZShjLGQpO319LGNvbmZpZ3VyZUF0dHJpYnV0ZTpmdW5jdGlvbihiLGMsZCl7dGhpcy5zZXRBdHRyaWJ1dGVDb25maWcoYixjLGQpO30scmVzZXRBdHRyaWJ1dGVDb25maWc6ZnVuY3Rpb24oYil7dGhpcy5fY29uZmlncz10aGlzLl9jb25maWdzfHx7fTt0aGlzLl9jb25maWdzW2JdLnJlc2V0Q29uZmlnKCk7fSxzdWJzY3JpYmU6ZnVuY3Rpb24oYixjKXt0aGlzLl9ldmVudHM9dGhpcy5fZXZlbnRzfHx7fTtpZighKGIgaW4gdGhpcy5fZXZlbnRzKSl7dGhpcy5fZXZlbnRzW2JdPXRoaXMuY3JlYXRlRXZlbnQoYik7fVlBSE9PLnV0aWwuRXZlbnRQcm92aWRlci5wcm90b3R5cGUuc3Vic2NyaWJlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9LG9uOmZ1bmN0aW9uKCl7dGhpcy5zdWJzY3JpYmUuYXBwbHkodGhpcyxhcmd1bWVudHMpO30sYWRkTGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLnN1YnNjcmliZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fSxmaXJlQmVmb3JlQ2hhbmdlRXZlbnQ6ZnVuY3Rpb24oYyl7dmFyIGI9ImJlZm9yZSI7Yis9Yy50eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2MudHlwZS5zdWJzdHIoMSkrIkNoYW5nZSI7Yy50eXBlPWI7cmV0dXJuIHRoaXMuZmlyZUV2ZW50KGMudHlwZSxjKTt9LGZpcmVDaGFuZ2VFdmVudDpmdW5jdGlvbihiKXtiLnR5cGUrPSJDaGFuZ2UiO3JldHVybiB0aGlzLmZpcmVFdmVudChiLnR5cGUsYik7fSxjcmVhdGVBdHRyaWJ1dGU6ZnVuY3Rpb24oYil7cmV0dXJuIG5ldyBZQUhPTy51dGlsLkF0dHJpYnV0ZShiLHRoaXMpO319O1lBSE9PLmF1Z21lbnQoWUFIT08udXRpbC5BdHRyaWJ1dGVQcm92aWRlcixZQUhPTy51dGlsLkV2ZW50UHJvdmlkZXIpO30pKCk7KGZ1bmN0aW9uKCl7dmFyIGI9WUFIT08udXRpbC5Eb20sZD1ZQUhPTy51dGlsLkF0dHJpYnV0ZVByb3ZpZGVyLGM9e21vdXNlZW50ZXI6dHJ1ZSxtb3VzZWxlYXZlOnRydWV9O3ZhciBhPWZ1bmN0aW9uKGUsZil7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9O2EuRE9NX0VWRU5UUz17ImNsaWNrIjp0cnVlLCJkYmxjbGljayI6dHJ1ZSwia2V5ZG93biI6dHJ1ZSwia2V5cHJlc3MiOnRydWUsImtleXVwIjp0cnVlLCJtb3VzZWRvd24iOnRydWUsIm1vdXNlbW92ZSI6dHJ1ZSwibW91c2VvdXQiOnRydWUsIm1vdXNlb3ZlciI6dHJ1ZSwibW91c2V1cCI6dHJ1ZSwibW91c2VlbnRlciI6dHJ1ZSwibW91c2VsZWF2ZSI6dHJ1ZSwiZm9jdXMiOnRydWUsImJsdXIiOnRydWUsInN1Ym1pdCI6dHJ1ZSwiY2hhbmdlIjp0cnVlfTthLnByb3RvdHlwZT17RE9NX0VWRU5UUzpudWxsLERFRkFVTFRfSFRNTF9TRVRURVI6ZnVuY3Rpb24oZyxlKXt2YXIgZj10aGlzLmdldCgiZWxlbWVudCIpO2lmKGYpe2ZbZV09Zzt9cmV0dXJuIGc7fSxERUZBVUxUX0hUTUxfR0VUVEVSOmZ1bmN0aW9uKGUpe3ZhciBmPXRoaXMuZ2V0KCJlbGVtZW50IiksZztpZihmKXtnPWZbZV07fXJldHVybiBnO30sYXBwZW5kQ2hpbGQ6ZnVuY3Rpb24oZSl7ZT1lLmdldD9lLmdldCgiZWxlbWVudCIpOmU7cmV0dXJuIHRoaXMuZ2V0KCJlbGVtZW50IikuYXBwZW5kQ2hpbGQoZSk7fSxnZXRFbGVtZW50c0J5VGFnTmFtZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXQoImVsZW1lbnQiKS5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTt9LGhhc0NoaWxkTm9kZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImVsZW1lbnQiKS5oYXNDaGlsZE5vZGVzKCk7fSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24oZSxmKXtlPWUuZ2V0P2UuZ2V0KCJlbGVtZW50Iik6ZTtmPShmJiZmLmdldCk/Zi5nZXQoImVsZW1lbnQiKTpmO3JldHVybiB0aGlzLmdldCgiZWxlbWVudCIpLmluc2VydEJlZm9yZShlLGYpO30scmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24oZSl7ZT1lLmdldD9lLmdldCgiZWxlbWVudCIpOmU7cmV0dXJuIHRoaXMuZ2V0KCJlbGVtZW50IikucmVtb3ZlQ2hpbGQoZSk7fSxyZXBsYWNlQ2hpbGQ6ZnVuY3Rpb24oZSxmKXtlPWUuZ2V0P2UuZ2V0KCJlbGVtZW50Iik6ZTtmPWYuZ2V0P2YuZ2V0KCJlbGVtZW50Iik6ZjtyZXR1cm4gdGhpcy5nZXQoImVsZW1lbnQiKS5yZXBsYWNlQ2hpbGQoZSxmKTt9LGluaXRBdHRyaWJ1dGVzOmZ1bmN0aW9uKGUpe30sYWRkTGlzdGVuZXI6ZnVuY3Rpb24oaixpLGssaCl7aD1ofHx0aGlzO3ZhciBlPVlBSE9PLnV0aWwuRXZlbnQsZz10aGlzLmdldCgiZWxlbWVudCIpfHx0aGlzLmdldCgiaWQiKSxmPXRoaXM7aWYoY1tqXSYmIWUuX2NyZWF0ZU1vdXNlRGVsZWdhdGUpe3JldHVybiBmYWxzZTt9aWYoIXRoaXMuX2V2ZW50c1tqXSl7aWYoZyYmdGhpcy5ET01fRVZFTlRTW2pdKXtlLm9uKGcsaixmdW5jdGlvbihtLGwpe2lmKG0uc3JjRWxlbWVudCYmIW0udGFyZ2V0KXttLnRhcmdldD1tLnNyY0VsZW1lbnQ7fWlmKChtLnRvRWxlbWVudCYmIW0ucmVsYXRlZFRhcmdldCl8fChtLmZyb21FbGVtZW50JiYhbS5yZWxhdGVkVGFyZ2V0KSl7bS5yZWxhdGVkVGFyZ2V0PWUuZ2V0UmVsYXRlZFRhcmdldChtKTt9aWYoIW0uY3VycmVudFRhcmdldCl7bS5jdXJyZW50VGFyZ2V0PWc7fWYuZmlyZUV2ZW50KGosbSxsKTt9LGssaCk7fXRoaXMuY3JlYXRlRXZlbnQoaix7c2NvcGU6dGhpc30pO31yZXR1cm4gWUFIT08udXRpbC5FdmVudFByb3ZpZGVyLnByb3RvdHlwZS5zdWJzY3JpYmUuYXBwbHkodGhpcyxhcmd1bWVudHMpO30sb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRMaXN0ZW5lci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fSxzdWJzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRMaXN0ZW5lci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fSxyZW1vdmVMaXN0ZW5lcjpmdW5jdGlvbihmLGUpe3JldHVybiB0aGlzLnVuc3Vic2NyaWJlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9LGFkZENsYXNzOmZ1bmN0aW9uKGUpe2IuYWRkQ2xhc3ModGhpcy5nZXQoImVsZW1lbnQiKSxlKTt9LGdldEVsZW1lbnRzQnlDbGFzc05hbWU6ZnVuY3Rpb24oZixlKXtyZXR1cm4gYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGYsZSx0aGlzLmdldCgiZWxlbWVudCIpKTt9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3JldHVybiBiLmhhc0NsYXNzKHRoaXMuZ2V0KCJlbGVtZW50IiksZSk7fSxyZW1vdmVDbGFzczpmdW5jdGlvbihlKXtyZXR1cm4gYi5yZW1vdmVDbGFzcyh0aGlzLmdldCgiZWxlbWVudCIpLGUpO30scmVwbGFjZUNsYXNzOmZ1bmN0aW9uKGYsZSl7cmV0dXJuIGIucmVwbGFjZUNsYXNzKHRoaXMuZ2V0KCJlbGVtZW50IiksZixlKTsKfSxzZXRTdHlsZTpmdW5jdGlvbihmLGUpe3JldHVybiBiLnNldFN0eWxlKHRoaXMuZ2V0KCJlbGVtZW50IiksZixlKTt9LGdldFN0eWxlOmZ1bmN0aW9uKGUpe3JldHVybiBiLmdldFN0eWxlKHRoaXMuZ2V0KCJlbGVtZW50IiksZSk7fSxmaXJlUXVldWU6ZnVuY3Rpb24oKXt2YXIgZj10aGlzLl9xdWV1ZTtmb3IodmFyIGc9MCxlPWYubGVuZ3RoO2c8ZTsrK2cpe3RoaXNbZltnXVswXV0uYXBwbHkodGhpcyxmW2ddWzFdKTt9fSxhcHBlbmRUbzpmdW5jdGlvbihmLGcpe2Y9KGYuZ2V0KT9mLmdldCgiZWxlbWVudCIpOmIuZ2V0KGYpO3RoaXMuZmlyZUV2ZW50KCJiZWZvcmVBcHBlbmRUbyIse3R5cGU6ImJlZm9yZUFwcGVuZFRvIix0YXJnZXQ6Zn0pO2c9KGcmJmcuZ2V0KT9nLmdldCgiZWxlbWVudCIpOmIuZ2V0KGcpO3ZhciBlPXRoaXMuZ2V0KCJlbGVtZW50Iik7aWYoIWUpe3JldHVybiBmYWxzZTt9aWYoIWYpe3JldHVybiBmYWxzZTt9aWYoZS5wYXJlbnQhPWYpe2lmKGcpe2YuaW5zZXJ0QmVmb3JlKGUsZyk7fWVsc2V7Zi5hcHBlbmRDaGlsZChlKTt9fXRoaXMuZmlyZUV2ZW50KCJhcHBlbmRUbyIse3R5cGU6ImFwcGVuZFRvIix0YXJnZXQ6Zn0pO3JldHVybiBlO30sZ2V0OmZ1bmN0aW9uKGUpe3ZhciBnPXRoaXMuX2NvbmZpZ3N8fHt9LGY9Zy5lbGVtZW50O2lmKGYmJiFnW2VdJiYhWUFIT08ubGFuZy5pc1VuZGVmaW5lZChmLnZhbHVlW2VdKSl7dGhpcy5fc2V0SFRNTEF0dHJDb25maWcoZSk7fXJldHVybiBkLnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLGUpO30sc2V0QXR0cmlidXRlczpmdW5jdGlvbihsLGgpe3ZhciBmPXt9LGo9dGhpcy5fY29uZmlnT3JkZXI7Zm9yKHZhciBrPTAsZT1qLmxlbmd0aDtrPGU7KytrKXtpZihsW2pba11dIT09dW5kZWZpbmVkKXtmW2pba11dPXRydWU7dGhpcy5zZXQoaltrXSxsW2pba11dLGgpO319Zm9yKHZhciBnIGluIGwpe2lmKGwuaGFzT3duUHJvcGVydHkoZykmJiFmW2ddKXt0aGlzLnNldChnLGxbZ10saCk7fX19LHNldDpmdW5jdGlvbihmLGgsZSl7dmFyIGc9dGhpcy5nZXQoImVsZW1lbnQiKTtpZighZyl7dGhpcy5fcXVldWVbdGhpcy5fcXVldWUubGVuZ3RoXT1bInNldCIsYXJndW1lbnRzXTtpZih0aGlzLl9jb25maWdzW2ZdKXt0aGlzLl9jb25maWdzW2ZdLnZhbHVlPWg7fXJldHVybjt9aWYoIXRoaXMuX2NvbmZpZ3NbZl0mJiFZQUhPTy5sYW5nLmlzVW5kZWZpbmVkKGdbZl0pKXt0aGlzLl9zZXRIVE1MQXR0ckNvbmZpZyhmKTt9cmV0dXJuIGQucHJvdG90eXBlLnNldC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fSxzZXRBdHRyaWJ1dGVDb25maWc6ZnVuY3Rpb24oZSxmLGcpe3RoaXMuX2NvbmZpZ09yZGVyLnB1c2goZSk7ZC5wcm90b3R5cGUuc2V0QXR0cmlidXRlQ29uZmlnLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9LGNyZWF0ZUV2ZW50OmZ1bmN0aW9uKGYsZSl7dGhpcy5fZXZlbnRzW2ZdPXRydWU7cmV0dXJuIGQucHJvdG90eXBlLmNyZWF0ZUV2ZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9LGluaXQ6ZnVuY3Rpb24oZixlKXt0aGlzLl9pbml0RWxlbWVudChmLGUpO30sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0KCJlbGVtZW50Iik7WUFIT08udXRpbC5FdmVudC5wdXJnZUVsZW1lbnQoZSx0cnVlKTt0aGlzLnVuc3Vic2NyaWJlQWxsKCk7aWYoZSYmZS5wYXJlbnROb2RlKXtlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7fXRoaXMuX3F1ZXVlPVtdO3RoaXMuX2V2ZW50cz17fTt0aGlzLl9jb25maWdzPXt9O3RoaXMuX2NvbmZpZ09yZGVyPVtdO30sX2luaXRFbGVtZW50OmZ1bmN0aW9uKGcsZil7dGhpcy5fcXVldWU9dGhpcy5fcXVldWV8fFtdO3RoaXMuX2V2ZW50cz10aGlzLl9ldmVudHN8fHt9O3RoaXMuX2NvbmZpZ3M9dGhpcy5fY29uZmlnc3x8e307dGhpcy5fY29uZmlnT3JkZXI9W107Zj1mfHx7fTtmLmVsZW1lbnQ9Zi5lbGVtZW50fHxnfHxudWxsO3ZhciBpPWZhbHNlO3ZhciBlPWEuRE9NX0VWRU5UUzt0aGlzLkRPTV9FVkVOVFM9dGhpcy5ET01fRVZFTlRTfHx7fTtmb3IodmFyIGggaW4gZSl7aWYoZS5oYXNPd25Qcm9wZXJ0eShoKSl7dGhpcy5ET01fRVZFTlRTW2hdPWVbaF07fX1pZih0eXBlb2YgZi5lbGVtZW50PT09InN0cmluZyIpe3RoaXMuX3NldEhUTUxBdHRyQ29uZmlnKCJpZCIse3ZhbHVlOmYuZWxlbWVudH0pO31pZihiLmdldChmLmVsZW1lbnQpKXtpPXRydWU7dGhpcy5faW5pdEhUTUxFbGVtZW50KGYpO3RoaXMuX2luaXRDb250ZW50KGYpO31ZQUhPTy51dGlsLkV2ZW50Lm9uQXZhaWxhYmxlKGYuZWxlbWVudCxmdW5jdGlvbigpe2lmKCFpKXt0aGlzLl9pbml0SFRNTEVsZW1lbnQoZik7fXRoaXMuZmlyZUV2ZW50KCJhdmFpbGFibGUiLHt0eXBlOiJhdmFpbGFibGUiLHRhcmdldDpiLmdldChmLmVsZW1lbnQpfSk7fSx0aGlzLHRydWUpO1lBSE9PLnV0aWwuRXZlbnQub25Db250ZW50UmVhZHkoZi5lbGVtZW50LGZ1bmN0aW9uKCl7aWYoIWkpe3RoaXMuX2luaXRDb250ZW50KGYpO310aGlzLmZpcmVFdmVudCgiY29udGVudFJlYWR5Iix7dHlwZToiY29udGVudFJlYWR5Iix0YXJnZXQ6Yi5nZXQoZi5lbGVtZW50KX0pO30sdGhpcyx0cnVlKTt9LF9pbml0SFRNTEVsZW1lbnQ6ZnVuY3Rpb24oZSl7dGhpcy5zZXRBdHRyaWJ1dGVDb25maWcoImVsZW1lbnQiLHt2YWx1ZTpiLmdldChlLmVsZW1lbnQpLHJlYWRPbmx5OnRydWV9KTt9LF9pbml0Q29udGVudDpmdW5jdGlvbihlKXt0aGlzLmluaXRBdHRyaWJ1dGVzKGUpO3RoaXMuc2V0QXR0cmlidXRlcyhlLHRydWUpO3RoaXMuZmlyZVF1ZXVlKCk7fSxfc2V0SFRNTEF0dHJDb25maWc6ZnVuY3Rpb24oZSxnKXt2YXIgZj10aGlzLmdldCgiZWxlbWVudCIpO2c9Z3x8e307Zy5uYW1lPWU7Zy5zZXR0ZXI9Zy5zZXR0ZXJ8fHRoaXMuREVGQVVMVF9IVE1MX1NFVFRFUjtnLmdldHRlcj1nLmdldHRlcnx8dGhpcy5ERUZBVUxUX0hUTUxfR0VUVEVSO2cudmFsdWU9Zy52YWx1ZXx8ZltlXTt0aGlzLl9jb25maWdzW2VdPW5ldyBZQUhPTy51dGlsLkF0dHJpYnV0ZShnLHRoaXMpO319O1lBSE9PLmF1Z21lbnQoYSxkKTtZQUhPTy51dGlsLkVsZW1lbnQ9YTt9KSgpO1lBSE9PLnJlZ2lzdGVyKCJlbGVtZW50IixZQUhPTy51dGlsLkVsZW1lbnQse3ZlcnNpb246IjIuOS4wIixidWlsZDoiMjgwMCJ9KTs=",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 12476
        },
        "cache": {},
        "timings": {
          "send": 1,
          "wait": 3,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27307"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.874-06:00",
        "time": 81,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/yui/button/button-min.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 336,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:34 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "8286"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 41408,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "LyoKIENvcHlyaWdodCAoYykgMjAxMSwgWWFob28hIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIENvZGUgbGljZW5zZWQgdW5kZXIgdGhlIEJTRCBMaWNlbnNlOgogaHR0cDovL2RldmVsb3Blci55YWhvby5jb20veXVpL2xpY2Vuc2UuaHRtbAogdmVyc2lvbjogMi45LjAKICovCihmdW5jdGlvbigpe3ZhciBnPVlBSE9PLnV0aWwuRG9tLG09WUFIT08udXRpbC5FdmVudCxpPVlBSE9PLmxhbmcsbD1ZQUhPTy5lbnYudWEsYj1ZQUhPTy53aWRnZXQuT3ZlcmxheSxqPVlBSE9PLndpZGdldC5NZW51LGQ9e30saz1udWxsLGU9bnVsbCxjPW51bGw7ZnVuY3Rpb24gZihvLG4scixwKXt2YXIgcyxxO2lmKGkuaXNTdHJpbmcobykmJmkuaXNTdHJpbmcobikpe2lmKGwuaWUmJihsLmllPDkpKXtxPSc8aW5wdXQgdHlwZT0iJytvKyciIG5hbWU9IicrbisnIic7aWYocCl7cSs9IiBjaGVja2VkIn1xKz0iPiI7cz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KHEpO3MudmFsdWU9cn1lbHNle3M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtzLm5hbWU9bjtzLnR5cGU9bztzLnZhbHVlPXI7aWYocCl7cy5jaGVja2VkPXRydWV9fX1yZXR1cm4gc31mdW5jdGlvbiBoKG8sdil7dmFyIG49by5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpLHM9KHRoaXMuQ0xBU1NfTkFNRV9QUkVGSVgrdGhpcy5DU1NfQ0xBU1NfTkFNRSksdD10aGlzLHUscCxxO2Z1bmN0aW9uIHcoeCl7aWYoISh4IGluIHYpKXt1PW8uZ2V0QXR0cmlidXRlTm9kZSh4KTtpZih1JiYoInZhbHVlIiBpbiB1KSl7WUFIT08ubG9nKCdTZXR0aW5nIGF0dHJpYnV0ZSAiJyt4KyciIHVzaW5nIHNvdXJjZSBlbGVtZW50XCdzIGF0dHJpYnV0ZSB2YWx1ZSBvZiAiJyt1LnZhbHVlKyciJywiaW5mbyIsdC50b1N0cmluZygpKTt2W3hdPXUudmFsdWV9fX1mdW5jdGlvbiByKCl7dygidHlwZSIpO2lmKHYudHlwZT09ImJ1dHRvbiIpe3YudHlwZT0icHVzaCJ9aWYoISgiZGlzYWJsZWQiIGluIHYpKXt2LmRpc2FibGVkPW8uZGlzYWJsZWR9dygibmFtZSIpO3coInZhbHVlIik7dygidGl0bGUiKX1zd2l0Y2gobil7Y2FzZSJBIjp2LnR5cGU9ImxpbmsiO3coImhyZWYiKTt3KCJ0YXJnZXQiKTticmVhaztjYXNlIklOUFVUIjpyKCk7aWYoISgiY2hlY2tlZCIgaW4gdikpe3YuY2hlY2tlZD1vLmNoZWNrZWR9YnJlYWs7Y2FzZSJCVVRUT04iOnIoKTtwPW8ucGFyZW50Tm9kZS5wYXJlbnROb2RlO2lmKGcuaGFzQ2xhc3MocCxzKyItY2hlY2tlZCIpKXt2LmNoZWNrZWQ9dHJ1ZX1pZihnLmhhc0NsYXNzKHAscysiLWRpc2FibGVkIikpe3YuZGlzYWJsZWQ9dHJ1ZX1vLnJlbW92ZUF0dHJpYnV0ZSgidmFsdWUiKTtvLnNldEF0dHJpYnV0ZSgidHlwZSIsImJ1dHRvbiIpO2JyZWFrfW8ucmVtb3ZlQXR0cmlidXRlKCJpZCIpO28ucmVtb3ZlQXR0cmlidXRlKCJuYW1lIik7aWYoISgidGFiaW5kZXgiIGluIHYpKXt2LnRhYmluZGV4PW8udGFiSW5kZXh9aWYoISgibGFiZWwiIGluIHYpKXtxPW49PSJJTlBVVCI/by52YWx1ZTpvLmlubmVySFRNTDtpZihxJiZxLmxlbmd0aD4wKXt2LmxhYmVsPXF9fX1mdW5jdGlvbiBhKHApe3ZhciBvPXAuYXR0cmlidXRlcyxuPW8uc3JjZWxlbWVudCxyPW4ubm9kZU5hbWUudG9VcHBlckNhc2UoKSxxPXRoaXM7aWYocj09dGhpcy5OT0RFX05BTUUpe3AuZWxlbWVudD1uO3AuaWQ9bi5pZDtnLmdldEVsZW1lbnRzQnkoZnVuY3Rpb24ocyl7c3dpdGNoKHMubm9kZU5hbWUudG9VcHBlckNhc2UoKSl7Y2FzZSJCVVRUT04iOmNhc2UiQSI6Y2FzZSJJTlBVVCI6aC5jYWxsKHEscyxvKTticmVha319LCIqIixuKX1lbHNle3N3aXRjaChyKXtjYXNlIkJVVFRPTiI6Y2FzZSJBIjpjYXNlIklOUFVUIjpoLmNhbGwodGhpcyxuLG8pO2JyZWFrfX19WUFIT08ud2lkZ2V0LkJ1dHRvbj1mdW5jdGlvbihyLG8pe2lmKCFiJiZZQUhPTy53aWRnZXQuT3ZlcmxheSl7Yj1ZQUhPTy53aWRnZXQuT3ZlcmxheX1pZighaiYmWUFIT08ud2lkZ2V0Lk1lbnUpe2o9WUFIT08ud2lkZ2V0Lk1lbnV9dmFyIHE9WUFIT08ud2lkZ2V0LkJ1dHRvbi5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLHAsbjtpZihhcmd1bWVudHMubGVuZ3RoPT0xJiYhaS5pc1N0cmluZyhyKSYmIXIubm9kZU5hbWUpe2lmKCFyLmlkKXtyLmlkPWcuZ2VuZXJhdGVJZCgpO1lBSE9PLmxvZygnTm8gdmFsdWUgc3BlY2lmaWVkIGZvciB0aGUgYnV0dG9uXCdzICJpZCIgYXR0cmlidXRlLiBTZXR0aW5nIGJ1dHRvbiBpZCB0byAiJytyLmlkKyciLicsImluZm8iLHRoaXMudG9TdHJpbmcoKSl9WUFIT08ubG9nKCJObyBzb3VyY2UgSFRNTCBlbGVtZW50LiAgQnVpbGRpbmcgdGhlIGJ1dHRvbiB1c2luZyB0aGUgc2V0IG9mIGNvbmZpZ3VyYXRpb24gYXR0cmlidXRlcy4iLCJpbmZvIix0aGlzLnRvU3RyaW5nKCkpO3EuY2FsbCh0aGlzLCh0aGlzLmNyZWF0ZUJ1dHRvbkVsZW1lbnQoci50eXBlKSkscil9ZWxzZXtwPXtlbGVtZW50Om51bGwsYXR0cmlidXRlczoob3x8e30pfTtpZihpLmlzU3RyaW5nKHIpKXtuPWcuZ2V0KHIpO2lmKG4pe2lmKCFwLmF0dHJpYnV0ZXMuaWQpe3AuYXR0cmlidXRlcy5pZD1yfVlBSE9PLmxvZygiQnVpbGRpbmcgdGhlIGJ1dHRvbiB1c2luZyBhbiBleGlzdGluZyBIVE1MIGVsZW1lbnQgYXMgYSBzb3VyY2UgZWxlbWVudC4iLCJpbmZvIix0aGlzLnRvU3RyaW5nKCkpO3AuYXR0cmlidXRlcy5zcmNlbGVtZW50PW47YS5jYWxsKHRoaXMscCk7aWYoIXAuZWxlbWVudCl7WUFIT08ubG9nKCJTb3VyY2UgZWxlbWVudCBjb3VsZCBub3QgYmUgdXNlZCBhcyBpcy4gIENyZWF0aW5nIGEgbmV3IEhUTUwgZWxlbWVudCBmb3IgdGhlIGJ1dHRvbi4iLCJpbmZvIix0aGlzLnRvU3RyaW5nKCkpO3AuZWxlbWVudD10aGlzLmNyZWF0ZUJ1dHRvbkVsZW1lbnQocC5hdHRyaWJ1dGVzLnR5cGUpfXEuY2FsbCh0aGlzLHAuZWxlbWVudCxwLmF0dHJpYnV0ZXMpfX1lbHNle2lmKHIubm9kZU5hbWUpe2lmKCFwLmF0dHJpYnV0ZXMuaWQpe2lmKHIuaWQpe3AuYXR0cmlidXRlcy5pZD1yLmlkfWVsc2V7cC5hdHRyaWJ1dGVzLmlkPWcuZ2VuZXJhdGVJZCgpO1lBSE9PLmxvZygnTm8gdmFsdWUgc3BlY2lmaWVkIGZvciB0aGUgYnV0dG9uXCdzICJpZCIgYXR0cmlidXRlLiBTZXR0aW5nIGJ1dHRvbiBpZCB0byAiJytwLmF0dHJpYnV0ZXMuaWQrJyIuJywiaW5mbyIsdGhpcy50b1N0cmluZygpKX19WUFIT08ubG9nKCJCdWlsZGluZyB0aGUgYnV0dG9uIHVzaW5nIGFuIGV4aXN0aW5nIEhUTUwgZWxlbWVudCBhcyBhIHNvdXJjZSBlbGVtZW50LiIsImluZm8iLHRoaXMudG9TdHJpbmcoKSk7cC5hdHRyaWJ1dGVzLnNyY2VsZW1lbnQ9cjthLmNhbGwodGhpcyxwKTtpZighcC5lbGVtZW50KXtZQUhPTy5sb2coIlNvdXJjZSBlbGVtZW50IGNvdWxkIG5vdCBiZSB1c2VkIGFzIGlzLiAgQ3JlYXRpbmcgYSBuZXcgSFRNTCBlbGVtZW50IGZvciB0aGUgYnV0dG9uLiIsImluZm8iLHRoaXMudG9TdHJpbmcoKSk7cC5lbGVtZW50PXRoaXMuY3JlYXRlQnV0dG9uRWxlbWVudChwLmF0dHJpYnV0ZXMudHlwZSl9cS5jYWxsKHRoaXMscC5lbGVtZW50LHAuYXR0cmlidXRlcyl9fX19O1lBSE9PLmV4dGVuZChZQUhPTy53aWRnZXQuQnV0dG9uLFlBSE9PLnV0aWwuRWxlbWVudCx7X2J1dHRvbjpudWxsLF9tZW51Om51bGwsX2hpZGRlbkZpZWxkczpudWxsLF9vbmNsaWNrQXR0cmlidXRlVmFsdWU6bnVsbCxfYWN0aXZhdGlvbktleVByZXNzZWQ6ZmFsc2UsX2FjdGl2YXRpb25CdXR0b25QcmVzc2VkOmZhbHNlLF9oYXNLZXlFdmVudEhhbmRsZXJzOmZhbHNlLF9oYXNNb3VzZUV2ZW50SGFuZGxlcnM6ZmFsc2UsX25PcHRpb25SZWdpb25YOjAsQ0xBU1NfTkFNRV9QUkVGSVg6Inl1aS0iLE5PREVfTkFNRToiU1BBTiIsQ0hFQ0tfQUNUSVZBVElPTl9LRVlTOlszMl0sQUNUSVZBVElPTl9LRVlTOlsxMywzMl0sT1BUSU9OX0FSRUFfV0lEVEg6MjAsQ1NTX0NMQVNTX05BTUU6ImJ1dHRvbiIsX3NldFR5cGU6ZnVuY3Rpb24obil7aWYobj09InNwbGl0Iil7dGhpcy5vbigib3B0aW9uIix0aGlzLl9vbk9wdGlvbil9fSxfc2V0TGFiZWw6ZnVuY3Rpb24obyl7dGhpcy5fYnV0dG9uLmlubmVySFRNTD1vO3ZhciBwLG49bC5nZWNrbztpZihuJiZuPDEuOSYmZy5pbkRvY3VtZW50KHRoaXMuZ2V0KCJlbGVtZW50IikpKXtwPSh0aGlzLkNMQVNTX05BTUVfUFJFRklYK3RoaXMuQ1NTX0NMQVNTX05BTUUpO3RoaXMucmVtb3ZlQ2xhc3MocCk7aS5sYXRlcigwLHRoaXMsdGhpcy5hZGRDbGFzcyxwKX19LF9zZXRUYWJJbmRleDpmdW5jdGlvbihuKXt0aGlzLl9idXR0b24udGFiSW5kZXg9bn0sX3NldFRpdGxlOmZ1bmN0aW9uKG4pe2lmKHRoaXMuZ2V0KCJ0eXBlIikhPSJsaW5rIil7dGhpcy5fYnV0dG9uLnRpdGxlPW59fSxfc2V0RGlzYWJsZWQ6ZnVuY3Rpb24obil7aWYodGhpcy5nZXQoInR5cGUiKSE9ImxpbmsiKXtpZihuKXtpZih0aGlzLl9tZW51KXt0aGlzLl9tZW51LmhpZGUoKX1pZih0aGlzLmhhc0ZvY3VzKCkpe3RoaXMuYmx1cigpfXRoaXMuX2J1dHRvbi5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwiZGlzYWJsZWQiKTt0aGlzLmFkZFN0YXRlQ1NTQ2xhc3NlcygiZGlzYWJsZWQiKTt0aGlzLnJlbW92ZVN0YXRlQ1NTQ2xhc3NlcygiaG92ZXIiKTt0aGlzLnJlbW92ZVN0YXRlQ1NTQ2xhc3NlcygiYWN0aXZlIik7dGhpcy5yZW1vdmVTdGF0ZUNTU0NsYXNzZXMoImZvY3VzIil9ZWxzZXt0aGlzLl9idXR0b24ucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpO3RoaXMucmVtb3ZlU3RhdGVDU1NDbGFzc2VzKCJkaXNhYmxlZCIpfX19LF9zZXRIcmVmOmZ1bmN0aW9uKG4pe2lmKHRoaXMuZ2V0KCJ0eXBlIik9PSJsaW5rIil7dGhpcy5fYnV0dG9uLmhyZWY9bn19LF9zZXRUYXJnZXQ6ZnVuY3Rpb24obil7aWYodGhpcy5nZXQoInR5cGUiKT09ImxpbmsiKXt0aGlzLl9idXR0b24uc2V0QXR0cmlidXRlKCJ0YXJnZXQiLG4pfX0sX3NldENoZWNrZWQ6ZnVuY3Rpb24obil7dmFyIG89dGhpcy5nZXQoInR5cGUiKTtpZihvPT0iY2hlY2tib3gifHxvPT0icmFkaW8iKXtpZihuKXt0aGlzLmFkZFN0YXRlQ1NTQ2xhc3NlcygiY2hlY2tlZCIpfWVsc2V7dGhpcy5yZW1vdmVTdGF0ZUNTU0NsYXNzZXMoImNoZWNrZWQiKX19fSxfc2V0TWVudTpmdW5jdGlvbih1KXt2YXIgcD10aGlzLmdldCgibGF6eWxvYWRtZW51Iikscj10aGlzLmdldCgiZWxlbWVudCIpLG4sdz1mYWxzZSx4LG8scTtmdW5jdGlvbiB2KCl7eC5yZW5kZXIoci5wYXJlbnROb2RlKTt0aGlzLnJlbW92ZUxpc3RlbmVyKCJhcHBlbmRUbyIsdil9ZnVuY3Rpb24gdCgpe3guY2ZnLnF1ZXVlUHJvcGVydHkoImNvbnRhaW5lciIsci5wYXJlbnROb2RlKTt0aGlzLnJlbW92ZUxpc3RlbmVyKCJhcHBlbmRUbyIsdCl9ZnVuY3Rpb24gcygpe3ZhciB5O2lmKHgpe2cuYWRkQ2xhc3MoeC5lbGVtZW50LHRoaXMuZ2V0KCJtZW51Y2xhc3NuYW1lIikpO2cuYWRkQ2xhc3MoeC5lbGVtZW50LHRoaXMuQ0xBU1NfTkFNRV9QUkVGSVgrdGhpcy5nZXQoInR5cGUiKSsiLWJ1dHRvbi1tZW51Iik7eC5zaG93RXZlbnQuc3Vic2NyaWJlKHRoaXMuX29uTWVudVNob3csbnVsbCx0aGlzKTt4LmhpZGVFdmVudC5zdWJzY3JpYmUodGhpcy5fb25NZW51SGlkZSxudWxsLHRoaXMpO3gucmVuZGVyRXZlbnQuc3Vic2NyaWJlKHRoaXMuX29uTWVudVJlbmRlcixudWxsLHRoaXMpO2lmKGomJnggaW5zdGFuY2VvZiBqKXtpZihwKXt5PXRoaXMuZ2V0KCJjb250YWluZXIiKTtpZih5KXt4LmNmZy5xdWV1ZVByb3BlcnR5KCJjb250YWluZXIiLHkpfWVsc2V7dGhpcy5vbigiYXBwZW5kVG8iLHQpfX14LmNmZy5xdWV1ZVByb3BlcnR5KCJjbGlja3RvaGlkZSIsZmFsc2UpO3gua2V5RG93bkV2ZW50LnN1YnNjcmliZSh0aGlzLl9vbk1lbnVLZXlEb3duLHRoaXMsdHJ1ZSk7eC5zdWJzY3JpYmUoImNsaWNrIix0aGlzLl9vbk1lbnVDbGljayx0aGlzLHRydWUpO3RoaXMub24oInNlbGVjdGVkTWVudUl0ZW1DaGFuZ2UiLHRoaXMuX29uU2VsZWN0ZWRNZW51SXRlbUNoYW5nZSk7cT14LnNyY0VsZW1lbnQ7aWYocSYmcS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpPT0iU0VMRUNUIil7cS5zdHlsZS5kaXNwbGF5PSJub25lIjtxLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocSl9fWVsc2V7aWYoYiYmeCBpbnN0YW5jZW9mIGIpe2lmKCFrKXtrPW5ldyBZQUhPTy53aWRnZXQuT3ZlcmxheU1hbmFnZXIoKX1rLnJlZ2lzdGVyKHgpfX10aGlzLl9tZW51PXg7aWYoIXcmJiFwKXtpZihnLmluRG9jdW1lbnQocikpe3gucmVuZGVyKHIucGFyZW50Tm9kZSkKfWVsc2V7dGhpcy5vbigiYXBwZW5kVG8iLHYpfX19fWlmKGIpe2lmKGope249ai5wcm90b3R5cGUuQ1NTX0NMQVNTX05BTUV9aWYodSYmaiYmKHUgaW5zdGFuY2VvZiBqKSl7eD11O3c9dHJ1ZTtzLmNhbGwodGhpcyl9ZWxzZXtpZihiJiZ1JiYodSBpbnN0YW5jZW9mIGIpKXt4PXU7dz10cnVlO3guY2ZnLnF1ZXVlUHJvcGVydHkoInZpc2libGUiLGZhbHNlKTtzLmNhbGwodGhpcyl9ZWxzZXtpZihqJiZpLmlzQXJyYXkodSkpe3g9bmV3IGooZy5nZW5lcmF0ZUlkKCkse2xhenlsb2FkOnAsaXRlbWRhdGE6dX0pO3RoaXMuX21lbnU9eDt0aGlzLm9uKCJhcHBlbmRUbyIscyl9ZWxzZXtpZihpLmlzU3RyaW5nKHUpKXtvPWcuZ2V0KHUpO2lmKG8pe2lmKGomJmcuaGFzQ2xhc3MobyxuKXx8by5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpPT0iU0VMRUNUIil7eD1uZXcgaih1LHtsYXp5bG9hZDpwfSk7cy5jYWxsKHRoaXMpfWVsc2V7aWYoYil7eD1uZXcgYih1LHt2aXNpYmxlOmZhbHNlfSk7cy5jYWxsKHRoaXMpfX19fWVsc2V7aWYodSYmdS5ub2RlTmFtZSl7aWYoaiYmZy5oYXNDbGFzcyh1LG4pfHx1Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk9PSJTRUxFQ1QiKXt4PW5ldyBqKHUse2xhenlsb2FkOnB9KTtzLmNhbGwodGhpcyl9ZWxzZXtpZihiKXtpZighdS5pZCl7Zy5nZW5lcmF0ZUlkKHUpfXg9bmV3IGIodSx7dmlzaWJsZTpmYWxzZX0pO3MuY2FsbCh0aGlzKX19fX19fX19fSxfc2V0T25DbGljazpmdW5jdGlvbihuKXtpZih0aGlzLl9vbmNsaWNrQXR0cmlidXRlVmFsdWUmJih0aGlzLl9vbmNsaWNrQXR0cmlidXRlVmFsdWUhPW4pKXt0aGlzLnJlbW92ZUxpc3RlbmVyKCJjbGljayIsdGhpcy5fb25jbGlja0F0dHJpYnV0ZVZhbHVlLmZuKTt0aGlzLl9vbmNsaWNrQXR0cmlidXRlVmFsdWU9bnVsbH1pZighdGhpcy5fb25jbGlja0F0dHJpYnV0ZVZhbHVlJiZpLmlzT2JqZWN0KG4pJiZpLmlzRnVuY3Rpb24obi5mbikpe3RoaXMub24oImNsaWNrIixuLmZuLG4ub2JqLG4uc2NvcGUpO3RoaXMuX29uY2xpY2tBdHRyaWJ1dGVWYWx1ZT1ufX0sX2lzQWN0aXZhdGlvbktleTpmdW5jdGlvbihuKXt2YXIgcz10aGlzLmdldCgidHlwZSIpLG89KHM9PSJjaGVja2JveCJ8fHM9PSJyYWRpbyIpP3RoaXMuQ0hFQ0tfQUNUSVZBVElPTl9LRVlTOnRoaXMuQUNUSVZBVElPTl9LRVlTLHE9by5sZW5ndGgscj1mYWxzZSxwO2lmKHE+MCl7cD1xLTE7ZG97aWYobj09b1twXSl7cj10cnVlO2JyZWFrfX13aGlsZShwLS0pfXJldHVybiByfSxfaXNTcGxpdEJ1dHRvbk9wdGlvbktleTpmdW5jdGlvbihwKXt2YXIgbz0obS5nZXRDaGFyQ29kZShwKT09NDApO3ZhciBuPWZ1bmN0aW9uKHEpe20ucHJldmVudERlZmF1bHQocSk7dGhpcy5yZW1vdmVMaXN0ZW5lcigia2V5cHJlc3MiLG4pfTtpZihvKXtpZihsLm9wZXJhKXt0aGlzLm9uKCJrZXlwcmVzcyIsbil9bS5wcmV2ZW50RGVmYXVsdChwKX1yZXR1cm4gb30sX2FkZExpc3RlbmVyc1RvRm9ybTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0Rm9ybSgpLHM9WUFIT08ud2lkZ2V0LkJ1dHRvbi5vbkZvcm1LZXlQcmVzcyxyLG4scSxwLG87aWYodCl7bS5vbih0LCJyZXNldCIsdGhpcy5fb25Gb3JtUmVzZXQsbnVsbCx0aGlzKTttLm9uKHQsInN1Ym1pdCIsdGhpcy5fb25Gb3JtU3VibWl0LG51bGwsdGhpcyk7bj10aGlzLmdldCgic3JjZWxlbWVudCIpO2lmKHRoaXMuZ2V0KCJ0eXBlIik9PSJzdWJtaXQifHwobiYmbi50eXBlPT0ic3VibWl0Iikpe3E9bS5nZXRMaXN0ZW5lcnModCwia2V5cHJlc3MiKTtyPWZhbHNlO2lmKHEpe3A9cS5sZW5ndGg7aWYocD4wKXtvPXAtMTtkb3tpZihxW29dLmZuPT1zKXtyPXRydWU7YnJlYWt9fXdoaWxlKG8tLSl9fWlmKCFyKXttLm9uKHQsImtleXByZXNzIixzKX19fX0sX3Nob3dNZW51OmZ1bmN0aW9uKHIpe2lmKFlBSE9PLndpZGdldC5NZW51TWFuYWdlcil7WUFIT08ud2lkZ2V0Lk1lbnVNYW5hZ2VyLmhpZGVWaXNpYmxlKCl9aWYoayl7ay5oaWRlQWxsKCl9dmFyIG49dGhpcy5fbWVudSxxPXRoaXMuZ2V0KCJtZW51YWxpZ25tZW50IikscD10aGlzLmdldCgiZm9jdXNtZW51IiksbztpZih0aGlzLl9yZW5kZXJlZE1lbnUpe24uY2ZnLnNldFByb3BlcnR5KCJjb250ZXh0IixbdGhpcy5nZXQoImVsZW1lbnQiKSxxWzBdLHFbMV1dKTtuLmNmZy5zZXRQcm9wZXJ0eSgicHJldmVudGNvbnRleHRvdmVybGFwIix0cnVlKTtuLmNmZy5zZXRQcm9wZXJ0eSgiY29uc3RyYWludG92aWV3cG9ydCIsdHJ1ZSl9ZWxzZXtuLmNmZy5xdWV1ZVByb3BlcnR5KCJjb250ZXh0IixbdGhpcy5nZXQoImVsZW1lbnQiKSxxWzBdLHFbMV1dKTtuLmNmZy5xdWV1ZVByb3BlcnR5KCJwcmV2ZW50Y29udGV4dG92ZXJsYXAiLHRydWUpO24uY2ZnLnF1ZXVlUHJvcGVydHkoImNvbnN0cmFpbnRvdmlld3BvcnQiLHRydWUpfXRoaXMuZm9jdXMoKTtpZihqJiZuJiYobiBpbnN0YW5jZW9mIGopKXtvPW4uZm9jdXM7bi5mb2N1cz1mdW5jdGlvbigpe307aWYodGhpcy5fcmVuZGVyZWRNZW51KXtuLmNmZy5zZXRQcm9wZXJ0eSgibWluc2Nyb2xsaGVpZ2h0Iix0aGlzLmdldCgibWVudW1pbnNjcm9sbGhlaWdodCIpKTtuLmNmZy5zZXRQcm9wZXJ0eSgibWF4aGVpZ2h0Iix0aGlzLmdldCgibWVudW1heGhlaWdodCIpKX1lbHNle24uY2ZnLnF1ZXVlUHJvcGVydHkoIm1pbnNjcm9sbGhlaWdodCIsdGhpcy5nZXQoIm1lbnVtaW5zY3JvbGxoZWlnaHQiKSk7bi5jZmcucXVldWVQcm9wZXJ0eSgibWF4aGVpZ2h0Iix0aGlzLmdldCgibWVudW1heGhlaWdodCIpKX1uLnNob3coKTtuLmZvY3VzPW87bi5hbGlnbigpO2lmKHIudHlwZT09Im1vdXNlZG93biIpe20uc3RvcFByb3BhZ2F0aW9uKHIpfWlmKHApe24uZm9jdXMoKX19ZWxzZXtpZihiJiZuJiYobiBpbnN0YW5jZW9mIGIpKXtpZighdGhpcy5fcmVuZGVyZWRNZW51KXtuLnJlbmRlcih0aGlzLmdldCgiZWxlbWVudCIpLnBhcmVudE5vZGUpfW4uc2hvdygpO24uYWxpZ24oKX19fSxfaGlkZU1lbnU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9tZW51O2lmKG4pe24uaGlkZSgpfX0sX29uTW91c2VPdmVyOmZ1bmN0aW9uKG8pe3ZhciBxPXRoaXMuZ2V0KCJ0eXBlIiksbixwO2lmKHE9PT0ic3BsaXQiKXtuPXRoaXMuZ2V0KCJlbGVtZW50Iik7cD0oZy5nZXRYKG4pKyhuLm9mZnNldFdpZHRoLXRoaXMuT1BUSU9OX0FSRUFfV0lEVEgpKTt0aGlzLl9uT3B0aW9uUmVnaW9uWD1wfWlmKCF0aGlzLl9oYXNNb3VzZUV2ZW50SGFuZGxlcnMpe2lmKHE9PT0ic3BsaXQiKXt0aGlzLm9uKCJtb3VzZW1vdmUiLHRoaXMuX29uTW91c2VNb3ZlKX10aGlzLm9uKCJtb3VzZW91dCIsdGhpcy5fb25Nb3VzZU91dCk7dGhpcy5faGFzTW91c2VFdmVudEhhbmRsZXJzPXRydWV9dGhpcy5hZGRTdGF0ZUNTU0NsYXNzZXMoImhvdmVyIik7aWYocT09PSJzcGxpdCImJihtLmdldFBhZ2VYKG8pPnApKXt0aGlzLmFkZFN0YXRlQ1NTQ2xhc3NlcygiaG92ZXJvcHRpb24iKX1pZih0aGlzLl9hY3RpdmF0aW9uQnV0dG9uUHJlc3NlZCl7dGhpcy5hZGRTdGF0ZUNTU0NsYXNzZXMoImFjdGl2ZSIpfWlmKHRoaXMuX2JPcHRpb25QcmVzc2VkKXt0aGlzLmFkZFN0YXRlQ1NTQ2xhc3NlcygiYWN0aXZlb3B0aW9uIil9aWYodGhpcy5pc0FjdGl2ZSgpfHx0aGlzLl9iT3B0aW9uUHJlc3NlZCl7bS5yZW1vdmVMaXN0ZW5lcihkb2N1bWVudCwibW91c2V1cCIsdGhpcy5fb25Eb2N1bWVudE1vdXNlVXApfX0sX29uTW91c2VNb3ZlOmZ1bmN0aW9uKG4pe3ZhciBvPXRoaXMuX25PcHRpb25SZWdpb25YO2lmKG8pe2lmKG0uZ2V0UGFnZVgobik+byl7dGhpcy5hZGRTdGF0ZUNTU0NsYXNzZXMoImhvdmVyb3B0aW9uIil9ZWxzZXt0aGlzLnJlbW92ZVN0YXRlQ1NTQ2xhc3NlcygiaG92ZXJvcHRpb24iKX19fSxfb25Nb3VzZU91dDpmdW5jdGlvbihuKXt2YXIgbz10aGlzLmdldCgidHlwZSIpO3RoaXMucmVtb3ZlU3RhdGVDU1NDbGFzc2VzKCJob3ZlciIpO2lmKG8hPSJtZW51Iil7dGhpcy5yZW1vdmVTdGF0ZUNTU0NsYXNzZXMoImFjdGl2ZSIpfWlmKHRoaXMuaXNBY3RpdmUoKXx8dGhpcy5fYk9wdGlvblByZXNzZWQpe20ub24oZG9jdW1lbnQsIm1vdXNldXAiLHRoaXMuX29uRG9jdW1lbnRNb3VzZVVwLG51bGwsdGhpcyl9aWYobz09PSJzcGxpdCImJihtLmdldFBhZ2VYKG4pPnRoaXMuX25PcHRpb25SZWdpb25YKSl7dGhpcy5yZW1vdmVTdGF0ZUNTU0NsYXNzZXMoImhvdmVyb3B0aW9uIil9fSxfb25Eb2N1bWVudE1vdXNlVXA6ZnVuY3Rpb24ocCl7dGhpcy5fYWN0aXZhdGlvbkJ1dHRvblByZXNzZWQ9ZmFsc2U7dGhpcy5fYk9wdGlvblByZXNzZWQ9ZmFsc2U7dmFyIHE9dGhpcy5nZXQoInR5cGUiKSxuLG87aWYocT09Im1lbnUifHxxPT0ic3BsaXQiKXtuPW0uZ2V0VGFyZ2V0KHApO289dGhpcy5fbWVudS5lbGVtZW50O2lmKG4hPW8mJiFnLmlzQW5jZXN0b3IobyxuKSl7dGhpcy5yZW1vdmVTdGF0ZUNTU0NsYXNzZXMoKHE9PSJtZW51Ij8iYWN0aXZlIjoiYWN0aXZlb3B0aW9uIikpO3RoaXMuX2hpZGVNZW51KCl9fW0ucmVtb3ZlTGlzdGVuZXIoZG9jdW1lbnQsIm1vdXNldXAiLHRoaXMuX29uRG9jdW1lbnRNb3VzZVVwKX0sX29uTW91c2VEb3duOmZ1bmN0aW9uKHApe3ZhciBxLG89dHJ1ZTtmdW5jdGlvbiBuKCl7dGhpcy5faGlkZU1lbnUoKTt0aGlzLnJlbW92ZUxpc3RlbmVyKCJtb3VzZXVwIixuKX1pZigocC53aGljaHx8cC5idXR0b24pPT0xKXtpZighdGhpcy5oYXNGb2N1cygpKXtpLmxhdGVyKDAsdGhpcyx0aGlzLmZvY3VzKX1xPXRoaXMuZ2V0KCJ0eXBlIik7aWYocT09InNwbGl0Iil7aWYobS5nZXRQYWdlWChwKT50aGlzLl9uT3B0aW9uUmVnaW9uWCl7dGhpcy5maXJlRXZlbnQoIm9wdGlvbiIscCk7bz1mYWxzZX1lbHNle3RoaXMuYWRkU3RhdGVDU1NDbGFzc2VzKCJhY3RpdmUiKTt0aGlzLl9hY3RpdmF0aW9uQnV0dG9uUHJlc3NlZD10cnVlfX1lbHNle2lmKHE9PSJtZW51Iil7aWYodGhpcy5pc0FjdGl2ZSgpKXt0aGlzLl9oaWRlTWVudSgpO3RoaXMuX2FjdGl2YXRpb25CdXR0b25QcmVzc2VkPWZhbHNlfWVsc2V7dGhpcy5fc2hvd01lbnUocCk7dGhpcy5fYWN0aXZhdGlvbkJ1dHRvblByZXNzZWQ9dHJ1ZX19ZWxzZXt0aGlzLmFkZFN0YXRlQ1NTQ2xhc3NlcygiYWN0aXZlIik7dGhpcy5fYWN0aXZhdGlvbkJ1dHRvblByZXNzZWQ9dHJ1ZX19aWYocT09InNwbGl0Inx8cT09Im1lbnUiKXt0aGlzLl9oaWRlTWVudVRpbWVyPWkubGF0ZXIoMjUwLHRoaXMsdGhpcy5vbixbIm1vdXNldXAiLG5dKX19cmV0dXJuIG99LF9vbk1vdXNlVXA6ZnVuY3Rpb24ocCl7dGhpcy5pbk1vdXNlRG93bj1mYWxzZTt2YXIgcT10aGlzLmdldCgidHlwZSIpLG49dGhpcy5faGlkZU1lbnVUaW1lcixvPXRydWU7aWYobil7bi5jYW5jZWwoKX1pZihxPT0iY2hlY2tib3gifHxxPT0icmFkaW8iKXtpZigocC53aGljaHx8cC5idXR0b24pIT0xKXtyZXR1cm59dGhpcy5zZXQoImNoZWNrZWQiLCEodGhpcy5nZXQoImNoZWNrZWQiKSkpfXRoaXMuX2FjdGl2YXRpb25CdXR0b25QcmVzc2VkPWZhbHNlO2lmKHEhPSJtZW51Iil7dGhpcy5yZW1vdmVTdGF0ZUNTU0NsYXNzZXMoImFjdGl2ZSIpfWlmKHE9PSJzcGxpdCImJm0uZ2V0UGFnZVgocCk+dGhpcy5fbk9wdGlvblJlZ2lvblgpe289ZmFsc2V9cmV0dXJuIG99LF9vbkZvY3VzOmZ1bmN0aW9uKG8pe3ZhciBuO3RoaXMuYWRkU3RhdGVDU1NDbGFzc2VzKCJmb2N1cyIpO2lmKHRoaXMuX2FjdGl2YXRpb25LZXlQcmVzc2VkKXt0aGlzLmFkZFN0YXRlQ1NTQ2xhc3NlcygiYWN0aXZlIil9Yz10aGlzO2lmKCF0aGlzLl9oYXNLZXlFdmVudEhhbmRsZXJzKXtuPXRoaXMuX2J1dHRvbjttLm9uKG4sImJsdXIiLHRoaXMuX29uQmx1cixudWxsLHRoaXMpO20ub24obiwia2V5ZG93biIsdGhpcy5fb25LZXlEb3duLG51bGwsdGhpcyk7bS5vbihuLCJrZXl1cCIsdGhpcy5fb25LZXlVcCxudWxsLHRoaXMpO3RoaXMuX2hhc0tleUV2ZW50SGFuZGxlcnM9dHJ1ZX10aGlzLmZpcmVFdmVudCgiZm9jdXMiLG8pfSxfb25CbHVyOmZ1bmN0aW9uKG4pe3RoaXMucmVtb3ZlU3RhdGVDU1NDbGFzc2VzKCJmb2N1cyIpO2lmKHRoaXMuZ2V0KCJ0eXBlIikhPSJtZW51Iil7dGhpcy5yZW1vdmVTdGF0ZUNTU0NsYXNzZXMoImFjdGl2ZSIpCn1pZih0aGlzLl9hY3RpdmF0aW9uS2V5UHJlc3NlZCl7bS5vbihkb2N1bWVudCwia2V5dXAiLHRoaXMuX29uRG9jdW1lbnRLZXlVcCxudWxsLHRoaXMpfWM9bnVsbDt0aGlzLmZpcmVFdmVudCgiYmx1ciIsbil9LF9vbkRvY3VtZW50S2V5VXA6ZnVuY3Rpb24obil7aWYodGhpcy5faXNBY3RpdmF0aW9uS2V5KG0uZ2V0Q2hhckNvZGUobikpKXt0aGlzLl9hY3RpdmF0aW9uS2V5UHJlc3NlZD1mYWxzZTttLnJlbW92ZUxpc3RlbmVyKGRvY3VtZW50LCJrZXl1cCIsdGhpcy5fb25Eb2N1bWVudEtleVVwKX19LF9vbktleURvd246ZnVuY3Rpb24obyl7dmFyIG49dGhpcy5fbWVudTtpZih0aGlzLmdldCgidHlwZSIpPT0ic3BsaXQiJiZ0aGlzLl9pc1NwbGl0QnV0dG9uT3B0aW9uS2V5KG8pKXt0aGlzLmZpcmVFdmVudCgib3B0aW9uIixvKX1lbHNle2lmKHRoaXMuX2lzQWN0aXZhdGlvbktleShtLmdldENoYXJDb2RlKG8pKSl7aWYodGhpcy5nZXQoInR5cGUiKT09Im1lbnUiKXt0aGlzLl9zaG93TWVudShvKX1lbHNle3RoaXMuX2FjdGl2YXRpb25LZXlQcmVzc2VkPXRydWU7dGhpcy5hZGRTdGF0ZUNTU0NsYXNzZXMoImFjdGl2ZSIpfX19aWYobiYmbi5jZmcuZ2V0UHJvcGVydHkoInZpc2libGUiKSYmbS5nZXRDaGFyQ29kZShvKT09Mjcpe24uaGlkZSgpO3RoaXMuZm9jdXMoKX19LF9vbktleVVwOmZ1bmN0aW9uKG4pe3ZhciBvO2lmKHRoaXMuX2lzQWN0aXZhdGlvbktleShtLmdldENoYXJDb2RlKG4pKSl7bz10aGlzLmdldCgidHlwZSIpO2lmKG89PSJjaGVja2JveCJ8fG89PSJyYWRpbyIpe3RoaXMuc2V0KCJjaGVja2VkIiwhKHRoaXMuZ2V0KCJjaGVja2VkIikpKX10aGlzLl9hY3RpdmF0aW9uS2V5UHJlc3NlZD1mYWxzZTtpZih0aGlzLmdldCgidHlwZSIpIT0ibWVudSIpe3RoaXMucmVtb3ZlU3RhdGVDU1NDbGFzc2VzKCJhY3RpdmUiKX19fSxfb25DbGljazpmdW5jdGlvbihwKXt2YXIgcj10aGlzLmdldCgidHlwZSIpLHEsbixvO3N3aXRjaChyKXtjYXNlInN1Ym1pdCI6aWYocC5yZXR1cm5WYWx1ZSE9PWZhbHNlKXt0aGlzLnN1Ym1pdEZvcm0oKX1icmVhaztjYXNlInJlc2V0IjpxPXRoaXMuZ2V0Rm9ybSgpO2lmKHEpe3EucmVzZXQoKX1icmVhaztjYXNlInNwbGl0IjppZih0aGlzLl9uT3B0aW9uUmVnaW9uWD4wJiYobS5nZXRQYWdlWChwKT50aGlzLl9uT3B0aW9uUmVnaW9uWCkpe289ZmFsc2V9ZWxzZXt0aGlzLl9oaWRlTWVudSgpO249dGhpcy5nZXQoInNyY2VsZW1lbnQiKTtpZihuJiZuLnR5cGU9PSJzdWJtaXQiJiZwLnJldHVyblZhbHVlIT09ZmFsc2Upe3RoaXMuc3VibWl0Rm9ybSgpfX1icmVha31yZXR1cm4gb30sX29uRGJsQ2xpY2s6ZnVuY3Rpb24obyl7dmFyIG49dHJ1ZTtpZih0aGlzLmdldCgidHlwZSIpPT0ic3BsaXQiJiZtLmdldFBhZ2VYKG8pPnRoaXMuX25PcHRpb25SZWdpb25YKXtuPWZhbHNlfXJldHVybiBufSxfb25BcHBlbmRUbzpmdW5jdGlvbihuKXtpLmxhdGVyKDAsdGhpcyx0aGlzLl9hZGRMaXN0ZW5lcnNUb0Zvcm0pfSxfb25Gb3JtUmVzZXQ6ZnVuY3Rpb24obyl7dmFyIHA9dGhpcy5nZXQoInR5cGUiKSxuPXRoaXMuX21lbnU7aWYocD09ImNoZWNrYm94Inx8cD09InJhZGlvIil7dGhpcy5yZXNldFZhbHVlKCJjaGVja2VkIil9aWYoaiYmbiYmKG4gaW5zdGFuY2VvZiBqKSl7dGhpcy5yZXNldFZhbHVlKCJzZWxlY3RlZE1lbnVJdGVtIil9fSxfb25Gb3JtU3VibWl0OmZ1bmN0aW9uKG4pe3RoaXMuY3JlYXRlSGlkZGVuRmllbGRzKCl9LF9vbkRvY3VtZW50TW91c2VEb3duOmZ1bmN0aW9uKHIpe3ZhciBvPW0uZ2V0VGFyZ2V0KHIpLHE9dGhpcy5nZXQoImVsZW1lbnQiKSxwPXRoaXMuX21lbnUuZWxlbWVudDtmdW5jdGlvbiBuKHQpe3ZhciB2LHMsdTtpZighdCl7cmV0dXJuIHRydWV9Zm9yKHY9MCxzPXQubGVuZ3RoO3Y8czt2Kyspe3U9dFt2XS5lbGVtZW50O2lmKG89PXV8fGcuaXNBbmNlc3Rvcih1LG8pKXtyZXR1cm4gdHJ1ZX1pZih0W3ZdJiZ0W3ZdLmdldFN1Ym1lbnVzKXtpZihuKHRbdl0uZ2V0U3VibWVudXMoKSkpe3JldHVybiB0cnVlfX19cmV0dXJuIGZhbHNlfWlmKG8hPXEmJiFnLmlzQW5jZXN0b3IocSxvKSYmbyE9cCYmIWcuaXNBbmNlc3RvcihwLG8pKXtpZih0aGlzLl9tZW51JiZ0aGlzLl9tZW51LmdldFN1Ym1lbnVzKXtpZighbih0aGlzLl9tZW51LmdldFN1Ym1lbnVzKCkpKXtyZXR1cm59fXRoaXMuX2hpZGVNZW51KCk7aWYobC5pZSYmKGwuaWU8OSkmJm8uZm9jdXMpe28uc2V0QWN0aXZlKCl9bS5yZW1vdmVMaXN0ZW5lcihkb2N1bWVudCwibW91c2Vkb3duIix0aGlzLl9vbkRvY3VtZW50TW91c2VEb3duKX19LF9vbk9wdGlvbjpmdW5jdGlvbihuKXtpZih0aGlzLmhhc0NsYXNzKHRoaXMuQ0xBU1NfTkFNRV9QUkVGSVgrInNwbGl0LWJ1dHRvbi1hY3RpdmVvcHRpb24iKSl7dGhpcy5faGlkZU1lbnUoKTt0aGlzLl9iT3B0aW9uUHJlc3NlZD1mYWxzZX1lbHNle3RoaXMuX3Nob3dNZW51KG4pO3RoaXMuX2JPcHRpb25QcmVzc2VkPXRydWV9fSxfb25NZW51U2hvdzpmdW5jdGlvbihuKXttLm9uKGRvY3VtZW50LCJtb3VzZWRvd24iLHRoaXMuX29uRG9jdW1lbnRNb3VzZURvd24sbnVsbCx0aGlzKTt2YXIgbz0odGhpcy5nZXQoInR5cGUiKT09InNwbGl0Iik/ImFjdGl2ZW9wdGlvbiI6ImFjdGl2ZSI7dGhpcy5hZGRTdGF0ZUNTU0NsYXNzZXMobyl9LF9vbk1lbnVIaWRlOmZ1bmN0aW9uKG4pe3ZhciBvPSh0aGlzLmdldCgidHlwZSIpPT0ic3BsaXQiKT8iYWN0aXZlb3B0aW9uIjoiYWN0aXZlIjt0aGlzLnJlbW92ZVN0YXRlQ1NTQ2xhc3NlcyhvKTtpZih0aGlzLmdldCgidHlwZSIpPT0ic3BsaXQiKXt0aGlzLl9iT3B0aW9uUHJlc3NlZD1mYWxzZX19LF9vbk1lbnVLZXlEb3duOmZ1bmN0aW9uKHAsbyl7dmFyIG49b1swXTtpZihtLmdldENoYXJDb2RlKG4pPT0yNyl7dGhpcy5mb2N1cygpO2lmKHRoaXMuZ2V0KCJ0eXBlIik9PSJzcGxpdCIpe3RoaXMuX2JPcHRpb25QcmVzc2VkPWZhbHNlfX19LF9vbk1lbnVSZW5kZXI6ZnVuY3Rpb24ocCl7dmFyIHM9dGhpcy5nZXQoImVsZW1lbnQiKSxvPXMucGFyZW50Tm9kZSxuPXRoaXMuX21lbnUscj1uLmVsZW1lbnQscT1uLnNyY0VsZW1lbnQsdDtpZihvIT1yLnBhcmVudE5vZGUpe28uYXBwZW5kQ2hpbGQocil9dGhpcy5fcmVuZGVyZWRNZW51PXRydWU7aWYocSYmcS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09InNlbGVjdCImJnEudmFsdWUpe3Q9bi5nZXRJdGVtKHEuc2VsZWN0ZWRJbmRleCk7dGhpcy5zZXQoInNlbGVjdGVkTWVudUl0ZW0iLHQsdHJ1ZSk7dGhpcy5fb25TZWxlY3RlZE1lbnVJdGVtQ2hhbmdlKHtuZXdWYWx1ZTp0fSl9fSxfb25NZW51Q2xpY2s6ZnVuY3Rpb24obyxuKXt2YXIgcT1uWzFdLHA7aWYocSl7dGhpcy5zZXQoInNlbGVjdGVkTWVudUl0ZW0iLHEpO3A9dGhpcy5nZXQoInNyY2VsZW1lbnQiKTtpZihwJiZwLnR5cGU9PSJzdWJtaXQiKXt0aGlzLnN1Ym1pdEZvcm0oKX10aGlzLl9oaWRlTWVudSgpfX0sX29uU2VsZWN0ZWRNZW51SXRlbUNoYW5nZTpmdW5jdGlvbihvKXt2YXIgcD1vLnByZXZWYWx1ZSxxPW8ubmV3VmFsdWUsbj10aGlzLkNMQVNTX05BTUVfUFJFRklYO2lmKHApe2cucmVtb3ZlQ2xhc3MocC5lbGVtZW50LChuKyJidXR0b24tc2VsZWN0ZWRtZW51aXRlbSIpKX1pZihxKXtnLmFkZENsYXNzKHEuZWxlbWVudCwobisiYnV0dG9uLXNlbGVjdGVkbWVudWl0ZW0iKSl9fSxfb25MYWJlbENsaWNrOmZ1bmN0aW9uKG4pe3RoaXMuZm9jdXMoKTt2YXIgbz10aGlzLmdldCgidHlwZSIpO2lmKG89PSJyYWRpbyJ8fG89PSJjaGVja2JveCIpe3RoaXMuc2V0KCJjaGVja2VkIiwoIXRoaXMuZ2V0KCJjaGVja2VkIikpKX19LGNyZWF0ZUJ1dHRvbkVsZW1lbnQ6ZnVuY3Rpb24obil7dmFyIHA9dGhpcy5OT0RFX05BTUUsbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KHApO28uaW5uZXJIVE1MPSI8IitwKycgY2xhc3M9ImZpcnN0LWNoaWxkIj4nKyhuPT0ibGluayI/IjxhPjwvYT4iOic8YnV0dG9uIHR5cGU9ImJ1dHRvbiI+PC9idXR0b24+JykrIjwvIitwKyI+IjtyZXR1cm4gb30sYWRkU3RhdGVDU1NDbGFzc2VzOmZ1bmN0aW9uKG8pe3ZhciBwPXRoaXMuZ2V0KCJ0eXBlIiksbj10aGlzLkNMQVNTX05BTUVfUFJFRklYO2lmKGkuaXNTdHJpbmcobykpe2lmKG8hPSJhY3RpdmVvcHRpb24iJiZvIT0iaG92ZXJvcHRpb24iKXt0aGlzLmFkZENsYXNzKG4rdGhpcy5DU1NfQ0xBU1NfTkFNRSsoIi0iK28pKX10aGlzLmFkZENsYXNzKG4rcCsoIi1idXR0b24tIitvKSl9fSxyZW1vdmVTdGF0ZUNTU0NsYXNzZXM6ZnVuY3Rpb24obyl7dmFyIHA9dGhpcy5nZXQoInR5cGUiKSxuPXRoaXMuQ0xBU1NfTkFNRV9QUkVGSVg7aWYoaS5pc1N0cmluZyhvKSl7dGhpcy5yZW1vdmVDbGFzcyhuK3RoaXMuQ1NTX0NMQVNTX05BTUUrKCItIitvKSk7dGhpcy5yZW1vdmVDbGFzcyhuK3ArKCItYnV0dG9uLSIrbykpfX0sY3JlYXRlSGlkZGVuRmllbGRzOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVIaWRkZW5GaWVsZHMoKTt2YXIgdj10aGlzLmdldEZvcm0oKSx6LG8scyx4LHksdCx1LG4scix3LHAscT1mYWxzZTtpZih2JiYhdGhpcy5nZXQoImRpc2FibGVkIikpe289dGhpcy5nZXQoInR5cGUiKTtzPShvPT0iY2hlY2tib3gifHxvPT0icmFkaW8iKTtpZigocyYmdGhpcy5nZXQoImNoZWNrZWQiKSl8fChlPT10aGlzKSl7WUFIT08ubG9nKCJDcmVhdGluZyBoaWRkZW4gZmllbGQuIiwiaW5mbyIsdGhpcy50b1N0cmluZygpKTt6PWYoKHM/bzoiaGlkZGVuIiksdGhpcy5nZXQoIm5hbWUiKSx0aGlzLmdldCgidmFsdWUiKSx0aGlzLmdldCgiY2hlY2tlZCIpKTtpZih6KXtpZihzKXt6LnN0eWxlLmRpc3BsYXk9Im5vbmUifXYuYXBwZW5kQ2hpbGQoeil9fXg9dGhpcy5fbWVudTtpZihqJiZ4JiYoeCBpbnN0YW5jZW9mIGopKXtZQUhPTy5sb2coIkNyZWF0aW5nIGhpZGRlbiBmaWVsZCBmb3IgbWVudS4iLCJpbmZvIix0aGlzLnRvU3RyaW5nKCkpO3k9dGhpcy5nZXQoInNlbGVjdGVkTWVudUl0ZW0iKTtwPXguc3JjRWxlbWVudDtxPShwJiZwLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk9PSJTRUxFQ1QiKTtpZih5KXt1PSh5LnZhbHVlPT09bnVsbHx8eS52YWx1ZT09PSIiKT95LmNmZy5nZXRQcm9wZXJ0eSgidGV4dCIpOnkudmFsdWU7dD10aGlzLmdldCgibmFtZSIpO2lmKHEpe3c9cC5uYW1lfWVsc2V7aWYodCl7dz0odCsiX29wdGlvbnMiKX19aWYodSYmdyl7bj1mKCJoaWRkZW4iLHcsdSk7di5hcHBlbmRDaGlsZChuKX19ZWxzZXtpZihxKXtuPXYuYXBwZW5kQ2hpbGQocCl9fX1pZih6JiZuKXt0aGlzLl9oaWRkZW5GaWVsZHM9W3osbl19ZWxzZXtpZigheiYmbil7dGhpcy5faGlkZGVuRmllbGRzPW59ZWxzZXtpZih6JiYhbil7dGhpcy5faGlkZGVuRmllbGRzPXp9fX1yPXRoaXMuX2hpZGRlbkZpZWxkc31yZXR1cm4gcn0scmVtb3ZlSGlkZGVuRmllbGRzOmZ1bmN0aW9uKCl7dmFyIHE9dGhpcy5faGlkZGVuRmllbGRzLG8scDtmdW5jdGlvbiBuKHIpe2lmKGcuaW5Eb2N1bWVudChyKSl7ci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHIpfX1pZihxKXtpZihpLmlzQXJyYXkocSkpe289cS5sZW5ndGg7aWYobz4wKXtwPW8tMTtkb3tuKHFbcF0pfXdoaWxlKHAtLSl9fWVsc2V7bihxKX10aGlzLl9oaWRkZW5GaWVsZHM9bnVsbH19LHN1Ym1pdEZvcm06ZnVuY3Rpb24oKXt2YXIgcT10aGlzLmdldEZvcm0oKSxwPXRoaXMuZ2V0KCJzcmNlbGVtZW50Iiksbz1mYWxzZSxuO2lmKHEpe2lmKHRoaXMuZ2V0KCJ0eXBlIik9PSJzdWJtaXQifHwocCYmcC50eXBlPT0ic3VibWl0Iikpe2U9dGhpc31pZihsLmllJiYobC5pZTw5KSl7bz1xLmZpcmVFdmVudCgib25zdWJtaXQiKX1lbHNle249ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTtuLmluaXRFdmVudCgic3VibWl0Iix0cnVlLHRydWUpO289cS5kaXNwYXRjaEV2ZW50KG4pfWlmKChsLmllfHxsLndlYmtpdCkmJm8pe3Euc3VibWl0KCl9fXJldHVybiBvfSxpbml0OmZ1bmN0aW9uKHAsRCl7dmFyIHY9RC50eXBlPT0ibGluayI/ImEiOiJidXR0b24iLEE9RC5zcmNlbGVtZW50LHM9cC5nZXRFbGVtZW50c0J5VGFnTmFtZSh2KVswXSx1OwppZighcyl7dT1wLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpWzBdO2lmKHUpe3M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7cy5zZXRBdHRyaWJ1dGUoInR5cGUiLCJidXR0b24iKTt1LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHMsdSl9fXRoaXMuX2J1dHRvbj1zO1lBSE9PLndpZGdldC5CdXR0b24uc3VwZXJjbGFzcy5pbml0LmNhbGwodGhpcyxwLEQpO3ZhciB0PXRoaXMuZ2V0KCJpZCIpLHo9dCsiLWJ1dHRvbiI7cy5pZD16O3ZhciB4LHE7dmFyIEU9ZnVuY3Rpb24oRil7cmV0dXJuKEYuaHRtbEZvcj09PXQpfTt2YXIgQz1mdW5jdGlvbigpe3Euc2V0QXR0cmlidXRlKChsLmllPyJodG1sRm9yIjoiZm9yIikseil9O2lmKEEmJnRoaXMuZ2V0KCJ0eXBlIikhPSJsaW5rIil7eD1nLmdldEVsZW1lbnRzQnkoRSwibGFiZWwiKTtpZihpLmlzQXJyYXkoeCkmJngubGVuZ3RoPjApe3E9eFswXX19ZFt0XT10aGlzO3ZhciBCPXRoaXMuQ0xBU1NfTkFNRV9QUkVGSVg7dGhpcy5hZGRDbGFzcyhCK3RoaXMuQ1NTX0NMQVNTX05BTUUpO3RoaXMuYWRkQ2xhc3MoQit0aGlzLmdldCgidHlwZSIpKyItYnV0dG9uIik7bS5vbih0aGlzLl9idXR0b24sImZvY3VzIix0aGlzLl9vbkZvY3VzLG51bGwsdGhpcyk7dGhpcy5vbigibW91c2VvdmVyIix0aGlzLl9vbk1vdXNlT3Zlcik7dGhpcy5vbigibW91c2Vkb3duIix0aGlzLl9vbk1vdXNlRG93bik7dGhpcy5vbigibW91c2V1cCIsdGhpcy5fb25Nb3VzZVVwKTt0aGlzLm9uKCJjbGljayIsdGhpcy5fb25DbGljayk7dmFyIHI9dGhpcy5nZXQoIm9uY2xpY2siKTt0aGlzLnNldCgib25jbGljayIsbnVsbCk7dGhpcy5zZXQoIm9uY2xpY2siLHIpO3RoaXMub24oImRibGNsaWNrIix0aGlzLl9vbkRibENsaWNrKTt2YXIgbztpZihxKXtpZih0aGlzLmdldCgicmVwbGFjZUxhYmVsIikpe3RoaXMuc2V0KCJsYWJlbCIscS5pbm5lckhUTUwpO289cS5wYXJlbnROb2RlO28ucmVtb3ZlQ2hpbGQocSl9ZWxzZXt0aGlzLm9uKCJhcHBlbmRUbyIsQyk7bS5vbihxLCJjbGljayIsdGhpcy5fb25MYWJlbENsaWNrLG51bGwsdGhpcyk7dGhpcy5fbGFiZWw9cX19dGhpcy5vbigiYXBwZW5kVG8iLHRoaXMuX29uQXBwZW5kVG8pO3ZhciBuPXRoaXMuZ2V0KCJjb250YWluZXIiKSx5PXRoaXMuZ2V0KCJlbGVtZW50Iiksdz1nLmluRG9jdW1lbnQoeSk7aWYobil7aWYoQSYmQSE9eSl7bz1BLnBhcmVudE5vZGU7aWYobyl7by5yZW1vdmVDaGlsZChBKX19aWYoaS5pc1N0cmluZyhuKSl7bS5vbkNvbnRlbnRSZWFkeShuLHRoaXMuYXBwZW5kVG8sbix0aGlzKX1lbHNle3RoaXMub24oImluaXQiLGZ1bmN0aW9uKCl7aS5sYXRlcigwLHRoaXMsdGhpcy5hcHBlbmRUbyxuKX0pfX1lbHNle2lmKCF3JiZBJiZBIT15KXtvPUEucGFyZW50Tm9kZTtpZihvKXt0aGlzLmZpcmVFdmVudCgiYmVmb3JlQXBwZW5kVG8iLHt0eXBlOiJiZWZvcmVBcHBlbmRUbyIsdGFyZ2V0Om99KTtvLnJlcGxhY2VDaGlsZCh5LEEpO3RoaXMuZmlyZUV2ZW50KCJhcHBlbmRUbyIse3R5cGU6ImFwcGVuZFRvIix0YXJnZXQ6b30pfX1lbHNle2lmKHRoaXMuZ2V0KCJ0eXBlIikhPSJsaW5rIiYmdyYmQSYmQT09eSl7dGhpcy5fYWRkTGlzdGVuZXJzVG9Gb3JtKCl9fX1ZQUhPTy5sb2coIkluaXRpYWxpemF0aW9uIGNvbXBsZXRlZC4iLCJpbmZvIix0aGlzLnRvU3RyaW5nKCkpO3RoaXMuZmlyZUV2ZW50KCJpbml0Iix7dHlwZToiaW5pdCIsdGFyZ2V0OnRoaXN9KX0saW5pdEF0dHJpYnV0ZXM6ZnVuY3Rpb24obyl7dmFyIG49b3x8e307WUFIT08ud2lkZ2V0LkJ1dHRvbi5zdXBlcmNsYXNzLmluaXRBdHRyaWJ1dGVzLmNhbGwodGhpcyxuKTt0aGlzLnNldEF0dHJpYnV0ZUNvbmZpZygidHlwZSIse3ZhbHVlOihuLnR5cGV8fCJwdXNoIiksdmFsaWRhdG9yOmkuaXNTdHJpbmcsd3JpdGVPbmNlOnRydWUsbWV0aG9kOnRoaXMuX3NldFR5cGV9KTt0aGlzLnNldEF0dHJpYnV0ZUNvbmZpZygibGFiZWwiLHt2YWx1ZTpuLmxhYmVsLHZhbGlkYXRvcjppLmlzU3RyaW5nLG1ldGhvZDp0aGlzLl9zZXRMYWJlbH0pO3RoaXMuc2V0QXR0cmlidXRlQ29uZmlnKCJ2YWx1ZSIse3ZhbHVlOm4udmFsdWV9KTt0aGlzLnNldEF0dHJpYnV0ZUNvbmZpZygibmFtZSIse3ZhbHVlOm4ubmFtZSx2YWxpZGF0b3I6aS5pc1N0cmluZ30pO3RoaXMuc2V0QXR0cmlidXRlQ29uZmlnKCJ0YWJpbmRleCIse3ZhbHVlOm4udGFiaW5kZXgsdmFsaWRhdG9yOmkuaXNOdW1iZXIsbWV0aG9kOnRoaXMuX3NldFRhYkluZGV4fSk7dGhpcy5jb25maWd1cmVBdHRyaWJ1dGUoInRpdGxlIix7dmFsdWU6bi50aXRsZSx2YWxpZGF0b3I6aS5pc1N0cmluZyxtZXRob2Q6dGhpcy5fc2V0VGl0bGV9KTt0aGlzLnNldEF0dHJpYnV0ZUNvbmZpZygiZGlzYWJsZWQiLHt2YWx1ZToobi5kaXNhYmxlZHx8ZmFsc2UpLHZhbGlkYXRvcjppLmlzQm9vbGVhbixtZXRob2Q6dGhpcy5fc2V0RGlzYWJsZWR9KTt0aGlzLnNldEF0dHJpYnV0ZUNvbmZpZygiaHJlZiIse3ZhbHVlOm4uaHJlZix2YWxpZGF0b3I6aS5pc1N0cmluZyxtZXRob2Q6dGhpcy5fc2V0SHJlZn0pO3RoaXMuc2V0QXR0cmlidXRlQ29uZmlnKCJ0YXJnZXQiLHt2YWx1ZTpuLnRhcmdldCx2YWxpZGF0b3I6aS5pc1N0cmluZyxtZXRob2Q6dGhpcy5fc2V0VGFyZ2V0fSk7dGhpcy5zZXRBdHRyaWJ1dGVDb25maWcoImNoZWNrZWQiLHt2YWx1ZToobi5jaGVja2VkfHxmYWxzZSksdmFsaWRhdG9yOmkuaXNCb29sZWFuLG1ldGhvZDp0aGlzLl9zZXRDaGVja2VkfSk7dGhpcy5zZXRBdHRyaWJ1dGVDb25maWcoImNvbnRhaW5lciIse3ZhbHVlOm4uY29udGFpbmVyLHdyaXRlT25jZTp0cnVlfSk7dGhpcy5zZXRBdHRyaWJ1dGVDb25maWcoInNyY2VsZW1lbnQiLHt2YWx1ZTpuLnNyY2VsZW1lbnQsd3JpdGVPbmNlOnRydWV9KTt0aGlzLnNldEF0dHJpYnV0ZUNvbmZpZygibWVudSIse3ZhbHVlOm51bGwsbWV0aG9kOnRoaXMuX3NldE1lbnUsd3JpdGVPbmNlOnRydWV9KTt0aGlzLnNldEF0dHJpYnV0ZUNvbmZpZygibGF6eWxvYWRtZW51Iix7dmFsdWU6KG4ubGF6eWxvYWRtZW51PT09ZmFsc2U/ZmFsc2U6dHJ1ZSksdmFsaWRhdG9yOmkuaXNCb29sZWFuLHdyaXRlT25jZTp0cnVlfSk7dGhpcy5zZXRBdHRyaWJ1dGVDb25maWcoIm1lbnVjbGFzc25hbWUiLHt2YWx1ZToobi5tZW51Y2xhc3NuYW1lfHwodGhpcy5DTEFTU19OQU1FX1BSRUZJWCsiYnV0dG9uLW1lbnUiKSksdmFsaWRhdG9yOmkuaXNTdHJpbmcsbWV0aG9kOnRoaXMuX3NldE1lbnVDbGFzc05hbWUsd3JpdGVPbmNlOnRydWV9KTt0aGlzLnNldEF0dHJpYnV0ZUNvbmZpZygibWVudW1pbnNjcm9sbGhlaWdodCIse3ZhbHVlOihuLm1lbnVtaW5zY3JvbGxoZWlnaHR8fDkwKSx2YWxpZGF0b3I6aS5pc051bWJlcn0pO3RoaXMuc2V0QXR0cmlidXRlQ29uZmlnKCJtZW51bWF4aGVpZ2h0Iix7dmFsdWU6KG4ubWVudW1heGhlaWdodHx8MCksdmFsaWRhdG9yOmkuaXNOdW1iZXJ9KTt0aGlzLnNldEF0dHJpYnV0ZUNvbmZpZygibWVudWFsaWdubWVudCIse3ZhbHVlOihuLm1lbnVhbGlnbm1lbnR8fFsidGwiLCJibCJdKSx2YWxpZGF0b3I6aS5pc0FycmF5fSk7dGhpcy5zZXRBdHRyaWJ1dGVDb25maWcoInNlbGVjdGVkTWVudUl0ZW0iLHt2YWx1ZTpudWxsfSk7dGhpcy5zZXRBdHRyaWJ1dGVDb25maWcoIm9uY2xpY2siLHt2YWx1ZTpuLm9uY2xpY2ssbWV0aG9kOnRoaXMuX3NldE9uQ2xpY2t9KTt0aGlzLnNldEF0dHJpYnV0ZUNvbmZpZygiZm9jdXNtZW51Iix7dmFsdWU6KG4uZm9jdXNtZW51PT09ZmFsc2U/ZmFsc2U6dHJ1ZSksdmFsaWRhdG9yOmkuaXNCb29sZWFufSk7dGhpcy5zZXRBdHRyaWJ1dGVDb25maWcoInJlcGxhY2VMYWJlbCIse3ZhbHVlOmZhbHNlLHZhbGlkYXRvcjppLmlzQm9vbGVhbix3cml0ZU9uY2U6dHJ1ZX0pfSxmb2N1czpmdW5jdGlvbigpe2lmKCF0aGlzLmdldCgiZGlzYWJsZWQiKSl7dHJ5e3RoaXMuX2J1dHRvbi5mb2N1cygpfWNhdGNoKG4pe319fSxibHVyOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZ2V0KCJkaXNhYmxlZCIpKXt0cnl7dGhpcy5fYnV0dG9uLmJsdXIoKX1jYXRjaChuKXt9fX0saGFzRm9jdXM6ZnVuY3Rpb24oKXtyZXR1cm4oYz09dGhpcyl9LGlzQWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzQ2xhc3ModGhpcy5DTEFTU19OQU1FX1BSRUZJWCt0aGlzLkNTU19DTEFTU19OQU1FKyItYWN0aXZlIil9LGdldE1lbnU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVudX0sZ2V0Rm9ybTpmdW5jdGlvbigpe3ZhciBuPXRoaXMuX2J1dHRvbixvO2lmKG4pe289bi5mb3JtfXJldHVybiBvfSxnZXRIaWRkZW5GaWVsZHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGlkZGVuRmllbGRzfSxkZXN0cm95OmZ1bmN0aW9uKCl7WUFIT08ubG9nKCJEZXN0cm95aW5nIC4uLiIsImluZm8iLHRoaXMudG9TdHJpbmcoKSk7dmFyIHA9dGhpcy5nZXQoImVsZW1lbnQiKSxuPXRoaXMuX21lbnUsdD10aGlzLl9sYWJlbCxvLHM7aWYobil7WUFIT08ubG9nKCJEZXN0cm95aW5nIG1lbnUuIiwiaW5mbyIsdGhpcy50b1N0cmluZygpKTtpZihrJiZrLmZpbmQobikpe2sucmVtb3ZlKG4pfW4uZGVzdHJveSgpfVlBSE9PLmxvZygiUmVtb3ZpbmcgRE9NIGV2ZW50IGxpc3RlbmVycy4iLCJpbmZvIix0aGlzLnRvU3RyaW5nKCkpO20ucHVyZ2VFbGVtZW50KHApO20ucHVyZ2VFbGVtZW50KHRoaXMuX2J1dHRvbik7bS5yZW1vdmVMaXN0ZW5lcihkb2N1bWVudCwibW91c2V1cCIsdGhpcy5fb25Eb2N1bWVudE1vdXNlVXApO20ucmVtb3ZlTGlzdGVuZXIoZG9jdW1lbnQsImtleXVwIix0aGlzLl9vbkRvY3VtZW50S2V5VXApO20ucmVtb3ZlTGlzdGVuZXIoZG9jdW1lbnQsIm1vdXNlZG93biIsdGhpcy5fb25Eb2N1bWVudE1vdXNlRG93bik7aWYodCl7bS5yZW1vdmVMaXN0ZW5lcih0LCJjbGljayIsdGhpcy5fb25MYWJlbENsaWNrKTtvPXQucGFyZW50Tm9kZTtvLnJlbW92ZUNoaWxkKHQpfXZhciBxPXRoaXMuZ2V0Rm9ybSgpO2lmKHEpe20ucmVtb3ZlTGlzdGVuZXIocSwicmVzZXQiLHRoaXMuX29uRm9ybVJlc2V0KTttLnJlbW92ZUxpc3RlbmVyKHEsInN1Ym1pdCIsdGhpcy5fb25Gb3JtU3VibWl0KX1ZQUhPTy5sb2coIlJlbW92aW5nIEN1c3RvbUV2ZW50IGxpc3RlbmVycy4iLCJpbmZvIix0aGlzLnRvU3RyaW5nKCkpO3RoaXMudW5zdWJzY3JpYmVBbGwoKTtvPXAucGFyZW50Tm9kZTtpZihvKXtvLnJlbW92ZUNoaWxkKHApfVlBSE9PLmxvZygiUmVtb3ZpbmcgZnJvbSBkb2N1bWVudC4iLCJpbmZvIix0aGlzLnRvU3RyaW5nKCkpO2RlbGV0ZSBkW3RoaXMuZ2V0KCJpZCIpXTt2YXIgcj0odGhpcy5DTEFTU19OQU1FX1BSRUZJWCt0aGlzLkNTU19DTEFTU19OQU1FKTtzPWcuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShyLHRoaXMuTk9ERV9OQU1FLHEpO2lmKGkuaXNBcnJheShzKSYmcy5sZW5ndGg9PT0wKXttLnJlbW92ZUxpc3RlbmVyKHEsImtleXByZXNzIixZQUhPTy53aWRnZXQuQnV0dG9uLm9uRm9ybUtleVByZXNzKX1ZQUhPTy5sb2coIkRlc3Ryb3llZC4iLCJpbmZvIix0aGlzLnRvU3RyaW5nKCkpfSxmaXJlRXZlbnQ6ZnVuY3Rpb24obyxuKXt2YXIgcD1hcmd1bWVudHNbMF07aWYodGhpcy5ET01fRVZFTlRTW3BdJiZ0aGlzLmdldCgiZGlzYWJsZWQiKSl7cmV0dXJuIGZhbHNlfXJldHVybiBZQUhPTy53aWRnZXQuQnV0dG9uLnN1cGVyY2xhc3MuZmlyZUV2ZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4oIkJ1dHRvbiAiK3RoaXMuZ2V0KCJpZCIpKX19KTtZQUhPTy53aWRnZXQuQnV0dG9uLm9uRm9ybUtleVByZXNzPWZ1bmN0aW9uKHIpe3ZhciBwPW0uZ2V0VGFyZ2V0KHIpLHM9bS5nZXRDaGFyQ29kZShyKSxxPXAubm9kZU5hbWUmJnAubm9kZU5hbWUudG9VcHBlckNhc2UoKSxuPXAudHlwZSx0PWZhbHNlLHYseCxvLHc7ZnVuY3Rpb24gdShBKXt2YXIgeix5O3N3aXRjaChBLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkpe2Nhc2UiSU5QVVQiOmNhc2UiQlVUVE9OIjppZihBLnR5cGU9PSJzdWJtaXQiJiYhQS5kaXNhYmxlZCl7aWYoIXQmJiFvKXtvPUF9fWJyZWFrOwpkZWZhdWx0Ono9QS5pZDtpZih6KXt2PWRbel07aWYodil7dD10cnVlO2lmKCF2LmdldCgiZGlzYWJsZWQiKSl7eT12LmdldCgic3JjZWxlbWVudCIpO2lmKCF4JiYodi5nZXQoInR5cGUiKT09InN1Ym1pdCJ8fCh5JiZ5LnR5cGU9PSJzdWJtaXQiKSkpe3g9dn19fX1icmVha319aWYocz09MTMmJigocT09IklOUFVUIiYmKG49PSJ0ZXh0Inx8bj09InBhc3N3b3JkInx8bj09ImNoZWNrYm94Inx8bj09InJhZGlvInx8bj09ImZpbGUiKSl8fHE9PSJTRUxFQ1QiKSl7Zy5nZXRFbGVtZW50c0J5KHUsIioiLHRoaXMpO2lmKG8pe28uZm9jdXMoKX1lbHNle2lmKCFvJiZ4KXttLnByZXZlbnREZWZhdWx0KHIpO2lmKGwuaWUpe2lmKGwuaWU8OSl7eC5nZXQoImVsZW1lbnQiKS5maXJlRXZlbnQoIm9uY2xpY2siKX1lbHNle3c9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTt3LmluaXRFdmVudCgiY2xpY2siLHRydWUsdHJ1ZSk7eC5nZXQoImVsZW1lbnQiKS5kaXNwYXRjaEV2ZW50KHcpfX1lbHNle3c9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTt3LmluaXRFdmVudCgiY2xpY2siLHRydWUsdHJ1ZSk7aWYobC5nZWNrbzwxLjkpe3guZmlyZUV2ZW50KCJjbGljayIsdyl9ZWxzZXt4LmdldCgiZWxlbWVudCIpLmRpc3BhdGNoRXZlbnQodyl9fX19fX07WUFIT08ud2lkZ2V0LkJ1dHRvbi5hZGRIaWRkZW5GaWVsZHNUb0Zvcm09ZnVuY3Rpb24obil7dmFyIHI9WUFIT08ud2lkZ2V0LkJ1dHRvbi5wcm90b3R5cGUsdD1nLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoKHIuQ0xBU1NfTkFNRV9QUkVGSVgrci5DU1NfQ0xBU1NfTkFNRSksIioiLG4pLHE9dC5sZW5ndGgscyxvLHA7aWYocT4wKXtZQUhPTy5sb2coIkZvcm0gY29udGFpbnMgIitxKyIgWVVJIGJ1dHRvbnMuIiwiaW5mbyIsdGhpcy50b1N0cmluZygpKTtmb3IocD0wO3A8cTtwKyspe289dFtwXS5pZDtpZihvKXtzPWRbb107aWYocyl7cy5jcmVhdGVIaWRkZW5GaWVsZHMoKX19fX19O1lBSE9PLndpZGdldC5CdXR0b24uZ2V0QnV0dG9uPWZ1bmN0aW9uKG4pe3JldHVybiBkW25dfX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGM9WUFIT08udXRpbC5Eb20sYj1ZQUhPTy51dGlsLkV2ZW50LGQ9WUFIT08ubGFuZyxhPVlBSE9PLndpZGdldC5CdXR0b24sZT17fTtZQUhPTy53aWRnZXQuQnV0dG9uR3JvdXA9ZnVuY3Rpb24oaixoKXt2YXIgaT1ZQUhPTy53aWRnZXQuQnV0dG9uR3JvdXAuc3VwZXJjbGFzcy5jb25zdHJ1Y3RvcixrLGcsZjtpZihhcmd1bWVudHMubGVuZ3RoPT0xJiYhZC5pc1N0cmluZyhqKSYmIWoubm9kZU5hbWUpe2lmKCFqLmlkKXtmPWMuZ2VuZXJhdGVJZCgpO2ouaWQ9ZjtZQUhPTy5sb2coJ05vIHZhbHVlIHNwZWNpZmllZCBmb3IgdGhlIGJ1dHRvbiBncm91cFwncyAiaWQiIGF0dHJpYnV0ZS4gU2V0dGluZyBidXR0b24gZ3JvdXAgaWQgdG8gIicrZisnIi4nLCJpbmZvIil9dGhpcy5sb2dnZXI9bmV3IFlBSE9PLndpZGdldC5Mb2dXcml0ZXIoIkJ1dHRvbkdyb3VwICIrZik7dGhpcy5sb2dnZXIubG9nKCJObyBzb3VyY2UgSFRNTCBlbGVtZW50LiAgQnVpbGRpbmcgdGhlIGJ1dHRvbiBncm91cCB1c2luZyB0aGUgc2V0IG9mIGNvbmZpZ3VyYXRpb24gYXR0cmlidXRlcy4iKTtpLmNhbGwodGhpcywodGhpcy5fY3JlYXRlR3JvdXBFbGVtZW50KCkpLGopfWVsc2V7aWYoZC5pc1N0cmluZyhqKSl7Zz1jLmdldChqKTtpZihnKXtpZihnLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk9PXRoaXMuTk9ERV9OQU1FKXt0aGlzLmxvZ2dlcj1uZXcgWUFIT08ud2lkZ2V0LkxvZ1dyaXRlcigiQnV0dG9uR3JvdXAgIitqKTtpLmNhbGwodGhpcyxnLGgpfX19ZWxzZXtrPWoubm9kZU5hbWUudG9VcHBlckNhc2UoKTtpZihrJiZrPT10aGlzLk5PREVfTkFNRSl7aWYoIWouaWQpe2ouaWQ9Yy5nZW5lcmF0ZUlkKCk7WUFIT08ubG9nKCdObyB2YWx1ZSBzcGVjaWZpZWQgZm9yIHRoZSBidXR0b24gZ3JvdXBcJ3MgImlkIiBhdHRyaWJ1dGUuIFNldHRpbmcgYnV0dG9uIGdyb3VwIGlkIHRvICInK2ouaWQrJyIuJywid2FybiIpfXRoaXMubG9nZ2VyPW5ldyBZQUhPTy53aWRnZXQuTG9nV3JpdGVyKCJCdXR0b25Hcm91cCAiK2ouaWQpO2kuY2FsbCh0aGlzLGosaCl9fX19O1lBSE9PLmV4dGVuZChZQUhPTy53aWRnZXQuQnV0dG9uR3JvdXAsWUFIT08udXRpbC5FbGVtZW50LHtfYnV0dG9uczpudWxsLE5PREVfTkFNRToiRElWIixDTEFTU19OQU1FX1BSRUZJWDoieXVpLSIsQ1NTX0NMQVNTX05BTUU6ImJ1dHRvbmdyb3VwIixfY3JlYXRlR3JvdXBFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLk5PREVfTkFNRSk7cmV0dXJuIGZ9LF9zZXREaXNhYmxlZDpmdW5jdGlvbihnKXt2YXIgaD10aGlzLmdldENvdW50KCksZjtpZihoPjApe2Y9aC0xO2Rve3RoaXMuX2J1dHRvbnNbZl0uc2V0KCJkaXNhYmxlZCIsZyl9d2hpbGUoZi0tKX19LF9vbktleURvd246ZnVuY3Rpb24oayl7dmFyIGc9Yi5nZXRUYXJnZXQoayksaT1iLmdldENoYXJDb2RlKGspLGg9Zy5wYXJlbnROb2RlLnBhcmVudE5vZGUuaWQsaj1lW2hdLGY9LTE7aWYoaT09Mzd8fGk9PTM4KXtmPShqLmluZGV4PT09MCk/KHRoaXMuX2J1dHRvbnMubGVuZ3RoLTEpOihqLmluZGV4LTEpfWVsc2V7aWYoaT09Mzl8fGk9PTQwKXtmPShqLmluZGV4PT09KHRoaXMuX2J1dHRvbnMubGVuZ3RoLTEpKT8wOihqLmluZGV4KzEpfX1pZihmPi0xKXt0aGlzLmNoZWNrKGYpO3RoaXMuZ2V0QnV0dG9uKGYpLmZvY3VzKCl9fSxfb25BcHBlbmRUbzpmdW5jdGlvbihoKXt2YXIgaj10aGlzLl9idXR0b25zLGc9ai5sZW5ndGgsZjtmb3IoZj0wO2Y8ZztmKyspe2pbZl0uYXBwZW5kVG8odGhpcy5nZXQoImVsZW1lbnQiKSl9fSxfb25CdXR0b25DaGVja2VkQ2hhbmdlOmZ1bmN0aW9uKGcsZil7dmFyIGk9Zy5uZXdWYWx1ZSxoPXRoaXMuZ2V0KCJjaGVja2VkQnV0dG9uIik7aWYoaSYmaCE9Zil7aWYoaCl7aC5zZXQoImNoZWNrZWQiLGZhbHNlLHRydWUpfXRoaXMuc2V0KCJjaGVja2VkQnV0dG9uIixmKTt0aGlzLnNldCgidmFsdWUiLGYuZ2V0KCJ2YWx1ZSIpKX1lbHNle2lmKGgmJiFoLnNldCgiY2hlY2tlZCIpKXtoLnNldCgiY2hlY2tlZCIsdHJ1ZSx0cnVlKX19fSxpbml0OmZ1bmN0aW9uKGksaCl7dGhpcy5fYnV0dG9ucz1bXTtZQUhPTy53aWRnZXQuQnV0dG9uR3JvdXAuc3VwZXJjbGFzcy5pbml0LmNhbGwodGhpcyxpLGgpO3RoaXMuYWRkQ2xhc3ModGhpcy5DTEFTU19OQU1FX1BSRUZJWCt0aGlzLkNTU19DTEFTU19OQU1FKTt2YXIgaz0oWUFIT08ud2lkZ2V0LkJ1dHRvbi5wcm90b3R5cGUuQ0xBU1NfTkFNRV9QUkVGSVgrInJhZGlvLWJ1dHRvbiIpLGo9dGhpcy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGspO3RoaXMubG9nZ2VyLmxvZygiU2VhcmNoaW5nIGZvciBjaGlsZCBub2RlcyB3aXRoIHRoZSBjbGFzcyBuYW1lICIraysiIHRvIGFkZCB0byB0aGUgYnV0dG9uIGdyb3VwLiIpO2lmKGoubGVuZ3RoPjApe3RoaXMubG9nZ2VyLmxvZygiRm91bmQgIitqLmxlbmd0aCsiIGNoaWxkIG5vZGVzIHdpdGggdGhlIGNsYXNzIG5hbWUgIitrKyIgIEF0dGVtcHRpbmcgdG8gYWRkIHRvIGJ1dHRvbiBncm91cC4iKTt0aGlzLmFkZEJ1dHRvbnMoail9dGhpcy5sb2dnZXIubG9nKCdTZWFyY2hpbmcgZm9yIGNoaWxkIG5vZGVzIHdpdGggdGhlIHR5cGUgb2YgICJyYWRpbyIgdG8gYWRkIHRvIHRoZSBidXR0b24gZ3JvdXAuJyk7ZnVuY3Rpb24gZihsKXtyZXR1cm4obC50eXBlPT0icmFkaW8iKX1qPWMuZ2V0RWxlbWVudHNCeShmLCJpbnB1dCIsdGhpcy5nZXQoImVsZW1lbnQiKSk7aWYoai5sZW5ndGg+MCl7dGhpcy5sb2dnZXIubG9nKCJGb3VuZCAiK2oubGVuZ3RoKycgY2hpbGQgbm9kZXMgd2l0aCB0aGUgdHlwZSBvZiAicmFkaW8uIiAgQXR0ZW1wdGluZyB0byBhZGQgdG8gYnV0dG9uIGdyb3VwLicpO3RoaXMuYWRkQnV0dG9ucyhqKX10aGlzLm9uKCJrZXlkb3duIix0aGlzLl9vbktleURvd24pO3RoaXMub24oImFwcGVuZFRvIix0aGlzLl9vbkFwcGVuZFRvKTt2YXIgZz10aGlzLmdldCgiY29udGFpbmVyIik7aWYoZyl7aWYoZC5pc1N0cmluZyhnKSl7Yi5vbkNvbnRlbnRSZWFkeShnLGZ1bmN0aW9uKCl7dGhpcy5hcHBlbmRUbyhnKX0sbnVsbCx0aGlzKX1lbHNle3RoaXMuYXBwZW5kVG8oZyl9fXRoaXMubG9nZ2VyLmxvZygiSW5pdGlhbGl6YXRpb24gY29tcGxldGVkLiIpfSxpbml0QXR0cmlidXRlczpmdW5jdGlvbihnKXt2YXIgZj1nfHx7fTtZQUhPTy53aWRnZXQuQnV0dG9uR3JvdXAuc3VwZXJjbGFzcy5pbml0QXR0cmlidXRlcy5jYWxsKHRoaXMsZik7dGhpcy5zZXRBdHRyaWJ1dGVDb25maWcoIm5hbWUiLHt2YWx1ZTpmLm5hbWUsdmFsaWRhdG9yOmQuaXNTdHJpbmd9KTt0aGlzLnNldEF0dHJpYnV0ZUNvbmZpZygiZGlzYWJsZWQiLHt2YWx1ZTooZi5kaXNhYmxlZHx8ZmFsc2UpLHZhbGlkYXRvcjpkLmlzQm9vbGVhbixtZXRob2Q6dGhpcy5fc2V0RGlzYWJsZWR9KTt0aGlzLnNldEF0dHJpYnV0ZUNvbmZpZygidmFsdWUiLHt2YWx1ZTpmLnZhbHVlfSk7dGhpcy5zZXRBdHRyaWJ1dGVDb25maWcoImNvbnRhaW5lciIse3ZhbHVlOmYuY29udGFpbmVyLHdyaXRlT25jZTp0cnVlfSk7dGhpcy5zZXRBdHRyaWJ1dGVDb25maWcoImNoZWNrZWRCdXR0b24iLHt2YWx1ZTpudWxsfSl9LGFkZEJ1dHRvbjpmdW5jdGlvbihqKXt2YXIgbCxrLGcsZixoLGk7aWYoaiBpbnN0YW5jZW9mIGEmJmouZ2V0KCJ0eXBlIik9PSJyYWRpbyIpe2w9an1lbHNle2lmKCFkLmlzU3RyaW5nKGopJiYhai5ub2RlTmFtZSl7ai50eXBlPSJyYWRpbyI7bD1uZXcgYShqKX1lbHNle2w9bmV3IGEoaix7dHlwZToicmFkaW8ifSl9fWlmKGwpe2Y9dGhpcy5fYnV0dG9ucy5sZW5ndGg7aD1sLmdldCgibmFtZSIpO2k9dGhpcy5nZXQoIm5hbWUiKTtsLmluZGV4PWY7dGhpcy5fYnV0dG9uc1tmXT1sO2VbbC5nZXQoImlkIildPWw7aWYoaCE9aSl7bC5zZXQoIm5hbWUiLGkpfWlmKHRoaXMuZ2V0KCJkaXNhYmxlZCIpKXtsLnNldCgiZGlzYWJsZWQiLHRydWUpfWlmKGwuZ2V0KCJjaGVja2VkIikpe3RoaXMuc2V0KCJjaGVja2VkQnV0dG9uIixsKX1rPWwuZ2V0KCJlbGVtZW50Iik7Zz10aGlzLmdldCgiZWxlbWVudCIpO2lmKGsucGFyZW50Tm9kZSE9Zyl7Zy5hcHBlbmRDaGlsZChrKX1sLm9uKCJjaGVja2VkQ2hhbmdlIix0aGlzLl9vbkJ1dHRvbkNoZWNrZWRDaGFuZ2UsbCx0aGlzKTt0aGlzLmxvZ2dlci5sb2coIkJ1dHRvbiAiK2wuZ2V0KCJpZCIpKyIgYWRkZWQuIil9cmV0dXJuIGx9LGFkZEJ1dHRvbnM6ZnVuY3Rpb24oZyl7dmFyIGgsaixrLGY7aWYoZC5pc0FycmF5KGcpKXtoPWcubGVuZ3RoO2s9W107aWYoaD4wKXtmb3IoZj0wO2Y8aDtmKyspe2o9dGhpcy5hZGRCdXR0b24oZ1tmXSk7aWYoail7a1trLmxlbmd0aF09an19fX1yZXR1cm4ga30scmVtb3ZlQnV0dG9uOmZ1bmN0aW9uKGgpe3ZhciBqPXRoaXMuZ2V0QnV0dG9uKGgpLGcsZjtpZihqKXt0aGlzLmxvZ2dlci5sb2coIlJlbW92aW5nIGJ1dHRvbiAiK2ouZ2V0KCJpZCIpKyIuIik7dGhpcy5fYnV0dG9ucy5zcGxpY2UoaCwxKTtkZWxldGUgZVtqLmdldCgiaWQiKV07ai5yZW1vdmVMaXN0ZW5lcigiY2hlY2tlZENoYW5nZSIsdGhpcy5fb25CdXR0b25DaGVja2VkQ2hhbmdlKTtqLmRlc3Ryb3koKTtnPXRoaXMuX2J1dHRvbnMubGVuZ3RoO2lmKGc+MCl7Zj10aGlzLl9idXR0b25zLmxlbmd0aC0xO2Rve3RoaXMuX2J1dHRvbnNbZl0uaW5kZXg9Zn13aGlsZShmLS0pfXRoaXMubG9nZ2VyLmxvZygiQnV0dG9uICIrai5nZXQoImlkIikrIiByZW1vdmVkLiIpfX0sZ2V0QnV0dG9uOmZ1bmN0aW9uKGYpe3JldHVybiB0aGlzLl9idXR0b25zW2ZdfSxnZXRCdXR0b25zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1dHRvbnN9LGdldENvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1dHRvbnMubGVuZ3RofSxmb2N1czpmdW5jdGlvbihoKXt2YXIgaixnLGY7aWYoZC5pc051bWJlcihoKSl7aj10aGlzLl9idXR0b25zW2hdO2lmKGope2ouZm9jdXMoKX19ZWxzZXtnPXRoaXMuZ2V0Q291bnQoKTtmb3IoZj0wOwpmPGc7ZisrKXtqPXRoaXMuX2J1dHRvbnNbZl07aWYoIWouZ2V0KCJkaXNhYmxlZCIpKXtqLmZvY3VzKCk7YnJlYWt9fX19LGNoZWNrOmZ1bmN0aW9uKGYpe3ZhciBnPXRoaXMuZ2V0QnV0dG9uKGYpO2lmKGcpe2cuc2V0KCJjaGVja2VkIix0cnVlKX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmxvZ2dlci5sb2coIkRlc3Ryb3lpbmcuLi4iKTt2YXIgaj10aGlzLl9idXR0b25zLmxlbmd0aCxoPXRoaXMuZ2V0KCJlbGVtZW50IiksZj1oLnBhcmVudE5vZGUsZztpZihqPjApe2c9dGhpcy5fYnV0dG9ucy5sZW5ndGgtMTtkb3t0aGlzLl9idXR0b25zW2ddLmRlc3Ryb3koKX13aGlsZShnLS0pfXRoaXMubG9nZ2VyLmxvZygiUmVtb3ZpbmcgRE9NIGV2ZW50IGhhbmRsZXJzLiIpO2IucHVyZ2VFbGVtZW50KGgpO3RoaXMubG9nZ2VyLmxvZygiUmVtb3ZpbmcgZnJvbSBkb2N1bWVudC4iKTtmLnJlbW92ZUNoaWxkKGgpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybigiQnV0dG9uR3JvdXAgIit0aGlzLmdldCgiaWQiKSl9fSl9KSgpO1lBSE9PLnJlZ2lzdGVyKCJidXR0b24iLFlBSE9PLndpZGdldC5CdXR0b24se3ZlcnNpb246IjIuOS4wIixidWlsZDoiMjgwMCJ9KTs=",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 41408
        },
        "cache": {},
        "timings": {
          "send": 0,
          "wait": 5,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27305"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.874-06:00",
        "time": 84,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/yui/storage/storage-min.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 338,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:34 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "4048"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 14572,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "LyoKQ29weXJpZ2h0IChjKSAyMDExLCBZYWhvbyEgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLgpDb2RlIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgTGljZW5zZToKaHR0cDovL2RldmVsb3Blci55YWhvby5jb20veXVpL2xpY2Vuc2UuaHRtbAp2ZXJzaW9uOiAyLjkuMAoqLwooZnVuY3Rpb24oKXt2YXIgZz1ZQUhPTyxmPWcudXRpbCxlPWcubGFuZyxjLGQsYj0vXnR5cGU9KFx3KykvaSxhPS8mdmFsdWU9KC4qKS9pO2lmKCFmLlN0b3JhZ2Upe2M9ZnVuY3Rpb24oaCl7Zy5sb2coIkV4Y2VwdGlvbiBpbiBZQUhPTy51dGlsLlN0b3JhZ2UuPz8gLSBtdXN0IGJlIGV4dGVuZGVkIGJ5IGEgc3RvcmFnZSBlbmdpbmUiLnJlcGxhY2UoIj8/IixoKS5yZXBsYWNlKCI/PyIsdGhpcy5nZXROYW1lP3RoaXMuZ2V0TmFtZSgpOiJVbmtub3duIiksImVycm9yIik7fTtkPWZ1bmN0aW9uKGgsayxqKXt2YXIgaT10aGlzO2cuZW52Ll9pZF9jb3VudGVyKz0xO2kuX2NmZz1lLmlzT2JqZWN0KGopP2o6e307aS5fbG9jYXRpb249aDtpLl9uYW1lPWs7aS5pc1JlYWR5PWZhbHNlO2kuY3JlYXRlRXZlbnQoZC5DRV9SRUFEWSx7c2NvcGU6aSxmaXJlT25jZTp0cnVlfSk7aS5jcmVhdGVFdmVudChkLkNFX0NIQU5HRSx7c2NvcGU6aX0pO2kuc3Vic2NyaWJlKGQuQ0VfUkVBRFksZnVuY3Rpb24oKXtpLmlzUmVhZHk9dHJ1ZTt9KTt9O2QuQ0VfUkVBRFk9IllVSVN0b3JhZ2VSZWFkeSI7ZC5DRV9DSEFOR0U9IllVSVN0b3JhZ2VDaGFuZ2UiO2QucHJvdG90eXBlPXtDRV9SRUFEWTpkLkNFX1JFQURZLENFX0NIQU5HRTpkLkNFX0NIQU5HRSxfY2ZnOiIiLF9uYW1lOiIiLF9sb2NhdGlvbjoiIixsZW5ndGg6MCxpc1JlYWR5OmZhbHNlLGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fY2xlYXIoKTt0aGlzLmxlbmd0aD0wO30sZ2V0SXRlbTpmdW5jdGlvbihoKXtnLmxvZygiRmV0Y2hpbmcgaXRlbSBhdCAgIitoKTt2YXIgaT10aGlzLl9nZXRJdGVtKGgpO3JldHVybiBlLmlzVmFsdWUoaSk/dGhpcy5fZ2V0VmFsdWUoaSk6bnVsbDt9LGdldE5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmFtZTt9LGhhc0tleTpmdW5jdGlvbihoKXtyZXR1cm4gZS5pc1N0cmluZyhoKSYmdGhpcy5faGFzS2V5KGgpO30sa2V5OmZ1bmN0aW9uKGgpe2cubG9nKCJGZXRjaGluZyBrZXkgYXQgIitoKTtpZihlLmlzTnVtYmVyKGgpJiYtMTxoJiZ0aGlzLmxlbmd0aD5oKXt2YXIgaT10aGlzLl9rZXkoaCk7aWYoaSl7cmV0dXJuIGk7fX10aHJvdyAoIklOREVYX1NJWkVfRVJSIC0gU3RvcmFnZS5zZXRJdGVtIC0gVGhlIHByb3ZpZGVkIGluZGV4ICgiK2grIikgaXMgbm90IGF2YWlsYWJsZSIpO30scmVtb3ZlSXRlbTpmdW5jdGlvbihqKXtnLmxvZygicmVtb3ZpbmcgIitqKTt2YXIgaT10aGlzLGg7aWYoaS5oYXNLZXkoaikpe2g9aS5fZ2V0SXRlbShqKTtpZighaCl7aD1udWxsO31pLl9yZW1vdmVJdGVtKGopO2kuZmlyZUV2ZW50KGQuQ0VfQ0hBTkdFLG5ldyBmLlN0b3JhZ2VFdmVudChpLGosaCxudWxsLGYuU3RvcmFnZUV2ZW50LlRZUEVfUkVNT1ZFX0lURU0pKTt9ZWxzZXt9fSxzZXRJdGVtOmZ1bmN0aW9uKGosayl7Zy5sb2coIlNFVFRJTkcgIitrKyIgdG8gIitqKTtpZihlLmlzU3RyaW5nKGopKXt2YXIgaT10aGlzLGg9aS5fZ2V0SXRlbShqKTtpZighaCl7aD1udWxsO31pZihpLl9zZXRJdGVtKGosaS5fY3JlYXRlVmFsdWUoaykpKXtpLmZpcmVFdmVudChkLkNFX0NIQU5HRSxuZXcgZi5TdG9yYWdlRXZlbnQoaSxqLGgsayxpLmhhc0tleShqKT9mLlN0b3JhZ2VFdmVudC5UWVBFX1VQREFURV9JVEVNOmYuU3RvcmFnZUV2ZW50LlRZUEVfQUREX0lURU0pKTt9ZWxzZXt0aHJvdyAoIlFVT1RBX0VYQ0VFREVEX0VSUk9SIC0gU3RvcmFnZS5zZXRJdGVtIC0gVGhlIGNob29zZW4gc3RvcmFnZSBtZXRob2QgKCIraS5nZXROYW1lKCkrIikgaGFzIGV4Y2VlZGVkIGNhcGFjaXR5Iik7fX1lbHNle319LF9jbGVhcjpmdW5jdGlvbigpe2MoIl9jbGVhciIpO3JldHVybiIiO30sX2NyZWF0ZVZhbHVlOmZ1bmN0aW9uKGgpe3ZhciBpPShlLmlzTnVsbChoKXx8ZS5pc1VuZGVmaW5lZChoKSk/KCIiK2gpOnR5cGVvZiBoO3JldHVybiJ0eXBlPSIraSsiJnZhbHVlPSIrZW5jb2RlVVJJQ29tcG9uZW50KCIiK2gpO30sX2dldEl0ZW06ZnVuY3Rpb24oaCl7YygiX2dldEl0ZW0iKTtyZXR1cm4iIjt9LF9nZXRWYWx1ZTpmdW5jdGlvbihoKXt2YXIgaj1oLm1hdGNoKGIpWzFdLGk9aC5tYXRjaChhKVsxXTtzd2l0Y2goail7Y2FzZSJib29sZWFuIjpyZXR1cm4idHJ1ZSI9PWk7Y2FzZSJudW1iZXIiOnJldHVybiBwYXJzZUZsb2F0KGkpO2Nhc2UibnVsbCI6cmV0dXJuIG51bGw7ZGVmYXVsdDpyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGkpO319LF9rZXk6ZnVuY3Rpb24oaCl7YygiX2tleSIpO3JldHVybiIiO30sX2hhc0tleTpmdW5jdGlvbihoKXtyZXR1cm4gbnVsbCE9PXRoaXMuX2dldEl0ZW0oaCk7fSxfcmVtb3ZlSXRlbTpmdW5jdGlvbihoKXtjKCJfcmVtb3ZlSXRlbSIpO3JldHVybiIiO30sX3NldEl0ZW06ZnVuY3Rpb24oaCxpKXtjKCJfc2V0SXRlbSIpO3JldHVybiIiO319O2UuYXVnbWVudFByb3RvKGQsZi5FdmVudFByb3ZpZGVyKTtmLlN0b3JhZ2U9ZDt9fSgpKTsoZnVuY3Rpb24oKXt2YXIgaD1ZQUhPTy51dGlsLGU9WUFIT08ubGFuZyxkPXt9LGc9W10sZj17fSxiPWZ1bmN0aW9uKGkpe3JldHVybihpJiZpLmlzQXZhaWxhYmxlKCkpP2k6bnVsbDt9LGE9ZnVuY3Rpb24oaSxsLGspe3ZhciBqPWRbaStsLkVOR0lORV9OQU1FXTtpZighail7aj1uZXcgbChpLGspO2RbaStsLkVOR0lORV9OQU1FXT1qO31yZXR1cm4gajt9LGM9ZnVuY3Rpb24oaSl7c3dpdGNoKGkpe2Nhc2UgaC5TdG9yYWdlTWFuYWdlci5MT0NBVElPTl9MT0NBTDpjYXNlIGguU3RvcmFnZU1hbmFnZXIuTE9DQVRJT05fU0VTU0lPTjpyZXR1cm4gaTtkZWZhdWx0OnJldHVybiBoLlN0b3JhZ2VNYW5hZ2VyLkxPQ0FUSU9OX1NFU1NJT047fX07aC5TdG9yYWdlTWFuYWdlcj17TE9DQVRJT05fU0VTU0lPTjoic2Vzc2lvblN0b3JhZ2UiLExPQ0FUSU9OX0xPQ0FMOiJsb2NhbFN0b3JhZ2UiLGdldDpmdW5jdGlvbihxLGsscCl7dmFyIG49ZS5pc09iamVjdChwKT9wOnt9LG89YihmW3FdKSxtLGw7aWYoIW8mJiFuLmZvcmNlKXtpZihuLm9yZGVyKXtsPW4ub3JkZXIubGVuZ3RoO2ZvcihtPTA7bTxsJiYhbzttKz0xKXtvPWIobi5vcmRlclttXSk7fX1pZighbyl7bD1nLmxlbmd0aDtmb3IobT0wO208bCYmIW87bSs9MSl7bz1iKGdbbV0pO319fWlmKG8pe3JldHVybiBhKGMoayksbyxuLmVuZ2luZSk7fXRocm93ICgiWUFIT08udXRpbC5TdG9yYWdlTWFuYWdlci5nZXQgLSBObyBlbmdpbmUgYXZhaWxhYmxlLCBwbGVhc2UgaW5jbHVkZSBhbiBlbmdpbmUgYmVmb3JlIGNhbGxpbmcgdGhpcyBmdW5jdGlvbi4iKTt9LGdldEJ5dGVTaXplOmZ1bmN0aW9uKGkpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoIiIraSkubGVuZ3RoO30scmVnaXN0ZXI6ZnVuY3Rpb24oaSl7aWYoZS5pc0Z1bmN0aW9uKGkpJiZlLmlzRnVuY3Rpb24oaS5pc0F2YWlsYWJsZSkmJmUuaXNTdHJpbmcoaS5FTkdJTkVfTkFNRSkpe2ZbaS5FTkdJTkVfTkFNRV09aTtnLnB1c2goaSk7cmV0dXJuIHRydWU7fXJldHVybiBmYWxzZTt9fTtZQUhPTy5yZWdpc3RlcigiU3RvcmFnZU1hbmFnZXIiLGguU1dGU3RvcmUse3ZlcnNpb246IjIuOS4wIixidWlsZDoiMjgwMCJ9KTt9KCkpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGEoZSxkLGMsYixmKXt0aGlzLmtleT1kO3RoaXMub2xkVmFsdWU9Yzt0aGlzLm5ld1ZhbHVlPWI7dGhpcy51cmw9d2luZG93LmxvY2F0aW9uLmhyZWY7dGhpcy53aW5kb3c9d2luZG93O3RoaXMuc3RvcmFnZUFyZWE9ZTt0aGlzLnR5cGU9Zjt9WUFIT08ubGFuZy5hdWdtZW50T2JqZWN0KGEse1RZUEVfQUREX0lURU06ImFkZEl0ZW0iLFRZUEVfUkVNT1ZFX0lURU06InJlbW92ZUl0ZW0iLFRZUEVfVVBEQVRFX0lURU06InVwZGF0ZUl0ZW0ifSk7YS5wcm90b3R5cGU9e2tleTpudWxsLG5ld1ZhbHVlOm51bGwsb2xkVmFsdWU6bnVsbCxzb3VyY2U6bnVsbCxzdG9yYWdlQXJlYTpudWxsLHR5cGU6bnVsbCx1cmw6bnVsbH07WUFIT08udXRpbC5TdG9yYWdlRXZlbnQ9YTt9KCkpOyhmdW5jdGlvbigpe3ZhciBhPVlBSE9PLnV0aWw7YS5TdG9yYWdlRW5naW5lS2V5ZWQ9ZnVuY3Rpb24oKXthLlN0b3JhZ2VFbmdpbmVLZXllZC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9rZXlzPVtdO3RoaXMuX2tleU1hcD17fTt9O1lBSE9PLmxhbmcuZXh0ZW5kKGEuU3RvcmFnZUVuZ2luZUtleWVkLGEuU3RvcmFnZSx7X2tleXM6bnVsbCxfa2V5TWFwOm51bGwsX2FkZEtleTpmdW5jdGlvbihiKXtpZighdGhpcy5fa2V5TWFwLmhhc093blByb3BlcnR5KGIpKXt0aGlzLl9rZXlzLnB1c2goYik7dGhpcy5fa2V5TWFwW2JdPXRoaXMubGVuZ3RoO3RoaXMubGVuZ3RoPXRoaXMuX2tleXMubGVuZ3RoO319LF9jbGVhcjpmdW5jdGlvbigpe3RoaXMuX2tleXM9W107dGhpcy5sZW5ndGg9MDt9LF9pbmRleE9mS2V5OmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMuX2tleU1hcFtjXTtyZXR1cm4gdW5kZWZpbmVkPT09Yj8tMTpiO30sX2tleTpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5fa2V5c1tiXTt9LF9yZW1vdmVJdGVtOmZ1bmN0aW9uKGYpe3ZhciBlPXRoaXMsYz1lLl9pbmRleE9mS2V5KGYpLGQ9ZS5fa2V5cy5zbGljZShjKzEpLGI7ZGVsZXRlIGUuX2tleU1hcFtmXTtmb3IoYiBpbiBlLl9rZXlNYXApe2lmKGM8ZS5fa2V5TWFwW2JdKXtlLl9rZXlNYXBbYl0tPTE7fX1lLl9rZXlzLmxlbmd0aD1jO2UuX2tleXM9ZS5fa2V5cy5jb25jYXQoZCk7ZS5sZW5ndGg9ZS5fa2V5cy5sZW5ndGg7fX0pO30oKSk7KGZ1bmN0aW9uKCl7dmFyIGU9WUFIT08udXRpbCxjPVlBSE9PLmxhbmcsYT1mdW5jdGlvbihmKXtmLmJlZ2luKCk7fSxiPWZ1bmN0aW9uKGYpe2YuY29tbWl0KCk7fSxkPWZ1bmN0aW9uKGYsaCl7dmFyIGc9dGhpcyxpPXdpbmRvd1tmXTtkLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbChnLGYsZC5FTkdJTkVfTkFNRSxoKTtpZighaS5iZWdpbil7YT1mdW5jdGlvbigpe307fWlmKCFpLmNvbW1pdCl7Yj1mdW5jdGlvbigpe307fWcubGVuZ3RoPWkubGVuZ3RoO2cuX2RyaXZlcj1pO2cuZmlyZUV2ZW50KGUuU3RvcmFnZS5DRV9SRUFEWSk7fTtjLmV4dGVuZChkLGUuU3RvcmFnZSx7X2RyaXZlcjpudWxsLF9jbGVhcjpmdW5jdGlvbigpe3ZhciBnPXRoaXMsZixoO2lmKGcuX2RyaXZlci5jbGVhcil7Zy5fZHJpdmVyLmNsZWFyKCk7fWVsc2V7Zm9yKGY9Zy5sZW5ndGg7MDw9ZjtmLT0xKXtoPWcuX2tleShmKTtnLl9yZW1vdmVJdGVtKGgpO319fSxfZ2V0SXRlbTpmdW5jdGlvbihmKXt2YXIgZz10aGlzLl9kcml2ZXIuZ2V0SXRlbShmKTtyZXR1cm4gYy5pc09iamVjdChnKT9nLnZhbHVlOmc7fSxfa2V5OmZ1bmN0aW9uKGYpe3JldHVybiB0aGlzLl9kcml2ZXIua2V5KGYpO30sX3JlbW92ZUl0ZW06ZnVuY3Rpb24oZil7dmFyIGc9dGhpcy5fZHJpdmVyO2EoZyk7Zy5yZW1vdmVJdGVtKGYpO2IoZyk7dGhpcy5sZW5ndGg9Zy5sZW5ndGg7fSxfc2V0SXRlbTpmdW5jdGlvbihnLGYpe3ZhciBpPXRoaXMuX2RyaXZlcjt0cnl7YShpKTtpLnNldEl0ZW0oZyxmKTtiKGkpO3RoaXMubGVuZ3RoPWkubGVuZ3RoO3JldHVybiB0cnVlO31jYXRjaChoKXtyZXR1cm4gZmFsc2U7fX19LHRydWUpO2QuRU5HSU5FX05BTUU9Imh0bWw1IjtkLmlzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7dHJ5e3JldHVybigibG9jYWxTdG9yYWdlIiBpbiB3aW5kb3cpJiZ3aW5kb3dbImxvY2FsU3RvcmFnZSJdIT09bnVsbCYmKCJzZXNzaW9uU3RvcmFnZSIgaW4gd2luZG93KSYmd2luZG93WyJzZXNzaW9uU3RvcmFnZSJdIT09bnVsbDt9Y2F0Y2goZil7cmV0dXJuIGZhbHNlO319O2UuU3RvcmFnZU1hbmFnZXIucmVnaXN0ZXIoZCk7ZS5TdG9yYWdlRW5naW5lSFRNTDU9ZDt9KCkpOyhmdW5jdGlvbigpe3ZhciBoPVlBSE9PLnV0aWwsZD1ZQUhPTy5sYW5nLGU9OTk0OCxnPSJZVUlTdG9yYWdlRW5naW5lIixiPW51bGwsZj1lbmNvZGVVUklDb21wb25lbnQsYT1kZWNvZGVVUklDb21wb25lbnQsYz1mdW5jdGlvbihsLG8pe3ZhciBuPXRoaXMscD17fSxrLGksajtjLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbChuLGwsYy5FTkdJTkVfTkFNRSxvKTsKaWYoIWIpe2I9Z29vZ2xlLmdlYXJzLmZhY3RvcnkuY3JlYXRlKGMuR0VBUlMpO2Iub3Blbih3aW5kb3cubG9jYXRpb24uaG9zdC5yZXBsYWNlKC9bXC9cOlwqXD8iXDxcPlx8OyxdL2csIiIpKyItIitjLkRBVEFCQVNFKTtiLmV4ZWN1dGUoIkNSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTICIrZysiIChrZXkgVEVYVCwgbG9jYXRpb24gVEVYVCwgdmFsdWUgVEVYVCkiKTt9az1oLlN0b3JhZ2VNYW5hZ2VyLkxPQ0FUSU9OX1NFU1NJT049PT1uLl9sb2NhdGlvbjtpPWguQ29va2llLmdldCgic2Vzc2lvbktleSIrYy5FTkdJTkVfTkFNRSk7aWYoIWkpe2IuZXhlY3V0ZSgiQkVHSU4iKTtiLmV4ZWN1dGUoIkRFTEVURSBGUk9NICIrZysnIFdIRVJFIGxvY2F0aW9uPSInK2YoaC5TdG9yYWdlTWFuYWdlci5MT0NBVElPTl9TRVNTSU9OKSsnIicpO2IuZXhlY3V0ZSgiQ09NTUlUIik7fWo9Yi5leGVjdXRlKCJTRUxFQ1Qga2V5IEZST00gIitnKycgV0hFUkUgbG9jYXRpb249IicrZihuLl9sb2NhdGlvbikrJyInKTtwPXt9O3RyeXt3aGlsZShqLmlzVmFsaWRSb3coKSl7dmFyIG09YShqLmZpZWxkKDApKTtpZighcFttXSl7cFttXT10cnVlO24uX2FkZEtleShtKTt9ai5uZXh0KCk7fX1maW5hbGx5e2ouY2xvc2UoKTt9aWYoayl7aC5Db29raWUuc2V0KCJzZXNzaW9uS2V5IitjLkVOR0lORV9OQU1FLHRydWUpO31uLmZpcmVFdmVudChoLlN0b3JhZ2UuQ0VfUkVBRFkpO307ZC5leHRlbmQoYyxoLlN0b3JhZ2VFbmdpbmVLZXllZCx7X2NsZWFyOmZ1bmN0aW9uKCl7Yy5zdXBlcmNsYXNzLl9jbGVhci5jYWxsKHRoaXMpO2IuZXhlY3V0ZSgiQkVHSU4iKTtiLmV4ZWN1dGUoIkRFTEVURSBGUk9NICIrZysnIFdIRVJFIGxvY2F0aW9uPSInK2YodGhpcy5fbG9jYXRpb24pKyciJyk7Yi5leGVjdXRlKCJDT01NSVQiKTt9LF9nZXRJdGVtOmZ1bmN0aW9uKGspe3ZhciBpPWIuZXhlY3V0ZSgiU0VMRUNUIHZhbHVlIEZST00gIitnKycgV0hFUkUga2V5PSInK2YoaykrJyIgQU5EIGxvY2F0aW9uPSInK2YodGhpcy5fbG9jYXRpb24pKyciJyksaj0iIjt0cnl7d2hpbGUoaS5pc1ZhbGlkUm93KCkpe2orPWkuZmllbGQoMCk7aS5uZXh0KCk7fX1maW5hbGx5e2kuY2xvc2UoKTt9cmV0dXJuIGo/YShqKTpudWxsO30sX3JlbW92ZUl0ZW06ZnVuY3Rpb24oaSl7Yy5zdXBlcmNsYXNzLl9yZW1vdmVJdGVtLmNhbGwodGhpcyxpKTtiLmV4ZWN1dGUoIkJFR0lOIik7Yi5leGVjdXRlKCJERUxFVEUgRlJPTSAiK2crJyBXSEVSRSBrZXk9IicrZihpKSsnIiBBTkQgbG9jYXRpb249IicrZih0aGlzLl9sb2NhdGlvbikrJyInKTtiLmV4ZWN1dGUoIkNPTU1JVCIpO30sX3NldEl0ZW06ZnVuY3Rpb24ocixrKXt0aGlzLl9hZGRLZXkocik7dmFyIGw9ZihyKSxtPWYodGhpcy5fbG9jYXRpb24pLHA9ZihrKSxxPVtdLHM9ZS0obCttKS5sZW5ndGgsbz0wLG47aWYoczxwLmxlbmd0aCl7Zm9yKG49cC5sZW5ndGg7bzxuO28rPXMpe3EucHVzaChwLnN1YnN0cihvLHMpKTt9fWVsc2V7cS5wdXNoKHApO31iLmV4ZWN1dGUoIkJFR0lOIik7Yi5leGVjdXRlKCJERUxFVEUgRlJPTSAiK2crJyBXSEVSRSBrZXk9IicrbCsnIiBBTkQgbG9jYXRpb249IicrbSsnIicpO2ZvcihvPTAsbj1xLmxlbmd0aDtvPG47bys9MSl7Yi5leGVjdXRlKCJJTlNFUlQgSU5UTyAiK2crJyBWQUxVRVMgKCInK2wrJyIsICInK20rJyIsICInK3Fbb10rJyIpJyk7fWIuZXhlY3V0ZSgiQ09NTUlUIik7cmV0dXJuIHRydWU7fX0pO2guRXZlbnQub24oInVubG9hZCIsZnVuY3Rpb24oKXtpZihiKXtiLmNsb3NlKCk7fX0pO2MuRU5HSU5FX05BTUU9ImdlYXJzIjtjLkdFQVJTPSJiZXRhLmRhdGFiYXNlIjtjLkRBVEFCQVNFPSJ5dWkuZGF0YWJhc2UiO2MuaXNBdmFpbGFibGU9ZnVuY3Rpb24oKXtpZigoImdvb2dsZSIgaW4gd2luZG93KSYmKCJnZWFycyIgaW4gd2luZG93Lmdvb2dsZSkpe3RyeXtnb29nbGUuZ2VhcnMuZmFjdG9yeS5jcmVhdGUoYy5HRUFSUyk7cmV0dXJuIHRydWU7fWNhdGNoKGkpe319cmV0dXJuIGZhbHNlO307aC5TdG9yYWdlTWFuYWdlci5yZWdpc3RlcihjKTtoLlN0b3JhZ2VFbmdpbmVHZWFycz1jO30oKSk7KGZ1bmN0aW9uKCl7dmFyIGI9WUFIT08saT1iLnV0aWwsZz1iLmxhbmcsZj1pLkRvbSxqPWkuU3RvcmFnZU1hbmFnZXIsYz0yMTUsaD0xMzgsZD1uZXcgUmVnRXhwKCJeKCIrai5MT0NBVElPTl9TRVNTSU9OKyJ8IitqLkxPQ0FUSU9OX0xPQ0FMKyIpIiksZT1udWxsLGs9ZnVuY3Rpb24obSxuKXtyZXR1cm4gbS5fbG9jYXRpb24rbjt9LGE9ZnVuY3Rpb24obil7aWYoIWUpe2lmKCFnLmlzU3RyaW5nKG4uc3dmVVJMKSl7bi5zd2ZVUkw9bC5TV0ZVUkw7fWlmKCFuLmNvbnRhaW5lcklEKXt2YXIgbz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdLG09by5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSk7bi5jb250YWluZXJJRD1mLmdlbmVyYXRlSWQobSk7fWlmKCFuLmF0dHJpYnV0ZXMpe24uYXR0cmlidXRlcz17fTt9aWYoIW4uYXR0cmlidXRlcy5mbGFzaFZhcnMpe24uYXR0cmlidXRlcy5mbGFzaFZhcnM9e307fW4uYXR0cmlidXRlcy5mbGFzaFZhcnMuYWxsb3dlZERvbWFpbj1kb2N1bWVudC5sb2NhdGlvbi5ob3N0bmFtZTtuLmF0dHJpYnV0ZXMuZmxhc2hWYXJzLnVzZUNvbXByZXNzaW9uPSJ0cnVlIjtuLmF0dHJpYnV0ZXMudmVyc2lvbj05LjExNTtlPW5ldyBiLndpZGdldC5TV0Yobi5jb250YWluZXJJRCxuLnN3ZlVSTCxuLmF0dHJpYnV0ZXMpO2Uuc3Vic2NyaWJlKCJzYXZlIixmdW5jdGlvbihwKXtiLmxvZyhwLm1lc3NhZ2UsImluZm8iKTt9KTtlLnN1YnNjcmliZSgicXVvdGFFeGNlZWRlZEVycm9yIixmdW5jdGlvbihwKXtiLmxvZyhwLm1lc3NhZ2UsImVycm9yIik7fSk7ZS5zdWJzY3JpYmUoImluYWRlcXVhdGVEaW1lbnNpb25zIixmdW5jdGlvbihwKXtiLmxvZyhwLm1lc3NhZ2UsImVycm9yIik7fSk7ZS5zdWJzY3JpYmUoImVycm9yIixmdW5jdGlvbihwKXtiLmxvZyhwLm1lc3NhZ2UsImVycm9yIik7fSk7ZS5zdWJzY3JpYmUoInNlY3VyaXR5RXJyb3IiLGZ1bmN0aW9uKHApe2IubG9nKHAubWVzc2FnZSwiZXJyb3IiKTt9KTt9fSxsPWZ1bmN0aW9uKG0scCl7dmFyIG89dGhpcztsLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbChvLG0sbC5FTkdJTkVfTkFNRSxwKTthKG8uX2NmZyk7dmFyIG49ZnVuY3Rpb24oKXtvLl9zd2Y9ZS5fc3dmO2UuaW5pdGlhbGl6ZWQ9dHJ1ZTt2YXIgcz1qLkxPQ0FUSU9OX1NFU1NJT049PT1vLl9sb2NhdGlvbixyPWkuQ29va2llLmdldCgic2Vzc2lvbktleSIrbC5FTkdJTkVfTkFNRSksdSx0LHE7Zm9yKHU9ZS5jYWxsU1dGKCJnZXRMZW5ndGgiLFtdKS0xOzA8PXU7dS09MSl7dD1lLmNhbGxTV0YoImdldE5hbWVBdCIsW3VdKTtxPXMmJigtMTx0LmluZGV4T2Yoai5MT0NBVElPTl9TRVNTSU9OKSk7aWYocSYmIXIpe2UuY2FsbFNXRigicmVtb3ZlSXRlbSIsW3RdKTt9ZWxzZXtpZihzPT09cSl7by5fYWRkS2V5KHQpO319fWlmKHMpe2kuQ29va2llLnNldCgic2Vzc2lvbktleSIrbC5FTkdJTkVfTkFNRSx0cnVlKTt9by5maXJlRXZlbnQoaS5TdG9yYWdlLkNFX1JFQURZKTt9O2lmKGUuaW5pdGlhbGl6ZWQpe24oKTt9ZWxzZXtlLmFkZExpc3RlbmVyKCJjb250ZW50UmVhZHkiLG4pO319O2cuZXh0ZW5kKGwsaS5TdG9yYWdlRW5naW5lS2V5ZWQse19zd2Y6bnVsbCxfY2xlYXI6ZnVuY3Rpb24oKXtmb3IodmFyIG09dGhpcy5fa2V5cy5sZW5ndGgtMSxuOzA8PW07bS09MSl7bj10aGlzLl9rZXlzW21dO2UuY2FsbFNXRigicmVtb3ZlSXRlbSIsW25dKTt9bC5zdXBlcmNsYXNzLl9jbGVhci5jYWxsKHRoaXMpO30sX2dldEl0ZW06ZnVuY3Rpb24obSl7dmFyIG49ayh0aGlzLG0pO3JldHVybiBlLmNhbGxTV0YoImdldFZhbHVlT2YiLFtuXSk7fSxfa2V5OmZ1bmN0aW9uKG0pe3JldHVybiBsLnN1cGVyY2xhc3MuX2tleS5jYWxsKHRoaXMsbSkucmVwbGFjZShkLCIiKTt9LF9yZW1vdmVJdGVtOmZ1bmN0aW9uKG0pe2IubG9nKCJyZW1vdmluZyBTV0Yga2V5OiAiK20pO3ZhciBuPWsodGhpcyxtKTtsLnN1cGVyY2xhc3MuX3JlbW92ZUl0ZW0uY2FsbCh0aGlzLG4pO2UuY2FsbFNXRigicmVtb3ZlSXRlbSIsW25dKTt9LF9zZXRJdGVtOmZ1bmN0aW9uKG0scCl7dmFyIG49ayh0aGlzLG0pLG87aWYoZS5jYWxsU1dGKCJzZXRJdGVtIixbbixwXSkpe3RoaXMuX2FkZEtleShuKTtyZXR1cm4gdHJ1ZTt9ZWxzZXtvPWYuZ2V0KGUuX2lkKTtpZihjPmYuZ2V0U3R5bGUobywid2lkdGgiKS5yZXBsYWNlKC9cRCsvZywiIikpe2Yuc2V0U3R5bGUobywid2lkdGgiLGMrInB4Iik7fWlmKGg+Zi5nZXRTdHlsZShvLCJoZWlnaHQiKS5yZXBsYWNlKC9cRCsvZywiIikpe2Yuc2V0U3R5bGUobywiaGVpZ2h0IixoKyJweCIpO31iLmxvZygiYXR0ZW1wdGluZyB0byBzaG93IHNldHRpbmdzLiBhcmUgZGltZW5zaW9ucyBhZGVxdWF0ZT8gIitlLmNhbGxTV0YoImhhc0FkZXF1YXRlRGltZW5zaW9ucyIpKTtyZXR1cm4gZS5jYWxsU1dGKCJkaXNwbGF5U2V0dGluZ3MiLFtdKTt9fX0pO2wuU1dGVVJMPSJzd2ZzdG9yZS5zd2YiO2wuRU5HSU5FX05BTUU9InN3ZiI7bC5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybig2PD1iLmVudi51YS5mbGFzaCYmYi53aWRnZXQuU1dGKTt9O2oucmVnaXN0ZXIobCk7aS5TdG9yYWdlRW5naW5lU1dGPWw7fSgpKTtZQUhPTy5yZWdpc3Rlcigic3RvcmFnZSIsWUFIT08udXRpbC5TdG9yYWdlLHt2ZXJzaW9uOiIyLjkuMCIsYnVpbGQ6IjI4MDAifSk7",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 14572
        },
        "cache": {},
        "timings": {
          "send": 8,
          "wait": 0,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27307"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.875-06:00",
        "time": 94,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/hudson-behavior.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 330,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:35 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "28761"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 144564,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "LyoKICogVGhlIE1JVCBMaWNlbnNlCiAqIAogKiBDb3B5cmlnaHQgKGMpIDIwMDQtMjAxMCwgU3VuIE1pY3Jvc3lzdGVtcywgSW5jLiwgS29oc3VrZSBLYXdhZ3VjaGksCiAqIERhbmllbCBEeWVyLCBZYWhvbyEgSW5jLiwgQWxhbiBIYXJkZXIsIEluZnJhRE5BLCBJbmMuCiAqIAogKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5CiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsCiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMKICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbAogKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMKICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKICogCiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluCiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgogKiAKICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRQogKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4KICogVEhFIFNPRlRXQVJFLgogKi8KLy8KLy8KLy8gSmF2YVNjcmlwdCBmb3IgSmVua2lucwovLyAgICAgU2VlIGh0dHA6Ly93d3cuaWJtLmNvbS9kZXZlbG9wZXJ3b3Jrcy93ZWIvbGlicmFyeS93YS1tZW1sZWFrLz9jYT1kZ3ItbG54dzk3SmF2YXNjcmlwdExlYWtzCi8vICAgICBmb3IgbWVtb3J5IGxlYWsgcGF0dGVybnMgYW5kIGhvdyB0byBwcmV2ZW50IHRoZW0uCi8vCgppZiAod2luZG93LmlzUnVuQXNUZXN0KSB7CiAgICAvLyBEaXNhYmxlIHBvc3RNZXNzYWdlIHdoZW4gcnVubmluZyBpbiB0ZXN0IG1vZGUgKEh0bWxVbml0KS4KICAgIHdpbmRvdy5wb3N0TWVzc2FnZSA9IGZhbHNlOwp9CgovLyBjcmVhdGUgYSBuZXcgb2JqZWN0IHdob3NlIHByb3RvdHlwZSBpcyB0aGUgZ2l2ZW4gb2JqZWN0CmZ1bmN0aW9uIG9iamVjdChvKSB7CiAgICBmdW5jdGlvbiBGKCkge30KICAgIEYucHJvdG90eXBlID0gbzsKICAgIHJldHVybiBuZXcgRigpOwp9CgovKioKICogQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgZmFsc2UgaWYgdGhlIHBhZ2UgaXMga25vd24gdG8gYmUgaW52aXNpYmxlLgogKi8KdmFyIGlzUGFnZVZpc2libGUgPSAoZnVuY3Rpb24oKXsKICAgIC8vIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vRE9NL1VzaW5nX3RoZV9QYWdlX1Zpc2liaWxpdHlfQVBJCiAgICAvLyBTZXQgdGhlIG5hbWUgb2YgdGhlIGhpZGRlbiBwcm9wZXJ0eSBhbmQgdGhlIGNoYW5nZSBldmVudCBmb3IgdmlzaWJpbGl0eQogICAgdmFyIGhpZGRlbiwgdmlzaWJpbGl0eUNoYW5nZTsKICAgIGlmICh0eXBlb2YgZG9jdW1lbnQuaGlkZGVuICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIGhpZGRlbiA9ICJoaWRkZW4iOwogICAgICAgIHZpc2liaWxpdHlDaGFuZ2UgPSAidmlzaWJpbGl0eWNoYW5nZSI7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkb2N1bWVudC5tb3pIaWRkZW4gIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgaGlkZGVuID0gIm1vekhpZGRlbiI7CiAgICAgICAgdmlzaWJpbGl0eUNoYW5nZSA9ICJtb3p2aXNpYmlsaXR5Y2hhbmdlIjsKICAgIH0gZWxzZSBpZiAodHlwZW9mIGRvY3VtZW50Lm1zSGlkZGVuICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIGhpZGRlbiA9ICJtc0hpZGRlbiI7CiAgICAgICAgdmlzaWJpbGl0eUNoYW5nZSA9ICJtc3Zpc2liaWxpdHljaGFuZ2UiOwogICAgfSBlbHNlIGlmICh0eXBlb2YgZG9jdW1lbnQud2Via2l0SGlkZGVuICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIGhpZGRlbiA9ICJ3ZWJraXRIaWRkZW4iOwogICAgICAgIHZpc2liaWxpdHlDaGFuZ2UgPSAid2Via2l0dmlzaWJpbGl0eWNoYW5nZSI7CiAgICB9CgogICAgLy8gQnkgZGVmYXVsdCwgdmlzaWJpbGl0eSBzZXQgdG8gdHJ1ZQogICAgdmFyIHBhZ2VJc1Zpc2libGUgPSB0cnVlOwoKICAgIC8vIElmIHRoZSBwYWdlIGlzIGhpZGRlbiwgcHJldmVudCBhbnkgcG9sbGluZwogICAgLy8gaWYgdGhlIHBhZ2UgaXMgc2hvd24sIHJlc3RvcmUgcG9sbGluZ3MKICAgIGZ1bmN0aW9uIG9uVmlzaWJpbGl0eUNoYW5nZSgpIHsKICAgICAgICBwYWdlSXNWaXNpYmxlID0gIWRvY3VtZW50W2hpZGRlbl07CiAgICB9CgogICAgLy8gV2FybiBpZiB0aGUgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgYWRkRXZlbnRMaXN0ZW5lciBvciB0aGUgUGFnZSBWaXNpYmlsaXR5IEFQSQogICAgaWYgKHR5cGVvZiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyICE9PSAidW5kZWZpbmVkIiAmJiB0eXBlb2YgaGlkZGVuICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIC8vIEluaXQgdGhlIHZhbHVlIHRvIHRoZSByZWFsIHN0YXRlIG9mIHRoZSBwYWdlCiAgICAgICAgcGFnZUlzVmlzaWJsZSA9ICFkb2N1bWVudFtoaWRkZW5dOwoKICAgICAgICAvLyBIYW5kbGUgcGFnZSB2aXNpYmlsaXR5IGNoYW5nZQogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodmlzaWJpbGl0eUNoYW5nZSwgb25WaXNpYmlsaXR5Q2hhbmdlLCBmYWxzZSk7CiAgICB9CgogICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBwYWdlSXNWaXNpYmxlOwogICAgfQp9KSgpOwoKLy8gaWQgZ2VuZXJhdG9yCnZhciBpb3RhID0gMDsKCi8vIGNydW1iIGluZm9ybWF0aW9uCnZhciBjcnVtYiA9IHsKICAgIGZpZWxkTmFtZTogbnVsbCwKICAgIHZhbHVlOiBudWxsLAoKICAgIGluaXQ6IGZ1bmN0aW9uKGNydW1iRmllbGQsIGNydW1iVmFsdWUpIHsKICAgICAgICBpZiAoY3J1bWJGaWVsZD09IiIpIHJldHVybjsgLy8gbGF5b3V0LmplbGx5IHBhc3NlcyBpbiAiIiB3aGVyZWFzIGl0IG1lYW5zIG51bGwuCiAgICAgICAgdGhpcy5maWVsZE5hbWUgPSBjcnVtYkZpZWxkOwogICAgICAgIHRoaXMudmFsdWUgPSBjcnVtYlZhbHVlOwogICAgfSwKCiAgICAvKioKICAgICAqIEFkZHMgdGhlIGNydW1iIHZhbHVlIGludG8gdGhlIGdpdmVuIGhhc2ggb3IgYXJyYXkgYW5kIHJldHVybnMgaXQuCiAgICAgKi8KICAgIHdyYXA6IGZ1bmN0aW9uKGhlYWRlcnMpIHsKICAgICAgICBpZiAodGhpcy5maWVsZE5hbWUhPW51bGwpIHsKICAgICAgICAgICAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBBcnJheSkKICAgICAgICAgICAgICAgIC8vIFRPRE8gcHJvdG90eXBlLmpzIG9ubHkgc2VlbXMgdG8gaW50ZXJwcmV0IG9iamVjdAogICAgICAgICAgICAgICAgaGVhZGVycy5wdXNoKHRoaXMuZmllbGROYW1lLCB0aGlzLnZhbHVlKTsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgaGVhZGVyc1t0aGlzLmZpZWxkTmFtZV09dGhpcy52YWx1ZTsKICAgICAgICB9CiAgICAgICAgLy8gVE9ETyByZXR1cm4gdmFsdWUgdW51c2VkCiAgICAgICAgcmV0dXJuIGhlYWRlcnM7CiAgICB9LAoKICAgIC8qKgogICAgICogUHV0cyBhIGhpZGRlbiBpbnB1dCBmaWVsZCB0byB0aGUgZm9ybSBzbyB0aGF0IHRoZSBmb3JtIHN1Ym1pc3Npb24gd2lsbCBoYXZlIHRoZSBjcnVtYiB2YWx1ZQogICAgICovCiAgICBhcHBlbmRUb0Zvcm0gOiBmdW5jdGlvbihmb3JtKSB7CiAgICAgICAgaWYodGhpcy5maWVsZE5hbWU9PW51bGwpICAgIHJldHVybjsgLy8gbm9vcAogICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICBkaXYuaW5uZXJIVE1MID0gIjxpbnB1dCB0eXBlPWhpZGRlbiBuYW1lPSciK3RoaXMuZmllbGROYW1lKyInIHZhbHVlPSciK3RoaXMudmFsdWUrIic+IjsKICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGRpdik7CiAgICAgICAgaWYgKGZvcm0uZW5jdHlwZSA9PSAibXVsdGlwYXJ0L2Zvcm0tZGF0YSIpIHsKICAgICAgICAgICAgaWYgKGZvcm0uYWN0aW9uLmluZGV4T2YoIj8iKSAhPSAtMSkgewogICAgICAgICAgICAgICAgZm9ybS5hY3Rpb24gPSBmb3JtLmFjdGlvbisiJiIrdGhpcy5maWVsZE5hbWUrIj0iK3RoaXMudmFsdWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBmb3JtLmFjdGlvbiA9IGZvcm0uYWN0aW9uKyI/Iit0aGlzLmZpZWxkTmFtZSsiPSIrdGhpcy52YWx1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKLy8gRm9ybSBjaGVjayBjb2RlCi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KdmFyIEZvcm1DaGVja2VyID0gewogICAgLy8gcGVuZGluZyByZXF1ZXN0cwogICAgcXVldWUgOiBbXSwKCiAgICAvLyBjb25jZXB0dWFsbHkgYm9vbGVhbiwgYnV0IGRvaW5nIHNvIGNyZWF0ZSBjb25jdXJyZW5jeSBwcm9ibGVtLgogICAgLy8gdGhhdCBpcywgZHVyaW5nIHVuaXQgdGVzdHMsIHRoZSBBSkFYLnNlbmQgd29ya3Mgc3luY2hyb25vdXNseSwgc28KICAgIC8vIHRoZSBvbkNvbXBsZXRlIGhhcHBlbnMgYmVmb3JlIHRoZSBzZW5kIG1ldGhvZCByZXR1cm5zLiBPbiBhIHJlYWwgZW52aXJvbm1lbnQsCiAgICAvLyBtb3JlIGxpa2VseSBpdCdzIHRoZSBvdGhlciB3YXkgYXJvdW5kLiBTbyBzZXR0aW5nIGEgYm9vbGVhbiBmbGFnIHRvIHRydWUgb3IgZmFsc2UKICAgIC8vIHdvbid0IHdvcmsuCiAgICBpblByb2dyZXNzIDogMCwKCiAgICAvKioKICAgICAqIFNjaGVkdWxlcyBhIGZvcm0gZmllbGQgY2hlY2suIEV4ZWN1dGlvbnMgYXJlIHNlcmlhbGl6ZWQgdG8gcmVkdWNlIHRoZSBiYW5kd2lkdGggaW1wYWN0LgogICAgICoKICAgICAqIEBwYXJhbSB1cmwKICAgICAqICAgICAgUmVtb3RlIGRvWFlaIFVSTCB0aGF0IHBlcmZvcm1zIHRoZSBjaGVjay4gUXVlcnkgc3RyaW5nIHNob3VsZCBpbmNsdWRlIHRoZSBmaWVsZCB2YWx1ZS4KICAgICAqIEBwYXJhbSBtZXRob2QKICAgICAqICAgICAgSFRUUCBtZXRob2QuIEdFVCBvciBQT1NULiBJIGhhdmVuJ3QgY29uZmlybWVkIHNwZWNpZmljcywgYnV0IHNvbWUgYnJvd3NlcnMgc2VlbSB0byBjYWNoZSBHRVQgcmVxdWVzdHMuCiAgICAgKiBAcGFyYW0gdGFyZ2V0CiAgICAgKiAgICAgIEhUTUwgZWxlbWVudCB3aG9zZSBpbm5lckhUTUwgd2lsbCBiZSBvdmVyd3JpdHRlbiB3aGVuIHRoZSBjaGVjayBpcyBjb21wbGV0ZWQuCiAgICAgKi8KICAgIGRlbGF5ZWRDaGVjayA6IGZ1bmN0aW9uKHVybCwgbWV0aG9kLCB0YXJnZXQpIHsKICAgICAgICBpZih1cmw9PW51bGwgfHwgbWV0aG9kPT1udWxsIHx8IHRhcmdldD09bnVsbCkKICAgICAgICAgICAgcmV0dXJuOyAvLyBkb24ndCBrbm93IHdoZXRoZXIgd2Ugc2hvdWxkIHRocm93IGFuIGV4Y2VwdGlvbiBvciBpZ25vcmUgdGhpcy4gc29tZSBicm9rZW4gcGx1Z2lucyBoYXZlIGlsbGVnYWwgcGFyYW1ldGVycwogICAgICAgIHRoaXMucXVldWUucHVzaCh7dXJsOnVybCwgbWV0aG9kOm1ldGhvZCwgdGFyZ2V0OnRhcmdldH0pOwogICAgICAgIHRoaXMuc2NoZWR1bGUoKTsKICAgIH0sCgogICAgc2VuZFJlcXVlc3QgOiBmdW5jdGlvbih1cmwsIHBhcmFtcykgewogICAgICAgIGlmIChwYXJhbXMubWV0aG9kID09ICJwb3N0IikgewogICAgICAgICAgICB2YXIgaWR4ID0gdXJsLmluZGV4T2YoJz8nKTsKICAgICAgICAgICAgcGFyYW1zLnBhcmFtZXRlcnMgPSB1cmwuc3Vic3RyaW5nKGlkeCArIDEpOwogICAgICAgICAgICB1cmwgPSB1cmwuc3Vic3RyaW5nKDAsIGlkeCk7CiAgICAgICAgfQogICAgICAgIG5ldyBBamF4LlJlcXVlc3QodXJsLCBwYXJhbXMpOwogICAgfSwKCiAgICBzY2hlZHVsZSA6IGZ1bmN0aW9uKCkgewogICAgICAgIGlmICh0aGlzLmluUHJvZ3Jlc3M+MCkgIHJldHVybjsKICAgICAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGggPT0gMCkgcmV0dXJuOwoKICAgICAgICB2YXIgbmV4dCA9IHRoaXMucXVldWUuc2hpZnQoKTsKICAgICAgICB0aGlzLnNlbmRSZXF1ZXN0KG5leHQudXJsLCB7CiAgICAgICAgICAgIG1ldGhvZCA6IG5leHQubWV0aG9kLAogICAgICAgICAgICBvbkNvbXBsZXRlIDogZnVuY3Rpb24oeCkgewogICAgICAgICAgICAgICAgYXBwbHlFcnJvck1lc3NhZ2UobmV4dC50YXJnZXQsIHgpOwogICAgICAgICAgICAgICAgRm9ybUNoZWNrZXIuaW5Qcm9ncmVzcy0tOwogICAgICAgICAgICAgICAgRm9ybUNoZWNrZXIuc2NoZWR1bGUoKTsKICAgICAgICAgICAgICAgIGxheW91dFVwZGF0ZUNhbGxiYWNrLmNhbGwoKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHRoaXMuaW5Qcm9ncmVzcysrOwogICAgfQp9CgovKioKICogRmluZCB0aGUgc2libGluZyAoaW4gdGhlIHNlbnNlIG9mIHRoZSBzdHJ1Y3R1cmVkIGZvcm0gc3VibWlzc2lvbikgZm9ybSBpdGVtIG9mIHRoZSBnaXZlbiBuYW1lLAogKiBhbmQgcmV0dXJucyB0aGF0IERPTSBub2RlLgogKgogKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlCiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lCiAqICAgICAgTmFtZSBvZiB0aGUgY29udHJvbCB0byBmaW5kLiBDYW4gaW5jbHVkZSAiLi4vLi4vIiBldGMgaW4gdGhlIHByZWZpeC4KICogICAgICBTZWUgQFJlbGF0aXZlUGF0aC4KICoKICogICAgICBXZSBhc3N1bWUgdGhhdCB0aGUgbmFtZSBpcyBub3JtYWxpemVkIGFuZCBkb2Vzbid0IGNvbnRhaW4gYW55IHJlZHVuZGFudCBjb21wb25lbnQuCiAqICAgICAgVGhhdCBpcywgIi4uIiBjYW4gb25seSBhcHBlYXIgYXMgcHJlZml4LCBhbmQgImZvby8uLi9iYXIiIGlzIG5vdCBPSyAoYmVjYXVzZSBpdCBjYW4gYmUgcmVkdWNlZCB0byAiYmFyIikKICovCmZ1bmN0aW9uIGZpbmROZWFyQnkoZSxuYW1lKSB7CiAgICB3aGlsZSAobmFtZS5zdGFydHNXaXRoKCIuLi8iKSkgewogICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cmluZygzKTsKICAgICAgICBlID0gZmluZEZvcm1QYXJlbnQoZSxudWxsLHRydWUpOwogICAgfQoKICAgIC8vIG5hbWU9ImZvby9iYXIvem90IiAgLT4gcHJlZml4ZXM9WyJiYXIiLCJmb28iXSAmIG5hbWU9InpvdCIKICAgIHZhciBwcmVmaXhlcyA9IG5hbWUuc3BsaXQoIi8iKTsKICAgIG5hbWUgPSBwcmVmaXhlcy5wb3AoKTsKICAgIHByZWZpeGVzID0gcHJlZml4ZXMucmV2ZXJzZSgpOwoKICAgIC8vIGRvZXMgJ2UnIGl0c2VsZiBtYXRjaCB0aGUgY3JpdGVyaWE/CiAgICAvLyBhcyBzb21lIHBsdWdpbnMgdXNlIHRoZSBmaWVsZCBuYW1lIGFzIGEgcGFyYW1ldGVyIHZhbHVlLCBpbnN0ZWFkIG9mICd2YWx1ZScKICAgIHZhciBwID0gZmluZEZvcm1JdGVtKGUsbmFtZSxmdW5jdGlvbihlLGZpbHRlcikgewogICAgICAgIHJldHVybiBmaWx0ZXIoZSkgPyBlIDogbnVsbDsKICAgIH0pOwogICAgaWYgKHAhPW51bGwgJiYgcHJlZml4ZXMubGVuZ3RoPT0wKSAgICByZXR1cm4gcDsKCiAgICB2YXIgb3duZXIgPSBmaW5kRm9ybVBhcmVudChlLG51bGwsdHJ1ZSk7CgogICAgZnVuY3Rpb24gbG9jYXRlKGl0ZXJhdG9yLGUpIHsvLyBrZWVwIGZpbmRpbmcgZWxlbWVudHMgdW50aWwgd2UgZmluZCB0aGUgZ29vZCBtYXRjaAogICAgICAgIHdoaWxlICh0cnVlKSB7CiAgICAgICAgICAgIGUgPSBpdGVyYXRvcihlLG5hbWUpOwogICAgICAgICAgICBpZiAoZT09bnVsbCkgICAgcmV0dXJuIG51bGw7CgogICAgICAgICAgICAvLyBtYWtlIHN1cmUgdGhpcyBjYW5kaWRhdGUgZWxlbWVudCAnZScgaXMgaW4gdGhlIHJpZ2h0IHBvaW50IGluIHRoZSBoaWVyYXJjaHkKICAgICAgICAgICAgdmFyIHAgPSBlOwogICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8cHJlZml4ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHAgPSBmaW5kRm9ybVBhcmVudChwLG51bGwsdHJ1ZSk7CiAgICAgICAgICAgICAgICBpZiAocC5nZXRBdHRyaWJ1dGUoIm5hbWUiKSE9cHJlZml4ZXNbaV0pCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGZpbmRGb3JtUGFyZW50KHAsbnVsbCx0cnVlKT09b3duZXIpCiAgICAgICAgICAgICAgICByZXR1cm4gZTsKICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuIGxvY2F0ZShmaW5kUHJldmlvdXNGb3JtSXRlbSxlKSB8fCBsb2NhdGUoZmluZE5leHRGb3JtSXRlbSxlKTsKfQoKZnVuY3Rpb24gY29udHJvbFZhbHVlKGUpIHsKICAgIGlmIChlPT1udWxsKSAgICByZXR1cm4gbnVsbDsKICAgIC8vIGNvbXB1dGUgdGhlIGZvcm0gdmFsaWRhdGlvbiB2YWx1ZSB0byBiZSBzZW50IHRvIHRoZSBzZXJ2ZXIKICAgIHZhciB0eXBlID0gZS5nZXRBdHRyaWJ1dGUoInR5cGUiKTsKICAgIGlmKHR5cGUhPW51bGwgJiYgdHlwZS50b0xvd2VyQ2FzZSgpPT0iY2hlY2tib3giKQogICAgICAgIHJldHVybiBlLmNoZWNrZWQ7CiAgICByZXR1cm4gZS52YWx1ZTsKfQoKZnVuY3Rpb24gdG9WYWx1ZShlKSB7CiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGNvbnRyb2xWYWx1ZShlKSk7Cn0KCi8qKgogKiBCdWlsZHMgYSBxdWVyeSBzdHJpbmcgaW4gYSBmbHVlbnQgQVBJIHBhdHRlcm4uCiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG93bmVyCiAqICAgICAgVGhlICd0aGlzJyBjb250cm9sLgogKi8KZnVuY3Rpb24gcXMob3duZXIpIHsKICAgIHJldHVybiB7CiAgICAgICAgcGFyYW1zIDogIiIsCgogICAgICAgIGFwcGVuZCA6IGZ1bmN0aW9uKHMpIHsKICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1zLmxlbmd0aD09MCkgIHRoaXMucGFyYW1zKz0nPyc7CiAgICAgICAgICAgIGVsc2UgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcys9JyYnOwogICAgICAgICAgICB0aGlzLnBhcmFtcyArPSBzOwogICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9LAoKICAgICAgICBuZWFyQnkgOiBmdW5jdGlvbihuYW1lKSB7CiAgICAgICAgICAgIHZhciBlID0gZmluZE5lYXJCeShvd25lcixuYW1lKTsKICAgICAgICAgICAgaWYgKGU9PW51bGwpICAgIHJldHVybiB0aGlzOyAgICAvLyBza2lwCiAgICAgICAgICAgIHJldHVybiB0aGlzLmFwcGVuZChQYXRoLnRhaWwobmFtZSkrJz0nK3RvVmFsdWUoZSkpOwogICAgICAgIH0sCgogICAgICAgIGFkZFRoaXMgOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBwZW5kKCJ2YWx1ZT0iK3RvVmFsdWUob3duZXIpKTsKICAgICAgICB9LAoKICAgICAgICB0b1N0cmluZyA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJhbXM7CiAgICAgICAgfQogICAgfTsKfQoKLy8gZmluZCB0aGUgbmVhcmVzdCBhbmNlc3RvciBub2RlIHRoYXQgaGFzIHRoZSBnaXZlbiB0YWcgbmFtZQpmdW5jdGlvbiBmaW5kQW5jZXN0b3IoZSwgdGFnTmFtZSkgewogICAgZG8gewogICAgICAgIGUgPSBlLnBhcmVudE5vZGU7CiAgICB9IHdoaWxlIChlICE9IG51bGwgJiYgZS50YWdOYW1lICE9IHRhZ05hbWUpOwogICAgcmV0dXJuIGU7Cn0KCmZ1bmN0aW9uIGZpbmRBbmNlc3RvckNsYXNzKGUsIGNzc0NsYXNzKSB7CiAgICBkbyB7CiAgICAgICAgZSA9IGUucGFyZW50Tm9kZTsKICAgIH0gd2hpbGUgKGUgIT0gbnVsbCAmJiAhRWxlbWVudC5oYXNDbGFzc05hbWUoZSxjc3NDbGFzcykpOwogICAgcmV0dXJuIGU7Cn0KCmZ1bmN0aW9uIGZpbmRGb2xsb3dpbmdUUihpbnB1dCwgY2xhc3NOYW1lKSB7CiAgICAvLyBpZGVudGlmeSB0aGUgcGFyZW50IFRSCiAgICB2YXIgdHIgPSBpbnB1dDsKICAgIHdoaWxlICh0ci50YWdOYW1lICE9ICJUUiIpCiAgICAgICAgdHIgPSB0ci5wYXJlbnROb2RlOwoKICAgIC8vIHRoZW4gbmV4dCBUUiB0aGF0IG1hdGNoZXMgdGhlIENTUwogICAgZG8gewogICAgICAgIHRyID0gJCh0cikubmV4dCgpOwogICAgfSB3aGlsZSAodHIgIT0gbnVsbCAmJiAodHIudGFnTmFtZSAhPSAiVFIiIHx8ICFFbGVtZW50Lmhhc0NsYXNzTmFtZSh0cixjbGFzc05hbWUpKSk7CgogICAgcmV0dXJuIHRyOwp9CgpmdW5jdGlvbiBmaW5kKHNyYyxmaWx0ZXIsdHJhdmVyc2FsRikgewogICAgd2hpbGUoc3JjIT1udWxsKSB7CiAgICAgICAgc3JjID0gdHJhdmVyc2FsRihzcmMpOwogICAgICAgIGlmKHNyYyE9bnVsbCAmJiBmaWx0ZXIoc3JjKSkKICAgICAgICAgICAgcmV0dXJuIHNyYzsKICAgIH0KICAgIHJldHVybiBudWxsOwp9CgovKioKICogVHJhdmVyc2VzIGEgZm9ybSBpbiB0aGUgcmV2ZXJzZSBkb2N1bWVudCBvcmRlciBzdGFydGluZyBmcm9tIHRoZSBnaXZlbiBlbGVtZW50IChidXQgZXhjbHVkaW5nIGl0KSwKICogdW50aWwgdGhlIGdpdmVuIGZpbHRlciBtYXRjaGVzLCBvciBydW4gb3V0IG9mIGFuIGVsZW1lbnQuCiAqLwpmdW5jdGlvbiBmaW5kUHJldmlvdXMoc3JjLGZpbHRlcikgewogICAgcmV0dXJuIGZpbmQoc3JjLGZpbHRlcixmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciBwID0gZS5wcmV2aW91c1NpYmxpbmc7CiAgICAgICAgaWYocD09bnVsbCkgcmV0dXJuIGUucGFyZW50Tm9kZTsKICAgICAgICB3aGlsZShwLmxhc3RDaGlsZCE9bnVsbCkKICAgICAgICAgICAgcCA9IHAubGFzdENoaWxkOwogICAgICAgIHJldHVybiBwOwogICAgfSk7Cn0KCmZ1bmN0aW9uIGZpbmROZXh0KHNyYyxmaWx0ZXIpIHsKICAgIHJldHVybiBmaW5kKHNyYyxmaWx0ZXIsZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgbiA9IGUubmV4dFNpYmxpbmc7CiAgICAgICAgaWYobj09bnVsbCkgcmV0dXJuIGUucGFyZW50Tm9kZTsKICAgICAgICB3aGlsZShuLmZpcnN0Q2hpbGQhPW51bGwpCiAgICAgICAgICAgIG4gPSBuLmZpcnN0Q2hpbGQ7CiAgICAgICAgcmV0dXJuIG47CiAgICB9KTsKfQoKZnVuY3Rpb24gZmluZEZvcm1JdGVtKHNyYyxuYW1lLGRpcmVjdGlvbkYpIHsKICAgIHZhciBuYW1lMiA9ICJfLiIrbmFtZTsgLy8gaGFuZGxlcyA8dGV4dGJveCBmaWVsZD0iLi4uIiAvPiBub3RhdGlvbiBzaWxlbnRseQogICAgcmV0dXJuIGRpcmVjdGlvbkYoc3JjLGZ1bmN0aW9uKGUpeyAKICAgICAgICBpZiAoZS50YWdOYW1lID09ICJJTlBVVCIgJiYgZS50eXBlPT0icmFkaW8iICYmIGUuY2hlY2tlZD09dHJ1ZSkgewogICAgICAgICAgICB2YXIgciA9IDA7CiAgICAgICAgICAgIHdoaWxlIChlLm5hbWUuc3Vic3RyaW5nKHIscis4KT09J3JlbW92ZW1lJykgLy9yYWRpbyBidXR0b25zIGhhdmUgbXVzdCBiZSB1bmlxdWUgaW4gcmVwZWF0YWJsZSBibG9ja3Mgc28gbmFtZSBpcyBwcmVmaXhlZAogICAgICAgICAgICAgICAgciA9IGUubmFtZS5pbmRleE9mKCdfJyxyKzgpKzE7CiAgICAgICAgICAgIHJldHVybiBuYW1lID09IGUubmFtZS5zdWJzdHJpbmcocik7CiAgICAgICAgfQogICAgICAgIHJldHVybiAoZS50YWdOYW1lPT0iSU5QVVQiIHx8IGUudGFnTmFtZT09IlRFWFRBUkVBIiB8fCBlLnRhZ05hbWU9PSJTRUxFQ1QiKSAmJiAoZS5uYW1lPT1uYW1lIHx8IGUubmFtZT09bmFtZTIpOyB9KTsKfQoKLyoqCiAqIFRyYXZlcnNlcyBhIGZvcm0gaW4gdGhlIHJldmVyc2UgZG9jdW1lbnQgb3JkZXIgYW5kIGZpbmRzIGFuIElOUFVUIGVsZW1lbnQgdGhhdCBtYXRjaGVzIHRoZSBnaXZlbiBuYW1lLgogKi8KZnVuY3Rpb24gZmluZFByZXZpb3VzRm9ybUl0ZW0oc3JjLG5hbWUpIHsKICAgIHJldHVybiBmaW5kRm9ybUl0ZW0oc3JjLG5hbWUsZmluZFByZXZpb3VzKTsKfQoKZnVuY3Rpb24gZmluZE5leHRGb3JtSXRlbShzcmMsbmFtZSkgewogICAgcmV0dXJuIGZpbmRGb3JtSXRlbShzcmMsbmFtZSxmaW5kTmV4dCk7Cn0KCi8qKgogKiBQYXJzZSBIVE1MIGludG8gRE9NLgogKi8KZnVuY3Rpb24gcGFyc2VIdG1sKGh0bWwpIHsKICAgIHZhciBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBjLmlubmVySFRNTCA9IGh0bWw7CiAgICByZXR1cm4gYy5maXJzdENoaWxkOwp9CgovKioKICogRXZhbHVhdGVzIHRoZSBzY3JpcHQgaW4gZ2xvYmFsIGNvbnRleHQuCiAqLwpmdW5jdGlvbiBnZXZhbChzY3JpcHQpIHsKICAgIC8vIGV4ZWNTY3JpcHQgY2hva2VzIG9uICIiIGJ1dCBldmFsIGRvZXNuJ3QsIHNvIHdlIG5lZWQgdG8gcmVqZWN0IGl0IGZpcnN0LgogICAgaWYgKHNjcmlwdD09bnVsbCB8fCBzY3JpcHQ9PSIiKSByZXR1cm47CiAgICAvLyBzZWUgaHR0cDovL3BlcmZlY3Rpb25raWxscy5jb20vZ2xvYmFsLWV2YWwtd2hhdC1hcmUtdGhlLW9wdGlvbnMvCiAgICAvLyBub3RlIHRoYXQgZXhlY1NjcmlwdCBjYW5ub3QgcmV0dXJuIHZhbHVlCiAgICAodGhpcy5leGVjU2NyaXB0IHx8IGV2YWwpKHNjcmlwdCk7Cn0KCi8qKgogKiBFbXVsYXRlIHRoZSBmaXJpbmcgb2YgYW4gZXZlbnQuCiAqCiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQKICogICAgICBUaGUgZWxlbWVudCB0aGF0IHdpbGwgZmlyZSB0aGUgZXZlbnQKICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50CiAqICAgICAgbGlrZSAnY2hhbmdlJywgJ2JsdXInLCBldGMuCiAqLwpmdW5jdGlvbiBmaXJlRXZlbnQoZWxlbWVudCxldmVudCl7CiAgICBpZiAoZG9jdW1lbnQuY3JlYXRlRXZlbnQpIHsKICAgICAgICAvLyBkaXNwYXRjaCBmb3IgZmlyZWZveCArIG90aGVycwogICAgICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpOwogICAgICAgIGV2dC5pbml0RXZlbnQoZXZlbnQsIHRydWUsIHRydWUgKTsgLy8gZXZlbnQgdHlwZSxidWJibGluZyxjYW5jZWxhYmxlCiAgICAgICAgcmV0dXJuICFlbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZ0KTsKICAgIH0gZWxzZSB7CiAgICAgICAgLy8gZGlzcGF0Y2ggZm9yIElFCiAgICAgICAgdmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KCk7CiAgICAgICAgcmV0dXJuIGVsZW1lbnQuZmlyZUV2ZW50KCdvbicrZXZlbnQsZXZ0KQogICAgfQp9CgovLyBzaGFyZWQgdG9vbHRpcCBvYmplY3QKdmFyIHRvb2x0aXA7CgoKCi8vIEJlaGF2aW9yIHJ1bGVzCi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy8gdXNpbmcgdGFnIG5hbWVzIGluIENTUyBzZWxlY3RvciBtYWtlcyB0aGUgcHJvY2Vzc2luZyBmYXN0ZXIKZnVuY3Rpb24gcmVnaXN0ZXJWYWxpZGF0b3IoZSkgewogICAgZS50YXJnZXRFbGVtZW50ID0gZmluZEZvbGxvd2luZ1RSKGUsICJ2YWxpZGF0aW9uLWVycm9yLWFyZWEiKS5maXJzdENoaWxkLm5leHRTaWJsaW5nOwogICAgZS50YXJnZXRVcmwgPSBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgdXJsID0gdGhpcy5nZXRBdHRyaWJ1dGUoImNoZWNrVXJsIik7CiAgICAgICAgdmFyIGRlcGVuZHMgPSB0aGlzLmdldEF0dHJpYnV0ZSgiY2hlY2tEZXBlbmRzT24iKTsKCiAgICAgICAgaWYgKGRlcGVuZHM9PW51bGwpIHsvLyBsZWdhY3kgYmVoYXZpb3VyIHdoZXJlIGNoZWNrVXJsIGlzIGEgSmF2YVNjcmlwdAogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgcmV0dXJuIGV2YWwodXJsKTsgLy8gbmVlZCBhY2Nlc3MgdG8gJ3RoaXMnLCBzbyBubyAnZ2V2YWwnCiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuY29uc29sZSE9bnVsbCkgIGNvbnNvbGUud2FybigiTGVnYWN5IGNoZWNrVXJsICciICsgdXJsICsgIicgaXMgbm90IHZhbGlkIEphdmFzY3JpcHQ6ICIrZSk7CiAgICAgICAgICAgICAgICBpZiAod2luZG93LllVSSE9bnVsbCkgICAgICBZVUkubG9nKCJMZWdhY3kgY2hlY2tVcmwgJyIgKyB1cmwgKyAiJyBpcyBub3QgdmFsaWQgSmF2YXNjcmlwdDogIitlLCJ3YXJuIik7CiAgICAgICAgICAgICAgICByZXR1cm4gdXJsOyAvLyByZXR1cm4gcGxhaW4gdXJsIGFzIGZhbGxiYWNrCiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YXIgcSA9IHFzKHRoaXMpLmFkZFRoaXMoKTsKICAgICAgICAgICAgaWYgKGRlcGVuZHMubGVuZ3RoPjApCiAgICAgICAgICAgICAgICBkZXBlbmRzLnNwbGl0KCIgIikuZWFjaChmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgICAgIHEubmVhckJ5KG4pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiB1cmwrIHEudG9TdHJpbmcoKTsKICAgICAgICB9CiAgICB9OwogICAgdmFyIG1ldGhvZCA9IGUuZ2V0QXR0cmlidXRlKCJjaGVja01ldGhvZCIpIHx8ICJnZXQiOwoKICAgIHZhciB1cmwgPSBlLnRhcmdldFVybCgpOwogICAgdHJ5IHsKICAgICAgRm9ybUNoZWNrZXIuZGVsYXllZENoZWNrKHVybCwgbWV0aG9kLCBlLnRhcmdldEVsZW1lbnQpOwogICAgfSBjYXRjaCAoeCkgewogICAgICAgIC8vIHRoaXMgaGFwcGVucyBpZiB0aGUgY2hlY2tVcmwgcmVmZXJzIHRvIGEgbm9uLWV4aXN0aW5nIGVsZW1lbnQuCiAgICAgICAgLy8gZG9uJ3QgbGV0IHRoaXMga2lsbCBvZmYgdGhlIGVudGlyZSBKYXZhU2NyaXB0CiAgICAgICAgWUFIT08ubG9nKCJGYWlsZWQgdG8gcmVnaXN0ZXIgdmFsaWRhdGlvbiBtZXRob2Q6ICIrZS5nZXRBdHRyaWJ1dGUoImNoZWNrVXJsIikrIiA6ICIrZSk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBjaGVja2VyID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIHRhcmdldCA9IHRoaXMudGFyZ2V0RWxlbWVudDsKICAgICAgICBGb3JtQ2hlY2tlci5zZW5kUmVxdWVzdCh0aGlzLnRhcmdldFVybCgpLCB7CiAgICAgICAgICAgIG1ldGhvZCA6IG1ldGhvZCwKICAgICAgICAgICAgb25Db21wbGV0ZSA6IGZ1bmN0aW9uKHgpIHsKICAgICAgICAgICAgICAgIHRhcmdldC5pbm5lckhUTUwgPSB4LnJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgICAgIEJlaGF2aW91ci5hcHBseVN1YnRyZWUodGFyZ2V0KTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQogICAgdmFyIG9sZE9uY2hhbmdlID0gZS5vbmNoYW5nZTsKICAgIGlmKHR5cGVvZiBvbGRPbmNoYW5nZT09ImZ1bmN0aW9uIikgewogICAgICAgIGUub25jaGFuZ2UgPSBmdW5jdGlvbigpIHsgY2hlY2tlci5jYWxsKHRoaXMpOyBvbGRPbmNoYW5nZS5jYWxsKHRoaXMpOyB9CiAgICB9IGVsc2UKICAgICAgICBlLm9uY2hhbmdlID0gY2hlY2tlcjsKCiAgICB2YXIgdiA9IGUuZ2V0QXR0cmlidXRlKCJjaGVja0RlcGVuZHNPbiIpOwogICAgaWYgKHYpIHsKICAgICAgICB2LnNwbGl0KCIgIikuZWFjaChmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICB2YXIgYyA9IGZpbmROZWFyQnkoZSxuYW1lKTsKICAgICAgICAgICAgaWYgKGM9PW51bGwpIHsKICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuY29uc29sZSE9bnVsbCkgIGNvbnNvbGUud2FybigiVW5hYmxlIHRvIGZpbmQgbmVhcmJ5ICIrbmFtZSk7CiAgICAgICAgICAgICAgICBpZiAod2luZG93LllVSSE9bnVsbCkgICAgICBZVUkubG9nKCJVbmFibGUgdG8gZmluZCBhIG5lYXJieSBjb250cm9sIG9mIHRoZSBuYW1lICIrbmFtZSwid2FybiIpCiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJChjKS5vYnNlcnZlKCJjaGFuZ2UiLGNoZWNrZXIuYmluZChlKSk7CiAgICAgICAgfSk7CiAgICB9CgogICAgZSA9IG51bGw7IC8vIGF2b2lkIG1lbW9yeSBsZWFrCn0KCmZ1bmN0aW9uIHJlZ2lzdGVyUmVnZXhwVmFsaWRhdG9yKGUscmVnZXhwLG1lc3NhZ2UpIHsKICAgIGUudGFyZ2V0RWxlbWVudCA9IGZpbmRGb2xsb3dpbmdUUihlLCAidmFsaWRhdGlvbi1lcnJvci1hcmVhIikuZmlyc3RDaGlsZC5uZXh0U2libGluZzsKICAgIHZhciBjaGVja01lc3NhZ2UgPSBlLmdldEF0dHJpYnV0ZSgnY2hlY2tNZXNzYWdlJyk7CiAgICBpZiAoY2hlY2tNZXNzYWdlKSBtZXNzYWdlID0gY2hlY2tNZXNzYWdlOwogICAgdmFyIG9sZE9uY2hhbmdlID0gZS5vbmNoYW5nZTsKICAgIGUub25jaGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgc2V0ID0gb2xkT25jaGFuZ2UgIT0gbnVsbCA/IG9sZE9uY2hhbmdlLmNhbGwodGhpcykgOiBmYWxzZTsKICAgICAgICBpZiAodGhpcy52YWx1ZS5tYXRjaChyZWdleHApKSB7CiAgICAgICAgICAgIGlmICghc2V0KSB0aGlzLnRhcmdldEVsZW1lbnQuaW5uZXJIVE1MID0gIiI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy50YXJnZXRFbGVtZW50LmlubmVySFRNTCA9ICI8ZGl2IGNsYXNzPWVycm9yPiIgKyBtZXNzYWdlICsgIjwvZGl2PiI7CiAgICAgICAgICAgIHNldCA9IHRydWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBzZXQ7CiAgICB9CiAgICBlLm9uY2hhbmdlLmNhbGwoZSk7CiAgICBlID0gbnVsbDsgLy8gYXZvaWQgbWVtb3J5IGxlYWsKfQoKLyoqCiAqIFdyYXBzIGEgPGJ1dHRvbj4gaW50byBZVUkgYnV0dG9uLgogKgogKiBAcGFyYW0gZQogKiAgICAgIGJ1dHRvbiBlbGVtZW50CiAqIEBwYXJhbSBvbmNsaWNrCiAqICAgICAgb25jbGljayBoYW5kbGVyCiAqIEByZXR1cm4KICogICAgICBZVUkgQnV0dG9uIHdpZGdldC4KICovCmZ1bmN0aW9uIG1ha2VCdXR0b24oZSxvbmNsaWNrKSB7CiAgICB2YXIgaCA9IGUub25jbGljazsKICAgIHZhciBjbHNOYW1lID0gZS5jbGFzc05hbWU7CiAgICB2YXIgbiA9IGUubmFtZTsKICAgIHZhciBidG4gPSBuZXcgWUFIT08ud2lkZ2V0LkJ1dHRvbihlLHt9KTsKICAgIGlmKG9uY2xpY2shPW51bGwpCiAgICAgICAgYnRuLmFkZExpc3RlbmVyKCJjbGljayIsb25jbGljayk7CiAgICBpZihoIT1udWxsKQogICAgICAgIGJ0bi5hZGRMaXN0ZW5lcigiY2xpY2siLGgpOwogICAgdmFyIGJlID0gYnRuLmdldCgiZWxlbWVudCIpOwogICAgRWxlbWVudC5hZGRDbGFzc05hbWUoYmUsY2xzTmFtZSk7CiAgICBpZihuKSAvLyBjb3B5IHRoZSBuYW1lCiAgICAgICAgYmUuc2V0QXR0cmlidXRlKCJuYW1lIixuKTsKICAgIHJldHVybiBidG47Cn0KCi8qCiAgICBJZiB3ZSBhcmUgaW5zaWRlICd0by1iZS1yZW1vdmVkJyBjbGFzcywgc29tZSBIVE1MIGFsdGVyaW5nIGJlaGF2aW9ycyBpbnRlcmFjdCBiYWRseSwgYmVjYXVzZQogICAgdGhlIGJlaGF2aW9yIHJlLWV4ZWN1dGVzIHdoZW4gdGhlIHJlbW92ZWQgbWFzdGVyIGNvcHkgZ2V0cyByZWluc2VydGVkIGxhdGVyLgogKi8KZnVuY3Rpb24gaXNJbnNpZGVSZW1vdmFibGUoZSkgewogICAgcmV0dXJuIEVsZW1lbnQuYW5jZXN0b3JzKGUpLmZpbmQoZnVuY3Rpb24oZil7cmV0dXJuIGYuaGFzQ2xhc3NOYW1lKCJ0by1iZS1yZW1vdmVkIik7fSk7Cn0KCi8qKgogKiBSZW5kZXIgdGhlIHRlbXBsYXRlIGNhcHR1cmVkIGJ5ICZsdDtsOnJlbmRlck9uRGVtYW5kPiBhdCB0aGUgZWxlbWVudCAnZScgYW5kIHJlcGxhY2UgJ2UnIGJ5IHRoZSBjb250ZW50LgogKgogKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlCiAqICAgICAgVGhlIHBsYWNlIGhvbGRlciBlbGVtZW50IHRvIGJlIGxhenktcmVuZGVyZWQuCiAqIEBwYXJhbSB7Ym9vbGVhbn0gbm9CZWhhdmlvdXIKICogICAgICBpZiBzcGVjaWZpZWQsIHNraXAgdGhlIGFwcGxpY2F0aW9uIG9mIGJlaGF2aW91ciBydWxlLgogKi8KZnVuY3Rpb24gcmVuZGVyT25EZW1hbmQoZSxjYWxsYmFjayxub0JlaGF2aW91cikgewogICAgaWYgKCFlIHx8ICFFbGVtZW50Lmhhc0NsYXNzTmFtZShlLCJyZW5kZXItb24tZGVtYW5kIikpIHJldHVybjsKICAgIHZhciBwcm94eSA9IGV2YWwoZS5nZXRBdHRyaWJ1dGUoInByb3h5IikpOwogICAgcHJveHkucmVuZGVyKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgdmFyIGNvbnRleHRUYWdOYW1lID0gZS5wYXJlbnROb2RlLnRhZ05hbWU7CiAgICAgICAgdmFyIGM7CiAgICAgICAgaWYgKGNvbnRleHRUYWdOYW1lPT0iVEJPRFkiKSB7CiAgICAgICAgICAgIGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKTsKICAgICAgICAgICAgYy5pbm5lckhUTUwgPSAiPFRBQkxFPjxUQk9EWT4iK3QucmVzcG9uc2VUZXh0KyI8L1RCT0RZPjwvVEFCTEU+IjsKICAgICAgICAgICAgYyA9IGMuLypKRU5LSU5TLTE1NDk0Ki9sYXN0Q2hpbGQuZmlyc3RDaGlsZDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChjb250ZXh0VGFnTmFtZSk7CiAgICAgICAgICAgIGMuaW5uZXJIVE1MID0gdC5yZXNwb25zZVRleHQ7CiAgICAgICAgfQoKICAgICAgICB2YXIgZWxlbWVudHMgPSBbXTsKICAgICAgICB3aGlsZSAoYy5maXJzdENoaWxkIT1udWxsKSB7CiAgICAgICAgICAgIHZhciBuID0gYy5maXJzdENoaWxkOwogICAgICAgICAgICBlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG4sZSk7CiAgICAgICAgICAgIGlmIChuLm5vZGVUeXBlPT0xICYmICFub0JlaGF2aW91cikKICAgICAgICAgICAgICAgIGVsZW1lbnRzLnB1c2gobik7CiAgICAgICAgfQogICAgICAgIEVsZW1lbnQucmVtb3ZlKGUpOwoKICAgICAgICBldmFsSW5uZXJIdG1sU2NyaXB0cyh0LnJlc3BvbnNlVGV4dCxmdW5jdGlvbigpIHsKICAgICAgICAgICAgQmVoYXZpb3VyLmFwcGx5U3VidHJlZShlbGVtZW50cyx0cnVlKTsKICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSAgIGNhbGxiYWNrKHQpOwogICAgICAgIH0pOwogICAgfSk7Cn0KCi8qKgogKiBGaW5kcyBhbGwgdGhlIHNjcmlwdCB0YWdzIAogKi8KZnVuY3Rpb24gZXZhbElubmVySHRtbFNjcmlwdHModGV4dCxjYWxsYmFjaykgewogICAgdmFyIHEgPSBbXTsKICAgIHZhciBtYXRjaEFsbCA9IG5ldyBSZWdFeHAoJzxzY3JpcHQoW14+XSopPihbXFxTXFxzXSo/KTxcL3NjcmlwdD4nLCAnaW1nJyk7CiAgICB2YXIgbWF0Y2hPbmUgPSBuZXcgUmVnRXhwKCc8c2NyaXB0KFtePl0qKT4oW1xcU1xcc10qPyk8XC9zY3JpcHQ+JywgJ2ltJyk7CiAgICB2YXIgc3JjQXR0ciAgPSBuZXcgUmVnRXhwKCdzcmM9W1wnXCJdKFteXCdcIl0rKVtcJ1wiXScsJ2knKTsKICAgICh0ZXh0Lm1hdGNoKG1hdGNoQWxsKXx8W10pLm1hcChmdW5jdGlvbihzKSB7CiAgICAgICAgdmFyIG0gPSBzLm1hdGNoKHNyY0F0dHIpOwogICAgICAgIGlmIChtKSB7CiAgICAgICAgICAgIHEucHVzaChmdW5jdGlvbihjb250KSB7CiAgICAgICAgICAgICAgICBsb2FkU2NyaXB0KG1bMV0sY29udCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHEucHVzaChmdW5jdGlvbihjb250KSB7CiAgICAgICAgICAgICAgICBnZXZhbChzLm1hdGNoKG1hdGNoT25lKVsyXSk7CiAgICAgICAgICAgICAgICBjb250KCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0pOwogICAgcS5wdXNoKGNhbGxiYWNrKTsKICAgIHNlcXVlbmNlcihxKTsKfQoKLyoqCiAqIFRha2UgYW4gYXJyYXkgb2YgKHR5cGljYWxseSBhc3luYykgZnVuY3Rpb25zIGFuZCBydW4gdGhlbSBpbiBhIHNlcXVlbmNlLgogKiBFYWNoIG9mIHRoZSBmdW5jdGlvbiBpbiB0aGUgYXJyYXkgdGFrZXMgb25lICdjb250aW51YXRpb24nIHBhcmFtZXRlciwgYW5kIHVwb24gdGhlIGNvbXBsZXRpb24KICogb2YgdGhlIGZ1bmN0aW9uIGl0IG5lZWRzIHRvIGludm9rZSAiY29udGludWF0aW9uKCkiIHRvIHNpZ25hbCB0aGUgZXhlY3V0aW9uIG9mIHRoZSBuZXh0IGZ1bmN0aW9uLgogKi8KZnVuY3Rpb24gc2VxdWVuY2VyKGZzKSB7CiAgICB2YXIgbnVsbEZ1bmN0aW9uID0gZnVuY3Rpb24oKSB7fQogICAgZnVuY3Rpb24gbmV4dCgpIHsKICAgICAgICBpZiAoZnMubGVuZ3RoPjApIHsKICAgICAgICAgICAgKGZzLnNoaWZ0KCl8fG51bGxGdW5jdGlvbikobmV4dCk7CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIG5leHQoKTsKfQoKLyoqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgQmVoYXZpb3VyLnNwZWNpZnl9IGluc3RlYWQuICovCnZhciBqZW5raW5zUnVsZXMgPSB7Ci8vIFRPRE8gY29udmVydCBhcyBtYW55IGFzIHBvc3NpYmxlIHRvIEJlaGF2aW91ci5zcGVjaWZ5IGNhbGxzOyBzb21lIHNlZW0gdG8gaGF2ZSBhbiBpbXBsaWNpdCBvcmRlciBkZXBlbmRlbmN5LCBidXQgd2hhdD8KICAgICJCT0RZIiA6IGZ1bmN0aW9uKCkgewogICAgICAgIHRvb2x0aXAgPSBuZXcgWUFIT08ud2lkZ2V0LlRvb2x0aXAoInR0Iiwge2NvbnRleHQ6W10sIHppbmRleDo5OTl9KTsKICAgIH0sCgogICAgIlRBQkxFLnNvcnRhYmxlIiA6IGZ1bmN0aW9uKGUpIHsvLyBzb3J0YWJsZSB0YWJsZQogICAgICAgIGUuc29ydGFibGUgPSBuZXcgU29ydGFibGUuU29ydGFibGUoZSk7CiAgICB9LAoKICAgICJUQUJMRS5wcm9ncmVzcy1iYXIiIDogZnVuY3Rpb24oZSkgeyAvLyBwcm9ncmVzc0Jhci5qZWxseQogICAgICAgIGUub25jbGljayA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgaHJlZiA9IHRoaXMuZ2V0QXR0cmlidXRlKCJocmVmIik7CiAgICAgICAgICAgIGlmKGhyZWYhPW51bGwpICAgICAgd2luZG93LmxvY2F0aW9uID0gaHJlZjsKICAgICAgICB9CiAgICAgICAgZSA9IG51bGw7IC8vIGF2b2lkIG1lbW9yeSBsZWFrCiAgICB9LAoKICAgICJJTlBVVC5leHBhbmQtYnV0dG9uIiA6IGZ1bmN0aW9uKGUpIHsKICAgICAgICBtYWtlQnV0dG9uKGUsZnVuY3Rpb24oZSkgewogICAgICAgICAgICB2YXIgbGluayA9IGUudGFyZ2V0OwogICAgICAgICAgICB3aGlsZSghRWxlbWVudC5oYXNDbGFzc05hbWUobGluaywiYWR2YW5jZWRMaW5rIikpCiAgICAgICAgICAgICAgICBsaW5rID0gbGluay5wYXJlbnROb2RlOwogICAgICAgICAgICBsaW5rLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgICQobGluaykubmV4dCgpLnN0eWxlLmRpc3BsYXk9ImJsb2NrIjsKICAgICAgICAgICAgbGF5b3V0VXBkYXRlQ2FsbGJhY2suY2FsbCgpOwogICAgICAgIH0pOwogICAgICAgIGUgPSBudWxsOyAvLyBhdm9pZCBtZW1vcnkgbGVhawogICAgfSwKCi8vIHNjcmlwdGluZyBmb3IgaGF2aW5nIGRlZmF1bHQgdmFsdWUgaW4gdGhlIGlucHV0IGZpZWxkCiAgICAiSU5QVVQuaGFzLWRlZmF1bHQtdGV4dCIgOiBmdW5jdGlvbihlKSB7CiAgICAgICAgdmFyIGRlZmF1bHRWYWx1ZSA9IGUudmFsdWU7CiAgICAgICAgRWxlbWVudC5hZGRDbGFzc05hbWUoZSwgImRlZmF1bHRlZCIpOwogICAgICAgIGUub25mb2N1cyA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAodGhpcy52YWx1ZSA9PSBkZWZhdWx0VmFsdWUpIHsKICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSAiIjsKICAgICAgICAgICAgICAgIEVsZW1lbnQucmVtb3ZlQ2xhc3NOYW1lKHRoaXMsICJkZWZhdWx0ZWQiKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlLm9uYmx1ciA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAodGhpcy52YWx1ZSA9PSAiIikgewogICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGRlZmF1bHRWYWx1ZTsKICAgICAgICAgICAgICAgIEVsZW1lbnQuYWRkQ2xhc3NOYW1lKHRoaXMsICJkZWZhdWx0ZWQiKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlID0gbnVsbDsgLy8gYXZvaWQgbWVtb3J5IGxlYWsKICAgIH0sCgovLyA8bGFiZWw+IHRoYXQgZG9lc24ndCB1c2UgSUQsIHNvIHRoYXQgaXQgY2FuIGJlIGNvcGllZCBpbiA8cmVwZWF0YWJsZT4KICAgICJMQUJFTC5hdHRhY2gtcHJldmlvdXMiIDogZnVuY3Rpb24oZSkgewogICAgICAgIGUub25jbGljayA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgZSA9ICQodGhpcykucHJldmlvdXMoKTsKICAgICAgICAgICAgd2hpbGUgKGUhPW51bGwpIHsKICAgICAgICAgICAgICAgIGlmIChlLnRhZ05hbWU9PSJJTlBVVCIpIHsKICAgICAgICAgICAgICAgICAgICBlLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlID0gZS5wcmV2aW91cygpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGUgPSBudWxsOwogICAgfSwKCi8vIGZvcm0gZmllbGRzIHRoYXQgYXJlIHZhbGlkYXRlZCB2aWEgQUpBWCBjYWxsIHRvIHRoZSBzZXJ2ZXIKLy8gZWxlbWVudHMgd2l0aCB0aGlzIGNsYXNzIHNob3VsZCBoYXZlIHR3byBhdHRyaWJ1dGVzICdjaGVja1VybCcgdGhhdCBldmFsdWF0ZXMgdG8gdGhlIHNlcnZlciBVUkwuCiAgICAiSU5QVVQudmFsaWRhdGVkIiA6IHJlZ2lzdGVyVmFsaWRhdG9yLAogICAgIlNFTEVDVC52YWxpZGF0ZWQiIDogcmVnaXN0ZXJWYWxpZGF0b3IsCiAgICAiVEVYVEFSRUEudmFsaWRhdGVkIiA6IHJlZ2lzdGVyVmFsaWRhdG9yLAoKLy8gdmFsaWRhdGUgcmVxdWlyZWQgZm9ybSB2YWx1ZXMKICAgICJJTlBVVC5yZXF1aXJlZCIgOiBmdW5jdGlvbihlKSB7IHJlZ2lzdGVyUmVnZXhwVmFsaWRhdG9yKGUsLy4vLCJGaWVsZCBpcyByZXF1aXJlZCIpOyB9LAoKLy8gdmFsaWRhdGUgZm9ybSB2YWx1ZXMgdG8gYmUgYW4gaW50ZWdlcgogICAgIklOUFVULm51bWJlciIgOiBmdW5jdGlvbihlKSB7IHJlZ2lzdGVyUmVnZXhwVmFsaWRhdG9yKGUsL14oXGQrfCkkLywiTm90IGFuIGludGVnZXIiKTsgfSwKICAgICJJTlBVVC5wb3NpdGl2ZS1udW1iZXIiIDogZnVuY3Rpb24oZSkgewogICAgICAgIHJlZ2lzdGVyUmVnZXhwVmFsaWRhdG9yKGUsL14oXGQqWzEtOV1cZCp8KSQvLCJOb3QgYSBwb3NpdGl2ZSBpbnRlZ2VyIik7CiAgICB9LAoKICAgICJJTlBVVC5hdXRvLWNvbXBsZXRlIjogZnVuY3Rpb24oZSkgey8vIGZvcm0gZmllbGQgd2l0aCBhdXRvLWNvbXBsZXRpb24gc3VwcG9ydCAKICAgICAgICAvLyBpbnNlcnQgdGhlIGF1dG8tY29tcGxldGlvbiBjb250YWluZXIKICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIik7CiAgICAgICAgZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkaXYsJChlKS5uZXh0KCl8fG51bGwpOwogICAgICAgIGUuc3R5bGUucG9zaXRpb24gPSAicmVsYXRpdmUiOyAvLyBvciBlbHNlIGJ5IGRlZmF1bHQgaXQncyBhYnNvbHV0ZWx5IHBvc2l0aW9uZWQsIG1ha2luZyAid2lkdGg6MTAwJSIgYnJlYWsKCiAgICAgICAgdmFyIGRzID0gbmV3IFlBSE9PLnV0aWwuWEhSRGF0YVNvdXJjZShlLmdldEF0dHJpYnV0ZSgiYXV0b0NvbXBsZXRlVXJsIikpOwogICAgICAgIGRzLnJlc3BvbnNlVHlwZSA9IFlBSE9PLnV0aWwuWEhSRGF0YVNvdXJjZS5UWVBFX0pTT047CiAgICAgICAgZHMucmVzcG9uc2VTY2hlbWEgPSB7CiAgICAgICAgICAgIHJlc3VsdHNMaXN0OiAic3VnZ2VzdGlvbnMiLAogICAgICAgICAgICBmaWVsZHM6IFsibmFtZSJdCiAgICAgICAgfTsKICAgICAgICAKICAgICAgICAvLyBJbnN0YW50aWF0ZSB0aGUgQXV0b0NvbXBsZXRlCiAgICAgICAgdmFyIGFjID0gbmV3IFlBSE9PLndpZGdldC5BdXRvQ29tcGxldGUoZSwgZGl2LCBkcyk7CiAgICAgICAgYWMuZ2VuZXJhdGVSZXF1ZXN0ID0gZnVuY3Rpb24ocXVlcnkpIHsKICAgICAgICAgICAgcmV0dXJuICI/dmFsdWU9IiArIHF1ZXJ5OwogICAgICAgIH07CiAgICAgICAgYWMucHJlaGlnaGxpZ2h0Q2xhc3NOYW1lID0gInl1aS1hYy1wcmVoaWdobGlnaHQiOwogICAgICAgIGFjLmFuaW1TcGVlZCA9IDA7CiAgICAgICAgYWMudXNlU2hhZG93ID0gdHJ1ZTsKICAgICAgICBhYy5hdXRvU25hcENvbnRhaW5lciA9IHRydWU7CiAgICAgICAgYWMuZGVsaW1DaGFyID0gZS5nZXRBdHRyaWJ1dGUoImF1dG9Db21wbGV0ZURlbGltQ2hhciIpOwogICAgICAgIGFjLmRvQmVmb3JlRXhwYW5kQ29udGFpbmVyID0gZnVuY3Rpb24odGV4dGJveCxjb250YWluZXIpIHsvLyBhZGp1c3QgdGhlIHdpZHRoIGV2ZXJ5IHRpbWUgd2Ugc2hvdyBpdAogICAgICAgICAgICBjb250YWluZXIuc3R5bGUud2lkdGg9dGV4dGJveC5jbGllbnRXaWR0aCsicHgiOwogICAgICAgICAgICB2YXIgRG9tID0gWUFIT08udXRpbC5Eb207CiAgICAgICAgICAgIERvbS5zZXRYWShjb250YWluZXIsIFtEb20uZ2V0WCh0ZXh0Ym94KSwgRG9tLmdldFkodGV4dGJveCkgKyB0ZXh0Ym94Lm9mZnNldEhlaWdodF0gKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgfSwKCiAgICAiQS5oZWxwLWJ1dHRvbiIgOiBmdW5jdGlvbihlKSB7CiAgICAgICAgZS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciB0ciA9IGZpbmRGb2xsb3dpbmdUUih0aGlzLCAiaGVscC1hcmVhIik7CiAgICAgICAgICAgIHZhciBkaXYgPSAkKHRyKS5kb3duKCkubmV4dCgpLmRvd24oKTsKCiAgICAgICAgICAgIGlmIChkaXYuc3R5bGUuZGlzcGxheSAhPSAiYmxvY2siKSB7CiAgICAgICAgICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgICAgICAgICAvLyBtYWtlIGl0IHZpc2libGUKICAgICAgICAgICAgICAgIG5ldyBBamF4LlJlcXVlc3QodGhpcy5nZXRBdHRyaWJ1dGUoImhlbHBVUkwiKSwgewogICAgICAgICAgICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLAogICAgICAgICAgICAgICAgICAgIG9uU3VjY2VzcyA6IGZ1bmN0aW9uKHgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyb20gPSB4LmdldFJlc3BvbnNlSGVhZGVyKCJYLVBsdWdpbi1Gcm9tIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSB4LnJlc3BvbnNlVGV4dCsoZnJvbT8iPGRpdiBjbGFzcz0nZnJvbS1wbHVnaW4nPiIrZnJvbSsiPC9kaXY+IjoiIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dFVwZGF0ZUNhbGxiYWNrLmNhbGwoKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIG9uRmFpbHVyZSA6IGZ1bmN0aW9uKHgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9ICI8Yj5FUlJPUjwvYj46IEZhaWxlZCB0byBsb2FkIGhlbHAgZmlsZTogIiArIHguc3RhdHVzVGV4dDsKICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0VXBkYXRlQ2FsbGJhY2suY2FsbCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZGl2LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgICAgICBsYXlvdXRVcGRhdGVDYWxsYmFjay5jYWxsKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9OwogICAgICAgIGUudGFiSW5kZXggPSA5OTk5OyAvLyBtYWtlIGhlbHAgbGluayB1bm5hdmlnYWJsZSBmcm9tIGtleWJvYXJkCiAgICAgICAgZSA9IG51bGw7IC8vIGF2b2lkIG1lbW9yeSBsZWFrCiAgICB9LAoKICAgIC8vIFNjcmlwdCBDb25zb2xlIDogc2V0dGluZ3MgYW5kIHNob3J0Y3V0IGtleQogICAgIlRFWFRBUkVBLnNjcmlwdCIgOiBmdW5jdGlvbihlKSB7CiAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgY21kS2V5RG93biA9IGZhbHNlOwogICAgICAgICAgICB2YXIgbW9kZSA9IGUuZ2V0QXR0cmlidXRlKCJzY3JpcHQtbW9kZSIpIHx8ICJ0ZXh0L3gtZ3Jvb3Z5IjsKICAgICAgICAgICAgdmFyIHJlYWRPbmx5ID0gZXZhbChlLmdldEF0dHJpYnV0ZSgic2NyaXB0LXJlYWRPbmx5IikpIHx8IGZhbHNlOwogICAgICAgICAgICAKICAgICAgICAgICAgdmFyIHcgPSBDb2RlTWlycm9yLmZyb21UZXh0QXJlYShlLHsKICAgICAgICAgICAgICBtb2RlOiBtb2RlLAogICAgICAgICAgICAgIGxpbmVOdW1iZXJzOiB0cnVlLAogICAgICAgICAgICAgIG1hdGNoQnJhY2tldHM6IHRydWUsCiAgICAgICAgICAgICAgcmVhZE9ubHk6IHJlYWRPbmx5LAogICAgICAgICAgICAgIG9uS2V5RXZlbnQ6IGZ1bmN0aW9uKGVkaXRvciwgZXZlbnQpewogICAgICAgICAgICAgICAgZnVuY3Rpb24gaXNHZWNrb0NvbW1hbmRLZXkoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb3RvdHlwZS5Ccm93c2VyLkdlY2tvICYmIGV2ZW50LmtleUNvZGUgPT0gMjI0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmdW5jdGlvbiBpc09wZXJhQ29tbWFuZEtleSgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvdG90eXBlLkJyb3dzZXIuT3BlcmEgJiYgZXZlbnQua2V5Q29kZSA9PSAxNwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZnVuY3Rpb24gaXNXZWJLaXRDb21tYW5kS2V5KCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm90b3R5cGUuQnJvd3Nlci5XZWJLaXQgJiYgKGV2ZW50LmtleUNvZGUgPT0gOTEgfHwgZXZlbnQua2V5Q29kZSA9PSA5MykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGlzQ29tbWFuZEtleSgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNHZWNrb0NvbW1hbmRLZXkoKSB8fCBpc09wZXJhQ29tbWFuZEtleSgpIHx8IGlzV2ViS2l0Q29tbWFuZEtleSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZnVuY3Rpb24gaXNSZXR1cm5LZXlEb3duKCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBldmVudC50eXBlID09ICdrZXlkb3duJyAmJiBldmVudC5rZXlDb2RlID09IEV2ZW50LktFWV9SRVRVUk47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRQYXJlbnRGb3JtKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB0aHJvdyAnbm90IGZvdW5kIGEgcGFyZW50IGZvcm0nOwogICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSFRNTEZvcm1FbGVtZW50KSByZXR1cm4gZWxlbWVudDsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0UGFyZW50Rm9ybShlbGVtZW50LnBhcmVudE5vZGUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZnVuY3Rpb24gc2F2ZUFuZFN1Ym1pdCgpIHsKICAgICAgICAgICAgICAgICAgICBlZGl0b3Iuc2F2ZSgpOwogICAgICAgICAgICAgICAgICAgIGdldFBhcmVudEZvcm0oZSkuc3VibWl0KCk7CiAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBNYWMgKENvbW1hbmQgKyBFbnRlcikKICAgICAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ01hYycpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PSAna2V5ZG93bicgJiYgaXNDb21tYW5kS2V5KCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY21kS2V5RG93biA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChldmVudC50eXBlID09ICdrZXl1cCcgJiYgaXNDb21tYW5kS2V5KCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY21kS2V5RG93biA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoY21kS2V5RG93biAmJiBpc1JldHVybktleURvd24oKSkgewogICAgICAgICAgICAgICAgICAgICAgICBzYXZlQW5kU3VibWl0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBXaW5kb3dzLCBMaW51eCAoQ3RybCArIEVudGVyKQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY3RybEtleSAmJiBpc1JldHVybktleURvd24oKSkgewogICAgICAgICAgICAgICAgICAgICAgICBzYXZlQW5kU3VibWl0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmdldFdyYXBwZXJFbGVtZW50KCk7CiAgICAgICAgICAgIHcuc2V0QXR0cmlidXRlKCJzdHlsZSIsImJvcmRlcjoxcHggc29saWQgYmxhY2s7IG1hcmdpbi10b3A6IDFlbTsgbWFyZ2luLWJvdHRvbTogMWVtIikKICAgICAgICB9KSgpOwoJfSwKCi8vIGRlZmVycmVkIGNsaWVudC1zaWRlIGNsaWNrYWJsZSBtYXAuCi8vIHRoaXMgaXMgdXNlZnVsIHdoZXJlIHRoZSBnZW5lcmF0aW9uIG9mIDxtYXA+IGVsZW1lbnQgaXMgdGltZSBjb25zdW1pbmcKICAgICJJTUdbbGF6eW1hcF0iIDogZnVuY3Rpb24oZSkgewogICAgICAgIG5ldyBBamF4LlJlcXVlc3QoCiAgICAgICAgICAgIGUuZ2V0QXR0cmlidXRlKCJsYXp5bWFwIiksCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG1ldGhvZCA6ICdnZXQnLAogICAgICAgICAgICAgICAgb25TdWNjZXNzIDogZnVuY3Rpb24oeCkgewogICAgICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7CiAgICAgICAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IHgucmVzcG9uc2VUZXh0OwogICAgICAgICAgICAgICAgICAgIHZhciBpZCA9ICJtYXAiICsgKGlvdGErKyk7CiAgICAgICAgICAgICAgICAgICAgZGl2LmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJuYW1lIiwgaWQpOwogICAgICAgICAgICAgICAgICAgIGUuc2V0QXR0cmlidXRlKCJ1c2VtYXAiLCAiIyIgKyBpZCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgfSwKCiAgICAvLyByZXNpemFibGUgdGV4dCBhcmVhCiAgICAiVEVYVEFSRUEiIDogZnVuY3Rpb24odGV4dGFyZWEpIHsKICAgICAgICBpZihFbGVtZW50Lmhhc0NsYXNzTmFtZSh0ZXh0YXJlYSwicmljaC1lZGl0b3IiKSkgewogICAgICAgICAgICAvLyByaWNoIEhUTUwgZWRpdG9yCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICB2YXIgZWRpdG9yID0gbmV3IFlBSE9PLndpZGdldC5FZGl0b3IodGV4dGFyZWEsIHsKICAgICAgICAgICAgICAgICAgICBkb21wYXRoOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGFuaW1hdGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlU3VibWl0OiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIC8vIHByb2JhYmx5IGR1ZSB0byB0aGUgdGltaW5nIGlzc3VlLCB3ZSBuZWVkIHRvIGxldCB0aGUgZWRpdG9yIGtub3cKICAgICAgICAgICAgICAgIC8vIHRoYXQgRE9NIGlzIHJlYWR5CiAgICAgICAgICAgICAgICBlZGl0b3IuRE9NUmVhZHk9dHJ1ZTsKICAgICAgICAgICAgICAgIGVkaXRvci5maXJlUXVldWUoKTsKICAgICAgICAgICAgICAgIGVkaXRvci5yZW5kZXIoKTsKICAgICAgICAgICAgICAgIGxheW91dFVwZGF0ZUNhbGxiYWNrLmNhbGwoKTsKICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICBhbGVydChlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvLyBDb2RlTWlycm9yIGluc2VydHMgYSB3cmFwcGVyIGVsZW1lbnQgbmV4dCB0byB0aGUgdGV4dGFyZWEuCiAgICAgICAgLy8gdGV4dGFyZWEubmV4dFNpYmxpbmcgbWF5IG5vdCBiZSB0aGUgaGFuZGxlLgogICAgICAgIHZhciBoYW5kbGVzID0gZmluZEVsZW1lbnRzQnlTZWxlY3Rvcih0ZXh0YXJlYS5wYXJlbnROb2RlLCAiLnRleHRhcmVhLWhhbmRsZSIpOwogICAgICAgIGlmKGhhbmRsZXMubGVuZ3RoICE9IDEpIHJldHVybjsKICAgICAgICB2YXIgaGFuZGxlID0gaGFuZGxlc1swXTsKCiAgICAgICAgdmFyIEV2ZW50ID0gWUFIT08udXRpbC5FdmVudDsKCiAgICAgICAgZnVuY3Rpb24gZ2V0Q29kZW1pcnJvclNjcm9sbGVyT3JUZXh0YXJlYSgpewogICAgICAgICAgICByZXR1cm4gdGV4dGFyZWEuY29kZW1pcnJvck9iamVjdCA/IHRleHRhcmVhLmNvZGVtaXJyb3JPYmplY3QuZ2V0U2Nyb2xsZXJFbGVtZW50KCkgOiB0ZXh0YXJlYTsKICAgICAgICB9CiAgICAgICAgaGFuZGxlLm9ubW91c2Vkb3duID0gZnVuY3Rpb24oZXYpIHsKICAgICAgICAgICAgZXYgPSBFdmVudC5nZXRFdmVudChldik7CiAgICAgICAgICAgIHZhciBzID0gZ2V0Q29kZW1pcnJvclNjcm9sbGVyT3JUZXh0YXJlYSgpOwogICAgICAgICAgICB2YXIgb2Zmc2V0ID0gcy5vZmZzZXRIZWlnaHQtRXZlbnQuZ2V0UGFnZVkoZXYpOwogICAgICAgICAgICBzLnN0eWxlLm9wYWNpdHkgPSAwLjU7CiAgICAgICAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24oZXYpIHsKICAgICAgICAgICAgICAgIGV2ID0gRXZlbnQuZ2V0RXZlbnQoZXYpOwogICAgICAgICAgICAgICAgZnVuY3Rpb24gbWF4KGEsYikgeyBpZihhPGIpIHJldHVybiBiOyBlbHNlIHJldHVybiBhOyB9CiAgICAgICAgICAgICAgICBzLnN0eWxlLmhlaWdodCA9IG1heCgzMiwgb2Zmc2V0ICsgRXZlbnQuZ2V0UGFnZVkoZXYpKSArICdweCc7CiAgICAgICAgICAgICAgICBsYXlvdXRVcGRhdGVDYWxsYmFjay5jYWxsKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGRvY3VtZW50Lm9ubW91c2V1cCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgZG9jdW1lbnQub25tb3VzZW1vdmUgPSBudWxsOwogICAgICAgICAgICAgICAgZG9jdW1lbnQub25tb3VzZXVwID0gbnVsbDsKICAgICAgICAgICAgICAgIHZhciBzID0gZ2V0Q29kZW1pcnJvclNjcm9sbGVyT3JUZXh0YXJlYSgpOwogICAgICAgICAgICAgICAgcy5zdHlsZS5vcGFjaXR5ID0gMTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgaGFuZGxlLm9uZGJsY2xpY2sgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIHMgPSBnZXRDb2RlbWlycm9yU2Nyb2xsZXJPclRleHRhcmVhKCk7CiAgICAgICAgICAgIHMuc3R5bGUuaGVpZ2h0ID0gIjFweCI7IC8vIFRvIGdldCBhY3R1YWwgaGVpZ2h0IG9mIHRoZSB0ZXh0Ym94LCBzaHJpbmsgaXQgYW5kIHNob3cgaXRzIHNjcm9sbGJhcgogICAgICAgICAgICBzLnN0eWxlLmhlaWdodCA9IHMuc2Nyb2xsSGVpZ2h0ICsgJ3B4JzsKICAgICAgICB9CiAgICB9LAoKICAgIC8vIHN0cnVjdHVyZWQgZm9ybSBzdWJtaXNzaW9uCiAgICAiRk9STSIgOiBmdW5jdGlvbihmb3JtKSB7CiAgICAgICAgY3J1bWIuYXBwZW5kVG9Gb3JtKGZvcm0pOwogICAgICAgIGlmKEVsZW1lbnQuaGFzQ2xhc3NOYW1lKGZvcm0sICJuby1qc29uIikpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAvLyBhZGQgdGhlIGhpZGRlbiAnanNvbicgaW5wdXQgZmllbGQsIHdoaWNoIHJlY2VpdmVzIHRoZSBmb3JtIHN0cnVjdHVyZSBpbiBKU09OCiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIGRpdi5pbm5lckhUTUwgPSAiPGlucHV0IHR5cGU9aGlkZGVuIG5hbWU9anNvbiB2YWx1ZT1pbml0PiI7CiAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChkaXYpOwoKICAgICAgICB2YXIgb2xkT25zdWJtaXQgPSBmb3JtLm9uc3VibWl0OwogICAgICAgIGlmICh0eXBlb2Ygb2xkT25zdWJtaXQgPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICBmb3JtLm9uc3VibWl0ID0gZnVuY3Rpb24oKSB7IHJldHVybiBidWlsZEZvcm1UcmVlKHRoaXMpICYmIG9sZE9uc3VibWl0LmNhbGwodGhpcyk7IH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmb3JtLm9uc3VibWl0ID0gZnVuY3Rpb24oKSB7IHJldHVybiBidWlsZEZvcm1UcmVlKHRoaXMpOyB9OwogICAgICAgIH0KCiAgICAgICAgZm9ybSA9IG51bGw7IC8vIG1lbW9yeSBsZWFrIHByZXZlbnRpb24KICAgIH0sCgogICAgLy8gaG9vayB1cCB0b29sdGlwLgogICAgLy8gICBhZGQgbm9kaXNtaXNzPSIiIGlmIHlvdSdkIGxpa2UgdG8gZGlzcGxheSB0aGUgdG9vbHRpcCBmb3JldmVyIGFzIGxvbmcgYXMgdGhlIG1vdXNlIGlzIG9uIHRoZSBlbGVtZW50LgogICAgIlt0b29sdGlwXSIgOiBmdW5jdGlvbihlKSB7CiAgICAgICAgYXBwbHlUb29sdGlwKGUsZS5nZXRBdHRyaWJ1dGUoInRvb2x0aXAiKSk7CiAgICB9LAoKICAgICJJTlBVVC5zdWJtaXQtYnV0dG9uIiA6IGZ1bmN0aW9uKGUpIHsKICAgICAgICBtYWtlQnV0dG9uKGUpOwogICAgfSwKCiAgICAiSU5QVVQueXVpLWJ1dHRvbiIgOiBmdW5jdGlvbihlKSB7CiAgICAgICAgbWFrZUJ1dHRvbihlKTsKICAgIH0sCgogICAgIlRSLm9wdGlvbmFsLWJsb2NrLXN0YXJ0IjogZnVuY3Rpb24oZSkgeyAvLyBzZWUgb3B0aW9uYWxCbG9jay5qZWxseQogICAgICAgIC8vIHNldCBzdGFydC5yZWYgdG8gY2hlY2tib3ggaW4gcHJlcGFyYXRpb24gb2Ygcm93LXNldC1lbmQgcHJvY2Vzc2luZwogICAgICAgIHZhciBjaGVja2JveCA9IGUuZG93bigpLmRvd24oKTsKICAgICAgICBlLnNldEF0dHJpYnV0ZSgicmVmIiwgY2hlY2tib3guaWQgPSAiY2IiKyhpb3RhKyspKTsKICAgIH0sCgogICAgLy8gc2VlIFJvd1Zpc2liaWxpdHlHcm91cFRlc3QKICAgICJUUi5yb3d2Zy1zdGFydCIgOiBmdW5jdGlvbihlKSB7CiAgICAgICAgLy8gZmlndXJlIG91dCB0aGUgY29ycmVzcG9uZGluZyBlbmQgbWFya2VyCiAgICAgICAgZnVuY3Rpb24gZmluZEVuZChlKSB7CiAgICAgICAgICAgIGZvciggdmFyIGRlcHRoPTA7IDsgZT0kKGUpLm5leHQoKSkgewogICAgICAgICAgICAgICAgaWYoRWxlbWVudC5oYXNDbGFzc05hbWUoZSwicm93dmctc3RhcnQiKSkgICAgZGVwdGgrKzsKICAgICAgICAgICAgICAgIGlmKEVsZW1lbnQuaGFzQ2xhc3NOYW1lKGUsInJvd3ZnLWVuZCIpKSAgICAgIGRlcHRoLS07CiAgICAgICAgICAgICAgICBpZihkZXB0aD09MCkgICAgcmV0dXJuIGU7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGUucm93VmlzaWJpbGl0eUdyb3VwID0gewogICAgICAgICAgICBvdXRlclZpc2libGU6IHRydWUsCiAgICAgICAgICAgIGlubmVyVmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIFRSIHRoYXQgbWFya3MgdGhlIGJlZ2lubmluZyBvZiB0aGlzIHZpc2liaWxpdHkgZ3JvdXAuCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBzdGFydDogZSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIFRSIHRoYXQgbWFya3MgdGhlIGVuZCBvZiB0aGlzIHZpc2liaWxpdHkgZ3JvdXAuCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBlbmQ6IGZpbmRFbmQoZSksCgogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogQ29uc2lkZXJzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSByb3cgZ3JvdXAgZnJvbSB0aGUgcG9pbnQgb2YgdmlldyBvZiBvdXRzaWRlLgogICAgICAgICAgICAgKiBJZiB5b3UgdGhpbmsgb2YgYSByb3cgZ3JvdXAgbGlrZSBhIGxvZ2ljYWwgRE9NIG5vZGUsIHRoaXMgaXMgYWtpbiB0byBpdHMgLnN0eWxlLmRpc3BsYXkuCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBtYWtlT3V0ZXJWaXNpYmxlIDogZnVuY3Rpb24oYikgewogICAgICAgICAgICAgICAgdGhpcy5vdXRlclZpc2libGUgPSBiOwogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVWaXNpYmlsaXR5KCk7CiAgICAgICAgICAgIH0sCgogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogQ29uc2lkZXJzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSByb3dzIGluIHRoaXMgcm93IGdyb3VwLiBTaW5jZSBhbGwgdGhlIHJvd3MgaW4gYSByb3d2ZwogICAgICAgICAgICAgKiBzaGFyZXMgdGhlIHNpbmdsZSB2aXNpYmlsaXR5LCB0aGlzIGp1c3QgbmVlZHMgdG8gYmUgb25lIGJvb2xlYW4sIGFzIG9wcG9zZWQgdG8gbWFueS4KICAgICAgICAgICAgICoKICAgICAgICAgICAgICogSWYgeW91IHRoaW5rIG9mIGEgcm93IGdyb3VwIGxpa2UgYSBsb2dpY2FsIERPTSBub2RlLCB0aGlzIGlzIGFraW4gdG8gaXRzIGNoaWxkcmVuJ3MgLnN0eWxlLmRpc3BsYXkuCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBtYWtlSW5uZXJWaXNpYmxlIDogZnVuY3Rpb24oYikgewogICAgICAgICAgICAgICAgdGhpcy5pbm5lclZpc2libGUgPSBiOwogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVWaXNpYmlsaXR5KCk7CiAgICAgICAgICAgIH0sCgogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogQmFzZWQgb24gaW5uZXJWaXNpYmxlIGFuZCBvdXRlclZpc2libGUsIHVwZGF0ZSB0aGUgcmVsZXZhbnQgcm93cycgYWN0dWFsIENTUyBkaXNwbGF5IGF0dHJpYnV0ZS4KICAgICAgICAgICAgICovCiAgICAgICAgICAgIHVwZGF0ZVZpc2liaWxpdHkgOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHZhciBkaXNwbGF5ID0gKHRoaXMub3V0ZXJWaXNpYmxlICYmIHRoaXMuaW5uZXJWaXNpYmxlKSA/ICIiIDogIm5vbmUiOwogICAgICAgICAgICAgICAgZm9yICh2YXIgZT10aGlzLnN0YXJ0OyBlIT10aGlzLmVuZDsgZT0kKGUpLm5leHQoKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChlLnJvd1Zpc2liaWxpdHlHcm91cCAmJiBlIT10aGlzLnN0YXJ0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGUucm93VmlzaWJpbGl0eUdyb3VwLm1ha2VPdXRlclZpc2libGUodGhpcy5pbm5lclZpc2libGUpOwogICAgICAgICAgICAgICAgICAgICAgICBlID0gZS5yb3dWaXNpYmlsaXR5R3JvdXAuZW5kOyAvLyB0aGUgYWJvdmUgY2FsbCB1cGRhdGVzIHZpc2liaWxpdHkgdXAgdG8gZS5yb3dWaXNpYmlsaXR5R3JvdXAuZW5kIGluY2x1c2l2ZQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbGF5b3V0VXBkYXRlQ2FsbGJhY2suY2FsbCgpOwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIEVudW1lcmF0ZSBlYWNoIHJvdyBhbmQgcGFzcyB0aGF0IHRvIHRoZSBnaXZlbiBmdW5jdGlvbi4KICAgICAgICAgICAgICoKICAgICAgICAgICAgICogQHBhcmFtIHtib29sZWFufSByZWN1cnNpdmUKICAgICAgICAgICAgICogICAgICBJZiB0cnVlLCB0aGlzIHZpc2l0cyBhbGwgdGhlIHJvd3MgZnJvbSBuZXN0ZWQgdmlzaWJpbGl0eSBncm91cHMuCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBlYWNoUm93IDogZnVuY3Rpb24ocmVjdXJzaXZlLGYpIHsKICAgICAgICAgICAgICAgIGlmIChyZWN1cnNpdmUpIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBlPXRoaXMuc3RhcnQ7IGUhPXRoaXMuZW5kOyBlPSQoZSkubmV4dCgpKQogICAgICAgICAgICAgICAgICAgICAgICBmKGUpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyAibm90IGltcGxlbWVudGVkIHlldCI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfSwKCiAgICAiVFIucm93LXNldC1lbmQiOiBmdW5jdGlvbihlKSB7IC8vIHNlZSByb3dTZXQuamVsbHkgYW5kIG9wdGlvbmFsQmxvY2suamVsbHkKICAgICAgICAvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZXNwb25kaW5nIHN0YXJ0IGJsb2NrCiAgICAgICAgZSA9ICQoZSk7CiAgICAgICAgdmFyIGVuZCA9IGU7CgogICAgICAgIGZvciggdmFyIGRlcHRoPTA7IDsgZT1lLnByZXZpb3VzKCkpIHsKICAgICAgICAgICAgaWYoZS5oYXNDbGFzc05hbWUoInJvdy1zZXQtZW5kIikpICAgICAgICBkZXB0aCsrOwogICAgICAgICAgICBpZihlLmhhc0NsYXNzTmFtZSgicm93LXNldC1zdGFydCIpKSAgICAgIGRlcHRoLS07CiAgICAgICAgICAgIGlmKGRlcHRoPT0wKSAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgdmFyIHN0YXJ0ID0gZTsKCiAgICAgICAgLy8gQHJlZiBvbiBzdGFydCByZWZlcnMgdG8gdGhlIElEIG9mIHRoZSBlbGVtZW50IHRoYXQgY29udHJvbHMgdGhlIEpTT04gb2JqZWN0IGNyZWF0ZWQgZnJvbSB0aGVzZSByb3dzCiAgICAgICAgLy8gaWYgd2UgZG9uJ3QgZmluZCBpdCwgdHVybiB0aGUgc3RhcnQgbm9kZSBpbnRvIHRoZSBnb3Zlcm5pbmcgbm9kZSAodGh1cyB0aGUgZW5kIHJlc3VsdCBpcyB0aGF0IHlvdQogICAgICAgIC8vIGNyZWF0ZWQgYW4gaW50ZXJtZWRpYXRlIEpTT04gb2JqZWN0IHRoYXQncyBhbHdheXMgb24uKQogICAgICAgIHZhciByZWYgPSBzdGFydC5nZXRBdHRyaWJ1dGUoInJlZiIpOwogICAgICAgIGlmKHJlZj09bnVsbCkKICAgICAgICAgICAgc3RhcnQuaWQgPSByZWYgPSAicm93U2V0U3RhcnQiKyhpb3RhKyspOwoKICAgICAgICBhcHBseU5hbWVSZWYoc3RhcnQsZW5kLHJlZik7CiAgICB9LAoKICAgICJUUi5vcHRpb25hbC1ibG9jay1zdGFydCAiOiBmdW5jdGlvbihlKSB7IC8vIHNlZSBvcHRpb25hbEJsb2NrLmplbGx5CiAgICAgICAgLy8gdGhpcyBpcyBzdWZmaXhlZCBieSBhIHBvaW50bGVzcyBzdHJpbmcgc28gdGhhdCB0d28gcHJvY2Vzc2luZyBmb3Igb3B0aW9uYWwtYmxvY2stc3RhcnQKICAgICAgICAvLyBjYW4gc2FuZHdpY2ggcm93LXNldC1lbmQKICAgICAgICAvLyB0aGlzIHJlcXVpcmVzICJUUi5yb3ctc2V0LWVuZCIgdG8gbWFyayByb3dzCiAgICAgICAgdmFyIGNoZWNrYm94ID0gZS5kb3duKCkuZG93bigpOwogICAgICAgIHVwZGF0ZU9wdGlvbmFsQmxvY2soY2hlY2tib3gsZmFsc2UpOwogICAgfSwKCiAgICAvLyBpbWFnZSB0aGF0IHNob3dzIFsrXSBvciBbLV0sIHdpdGggaG92ZXIgZWZmZWN0LgogICAgLy8gb25jb2xsYXBzZWQgYW5kIG9uZXhwYW5kZWQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgYnV0dG9uIGlzIHRyaWdnZXJlZC4KICAgICJJTUcuZm9sZC1jb250cm9sIiA6IGZ1bmN0aW9uKGUpIHsKICAgICAgICBmdW5jdGlvbiBjaGFuZ2VUbyhlLGltZykgewogICAgICAgICAgICB2YXIgc3JjID0gZS5zcmM7CiAgICAgICAgICAgIGUuc3JjID0gc3JjLnN1YnN0cmluZygwLHNyYy5sYXN0SW5kZXhPZignLycpKSsiLyIrZS5nZXRBdHRyaWJ1dGUoInN0YXRlIikraW1nOwogICAgICAgIH0KICAgICAgICBlLm9ubW91c2VvdmVyID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGNoYW5nZVRvKHRoaXMsIi1ob3Zlci5wbmciKTsKICAgICAgICB9OwogICAgICAgIGUub25tb3VzZW91dCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBjaGFuZ2VUbyh0aGlzLCIucG5nIik7CiAgICAgICAgfTsKICAgICAgICBlLnBhcmVudE5vZGUub25jbGljayA9IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgIHZhciBlID0gdGhpcy5maXJzdENoaWxkOwogICAgICAgICAgICB2YXIgcyA9IGUuZ2V0QXR0cmlidXRlKCJzdGF0ZSIpOwogICAgICAgICAgICBpZihzPT0icGx1cyIpIHsKICAgICAgICAgICAgICAgIGUuc2V0QXR0cmlidXRlKCJzdGF0ZSIsIm1pbnVzIik7CiAgICAgICAgICAgICAgICBpZihlLm9uZXhwYW5kZWQpICAgIGUub25leHBhbmRlZCgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZS5zZXRBdHRyaWJ1dGUoInN0YXRlIiwicGx1cyIpOwogICAgICAgICAgICAgICAgaWYoZS5vbmNvbGxhcHNlZCkgICAgZS5vbmNvbGxhcHNlZCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNoYW5nZVRvKGUsIi1ob3Zlci5wbmciKTsKICAgICAgICAgICAgWUFIT08udXRpbC5FdmVudC5zdG9wRXZlbnQoZXZlbnQpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfTsKICAgICAgICBlID0gbnVsbDsgLy8gbWVtb3J5IGxlYWsgcHJldmVudGlvbgogICAgfSwKCiAgICAvLyBlZGl0YWJsZUNvbWJvQm94LmplbGx5CiAgICAiSU5QVVQuY29tYm9ib3giIDogZnVuY3Rpb24oYykgewogICAgICAgIC8vIE5leHQgZWxlbWVudCBhZnRlciA8aW5wdXQgY2xhc3M9ImNvbWJvYm94Ii8+IHNob3VsZCBiZSA8ZGl2IGNsYXNzPSJjb21ib2JveC12YWx1ZXMiPgogICAgICAgIHZhciB2ZGl2ID0gJChjKS5uZXh0KCk7CiAgICAgICAgaWYgKHZkaXYuaGFzQ2xhc3NOYW1lKCJjb21ib2JveC12YWx1ZXMiKSkgewogICAgICAgICAgICBjcmVhdGVDb21ib0JveChjLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHJldHVybiB2ZGl2LmNoaWxkRWxlbWVudHMoKS5jb2xsZWN0KGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmdldEF0dHJpYnV0ZSgndmFsdWUnKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9LAoKICAgIC8vIGRyb3Bkb3duTGlzdC5qZWxseQogICAgIlNFTEVDVC5kcm9wZG93bkxpc3QiIDogZnVuY3Rpb24oZSkgewogICAgICAgIGlmKGlzSW5zaWRlUmVtb3ZhYmxlKGUpKSAgICByZXR1cm47CgogICAgICAgIHZhciBzdWJGb3JtcyA9IFtdOwogICAgICAgIHZhciBzdGFydCA9ICQoZmluZEZvbGxvd2luZ1RSKGUsICdkcm9wZG93bkxpc3QtY29udGFpbmVyJykpLmRvd24oKS5uZXh0KCksIGVuZDsKICAgICAgICBkbyB7IHN0YXJ0ID0gc3RhcnQuZmlyc3RDaGlsZDsgfSB3aGlsZSAoc3RhcnQgJiYgc3RhcnQudGFnTmFtZSAhPSAnVFInKTsKCiAgICAgICAgaWYgKHN0YXJ0ICYmICFFbGVtZW50Lmhhc0NsYXNzTmFtZShzdGFydCwnZHJvcGRvd25MaXN0LXN0YXJ0JykpCiAgICAgICAgICAgIHN0YXJ0ID0gZmluZEZvbGxvd2luZ1RSKHN0YXJ0LCAnZHJvcGRvd25MaXN0LXN0YXJ0Jyk7CiAgICAgICAgd2hpbGUgKHN0YXJ0ICE9IG51bGwpIHsKICAgICAgICAgICAgc3ViRm9ybXMucHVzaChzdGFydCk7CiAgICAgICAgICAgIHN0YXJ0ID0gZmluZEZvbGxvd2luZ1RSKHN0YXJ0LCAnZHJvcGRvd25MaXN0LXN0YXJ0Jyk7CiAgICAgICAgfQoKICAgICAgICAvLyBjb250cm9sIHZpc2liaWxpdHkKICAgICAgICBmdW5jdGlvbiB1cGRhdGVEcm9wRG93bkxpc3QoKSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3ViRm9ybXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHZhciBzaG93ID0gZS5zZWxlY3RlZEluZGV4ID09IGk7CiAgICAgICAgICAgICAgICB2YXIgZiA9ICQoc3ViRm9ybXNbaV0pOwoKICAgICAgICAgICAgICAgIGlmIChzaG93KSAgIHJlbmRlck9uRGVtYW5kKGYubmV4dCgpKTsKICAgICAgICAgICAgICAgIGYucm93VmlzaWJpbGl0eUdyb3VwLm1ha2VJbm5lclZpc2libGUoc2hvdyk7CgogICAgICAgICAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhY3R1YWxseSBpbmNvcnJlY3QgaW4gdGhlIGdlbmVyYWwgY2FzZSBpZiBuZXN0ZWQgdmcgdXNlcyBmaWVsZC1kaXNhYmxlZAogICAgICAgICAgICAgICAgLy8gc28gZmFyIGRyb3Bkb3duTGlzdCBkb2Vzbid0IGNyZWF0ZSBzdWNoIGEgc2l0dWF0aW9uLgogICAgICAgICAgICAgICAgZi5yb3dWaXNpYmlsaXR5R3JvdXAuZWFjaFJvdyh0cnVlLCBzaG93P2Z1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBlLnJlbW92ZUF0dHJpYnV0ZSgiZmllbGQtZGlzYWJsZWQiKTsKICAgICAgICAgICAgICAgIH0gOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgZS5zZXRBdHRyaWJ1dGUoImZpZWxkLWRpc2FibGVkIiwidHJ1ZSIpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGUub25jaGFuZ2UgPSB1cGRhdGVEcm9wRG93bkxpc3Q7CgogICAgICAgIHVwZGF0ZURyb3BEb3duTGlzdCgpOwogICAgfSwKCiAgICAiQS5zaG93RGV0YWlscyIgOiBmdW5jdGlvbihlKSB7CiAgICAgICAgZS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHRoaXMuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgJCh0aGlzKS5uZXh0KCkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgIGxheW91dFVwZGF0ZUNhbGxiYWNrLmNhbGwoKTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH07CiAgICAgICAgZSA9IG51bGw7IC8vIGF2b2lkIG1lbW9yeSBsZWFrCiAgICB9LAoKICAgICJESVYuYmVoYXZpb3ItbG9hZGluZyIgOiBmdW5jdGlvbihlKSB7CiAgICAgICAgZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgfSwKCiAgICAiLmJ1dHRvbi13aXRoLWRyb3Bkb3duIiA6IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgbmV3IFlBSE9PLndpZGdldC5CdXR0b24oZSwgeyB0eXBlOiAibWVudSIsIG1lbnU6ICQoZSkubmV4dCgpIH0pOwogICAgfSwKCiAgICAiLnRyYWNrLW1vdXNlIiA6IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgdmFyIERPTSA9IFlBSE9PLnV0aWwuRG9tOwoKICAgICAgICAkKGVsZW1lbnQpLm9ic2VydmUoIm1vdXNlZW50ZXIiLGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZWxlbWVudC5hZGRDbGFzc05hbWUoIm1vdXNlb3ZlciIpOwoKICAgICAgICAgICAgdmFyIG1vdXNlbW92ZVRyYWNrZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgICAgIHZhciBlbGVtZW50UmVnaW9uID0gRE9NLmdldFJlZ2lvbihlbGVtZW50KTsKICAgICAgICAgICAgICAgIGlmIChldmVudC54IDwgZWxlbWVudFJlZ2lvbi5sZWZ0IHx8IGV2ZW50LnggPiBlbGVtZW50UmVnaW9uLnJpZ2h0IHx8CiAgICAgICAgICAgICAgICAgICAgZXZlbnQueSA8IGVsZW1lbnRSZWdpb24udG9wIHx8IGV2ZW50LnkgPiBlbGVtZW50UmVnaW9uLmJvdHRvbSkgewogICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3NOYW1lKCJtb3VzZW92ZXIiKTsKICAgICAgICAgICAgICAgICAgICBFbGVtZW50LnN0b3BPYnNlcnZpbmcoZG9jdW1lbnQsICJtb3VzZW1vdmUiLCBtb3VzZW1vdmVUcmFja2VyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgRWxlbWVudC5vYnNlcnZlKGRvY3VtZW50LCAibW91c2Vtb3ZlIiwgbW91c2Vtb3ZlVHJhY2tlcik7CiAgICAgICAgfSk7CiAgICB9LAoKICAgIC8qCiAgICAgICAgVXNlIG9uIGRpdiB0YWcgdG8gbWFrZSBpdCBzdGlja3kgdmlzaWJsZSBvbiB0aGUgYm90dG9tIG9mIHRoZSBwYWdlLgogICAgICAgIFdoZW4gcGFnZSBzY3JvbGxzIGl0IHJlbWFpbnMgaW4gdGhlIGJvdHRvbSBvZiB0aGUgcGFnZQogICAgICAgIENvbnZlbmllbnQgb24gIk9LIiBidXR0b24gYW5kIGV0YyBmb3IgYSBsb25nIGZvcm0gcGFnZQogICAgICovCiAgICAiI2JvdHRvbS1zdGlja2VyIiA6IGZ1bmN0aW9uKHN0aWNrZXIpIHsKICAgICAgICB2YXIgRE9NID0gWUFIT08udXRpbC5Eb207CgogICAgICAgIHZhciBzaGFkb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICBzdGlja2VyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNoYWRvdyxzdGlja2VyKTsKCiAgICAgICAgdmFyIGVkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICBlZGdlLmNsYXNzTmFtZSA9ICJib3R0b20tc3RpY2tlci1lZGdlIjsKICAgICAgICBzdGlja2VyLmluc2VydEJlZm9yZShlZGdlLHN0aWNrZXIuZmlyc3RDaGlsZCk7CgogICAgICAgIGZ1bmN0aW9uIGFkanVzdFN0aWNrZXIoKSB7CiAgICAgICAgICAgIHNoYWRvdy5zdHlsZS5oZWlnaHQgPSBzdGlja2VyLm9mZnNldEhlaWdodCArICJweCI7CgogICAgICAgICAgICB2YXIgdmlld3BvcnQgPSBET00uZ2V0Q2xpZW50UmVnaW9uKCk7CiAgICAgICAgICAgIHZhciBwb3MgPSBET00uZ2V0UmVnaW9uKHNoYWRvdyk7CgogICAgICAgICAgICBzdGlja2VyLnN0eWxlLnBvc2l0aW9uID0gImZpeGVkIjsKCiAgICAgICAgICAgIHZhciBib3R0b21Qb3MgPSBNYXRoLm1heCgwLCB2aWV3cG9ydC5ib3R0b20gLSBwb3MuYm90dG9tKTsKCiAgICAgICAgICAgIHN0aWNrZXIuc3R5bGUuYm90dG9tID0gYm90dG9tUG9zICsgInB4IgogICAgICAgICAgICBzdGlja2VyLnN0eWxlLmxlZnQgPSBNYXRoLm1heCgwLHBvcy5sZWZ0LXZpZXdwb3J0LmxlZnQpICsgInB4IgogICAgICAgIH0KCiAgICAgICAgLy8gcmVhY3QgdG8gbGF5b3V0IGNoYW5nZQogICAgICAgIEVsZW1lbnQub2JzZXJ2ZSh3aW5kb3csInNjcm9sbCIsYWRqdXN0U3RpY2tlcik7CiAgICAgICAgRWxlbWVudC5vYnNlcnZlKHdpbmRvdywicmVzaXplIixhZGp1c3RTdGlja2VyKTsKICAgICAgICAvLyBpbml0aWFsIHBvc2l0aW9uaW5nCiAgICAgICAgRWxlbWVudC5vYnNlcnZlKHdpbmRvdywibG9hZCIsYWRqdXN0U3RpY2tlcik7CiAgICAgICAgRXZlbnQub2JzZXJ2ZSh3aW5kb3csICdqZW5raW5zOmJvdHRvbS1zdGlja2VyLWFkanVzdCcsIGFkanVzdFN0aWNrZXIpOwogICAgICAgIGFkanVzdFN0aWNrZXIoKTsKICAgICAgICBsYXlvdXRVcGRhdGVDYWxsYmFjay5hZGQoYWRqdXN0U3RpY2tlcik7CiAgICB9LAoKICAgICIjdG9wLXN0aWNrZXIiIDogZnVuY3Rpb24oc3RpY2tlcikgey8vIGxlZ2FjeQogICAgICAgIHRoaXNbIi50b3Atc3RpY2tlciJdKHN0aWNrZXIpOwogICAgfSwKCiAgICAvKioKICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHN0aWNrZXIKICAgICAqLwogICAgIi50b3Atc3RpY2tlciIgOiBmdW5jdGlvbihzdGlja2VyKSB7CiAgICAgICAgdmFyIERPTSA9IFlBSE9PLnV0aWwuRG9tOwoKICAgICAgICB2YXIgc2hhZG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgc3RpY2tlci5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzaGFkb3csc3RpY2tlcik7CgogICAgICAgIHZhciBlZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgZWRnZS5jbGFzc05hbWUgPSAidG9wLXN0aWNrZXItZWRnZSI7CiAgICAgICAgc3RpY2tlci5pbnNlcnRCZWZvcmUoZWRnZSxzdGlja2VyLmZpcnN0Q2hpbGQpOwoKICAgICAgICB2YXIgaW5pdGlhbEJyZWFkY3J1bWJQb3NpdGlvbiA9IERPTS5nZXRSZWdpb24oc2hhZG93KTsKICAgICAgICBmdW5jdGlvbiBhZGp1c3RTdGlja2VyKCkgewogICAgICAgICAgICBzaGFkb3cuc3R5bGUuaGVpZ2h0ID0gc3RpY2tlci5vZmZzZXRIZWlnaHQgKyAicHgiOwoKICAgICAgICAgICAgdmFyIHZpZXdwb3J0ID0gRE9NLmdldENsaWVudFJlZ2lvbigpOwogICAgICAgICAgICB2YXIgcG9zID0gRE9NLmdldFJlZ2lvbihzaGFkb3cpOwoKICAgICAgICAgICAgc3RpY2tlci5zdHlsZS5wb3NpdGlvbiA9ICJmaXhlZCI7CiAgICAgICAgICAgIGlmKHBvcy50b3AgPD0gaW5pdGlhbEJyZWFkY3J1bWJQb3NpdGlvbi50b3ApIHsKICAgICAgICAgICAgICAgIHN0aWNrZXIuc3R5bGUudG9wID0gTWF0aC5tYXgoMCwgcG9zLnRvcC12aWV3cG9ydC50b3ApICsgInB4IgogICAgICAgICAgICB9CiAgICAgICAgICAgIHN0aWNrZXIuc3R5bGUubGVmdCA9IE1hdGgubWF4KDAscG9zLmxlZnQtdmlld3BvcnQubGVmdCkgKyAicHgiCiAgICAgICAgfQoKICAgICAgICAvLyByZWFjdCB0byBsYXlvdXQgY2hhbmdlCiAgICAgICAgRWxlbWVudC5vYnNlcnZlKHdpbmRvdywic2Nyb2xsIixhZGp1c3RTdGlja2VyKTsKICAgICAgICBFbGVtZW50Lm9ic2VydmUod2luZG93LCJyZXNpemUiLGFkanVzdFN0aWNrZXIpOwogICAgICAgIC8vIGluaXRpYWwgcG9zaXRpb25pbmcKICAgICAgICBFbGVtZW50Lm9ic2VydmUod2luZG93LCJsb2FkIixhZGp1c3RTdGlja2VyKTsKICAgICAgICBhZGp1c3RTdGlja2VyKCk7CiAgICB9Cn07Ci8qKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIEJlaGF2aW91ci5zcGVjaWZ5fSBpbnN0ZWFkLiAqLwp2YXIgaHVkc29uUnVsZXMgPSBqZW5raW5zUnVsZXM7IC8vIGxlZ2FjeSBuYW1lCihmdW5jdGlvbigpIHsKICAgIHZhciBwID0gMjA7CiAgICBmb3IgKHZhciBzZWxlY3RvciBpbiBqZW5raW5zUnVsZXMpIHsKICAgICAgICBCZWhhdmlvdXIuc3BlY2lmeShzZWxlY3RvciwgJ2h1ZHNvbi1iZWhhdmlvcicsIHArKywgamVua2luc1J1bGVzW3NlbGVjdG9yXSk7CiAgICAgICAgZGVsZXRlIGplbmtpbnNSdWxlc1tzZWxlY3Rvcl07CiAgICB9Cn0pKCk7Ci8vIG5vdyBlbXB0eSwgYnV0IHBsdWdpbnMgY2FuIHN0dWZmIHRoaW5ncyBpbiBoZXJlIGxhdGVyOgpCZWhhdmlvdXIucmVnaXN0ZXIoaHVkc29uUnVsZXMpOwoKZnVuY3Rpb24gYXBwbHlUb29sdGlwKGUsdGV4dCkgewogICAgICAgIC8vIGNvcGllZCBmcm9tIFlBSE9PLndpZGdldC5Ub29sdGlwLnByb3RvdHlwZS5jb25maWdDb250ZXh0IHRvIGVmZmljaWVudGx5IGFkZCBhIG5ldyBlbGVtZW50CiAgICAgICAgLy8gZXZlbnQgcmVnaXN0cmF0aW9uIHZpYSBZQUhPTy51dGlsLkV2ZW50LmFkZExpc3RlbmVyIGxlYWtzIG1lbW9yeSwgc28gZG8gaXQgYnkgb3Vyc2VsdmVzIGhlcmUKICAgICAgICBlLm9ubW91c2VvdmVyID0gZnVuY3Rpb24oZXYpIHsKICAgICAgICAgICAgdmFyIGRlbGF5ID0gdGhpcy5nZXRBdHRyaWJ1dGUoIm5vZGlzbWlzcyIpIT1udWxsID8gOTk5OTk5OTkgOiA1MDAwOwogICAgICAgICAgICB0b29sdGlwLmNmZy5zZXRQcm9wZXJ0eSgiYXV0b2Rpc21pc3NkZWxheSIsZGVsYXkpOwogICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5vbkNvbnRleHRNb3VzZU92ZXIuY2FsbCh0aGlzLFlBSE9PLnV0aWwuRXZlbnQuZ2V0RXZlbnQoZXYpLHRvb2x0aXApOwogICAgICAgIH0KICAgICAgICBlLm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24oZXYpIHsgcmV0dXJuIHRvb2x0aXAub25Db250ZXh0TW91c2VNb3ZlLmNhbGwodGhpcyxZQUhPTy51dGlsLkV2ZW50LmdldEV2ZW50KGV2KSx0b29sdGlwKTsgfQogICAgICAgIGUub25tb3VzZW91dCAgPSBmdW5jdGlvbihldikgeyByZXR1cm4gdG9vbHRpcC5vbkNvbnRleHRNb3VzZU91dCAuY2FsbCh0aGlzLFlBSE9PLnV0aWwuRXZlbnQuZ2V0RXZlbnQoZXYpLHRvb2x0aXApOyB9CiAgICAgICAgZS50aXRsZSA9IHRleHQ7CiAgICAgICAgZSA9IG51bGw7IC8vIGF2b2lkIG1lbW9yeSBsZWFrCn0KCnZhciBQYXRoID0gewogIHRhaWwgOiBmdW5jdGlvbihwKSB7CiAgICAgIHZhciBpZHggPSBwLmxhc3RJbmRleE9mKCIvIik7CiAgICAgIGlmIChpZHg8MCkgICAgcmV0dXJuIHA7CiAgICAgIHJldHVybiBwLnN1YnN0cmluZyhpZHgrMSk7CiAgfQp9OwoKLyoqCiAqIEluc3RhbGwgY2hhbmdlIGhhbmRsZXJzIGJhc2VkIG9uIHRoZSAnZmlsbERlcGVuZHNPbicgYXR0cmlidXRlLgogKi8KZnVuY3Rpb24gcmVmaWxsT25DaGFuZ2UoZSxvbkNoYW5nZSkgewogICAgdmFyIGRlcHMgPSBbXTsKCiAgICBmdW5jdGlvbiBoKCkgewogICAgICAgIHZhciBwYXJhbXMgPSB7fTsKICAgICAgICBkZXBzLmVhY2goZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgcGFyYW1zW2QubmFtZV0gPSBjb250cm9sVmFsdWUoZC5jb250cm9sKTsKICAgICAgICB9KTsKICAgICAgICBvbkNoYW5nZShwYXJhbXMpOwogICAgfQogICAgdmFyIHYgPSBlLmdldEF0dHJpYnV0ZSgiZmlsbERlcGVuZHNPbiIpOwogICAgaWYgKHYhPW51bGwpIHsKICAgICAgICB2LnNwbGl0KCIgIikuZWFjaChmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICB2YXIgYyA9IGZpbmROZWFyQnkoZSxuYW1lKTsKICAgICAgICAgICAgaWYgKGM9PW51bGwpIHsKICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuY29uc29sZSE9bnVsbCkgIGNvbnNvbGUud2FybigiVW5hYmxlIHRvIGZpbmQgbmVhcmJ5ICIrbmFtZSk7CiAgICAgICAgICAgICAgICBpZiAod2luZG93LllVSSE9bnVsbCkgICAgICBZVUkubG9nKCJVbmFibGUgdG8gZmluZCBhIG5lYXJieSBjb250cm9sIG9mIHRoZSBuYW1lICIrbmFtZSwid2FybiIpCiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJChjKS5vYnNlcnZlKCJjaGFuZ2UiLGgpOwogICAgICAgICAgICBkZXBzLnB1c2goe25hbWU6UGF0aC50YWlsKG5hbWUpLGNvbnRyb2w6Y30pOwogICAgICAgIH0pOwogICAgfQogICAgaCgpOyAgIC8vIGluaXRpYWwgZmlsbAp9CgpmdW5jdGlvbiB4b3IoYSxiKSB7CiAgICAvLyBjb252ZXJ0IGJvdGggdmFsdWVzIHRvIGJvb2xlYW4gYnkgJyEnIGFuZCB0aGVuIGRvIGEhPWIKICAgIHJldHVybiAhYSAhPSAhYjsKfQoKLy8gdXNlZCBieSBlZGl0YWJsZURlc2NyaXB0aW9uLmplbGx5IHRvIHJlcGxhY2UgdGhlIGRlc2NyaXB0aW9uIGZpZWxkIHdpdGggYSBmb3JtCmZ1bmN0aW9uIHJlcGxhY2VEZXNjcmlwdGlvbigpIHsKICAgIHZhciBkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRlc2NyaXB0aW9uIik7CiAgICAkKGQpLmRvd24oKS5uZXh0KCkuaW5uZXJIVE1MID0gIjxkaXYgY2xhc3M9J3NwaW5uZXItcmlnaHQnPmxvYWRpbmcuLi48L2Rpdj4iOwogICAgbmV3IEFqYXguUmVxdWVzdCgKICAgICAgICAiLi9kZXNjcmlwdGlvbkZvcm0iLAogICAgICAgIHsKICAgICAgICAgIG9uQ29tcGxldGUgOiBmdW5jdGlvbih4KSB7CiAgICAgICAgICAgIGQuaW5uZXJIVE1MID0geC5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgIGV2YWxJbm5lckh0bWxTY3JpcHRzKHgucmVzcG9uc2VUZXh0LGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgQmVoYXZpb3VyLmFwcGx5U3VidHJlZShkKTsKICAgICAgICAgICAgICAgIGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIlRFWFRBUkVBIilbMF0uZm9jdXMoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGxheW91dFVwZGF0ZUNhbGxiYWNrLmNhbGwoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICApOwogICAgcmV0dXJuIGZhbHNlOwp9CgovKioKICogSW5kaWNhdGVzIHRoYXQgZm9ybSBmaWVsZHMgZnJvbSByb3dzIFtzLGUpIHNob3VsZCBiZSBncm91cGVkIGludG8gYSBKU09OIG9iamVjdCwKICogYW5kIGF0dGFjaGVkIHVuZGVyIHRoZSBlbGVtZW50IGlkZW50aWZpZWQgYnkgdGhlIHNwZWNpZmllZCBpZC4KICovCmZ1bmN0aW9uIGFwcGx5TmFtZVJlZihzLGUsaWQpIHsKICAgICQoaWQpLmdyb3VwaW5nTm9kZSA9IHRydWU7CiAgICAvLyBzIGNvbnRhaW5zIHRoZSBub2RlIGl0c2VsZgogICAgZm9yKHZhciB4PSQocykubmV4dCgpOyB4IT1lOyB4PXgubmV4dCgpKSB7CiAgICAgICAgLy8gdG8gaGFuZGxlIG5lc3RlZCA8Zjpyb3dTZXQ+IGNvcnJlY3RseSwgZG9uJ3Qgb3ZlcndyaXRlIHRoZSBleGlzdGluZyB2YWx1ZQogICAgICAgIGlmKHguZ2V0QXR0cmlidXRlKCJuYW1lUmVmIik9PW51bGwpCiAgICAgICAgICAgIHguc2V0QXR0cmlidXRlKCJuYW1lUmVmIixpZCk7CiAgICB9Cn0KCgovLyB1c2VkIGJ5IG9wdGlvbmFsQmxvY2suamVsbHkgdG8gdXBkYXRlIHRoZSBmb3JtIHN0YXR1cwovLyAgIEBwYXJhbSBjICAgICBjaGVja2JveCBlbGVtZW50CmZ1bmN0aW9uIHVwZGF0ZU9wdGlvbmFsQmxvY2soYyxzY3JvbGwpIHsKICAgIC8vIGZpbmQgdGhlIHN0YXJ0IFRSCiAgICB2YXIgcyA9ICQoYyk7CiAgICB3aGlsZSghcy5oYXNDbGFzc05hbWUoIm9wdGlvbmFsLWJsb2NrLXN0YXJ0IikpCiAgICAgICAgcyA9IHMudXAoKTsKCiAgICAvLyBmaW5kIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHJvd3ZnCiAgICB2YXIgdmcgPXM7CiAgICB3aGlsZSAoIXZnLmhhc0NsYXNzTmFtZSgicm93dmctc3RhcnQiKSkKICAgICAgICB2ZyA9IHZnLm5leHQoKTsKCiAgICB2YXIgY2hlY2tlZCA9IHhvcihjLmNoZWNrZWQsRWxlbWVudC5oYXNDbGFzc05hbWUoYywibmVnYXRpdmUiKSk7CgogICAgdmcucm93VmlzaWJpbGl0eUdyb3VwLm1ha2VJbm5lclZpc2libGUoY2hlY2tlZCk7CgogICAgaWYoY2hlY2tlZCAmJiBzY3JvbGwpIHsKICAgICAgICB2YXIgRCA9IFlBSE9PLnV0aWwuRG9tOwoKICAgICAgICB2YXIgciA9IEQuZ2V0UmVnaW9uKHMpOwogICAgICAgIHIgPSByLnVuaW9uKEQuZ2V0UmVnaW9uKHZnLnJvd1Zpc2liaWxpdHlHcm91cC5lbmQpKTsKICAgICAgICBzY3JvbGxJbnRvVmlldyhyKTsKICAgIH0KCiAgICBpZiAoYy5uYW1lID09ICdodWRzb24tdG9vbHMtSW5zdGFsbFNvdXJjZVByb3BlcnR5JykgewogICAgICAgIC8vIEhhY2sgdG8gaGlkZSB0b29sIGhvbWUgd2hlbiAiSW5zdGFsbCBhdXRvbWF0aWNhbGx5IiBpcyBjaGVja2VkLgogICAgICAgIHZhciBob21lRmllbGQgPSBmaW5kUHJldmlvdXNGb3JtSXRlbShjLCAnaG9tZScpOwogICAgICAgIGlmIChob21lRmllbGQgIT0gbnVsbCAmJiBob21lRmllbGQudmFsdWUgPT0gJycpIHsKICAgICAgICAgICAgdmFyIHRyID0gZmluZEFuY2VzdG9yKGhvbWVGaWVsZCwgJ1RSJyk7CiAgICAgICAgICAgIGlmICh0ciAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICB0ci5zdHlsZS5kaXNwbGF5ID0gYy5jaGVja2VkID8gJ25vbmUnIDogJyc7CiAgICAgICAgICAgICAgICBsYXlvdXRVcGRhdGVDYWxsYmFjay5jYWxsKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCgovLwovLyBBdXRvLXNjcm9sbCBzdXBwb3J0IGZvciBwcm9ncmVzc2l2ZSBsb2cgb3V0cHV0LgovLyAgIFNlZSBodHRwOi8vcmFkaW8uamF2YXJhbmNoLmNvbS9wYXNjYXJlbGxvLzIwMDYvMDgvMTcvMTE1NTgzNzAzODIxOS5odG1sCi8vCmZ1bmN0aW9uIEF1dG9TY3JvbGxlcihzY3JvbGxDb250YWluZXIpIHsKICAgIC8vIGdldCB0aGUgaGVpZ2h0IG9mIHRoZSB2aWV3cG9ydC4KICAgIC8vIFNlZSBodHRwOi8vd3d3Lmhvd3RvY3JlYXRlLmNvLnVrL3R1dG9yaWFscy9qYXZhc2NyaXB0L2Jyb3dzZXJ3aW5kb3cKICAgIGZ1bmN0aW9uIGdldFZpZXdwb3J0SGVpZ2h0KCkgewogICAgICAgIGlmICh0eXBlb2YoIHdpbmRvdy5pbm5lcldpZHRoICkgPT0gJ251bWJlcicpIHsKICAgICAgICAgICAgLy9Ob24tSUUKICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lckhlaWdodDsKICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiAoIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ICkpIHsKICAgICAgICAgICAgLy9JRSA2KyBpbiAnc3RhbmRhcmRzIGNvbXBsaWFudCBtb2RlJwogICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDsKICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmJvZHkgJiYgKCBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoIHx8IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0ICkpIHsKICAgICAgICAgICAgLy9JRSA0IGNvbXBhdGlibGUKICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OwogICAgICAgIH0KICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICByZXR1cm4gewogICAgICAgIGJvdHRvbVRocmVzaG9sZCA6IDI1LAogICAgICAgIHNjcm9sbENvbnRhaW5lcjogc2Nyb2xsQ29udGFpbmVyLAoKICAgICAgICBnZXRDdXJyZW50SGVpZ2h0IDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBzY3JvbGxEaXYgPSAkKHRoaXMuc2Nyb2xsQ29udGFpbmVyKTsKCiAgICAgICAgICAgIGlmIChzY3JvbGxEaXYuc2Nyb2xsSGVpZ2h0ID4gMCkKICAgICAgICAgICAgICAgIHJldHVybiBzY3JvbGxEaXYuc2Nyb2xsSGVpZ2h0OwogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsRGl2Lm9mZnNldEhlaWdodCA+IDApCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjcm9sbERpdi5vZmZzZXRIZWlnaHQ7CgogICAgICAgICAgICByZXR1cm4gbnVsbDsgLy8gaHVoPwogICAgICAgIH0sCgogICAgICAgIC8vIHJldHVybiB0cnVlIGlmIHdlIGFyZSBpbiB0aGUgInN0aWNrIHRvIGJvdHRvbSIgbW9kZQogICAgICAgIGlzU3RpY2tpbmcgOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIHNjcm9sbERpdiA9ICQodGhpcy5zY3JvbGxDb250YWluZXIpOwogICAgICAgICAgICB2YXIgY3VycmVudEhlaWdodCA9IHRoaXMuZ2V0Q3VycmVudEhlaWdodCgpOwoKICAgICAgICAgICAgLy8gd2hlbiB1c2VkIHdpdGggdGhlIEJPRFkgdGFnLCB0aGUgaGVpZ2h0IG5lZWRzIHRvIGJlIHRoZSB2aWV3cG9ydCBoZWlnaHQsIGluc3RlYWQgb2YKICAgICAgICAgICAgLy8gdGhlIGVsZW1lbnQgaGVpZ2h0LgogICAgICAgICAgICAvL3ZhciBoZWlnaHQgPSAoKHNjcm9sbERpdi5zdHlsZS5waXhlbEhlaWdodCkgPyBzY3JvbGxEaXYuc3R5bGUucGl4ZWxIZWlnaHQgOiBzY3JvbGxEaXYub2Zmc2V0SGVpZ2h0KTsKICAgICAgICAgICAgdmFyIGhlaWdodCA9IGdldFZpZXdwb3J0SGVpZ2h0KCk7CiAgICAgICAgICAgIHZhciBzY3JvbGxQb3MgPSBNYXRoLm1heChzY3JvbGxEaXYuc2Nyb2xsVG9wLCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKTsKICAgICAgICAgICAgdmFyIGRpZmYgPSBjdXJyZW50SGVpZ2h0IC0gc2Nyb2xsUG9zIC0gaGVpZ2h0OwogICAgICAgICAgICAvLyB3aW5kb3cuYWxlcnQoImN1cnJlbnRIZWlnaHQ9IiArIGN1cnJlbnRIZWlnaHQgKyAiLHNjcm9sbFRvcD0iICsgc2Nyb2xsRGl2LnNjcm9sbFRvcCArICIsaGVpZ2h0PSIgKyBoZWlnaHQpOwoKICAgICAgICAgICAgcmV0dXJuIGRpZmYgPCB0aGlzLmJvdHRvbVRocmVzaG9sZDsKICAgICAgICB9LAoKICAgICAgICBzY3JvbGxUb0JvdHRvbSA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgc2Nyb2xsRGl2ID0gJCh0aGlzLnNjcm9sbENvbnRhaW5lcik7CiAgICAgICAgICAgIHZhciBjdXJyZW50SGVpZ2h0ID0gdGhpcy5nZXRDdXJyZW50SGVpZ2h0KCk7CiAgICAgICAgICAgIGlmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IGN1cnJlbnRIZWlnaHQKICAgICAgICAgICAgc2Nyb2xsRGl2LnNjcm9sbFRvcCA9IGN1cnJlbnRIZWlnaHQ7CiAgICAgICAgfQogICAgfTsKfQoKLy8gc2Nyb2xsIHRoZSBjdXJyZW50IHdpbmRvdyB0byBkaXNwbGF5IHRoZSBnaXZlbiBlbGVtZW50IG9yIHRoZSByZWdpb24uCmZ1bmN0aW9uIHNjcm9sbEludG9WaWV3KGUpIHsKICAgIGZ1bmN0aW9uIGNhbGNEZWx0YShleDEsZXgyLHZ4MSx2dykgewogICAgICAgIHZhciB2eDI9dngxK3Z3OwogICAgICAgIHZhciBhOwogICAgICAgIGEgPSBNYXRoLm1pbih2eDEtZXgxLHZ4Mi1leDIpOwogICAgICAgIGlmKGE+MCkgICAgIHJldHVybiAtYTsKICAgICAgICBhID0gTWF0aC5taW4oZXgxLXZ4MSxleDItdngyKTsKICAgICAgICBpZihhPjApICAgICByZXR1cm4gYTsKICAgICAgICByZXR1cm4gMDsKICAgIH0KCiAgICB2YXIgRCA9IFlBSE9PLnV0aWwuRG9tOwoKICAgIHZhciByOwogICAgaWYoZS50YWdOYW1lIT1udWxsKSByID0gRC5nZXRSZWdpb24oZSk7CiAgICBlbHNlICAgICAgICAgICAgICAgIHIgPSBlOwoKICAgIHZhciBkeCA9IGNhbGNEZWx0YShyLmxlZnQsci5yaWdodCwgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0LCBELmdldFZpZXdwb3J0V2lkdGgoKSk7CiAgICB2YXIgZHkgPSBjYWxjRGVsdGEoci50b3AsIHIuYm90dG9tLGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wLCAgRC5nZXRWaWV3cG9ydEhlaWdodCgpKTsKICAgIHdpbmRvdy5zY3JvbGxCeShkeCxkeSk7Cn0KCi8vIHVzZWQgaW4gZXhwYW5kYWJsZVRleHRib3guamVsbHkgdG8gY2hhbmdlIGEgaW5wdXQgZmllbGQgaW50byBhIHRleHQgYXJlYQpmdW5jdGlvbiBleHBhbmRUZXh0QXJlYShidXR0b24saWQpIHsKICAgIGJ1dHRvbi5zdHlsZS5kaXNwbGF5PSJub25lIjsKICAgIHZhciBmaWVsZCA9IGJ1dHRvbi5wYXJlbnROb2RlLnByZXZpb3VzU2libGluZy5jaGlsZHJlblswXTsKICAgIHZhciB2YWx1ZSA9IGZpZWxkLnZhbHVlLnJlcGxhY2UoLyArL2csJ1xuJyk7CiAgICAKICAgIHZhciBuID0gYnV0dG9uOyAKICAgIHdoaWxlIChuLnRhZ05hbWUgIT0gIlRBQkxFIikKICAgIHsKICAgICAgICBuID0gbi5wYXJlbnROb2RlOwogICAgfQoKICAgIG4ucGFyZW50Tm9kZS5pbm5lckhUTUwgPSAKICAgICAgICAiPHRleHRhcmVhIHJvd3M9OCBjbGFzcz0nc2V0dGluZy1pbnB1dCcgbmFtZT0nIitmaWVsZC5uYW1lKyInPiIrdmFsdWUrIjwvdGV4dGFyZWE+IjsKICAgIGxheW91dFVwZGF0ZUNhbGxiYWNrLmNhbGwoKTsKfQoKLy8gcmVmcmVzaCBhIHBhcnQgb2YgdGhlIEhUTUwgc3BlY2lmaWVkIGJ5IHRoZSBnaXZlbiBJRCwKLy8gYnkgdXNpbmcgdGhlIGNvbnRlbnRzIGZldGNoZWQgZnJvbSB0aGUgZ2l2ZW4gVVJMLgpmdW5jdGlvbiByZWZyZXNoUGFydChpZCx1cmwpIHsKICAgIHZhciBpbnRlcnZhbElEID0gbnVsbDsKICAgIHZhciBmID0gZnVuY3Rpb24oKSB7CiAgICAgICAgaWYoaXNQYWdlVmlzaWJsZSgpKSB7CiAgICAgICAgICAgIG5ldyBBamF4LlJlcXVlc3QodXJsLCB7CiAgICAgICAgICAgICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uKHJzcCkgewogICAgICAgICAgICAgICAgICAgIHZhciBoaXN0ID0gJChpZCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGhpc3QgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiVGhlcmUncyBubyBlbGVtZW50IHRoYXQgaGFzIElEIG9mICIgKyBpZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcnZhbElEICE9PSBudWxsKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJRCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBoaXN0LnVwKCk7CgogICAgICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gcnNwLnJlc3BvbnNlVGV4dDsKCiAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSAkKGRpdikuZmlyc3REZXNjZW5kYW50KCk7CiAgICAgICAgICAgICAgICAgICAgcC5yZXBsYWNlQ2hpbGQobm9kZSwgaGlzdCk7CgogICAgICAgICAgICAgICAgICAgIEJlaGF2aW91ci5hcHBseVN1YnRyZWUobm9kZSk7CiAgICAgICAgICAgICAgICAgICAgbGF5b3V0VXBkYXRlQ2FsbGJhY2suY2FsbCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgLy8gaWYgcnVuIGFzIHRlc3QsIGp1c3QgZG8gaXQgb25jZSBhbmQgZG8gaXQgbm93IHRvIG1ha2Ugc3VyZSBpdCdzIHdvcmtpbmcsCiAgICAvLyBidXQgZG9uJ3QgcmVwZWF0LgogICAgaWYoaXNSdW5Bc1Rlc3QpIGYoKTsKICAgIGVsc2UgaW50ZXJ2YWxJRCA9IHdpbmRvdy5zZXRJbnRlcnZhbChmLCA1MDAwKTsKfQoKCi8qCiAgICBQZXJmb3JtIFVSTCBlbmNvZGUuCiAgICBUYWtlbiBmcm9tIGh0dHA6Ly93d3cuY3Jlc2MuY28uanAvdGVjaC9qYXZhL1VSTGVuY29kaW5nL0phdmFTY3JpcHRfVVJMRW5jb2RpbmcuaHRtCiAgICBAZGVwcmVjYXRlZCBVc2Ugc3RhbmRhcmQgamF2YXNjcmlwdCBtZXRob2QgImVuY29kZVVSSUNvbXBvbmVudCIgaW5zdGVhZAoqLwpmdW5jdGlvbiBlbmNvZGUoc3RyKXsKICAgIHZhciBzLCB1OwogICAgdmFyIHMwID0gIiI7ICAgICAgICAgICAgICAgIC8vIGVuY29kZWQgc3RyCgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspeyAgIC8vIHNjYW4gdGhlIHNvdXJjZQogICAgICAgIHMgPSBzdHIuY2hhckF0KGkpOwogICAgICAgIHUgPSBzdHIuY2hhckNvZGVBdChpKTsgICAgICAgICAgLy8gZ2V0IHVuaWNvZGUgb2YgdGhlIGNoYXIKCiAgICAgICAgaWYgKHMgPT0gIiAiKXtzMCArPSAiKyI7fSAgICAgICAvLyBTUCBzaG91bGQgYmUgY29udmVydGVkIHRvICIrIgogICAgICAgIGVsc2UgewogICAgICAgICAgICBpZiAoIHUgPT0gMHgyYSB8fCB1ID09IDB4MmQgfHwgdSA9PSAweDJlIHx8IHUgPT0gMHg1ZiB8fCAoKHUgPj0gMHgzMCkgJiYgKHUgPD0gMHgzOSkpIHx8ICgodSA+PSAweDQxKSAmJiAodSA8PSAweDVhKSkgfHwgKCh1ID49IDB4NjEpICYmICh1IDw9IDB4N2EpKSl7ICAgICAvLyBjaGVjayBmb3IgZXNjYXBlCiAgICAgICAgICAgICAgICBzMCA9IHMwICsgczsgICAgICAgICAgIC8vIGRvbid0IGVzY2FwZQogICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAvLyBlc2NhcGUKICAgICAgICAgICAgICAgIGlmICgodSA+PSAweDApICYmICh1IDw9IDB4N2YpKXsgICAgIC8vIHNpbmdsZSBieXRlIGZvcm1hdAogICAgICAgICAgICAgICAgICAgIHMgPSAiMCIrdS50b1N0cmluZygxNik7CiAgICAgICAgICAgICAgICAgICAgczAgKz0gIiUiKyBzLnN1YnN0cihzLmxlbmd0aC0yKTsKICAgICAgICAgICAgICAgIH0gZWxzZQogICAgICAgICAgICAgICAgaWYgKHUgPiAweDFmZmZmZil7ICAgICAvLyBxdWF0ZXJuYXJ5IGJ5dGUgZm9ybWF0IChleHRlbmRlZCkKICAgICAgICAgICAgICAgICAgICBzMCArPSAiJSIgKyAoMHhGMCArICgodSAmIDB4MWMwMDAwKSA+PiAxOCkpLnRvU3RyaW5nKDE2KTsKICAgICAgICAgICAgICAgICAgICBzMCArPSAiJSIgKyAoMHg4MCArICgodSAmIDB4M2YwMDApID4+IDEyKSkudG9TdHJpbmcoMTYpOwogICAgICAgICAgICAgICAgICAgIHMwICs9ICIlIiArICgweDgwICsgKCh1ICYgMHhmYzApID4+IDYpKS50b1N0cmluZygxNik7CiAgICAgICAgICAgICAgICAgICAgczAgKz0gIiUiICsgKDB4ODAgKyAodSAmIDB4M2YpKS50b1N0cmluZygxNik7CiAgICAgICAgICAgICAgICB9IGVsc2UKICAgICAgICAgICAgICAgIGlmICh1ID4gMHg3ZmYpeyAgICAgICAgLy8gdHJpcGxlIGJ5dGUgZm9ybWF0CiAgICAgICAgICAgICAgICAgICAgczAgKz0gIiUiICsgKDB4ZTAgKyAoKHUgJiAweGYwMDApID4+IDEyKSkudG9TdHJpbmcoMTYpOwogICAgICAgICAgICAgICAgICAgIHMwICs9ICIlIiArICgweDgwICsgKCh1ICYgMHhmYzApID4+IDYpKS50b1N0cmluZygxNik7CiAgICAgICAgICAgICAgICAgICAgczAgKz0gIiUiICsgKDB4ODAgKyAodSAmIDB4M2YpKS50b1N0cmluZygxNik7CiAgICAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAvLyBkb3VibGUgYnl0ZSBmb3JtYXQKICAgICAgICAgICAgICAgICAgICBzMCArPSAiJSIgKyAoMHhjMCArICgodSAmIDB4N2MwKSA+PiA2KSkudG9TdHJpbmcoMTYpOwogICAgICAgICAgICAgICAgICAgIHMwICs9ICIlIiArICgweDgwICsgKHUgJiAweDNmKSkudG9TdHJpbmcoMTYpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIHMwOwp9CgovLyB3aGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBmb3JtIGVsZW1lbnRzIG9mIHRoZSBzYW1lIG5hbWUsCi8vIHRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGlucHV0IGZpZWxkIG9mIHRoZSBnaXZlbiBuYW1lIHRoYXQgcGFpcnMgdXAKLy8gd2l0aCB0aGUgc3BlY2lmaWVkICdiYXNlJyBpbnB1dCBlbGVtZW50LgpGb3JtLmZpbmRNYXRjaGluZ0lucHV0ID0gZnVuY3Rpb24oYmFzZSwgbmFtZSkgewogICAgLy8gZmluZCB0aGUgRk9STSBlbGVtZW50IHRoYXQgb3ducyB1cwogICAgdmFyIGYgPSBiYXNlOwogICAgd2hpbGUgKGYudGFnTmFtZSAhPSAiRk9STSIpCiAgICAgICAgZiA9IGYucGFyZW50Tm9kZTsKCiAgICB2YXIgYmFzZXMgPSBGb3JtLmdldElucHV0cyhmLCBudWxsLCBiYXNlLm5hbWUpOwogICAgdmFyIHRhcmdldHMgPSBGb3JtLmdldElucHV0cyhmLCBudWxsLCBuYW1lKTsKCiAgICBmb3IgKHZhciBpPTA7IGk8YmFzZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoYmFzZXNbaV0gPT0gYmFzZSkKICAgICAgICAgICAgcmV0dXJuIHRhcmdldHNbaV07CiAgICB9CgogICAgcmV0dXJuIG51bGw7ICAgICAgICAvLyBub3QgZm91bmQKfQoKZnVuY3Rpb24gb25CdWlsZEhpc3RvcnlDaGFuZ2UoaGFuZGxlcikgewogICAgRXZlbnQub2JzZXJ2ZSh3aW5kb3csICdqZW5raW5zOmJ1aWxkSGlzdG9yeUNoYW5nZWQnLCBoYW5kbGVyKTsKfQpmdW5jdGlvbiBmaXJlQnVpbGRIaXN0b3J5Q2hhbmdlZCgpIHsKICAgIEV2ZW50LmZpcmUod2luZG93LCAnamVua2luczpidWlsZEhpc3RvcnlDaGFuZ2VkJyk7Cn0KCmZ1bmN0aW9uIHVwZGF0ZUJ1aWxkSGlzdG9yeShhamF4VXJsLG5CdWlsZCkgewogICAgaWYoaXNSdW5Bc1Rlc3QpIHJldHVybjsKICAgIHZhciBiaCA9ICQoJ2J1aWxkSGlzdG9yeScpOwogICAgCiAgICAvLyBJZiB0aGUgYnVpbGQgaGlzdG9yeSBwYW5lIGlzIGNvbGxhcHNlZCwganVzdCByZXR1cm4gaW1tZWRpYXRlbHkgYW5kIGRvbid0IHNldCB1cAogICAgLy8gdGhlIGJ1aWxkIGhpc3RvcnkgcmVmcmVzaC4KICAgIGlmIChiaC5oYXNDbGFzc05hbWUoJ2NvbGxhcHNlZCcpKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgCiAgICB2YXIgYnVpbGRIaXN0b3J5UGFnZSA9ICQoJ2J1aWxkSGlzdG9yeVBhZ2UnKTsKCiAgICBiaC5oZWFkZXJzID0gWyJuIixuQnVpbGRdOwoKICAgIGZ1bmN0aW9uIGdldERhdGFUYWJsZShidWlsZEhpc3RvcnlEaXYpIHsKCXJldHVybiAkKGJ1aWxkSGlzdG9yeURpdikuZ2V0RWxlbWVudHNCeVNlbGVjdG9yKCd0YWJsZS5wYW5lJylbMF07CiAgICB9CgogICAgdmFyIGxlZnRSaWdodFBhZGRpbmcgPSA0OwogICAgZnVuY3Rpb24gY2hlY2tSb3dDZWxsT3ZlcmZsb3dzKHJvdykgewogICAgICAgIGlmICghcm93KSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmIChFbGVtZW50Lmhhc0NsYXNzTmFtZShyb3csICJvdmVyZmxvdy1jaGVja2VkIikpIHsKICAgICAgICAgICAgLy8gYWxyZWFkeSBkb25lLgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBtYXJrU2luZ2xlbGluZSgpIHsKICAgICAgICAgICAgRWxlbWVudC5hZGRDbGFzc05hbWUocm93LCAic2luZ2xlLWxpbmUiKTsKICAgICAgICAgICAgRWxlbWVudC5yZW1vdmVDbGFzc05hbWUocm93LCAibXVsdGktbGluZSIpOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBtYXJrTXVsdGlsaW5lKCkgewogICAgICAgICAgICBFbGVtZW50LnJlbW92ZUNsYXNzTmFtZShyb3csICJzaW5nbGUtbGluZSIpOwogICAgICAgICAgICBFbGVtZW50LmFkZENsYXNzTmFtZShyb3csICJtdWx0aS1saW5lIik7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGluZGVudE11bHRpbGluZShlbGVtZW50KSB7CiAgICAgICAgICAgIEVsZW1lbnQuYWRkQ2xhc3NOYW1lKGVsZW1lbnQsICJpbmRlbnQtbXVsdGlsaW5lIik7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBibG9ja1dyYXAoZWwxLCBlbDIpIHsKICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoKICAgICAgICAgICAgRWxlbWVudC5hZGRDbGFzc05hbWUoZGl2LCAiYmxvY2siKTsKICAgICAgICAgICAgRWxlbWVudC5hZGRDbGFzc05hbWUoZGl2LCAid3JhcCIpOwogICAgICAgICAgICBFbGVtZW50LmFkZENsYXNzTmFtZShlbDEsICJ3cmFwcGVkIik7CiAgICAgICAgICAgIEVsZW1lbnQuYWRkQ2xhc3NOYW1lKGVsMiwgIndyYXBwZWQiKTsKCiAgICAgICAgICAgIGVsMS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkaXYsIGVsMSk7CiAgICAgICAgICAgIGVsMS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsMSk7CiAgICAgICAgICAgIGVsMi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsMik7CiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChlbDEpOwogICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoZWwyKTsKCiAgICAgICAgICAgIHJldHVybiBkaXY7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGJsb2NrVW53cmFwKGVsZW1lbnQpIHsKICAgICAgICAgICAgdmFyIHdyYXBwZWQgPSAkKGVsZW1lbnQpLmdldEVsZW1lbnRzQnlTZWxlY3RvcignLndyYXBwZWQnKTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3cmFwcGVkLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgd3JhcHBlZEVsID0gd3JhcHBlZFtpXTsKICAgICAgICAgICAgICAgIHdyYXBwZWRFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHdyYXBwZWRFbCk7CiAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHdyYXBwZWRFbCwgZWxlbWVudCk7CiAgICAgICAgICAgICAgICBFbGVtZW50LnJlbW92ZUNsYXNzTmFtZSh3cmFwcGVkRWwsICJ3cmFwcGVkIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpOwogICAgICAgIH0KCiAgICAgICAgdmFyIGJ1aWxkTmFtZSA9ICQocm93KS5nZXRFbGVtZW50c0J5U2VsZWN0b3IoJy5idWlsZC1uYW1lJylbMF07CiAgICAgICAgdmFyIGJ1aWxkRGV0YWlscyA9ICQocm93KS5nZXRFbGVtZW50c0J5U2VsZWN0b3IoJy5idWlsZC1kZXRhaWxzJylbMF07CgogICAgICAgIGlmICghYnVpbGROYW1lIHx8ICFidWlsZERldGFpbHMpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIGRpc3BsYXlOYW1lID0gJChidWlsZE5hbWUpLmdldEVsZW1lbnRzQnlTZWxlY3RvcignLmRpc3BsYXktbmFtZScpWzBdOwogICAgICAgIHZhciBidWlsZENvbnRyb2xzID0gJChyb3cpLmdldEVsZW1lbnRzQnlTZWxlY3RvcignLmJ1aWxkLWNvbnRyb2xzJylbMF07CiAgICAgICAgdmFyIGRlc2M7CgogICAgICAgIHZhciBkZXNjRWxlbWVudHMgPSAkKHJvdykuZ2V0RWxlbWVudHNCeVNlbGVjdG9yKCcuZGVzYycpOwogICAgICAgIGlmIChkZXNjRWxlbWVudHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICBkZXNjID0gZGVzY0VsZW1lbnRzWzBdOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcmVzZXRDZWxsT3ZlcmZsb3dzKCkgewogICAgICAgICAgICBtYXJrU2luZ2xlbGluZSgpOwoKICAgICAgICAgICAgLy8gdW5kbyBibG9jayB3cmFwcwogICAgICAgICAgICB2YXIgYmxvY2tXcmFwcyA9ICQocm93KS5nZXRFbGVtZW50c0J5U2VsZWN0b3IoJy5ibG9jay53cmFwJyk7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmxvY2tXcmFwcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgYmxvY2tVbndyYXAoYmxvY2tXcmFwc1tpXSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJlbW92ZVplcm9XaWR0aFNwYWNlcyhkaXNwbGF5TmFtZSk7CiAgICAgICAgICAgIHJlbW92ZVplcm9XaWR0aFNwYWNlcyhkZXNjKTsKICAgICAgICAgICAgRWxlbWVudC5yZW1vdmVDbGFzc05hbWUoYnVpbGROYW1lLCAiYmxvY2siKTsKICAgICAgICAgICAgYnVpbGROYW1lLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTsKICAgICAgICAgICAgRWxlbWVudC5yZW1vdmVDbGFzc05hbWUoYnVpbGREZXRhaWxzLCAiYmxvY2siKTsKICAgICAgICAgICAgYnVpbGREZXRhaWxzLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTsKICAgICAgICAgICAgaWYgKGJ1aWxkQ29udHJvbHMpIHsKICAgICAgICAgICAgICAgIEVsZW1lbnQucmVtb3ZlQ2xhc3NOYW1lKGJ1aWxkQ29udHJvbHMsICJibG9jayIpOwogICAgICAgICAgICAgICAgYnVpbGREZXRhaWxzLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gVW5kbyBldmVyeXRoaW5nIGZyb20gdGhlIHByZXZpb3VzIHBvbGwuCiAgICAgICAgcmVzZXRDZWxsT3ZlcmZsb3dzKCk7CgogICAgICAgIC8vIEluc2VydCB6ZXJvLXdpZHRoIHNwYWNlcyBzbyBhcyB0byBhbGxvdyB0ZXh0IHRvIHdyYXAsIGFsbG93aW5nIHVzIHRvIGdldCB0aGUgdHJ1ZSBjbGllbnRXaWR0aC4KICAgICAgICBpbnNlcnRaZXJvV2lkdGhTcGFjZXNJbkVsZW1lbnRUZXh0KGRpc3BsYXlOYW1lLCAyKTsKICAgICAgICBpZiAoZGVzYykgewogICAgICAgICAgICBpbnNlcnRaZXJvV2lkdGhTcGFjZXNJbkVsZW1lbnRUZXh0KGRlc2MsIDMwKTsKICAgICAgICAgICAgbWFya011bHRpbGluZSgpOwogICAgICAgIH0KCiAgICAgICAgdmFyIHJvd1dpZHRoID0gYmguY2xpZW50V2lkdGg7CiAgICAgICAgdmFyIHVzYWJsZVJvd1dpZHRoID0gcm93V2lkdGggLSAobGVmdFJpZ2h0UGFkZGluZyAqIDIpOwogICAgICAgIHZhciBuYW1lT3ZlcmZsb3dQYXJhbXMgPSBnZXRFbGVtZW50T3ZlcmZsb3dQYXJhbXMoYnVpbGROYW1lKTsKICAgICAgICB2YXIgZGV0YWlsc092ZXJmbG93UGFyYW1zID0gZ2V0RWxlbWVudE92ZXJmbG93UGFyYW1zKGJ1aWxkRGV0YWlscyk7CgogICAgICAgIHZhciBjb250cm9sc092ZXJmbG93UGFyYW1zOwogICAgICAgIGlmIChidWlsZENvbnRyb2xzKSB7CiAgICAgICAgICAgIGNvbnRyb2xzT3ZlcmZsb3dQYXJhbXMgPSBnZXRFbGVtZW50T3ZlcmZsb3dQYXJhbXMoYnVpbGRDb250cm9scyk7CiAgICAgICAgfQoKICAgICAgICBpZiAobmFtZU92ZXJmbG93UGFyYW1zLmlzT3ZlcmZsb3dlZCkgewogICAgICAgICAgICAvLyBJZiB0aGUgbmFtZSBpcyBvdmVyZmxvd2VkLCBsZXRzIHJlbW92ZSB0aGUgemVyby13aWR0aCBzcGFjZXMgd2UgYWRkZWQgYWJvdmUgYW5kCiAgICAgICAgICAgIC8vIHJlLWFkZCB6ZXJvLXdpZHRoIHNwYWNlcyB3aXRoIGEgYmlnZ2VyIG1heCB3b3JkIHNpemVzLgogICAgICAgICAgICByZW1vdmVaZXJvV2lkdGhTcGFjZXMoZGlzcGxheU5hbWUpOwogICAgICAgICAgICBpbnNlcnRaZXJvV2lkdGhTcGFjZXNJbkVsZW1lbnRUZXh0KGRpc3BsYXlOYW1lLCAyMCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBmaXRUb0NvbnRyb2xzSGVpZ2h0KGVsZW1lbnQpIHsKICAgICAgICAgICAgaWYgKGJ1aWxkQ29udHJvbHMpIHsKICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmNsaWVudEhlaWdodCA8IGJ1aWxkQ29udHJvbHMuY2xpZW50SGVpZ2h0KSB7CiAgICAgICAgICAgICAgICAgICAgJChlbGVtZW50KS5zZXRTdHlsZSh7aGVpZ2h0OiBidWlsZENvbnRyb2xzLmNsaWVudEhlaWdodC50b1N0cmluZygpICsgJ3B4J30pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBzZXRCdWlsZENvbnRyb2xXaWR0aHMoKSB7CiAgICAgICAgICAgIGlmIChidWlsZENvbnRyb2xzKSB7CiAgICAgICAgICAgICAgICB2YXIgYnVpbGRCYWRnZSA9ICQoYnVpbGRDb250cm9scykuZ2V0RWxlbWVudHNCeVNlbGVjdG9yKCcuYnVpbGQtYmFkZ2UnKVswXTsKCiAgICAgICAgICAgICAgICBpZiAoYnVpbGRCYWRnZSkgewogICAgICAgICAgICAgICAgICAgIHZhciBidWlsZENvbnRyb2xzV2lkdGggPSBidWlsZENvbnRyb2xzLmNsaWVudFdpZHRoOwogICAgICAgICAgICAgICAgICAgIHZhciBidWlsZEJhZGdlV2lkdGg7CgogICAgICAgICAgICAgICAgICAgIHZhciBidWlsZFN0b3AgPSAkKGJ1aWxkQ29udHJvbHMpLmdldEVsZW1lbnRzQnlTZWxlY3RvcignLmJ1aWxkLXN0b3AnKVswXTsKICAgICAgICAgICAgICAgICAgICBpZiAoYnVpbGRTdG9wKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQoYnVpbGRTdG9wKS5zZXRTdHlsZSh7d2lkdGg6ICcyNHB4J30pOwogICAgICAgICAgICAgICAgICAgICAgICAvLyBNaW51cyAyNCBmb3IgdGhlIGJ1aWxkU3RvcCB3aWR0aCwKICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWludXMgNCBmb3IgbGVmdCtyaWdodCBwYWRkaW5nIGluIHRoZSBjb250cm9scyBjb250YWluZXIKICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRCYWRnZVdpZHRoID0gKGJ1aWxkQ29udHJvbHNXaWR0aCAtIDI0IC0gbGVmdFJpZ2h0UGFkZGluZyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChFbGVtZW50Lmhhc0NsYXNzTmFtZShidWlsZENvbnRyb2xzLCAiaW5kZW50LW11bHRpbGluZSIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZEJhZGdlV2lkdGggPSBidWlsZEJhZGdlV2lkdGggLSAyMDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAkKGJ1aWxkQmFkZ2UpLnNldFN0eWxlKHt3aWR0aDogKGJ1aWxkQmFkZ2VXaWR0aCkgKyAncHgnfSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJChidWlsZEJhZGdlKS5zZXRTdHlsZSh7d2lkdGg6ICcxMDAlJ30pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnRyb2xzT3ZlcmZsb3dQYXJhbXMgPSBnZXRFbGVtZW50T3ZlcmZsb3dQYXJhbXMoYnVpbGRDb250cm9scyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc2V0QnVpbGRDb250cm9sV2lkdGhzKCk7CgogICAgICAgIHZhciBjb250cm9sc1JlcG9zaXRpb25lZCA9IGZhbHNlOwoKICAgICAgICBpZiAobmFtZU92ZXJmbG93UGFyYW1zLmlzT3ZlcmZsb3dlZCB8fCBkZXRhaWxzT3ZlcmZsb3dQYXJhbXMuaXNPdmVyZmxvd2VkKSB7CiAgICAgICAgICAgIC8vIEF0IGxlYXN0IG9uZSBvZiB0aGUgY2VsbHMgKG5hbWUgb3IgZGV0YWlscykgbmVlZHMgdG8gbW92ZSB0byBhIHJvdyBvZiBpdHMgb3duLgoKICAgICAgICAgICAgbWFya011bHRpbGluZSgpOwoKICAgICAgICAgICAgaWYgKGJ1aWxkQ29udHJvbHMpIHsKCiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGJ1aWxkIGNvbnRyb2xzLiBMZXRzIHNlZSBjYW4gd2UgZmluZCBhIGNvbWJpbmF0aW9uIHRoYXQgYWxsb3dzIHRoZSBidWlsZCBjb250cm9scwogICAgICAgICAgICAgICAgLy8gdG8gc2l0IGJlc2lkZSBlaXRoZXIgdGhlIGJ1aWxkIG5hbWUgb3IgdGhlIGJ1aWxkIGRldGFpbHMuCgogICAgICAgICAgICAgICAgdmFyIGJhZGdlc092ZXJmbG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB2YXIgbmFtZUxlc3NUaGFuSGFsZiA9IHRydWU7CiAgICAgICAgICAgICAgICB2YXIgZGV0YWlsc0xlc3NUaGFuSGFsZiA9IHRydWU7CiAgICAgICAgICAgICAgICB2YXIgYnVpbGRCYWRnZSA9ICQoYnVpbGRDb250cm9scykuZ2V0RWxlbWVudHNCeVNlbGVjdG9yKCcuYnVpbGQtYmFkZ2UnKVswXTsKICAgICAgICAgICAgICAgIGlmIChidWlsZEJhZGdlKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGJhZGdlT3ZlcmZsb3dQYXJhbXMgPSBnZXRFbGVtZW50T3ZlcmZsb3dQYXJhbXMoYnVpbGRCYWRnZSk7CgogICAgICAgICAgICAgICAgICAgIGlmIChiYWRnZU92ZXJmbG93UGFyYW1zLmlzT3ZlcmZsb3dlZCkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgYmFkZ2VzIGFyZSBhbHNvIG92ZXJmbG93aW5nLiBJbiB0aGlzIGNhc2UsIHdlIHdpbGwgb25seSBhdHRlbXB0IHRvCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHB1dCB0aGUgY29udHJvbHMgb24gdGhlIHNhbWUgbGluZSBhcyB0aGUgbmFtZSBvciBkZXRhaWxzIChzZWUgYmVsb3cpCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBuYW1lIG9yIGRldGFpbHMgaXMgdXNpbmcgbGVzcyB0aGFuIGhhbGYgdGhlIHdpZHRoIG9mIHRoZSBidWlsZCBoaXN0b3J5CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpZGdldC4KICAgICAgICAgICAgICAgICAgICAgICAgYmFkZ2VzT3ZlcmZsb3dpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBuYW1lTGVzc1RoYW5IYWxmID0gKG5hbWVPdmVyZmxvd1BhcmFtcy5zY3JvbGxXaWR0aCA8IHVzYWJsZVJvd1dpZHRoLzIpOwogICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzTGVzc1RoYW5IYWxmID0gKGRldGFpbHNPdmVyZmxvd1BhcmFtcy5zY3JvbGxXaWR0aCA8IHVzYWJsZVJvd1dpZHRoLzIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGV4cGFuZExlZnRXaXRoUmlnaHQobGVmdENlbGxPdmVyRmxvd1BhcmFtcywgcmlnaHRDZWxsT3ZlcmZsb3dQYXJhbXMpIHsKICAgICAgICAgICAgICAgICAgICAvLyBGbG9hdCB0aGVtIGxlZnQgYW5kIHJpZ2h0Li4uCiAgICAgICAgICAgICAgICAgICAgJChsZWZ0Q2VsbE92ZXJGbG93UGFyYW1zLmVsZW1lbnQpLnNldFN0eWxlKHtmbG9hdDogJ2xlZnQnfSk7CiAgICAgICAgICAgICAgICAgICAgJChyaWdodENlbGxPdmVyZmxvd1BhcmFtcy5lbGVtZW50KS5zZXRTdHlsZSh7ZmxvYXQ6ICdyaWdodCd9KTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKCFsZWZ0Q2VsbE92ZXJGbG93UGFyYW1zLmlzT3ZlcmZsb3dlZCAmJiAhcmlnaHRDZWxsT3ZlcmZsb3dQYXJhbXMuaXNPdmVyZmxvd2VkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIG5laXRoZXIgbGVmdCBub3IgcmlnaHQgYXJlIG92ZXJmbG93ZWQsIGp1c3QgbGVhdmUgYXMgaXMgYW5kIGxldCB0aGVtIGZsb2F0IGxlZnQgYW5kIHJpZ2h0LgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChsZWZ0Q2VsbE92ZXJGbG93UGFyYW1zLmlzT3ZlcmZsb3dlZCAmJiAhcmlnaHRDZWxsT3ZlcmZsb3dQYXJhbXMuaXNPdmVyZmxvd2VkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQobGVmdENlbGxPdmVyRmxvd1BhcmFtcy5lbGVtZW50KS5zZXRTdHlsZSh7d2lkdGg6IGxlZnRDZWxsT3ZlckZsb3dQYXJhbXMuc2Nyb2xsV2lkdGggKyAncHgnfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCFsZWZ0Q2VsbE92ZXJGbG93UGFyYW1zLmlzT3ZlcmZsb3dlZCAmJiByaWdodENlbGxPdmVyZmxvd1BhcmFtcy5pc092ZXJmbG93ZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJChyaWdodENlbGxPdmVyZmxvd1BhcmFtcy5lbGVtZW50KS5zZXRTdHlsZSh7d2lkdGg6IHJpZ2h0Q2VsbE92ZXJmbG93UGFyYW1zLnNjcm9sbFdpZHRoICsgJ3B4J30pOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICgoIWJhZGdlc092ZXJmbG93aW5nIHx8IG5hbWVMZXNzVGhhbkhhbGYpICYmCiAgICAgICAgICAgICAgICAgICAgKG5hbWVPdmVyZmxvd1BhcmFtcy5zY3JvbGxXaWR0aCArIGNvbnRyb2xzT3ZlcmZsb3dQYXJhbXMuc2Nyb2xsV2lkdGggPD0gdXNhYmxlUm93V2lkdGgpKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gQnVpbGQgbmFtZSBhbmQgY29udHJvbHMgY2FuIGdvIG9uIG9uZSByb3cgKGZpcnN0IHJvdykuIE5lZWQgdG8gbW92ZSBidWlsZCBkZXRhaWxzIGRvd24KICAgICAgICAgICAgICAgICAgICAvLyB0byBhIHJvdyBvZiBpdHMgb3duIChzZWNvbmQgcm93KSBieSBtYWtpbmcgaXQgYSBibG9jayBlbGVtZW50LCBmb3JjaW5nIGl0IHRvIHdyYXAuIElmIHRoZXJlCiAgICAgICAgICAgICAgICAgICAgLy8gYXJlIGNvbnRyb2xzLCB3ZSBtb3ZlIHRoZW0gdXAgdG8gcG9zaXRpb24gdGhlbSBhZnRlciB0aGUgYnVpbGQgbmFtZSBieSBpbnNlcnRpbmcgYmVmb3JlIHRoZQogICAgICAgICAgICAgICAgICAgIC8vIGJ1aWxkIGRldGFpbHMuCiAgICAgICAgICAgICAgICAgICAgRWxlbWVudC5hZGRDbGFzc05hbWUoYnVpbGREZXRhaWxzLCAiYmxvY2siKTsKICAgICAgICAgICAgICAgICAgICBidWlsZENvbnRyb2xzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYnVpbGRDb250cm9scyk7CiAgICAgICAgICAgICAgICAgICAgYnVpbGREZXRhaWxzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGJ1aWxkQ29udHJvbHMsIGJ1aWxkRGV0YWlscyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHdyYXAgPSBibG9ja1dyYXAoYnVpbGROYW1lLCBidWlsZENvbnRyb2xzKTsKICAgICAgICAgICAgICAgICAgICBFbGVtZW50LmFkZENsYXNzTmFtZSh3cmFwLCAiYnVpbGQtbmFtZS1jb250cm9scyIpOwogICAgICAgICAgICAgICAgICAgIGluZGVudE11bHRpbGluZShidWlsZERldGFpbHMpOwogICAgICAgICAgICAgICAgICAgIG5hbWVPdmVyZmxvd1BhcmFtcyA9IGdldEVsZW1lbnRPdmVyZmxvd1BhcmFtcyhidWlsZE5hbWUpOyAvLyByZWNhbGN1bGF0ZQogICAgICAgICAgICAgICAgICAgIGV4cGFuZExlZnRXaXRoUmlnaHQobmFtZU92ZXJmbG93UGFyYW1zLCBjb250cm9sc092ZXJmbG93UGFyYW1zKTsKICAgICAgICAgICAgICAgICAgICBzZXRCdWlsZENvbnRyb2xXaWR0aHMoKTsKICAgICAgICAgICAgICAgICAgICBmaXRUb0NvbnRyb2xzSGVpZ2h0KGJ1aWxkTmFtZSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCghYmFkZ2VzT3ZlcmZsb3dpbmcgfHwgZGV0YWlsc0xlc3NUaGFuSGFsZikgJiYKICAgICAgICAgICAgICAgICAgICAoZGV0YWlsc092ZXJmbG93UGFyYW1zLnNjcm9sbFdpZHRoICsgY29udHJvbHNPdmVyZmxvd1BhcmFtcy5zY3JvbGxXaWR0aCA8PSB1c2FibGVSb3dXaWR0aCkpIHsKICAgICAgICAgICAgICAgICAgICAvLyBCdWlsZCBkZXRhaWxzIGFuZCBjb250cm9scyBjYW4gZ28gb24gb25lIHJvdy4gTmVlZCB0byBtYWtlIHRoZQogICAgICAgICAgICAgICAgICAgIC8vIGJ1aWxkIG5hbWUgKGZpcnN0IGZpZWxkKSBhIGJsb2NrIGVsZW1lbnQsIGZvcmNpbmcgdGhlIGRldGFpbHMgYW5kIGNvbnRyb2xzIHRvIHdyYXAKICAgICAgICAgICAgICAgICAgICAvLyBvbnRvIHRoZSBuZXh0IHJvdyAoY3JlYXRpbmcgYSBzZWNvbmQgcm93KS4KICAgICAgICAgICAgICAgICAgICBFbGVtZW50LmFkZENsYXNzTmFtZShidWlsZE5hbWUsICJibG9jayIpOwogICAgICAgICAgICAgICAgICAgIHZhciB3cmFwID0gYmxvY2tXcmFwKGJ1aWxkRGV0YWlscywgYnVpbGRDb250cm9scyk7CiAgICAgICAgICAgICAgICAgICAgaW5kZW50TXVsdGlsaW5lKHdyYXApOwogICAgICAgICAgICAgICAgICAgIEVsZW1lbnQuYWRkQ2xhc3NOYW1lKHdyYXAsICJidWlsZC1kZXRhaWxzLWNvbnRyb2xzIik7CiAgICAgICAgICAgICAgICAgICAgJChkaXNwbGF5TmFtZSkuc2V0U3R5bGUoe3dpZHRoOiAnMTAwJSd9KTsKICAgICAgICAgICAgICAgICAgICBkZXRhaWxzT3ZlcmZsb3dQYXJhbXMgPSBnZXRFbGVtZW50T3ZlcmZsb3dQYXJhbXMoYnVpbGREZXRhaWxzKTsgLy8gcmVjYWxjdWxhdGUKICAgICAgICAgICAgICAgICAgICBleHBhbmRMZWZ0V2l0aFJpZ2h0KGRldGFpbHNPdmVyZmxvd1BhcmFtcywgY29udHJvbHNPdmVyZmxvd1BhcmFtcyk7CiAgICAgICAgICAgICAgICAgICAgc2V0QnVpbGRDb250cm9sV2lkdGhzKCk7CiAgICAgICAgICAgICAgICAgICAgZml0VG9Db250cm9sc0hlaWdodChidWlsZERldGFpbHMpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyBObyBzdWl0YWJsZSBjb21ibyBmaXRzIG9uIGEgcm93LiBBbGwgbmVlZCB0byBnbyBvbiByb3dzIG9mIHRoZWlyIG93bi4KICAgICAgICAgICAgICAgICAgICBFbGVtZW50LmFkZENsYXNzTmFtZShidWlsZE5hbWUsICJibG9jayIpOwogICAgICAgICAgICAgICAgICAgIEVsZW1lbnQuYWRkQ2xhc3NOYW1lKGJ1aWxkRGV0YWlscywgImJsb2NrIik7CiAgICAgICAgICAgICAgICAgICAgRWxlbWVudC5hZGRDbGFzc05hbWUoYnVpbGRDb250cm9scywgImJsb2NrIik7CiAgICAgICAgICAgICAgICAgICAgaW5kZW50TXVsdGlsaW5lKGJ1aWxkRGV0YWlscyk7CiAgICAgICAgICAgICAgICAgICAgaW5kZW50TXVsdGlsaW5lKGJ1aWxkQ29udHJvbHMpOwogICAgICAgICAgICAgICAgICAgIG5hbWVPdmVyZmxvd1BhcmFtcyA9IGdldEVsZW1lbnRPdmVyZmxvd1BhcmFtcyhidWlsZE5hbWUpOyAvLyByZWNhbGN1bGF0ZQogICAgICAgICAgICAgICAgICAgIGRldGFpbHNPdmVyZmxvd1BhcmFtcyA9IGdldEVsZW1lbnRPdmVyZmxvd1BhcmFtcyhidWlsZERldGFpbHMpOyAvLyByZWNhbGN1bGF0ZQogICAgICAgICAgICAgICAgICAgIHNldEJ1aWxkQ29udHJvbFdpZHRocygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29udHJvbHNSZXBvc2l0aW9uZWQgPSB0cnVlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgRWxlbWVudC5hZGRDbGFzc05hbWUoYnVpbGROYW1lLCAiYmxvY2siKTsKICAgICAgICAgICAgICAgIEVsZW1lbnQuYWRkQ2xhc3NOYW1lKGJ1aWxkRGV0YWlscywgImJsb2NrIik7CiAgICAgICAgICAgICAgICBpbmRlbnRNdWx0aWxpbmUoYnVpbGREZXRhaWxzKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGJ1aWxkQ29udHJvbHMgJiYgIWNvbnRyb2xzUmVwb3NpdGlvbmVkKSB7CiAgICAgICAgICAgIHZhciBidWlsZEJhZGdlID0gJChidWlsZENvbnRyb2xzKS5nZXRFbGVtZW50c0J5U2VsZWN0b3IoJy5idWlsZC1iYWRnZScpWzBdOwogICAgICAgICAgICBpZiAoYnVpbGRCYWRnZSkgewogICAgICAgICAgICAgICAgdmFyIGJhZGdlT3ZlcmZsb3dQYXJhbXMgPSBnZXRFbGVtZW50T3ZlcmZsb3dQYXJhbXMoYnVpbGRCYWRnZSk7CgogICAgICAgICAgICAgICAgaWYgKGJhZGdlT3ZlcmZsb3dQYXJhbXMuaXNPdmVyZmxvd2VkKSB7CiAgICAgICAgICAgICAgICAgICAgbWFya011bHRpbGluZSgpOwogICAgICAgICAgICAgICAgICAgIGluZGVudE11bHRpbGluZShidWlsZENvbnRyb2xzKTsKICAgICAgICAgICAgICAgICAgICBFbGVtZW50LmFkZENsYXNzTmFtZShidWlsZENvbnRyb2xzLCAiYmxvY2siKTsKICAgICAgICAgICAgICAgICAgICBjb250cm9sc1JlcG9zaXRpb25lZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgc2V0QnVpbGRDb250cm9sV2lkdGhzKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICghbmFtZU92ZXJmbG93UGFyYW1zLmlzT3ZlcmZsb3dlZCAmJiAhZGV0YWlsc092ZXJmbG93UGFyYW1zLmlzT3ZlcmZsb3dlZCAmJiAhY29udHJvbHNSZXBvc2l0aW9uZWQpIHsKICAgICAgICAgICAgZml0VG9Db250cm9sc0hlaWdodChidWlsZE5hbWUpOwogICAgICAgICAgICBmaXRUb0NvbnRyb2xzSGVpZ2h0KGJ1aWxkRGV0YWlscyk7CiAgICAgICAgfQoKICAgICAgICBFbGVtZW50LmFkZENsYXNzTmFtZShyb3csICJvdmVyZmxvdy1jaGVja2VkIik7CiAgICB9CgogICAgZnVuY3Rpb24gY2hlY2tBbGxSb3dDZWxsT3ZlcmZsb3dzKCkgewogICAgICAgIGlmKGlzUnVuQXNUZXN0KSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciBiaCA9ICQoJ2J1aWxkSGlzdG9yeScpOwogICAgICAgIHZhciBkYXRhVGFibGUgPSBnZXREYXRhVGFibGUoYmgpOwogICAgICAgIHZhciByb3dzID0gZGF0YVRhYmxlLnJvd3M7CgogICAgICAgIC8vIEluc2VydCB6ZXJvLXdpZHRoIHNwYWNlcyBpbiB0ZXh0IHRoYXQgbWF5IGNhdXNlIG92ZXJmbG93IGRpc3RvcnRpb25zLgogICAgICAgIHZhciBkaXNwbGF5TmFtZXMgPSAkKGJoKS5nZXRFbGVtZW50c0J5U2VsZWN0b3IoJy5kaXNwbGF5LW5hbWUnKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3BsYXlOYW1lcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpbnNlcnRaZXJvV2lkdGhTcGFjZXNJbkVsZW1lbnRUZXh0KGRpc3BsYXlOYW1lc1tpXSwgMik7CiAgICAgICAgfQogICAgICAgIHZhciBkZXNjcmlwdGlvbnMgPSAkKGJoKS5nZXRFbGVtZW50c0J5U2VsZWN0b3IoJy5kZXNjJyk7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXNjcmlwdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaW5zZXJ0WmVyb1dpZHRoU3BhY2VzSW5FbGVtZW50VGV4dChkZXNjcmlwdGlvbnNbaV0sIDMwKTsKICAgICAgICB9CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgcm93ID0gcm93c1tpXTsKICAgICAgICAgICAgY2hlY2tSb3dDZWxsT3ZlcmZsb3dzKHJvdyk7CiAgICAgICAgfQogICAgfQoKICAgIHZhciB1cGRhdGVCdWlsZHNSZWZyZXNoSW50ZXJ2YWwgPSA1MDAwOwogICAgZnVuY3Rpb24gdXBkYXRlQnVpbGRzKCkgewogICAgICAgIGlmKGlzUGFnZVZpc2libGUoKSl7CiAgICAgICAgICAgIGlmIChiaC5oZWFkZXJzID09IG51bGwpIHsKICAgICAgICAgICAgICAgIC8vIFlhaG9vLmxvZygiTWlzc2luZyBoZWFkZXJzIGluIGJ1aWxkSGlzdG9yeSBlbGVtZW50Iik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG5ldyBBamF4LlJlcXVlc3QoYWpheFVybCwgewogICAgICAgICAgICAgICAgcmVxdWVzdEhlYWRlcnM6IGJoLmhlYWRlcnMsCiAgICAgICAgICAgICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uKHJzcCkgewogICAgICAgICAgICAgICAgICAgIHZhciBkYXRhVGFibGUgPSBnZXREYXRhVGFibGUoYmgpOwogICAgICAgICAgICAgICAgICAgIHZhciByb3dzID0gZGF0YVRhYmxlLnJvd3M7CgogICAgICAgICAgICAgICAgICAgIC8vZGVsZXRlIHJvd3Mgd2l0aCB0cmFuc2l0aXZlIGRhdGEKICAgICAgICAgICAgICAgICAgICB2YXIgZmlyc3RCdWlsZFJvdyA9IDA7CiAgICAgICAgICAgICAgICAgICAgaWYgKEVsZW1lbnQuaGFzQ2xhc3NOYW1lKHJvd3NbZmlyc3RCdWlsZFJvd10sICJidWlsZC1zZWFyY2gtcm93IikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RCdWlsZFJvdysrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB3aGlsZSAocm93cy5sZW5ndGggPiAwICYmIEVsZW1lbnQuaGFzQ2xhc3NOYW1lKHJvd3NbZmlyc3RCdWlsZFJvd10sICJ0cmFuc2l0aXZlIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgRWxlbWVudC5yZW1vdmUocm93c1tmaXJzdEJ1aWxkUm93XSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvLyBpbnNlcnQgbmV3IHJvd3MKICAgICAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IHJzcC5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgICAgICAgICAgQmVoYXZpb3VyLmFwcGx5U3VidHJlZShkaXYpOwoKICAgICAgICAgICAgICAgICAgICB2YXIgcGl2b3QgPSByb3dzW2ZpcnN0QnVpbGRSb3ddOwogICAgICAgICAgICAgICAgICAgIHZhciBuZXdEYXRhVGFibGUgPSBnZXREYXRhVGFibGUoZGl2KTsKICAgICAgICAgICAgICAgICAgICB2YXIgbmV3Um93cyA9IG5ld0RhdGFUYWJsZS5yb3dzOwogICAgICAgICAgICAgICAgICAgIHdoaWxlIChuZXdSb3dzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpdm90ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBkYXRhIHRhYmxlIGhhcyByb3dzLiAgSW5zZXJ0IGJlZm9yZSBhICJwaXZvdCIgcm93IChmaXJzdCByb3cpLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl2b3QucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Um93c1swXSwgcGl2b3QpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGRhdGEgdGFibGUgaGFzIG5vIHJvd3MuICBJbiB0aGlzIGNhc2UsIHdlIGp1c3QgYWRkIGFsbCBuZXcgcm93cyBkaXJlY3RseSB0byB0aGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRhYmxlLCBvbmUgYWZ0ZXIgdGhlIG90aGVyIGkuZS4gd2UgZG9uJ3QgaW5zZXJ0IGJlZm9yZSBhICJwaXZvdCIgcm93IChmaXJzdCByb3cpLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVRhYmxlLmFwcGVuZENoaWxkKG5ld1Jvd3NbMF0pOwoJCQkgICAgICAgICAgICB9CgkJCSAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoRWxlbWVudC5oYXNDbGFzc05hbWUobmV3RGF0YVRhYmxlLCAnaGFzUGFnZURhdGEnKSkgewogICAgICAgICAgICAgICAgICAgICAgICBidWlsZEhpc3RvcnlQYWdlLnNldEF0dHJpYnV0ZSgncGFnZS1lbnRyeS1uZXdlc3QnLCBuZXdEYXRhVGFibGUuZ2V0QXR0cmlidXRlKCdwYWdlLWVudHJ5LW5ld2VzdCcpKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vIG5leHQgdXBkYXRlCiAgICAgICAgICAgICAgICAgICAgYmguaGVhZGVycyA9IFsibiIscnNwLmdldFJlc3BvbnNlSGVhZGVyKCJuIildOwogICAgICAgICAgICAgICAgICAgIGNoZWNrQWxsUm93Q2VsbE92ZXJmbG93cygpOwogICAgICAgICAgICAgICAgICAgIGNyZWF0ZVJlZnJlc2hUaW1lb3V0KCk7CiAgICAgICAgICAgICAgICB9CgkgICAgICAgIH0pOwoJICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIFJlc2NoZWR1bGUgYWdhaW4KCSAgICAgICAgY3JlYXRlUmVmcmVzaFRpbWVvdXQoKTsKICAgICAgICB9CiAgICB9CgogICAgdmFyIGJ1aWxkUmVmcmVzaFRpbWVvdXQ7CiAgICBmdW5jdGlvbiBjcmVhdGVSZWZyZXNoVGltZW91dCgpIHsKICAgICAgICBjYW5jZWxSZWZyZXNoVGltZW91dCgpOwogICAgICAgIGJ1aWxkUmVmcmVzaFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCh1cGRhdGVCdWlsZHMsIHVwZGF0ZUJ1aWxkc1JlZnJlc2hJbnRlcnZhbCk7CiAgICB9CiAgICBmdW5jdGlvbiBjYW5jZWxSZWZyZXNoVGltZW91dCgpIHsKICAgICAgICBpZiAoYnVpbGRSZWZyZXNoVGltZW91dCkgewogICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGJ1aWxkUmVmcmVzaFRpbWVvdXQpOwogICAgICAgICAgICBidWlsZFJlZnJlc2hUaW1lb3V0ID0gdW5kZWZpbmVkOwogICAgICAgIH0KICAgIH0KCiAgICBjcmVhdGVSZWZyZXNoVGltZW91dCgpOwogICAgY2hlY2tBbGxSb3dDZWxsT3ZlcmZsb3dzKCk7CgogICAgb25CdWlsZEhpc3RvcnlDaGFuZ2UoZnVuY3Rpb24oKSB7CiAgICAgICAgY2hlY2tBbGxSb3dDZWxsT3ZlcmZsb3dzKCk7CiAgICB9KTsKCiAgICBmdW5jdGlvbiBzZXR1cEhpc3RvcnlOYXYoKSB7CiAgICAgICAgdmFyIHNpZGVQYW5lbCA9ICQoJ3NpZGUtcGFuZWwnKTsKICAgICAgICB2YXIgYnVpbGRIaXN0b3J5UGFnZU5hdiA9ICQoJ2J1aWxkSGlzdG9yeVBhZ2VOYXYnKTsKCiAgICAgICAgLy8gU2hvdy9oaWRlIHRoZSBuYXYgYXMgdGhlIG1vdXNlIG1vdmVzIGludG8gdGhlIHNpZGVwYW5lbCBhbmQgYnVpbGQgaGlzdG9yeS4KICAgICAgICBzaWRlUGFuZWwub2JzZXJ2ZSgnbW91c2VvdmVyJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIEVsZW1lbnQuYWRkQ2xhc3NOYW1lKCQoYnVpbGRIaXN0b3J5UGFnZU5hdiksICJtb3VzZU92ZXJTaWRlUGFuZWwiKTsKICAgICAgICB9KTsKICAgICAgICBzaWRlUGFuZWwub2JzZXJ2ZSgnbW91c2VvdXQnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgRWxlbWVudC5yZW1vdmVDbGFzc05hbWUoJChidWlsZEhpc3RvcnlQYWdlTmF2KSwgIm1vdXNlT3ZlclNpZGVQYW5lbCIpOwogICAgICAgIH0pOwogICAgICAgIGJoLm9ic2VydmUoJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBFbGVtZW50LmFkZENsYXNzTmFtZSgkKGJ1aWxkSGlzdG9yeVBhZ2VOYXYpLCAibW91c2VPdmVyU2lkZVBhbmVsQnVpbGRIaXN0b3J5Iik7CiAgICAgICAgfSk7CiAgICAgICAgYmgub2JzZXJ2ZSgnbW91c2VvdXQnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgRWxlbWVudC5yZW1vdmVDbGFzc05hbWUoJChidWlsZEhpc3RvcnlQYWdlTmF2KSwgIm1vdXNlT3ZlclNpZGVQYW5lbEJ1aWxkSGlzdG9yeSIpOwogICAgICAgIH0pOwoKICAgICAgICB2YXIgcGFnZVNlYXJjaElucHV0ID0gRWxlbWVudC5nZXRFbGVtZW50c0J5U2VsZWN0b3IoYmgsICcuYnVpbGQtc2VhcmNoLXJvdyBpbnB1dCcpWzBdOwogICAgICAgIHZhciBwYWdlU2VhcmNoQ2xlYXIgPSBFbGVtZW50LmdldEVsZW1lbnRzQnlTZWxlY3RvcihiaCwgJy5idWlsZC1zZWFyY2gtcm93IC5jbGVhcicpWzBdOwogICAgICAgIHZhciBwYWdlT25lID0gRWxlbWVudC5nZXRFbGVtZW50c0J5U2VsZWN0b3IoYnVpbGRIaXN0b3J5UGFnZU5hdiwgJy5wYWdlT25lJylbMF07CiAgICAgICAgdmFyIHBhZ2VVcCA9IEVsZW1lbnQuZ2V0RWxlbWVudHNCeVNlbGVjdG9yKGJ1aWxkSGlzdG9yeVBhZ2VOYXYsICcucGFnZVVwJylbMF07CiAgICAgICAgdmFyIHBhZ2VEb3duID0gRWxlbWVudC5nZXRFbGVtZW50c0J5U2VsZWN0b3IoYnVpbGRIaXN0b3J5UGFnZU5hdiwgJy5wYWdlRG93bicpWzBdOwoKICAgICAgICBmdW5jdGlvbiBoYXNQYWdlVXAoKSB7CiAgICAgICAgICAgIHJldHVybiBidWlsZEhpc3RvcnlQYWdlLmdldEF0dHJpYnV0ZSgncGFnZS1oYXMtdXAnKSA9PT0gJ3RydWUnOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBoYXNQYWdlRG93bigpIHsKICAgICAgICAgICAgcmV0dXJuIGJ1aWxkSGlzdG9yeVBhZ2UuZ2V0QXR0cmlidXRlKCdwYWdlLWhhcy1kb3duJykgPT09ICd0cnVlJzsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ2V0TmV3ZXN0RW50cnlJZCgpIHsKICAgICAgICAgICAgcmV0dXJuIGJ1aWxkSGlzdG9yeVBhZ2UuZ2V0QXR0cmlidXRlKCdwYWdlLWVudHJ5LW5ld2VzdCcpOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBnZXRPbGRlc3RFbnRyeUlkKCkgewogICAgICAgICAgICByZXR1cm4gYnVpbGRIaXN0b3J5UGFnZS5nZXRBdHRyaWJ1dGUoJ3BhZ2UtZW50cnktb2xkZXN0Jyk7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVBhZ2VQYXJhbXMoZGF0YVRhYmxlKSB7CiAgICAgICAgICAgIGJ1aWxkSGlzdG9yeVBhZ2Uuc2V0QXR0cmlidXRlKCdwYWdlLWhhcy11cCcsIGRhdGFUYWJsZS5nZXRBdHRyaWJ1dGUoJ3BhZ2UtaGFzLXVwJykpOwogICAgICAgICAgICBidWlsZEhpc3RvcnlQYWdlLnNldEF0dHJpYnV0ZSgncGFnZS1oYXMtZG93bicsIGRhdGFUYWJsZS5nZXRBdHRyaWJ1dGUoJ3BhZ2UtaGFzLWRvd24nKSk7CiAgICAgICAgICAgIGJ1aWxkSGlzdG9yeVBhZ2Uuc2V0QXR0cmlidXRlKCdwYWdlLWVudHJ5LW5ld2VzdCcsIGRhdGFUYWJsZS5nZXRBdHRyaWJ1dGUoJ3BhZ2UtZW50cnktbmV3ZXN0JykpOwogICAgICAgICAgICBidWlsZEhpc3RvcnlQYWdlLnNldEF0dHJpYnV0ZSgncGFnZS1lbnRyeS1vbGRlc3QnLCBkYXRhVGFibGUuZ2V0QXR0cmlidXRlKCdwYWdlLWVudHJ5LW9sZGVzdCcpKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlUGFnZVVwRG93bigpIHsKICAgICAgICAgICAgRWxlbWVudC5yZW1vdmVDbGFzc05hbWUoJChidWlsZEhpc3RvcnlQYWdlTmF2KSwgImhhc1VwUGFnZSIpOwogICAgICAgICAgICBFbGVtZW50LnJlbW92ZUNsYXNzTmFtZSgkKGJ1aWxkSGlzdG9yeVBhZ2VOYXYpLCAiaGFzRG93blBhZ2UiKTsKICAgICAgICAgICAgaWYgKGhhc1BhZ2VVcCgpKSB7CiAgICAgICAgICAgICAgICBFbGVtZW50LmFkZENsYXNzTmFtZSgkKGJ1aWxkSGlzdG9yeVBhZ2VOYXYpLCAiaGFzVXBQYWdlIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGhhc1BhZ2VEb3duKCkpIHsKICAgICAgICAgICAgICAgIEVsZW1lbnQuYWRkQ2xhc3NOYW1lKCQoYnVpbGRIaXN0b3J5UGFnZU5hdiksICJoYXNEb3duUGFnZSIpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGxvZ1BhZ2VQYXJhbXMoKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tLScpOwogICAgICAgICAgICBjb25zb2xlLmxvZygnSGFzIHVwOiAnICAgKyBoYXNQYWdlVXAoKSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdIYXMgZG93bjogJyArIGhhc1BhZ2VEb3duKCkpOwogICAgICAgICAgICBjb25zb2xlLmxvZygnTmV3ZXN0OiAnICAgKyBnZXROZXdlc3RFbnRyeUlkKCkpOwogICAgICAgICAgICBjb25zb2xlLmxvZygnT2xkZXN0OiAnICAgKyBnZXRPbGRlc3RFbnRyeUlkKCkpOwogICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLS0nKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGxvYWRQYWdlKHBhcmFtcywgZm9jdXNPblNlYXJjaCkgewogICAgICAgICAgICB2YXIgc2VhcmNoU3RyaW5nID0gcGFnZVNlYXJjaElucHV0LnZhbHVlOwoKICAgICAgICAgICAgaWYgKHNlYXJjaFN0cmluZyAhPT0gJycpIHsKICAgICAgICAgICAgICAgIGlmIChwYXJhbXMgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgIHBhcmFtcyA9IHt9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcGFyYW1zLnNlYXJjaCA9IHNlYXJjaFN0cmluZzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbmV3IEFqYXguUmVxdWVzdChhamF4VXJsICsgdG9RdWVyeVN0cmluZyhwYXJhbXMpLCB7CiAgICAgICAgICAgICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uKHJzcCkgewogICAgICAgICAgICAgICAgICAgIHZhciBkYXRhVGFibGUgPSBnZXREYXRhVGFibGUoYmgpOwogICAgICAgICAgICAgICAgICAgIHZhciByb3dzID0gZGF0YVRhYmxlLnJvd3M7CgogICAgICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSBhbGwgcm93cwogICAgICAgICAgICAgICAgICAgIHZhciBzZWFyY2hSb3c7CiAgICAgICAgICAgICAgICAgICAgaWYgKEVsZW1lbnQuaGFzQ2xhc3NOYW1lKHJvd3NbMF0sICJidWlsZC1zZWFyY2gtcm93IikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoUm93ID0gcm93c1swXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJvd3MubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBFbGVtZW50LnJlbW92ZShyb3dzWzBdKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaFJvdykgewogICAgICAgICAgICAgICAgICAgICAgICBkYXRhVGFibGUuYXBwZW5kQ2hpbGQoc2VhcmNoUm93KTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vIGluc2VydCBuZXcgcm93cwogICAgICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gcnNwLnJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgICAgICAgICBCZWhhdmlvdXIuYXBwbHlTdWJ0cmVlKGRpdik7CgogICAgICAgICAgICAgICAgICAgIHZhciBuZXdEYXRhVGFibGUgPSBnZXREYXRhVGFibGUoZGl2KTsKICAgICAgICAgICAgICAgICAgICB2YXIgbmV3Um93cyA9IG5ld0RhdGFUYWJsZS5yb3dzOwogICAgICAgICAgICAgICAgICAgIHdoaWxlIChuZXdSb3dzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVRhYmxlLmFwcGVuZENoaWxkKG5ld1Jvd3NbMF0pOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgY2hlY2tBbGxSb3dDZWxsT3ZlcmZsb3dzKCk7CiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUGFnZVBhcmFtcyhuZXdEYXRhVGFibGUpOwogICAgICAgICAgICAgICAgICAgIHRvZ2dsZVBhZ2VVcERvd24oKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc1BhZ2VVcCgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVJlZnJlc2hUaW1lb3V0KCk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoZm9jdXNPblNlYXJjaCkgewogICAgICAgICAgICAgICAgICAgICAgICBwYWdlU2VhcmNoSW5wdXQuZm9jdXMoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy9sb2dQYWdlUGFyYW1zKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgcGFnZVNlYXJjaElucHV0Lm9ic2VydmUoJ2tleXByZXNzJywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICB2YXIga2V5ID0gZS53aGljaCB8fCBlLmtleUNvZGU7CiAgICAgICAgICAgIC8vIE9uIGVudGVyCiAgICAgICAgICAgIGlmIChrZXkgPT09IDEzKSB7CiAgICAgICAgICAgICAgICBsb2FkUGFnZSh7fSwgdHJ1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBwYWdlU2VhcmNoQ2xlYXIub2JzZXJ2ZSgnY2xpY2snLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcGFnZVNlYXJjaElucHV0LnZhbHVlID0gJyc7CiAgICAgICAgICAgIGxvYWRQYWdlKHt9LCB0cnVlKTsKICAgICAgICB9KTsKICAgICAgICBwYWdlT25lLm9ic2VydmUoJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGxvYWRQYWdlKCk7CiAgICAgICAgfSk7CiAgICAgICAgcGFnZVVwLm9ic2VydmUoJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGxvYWRQYWdlKHsnbmV3ZXItdGhhbic6IGdldE5ld2VzdEVudHJ5SWQoKX0pOwogICAgICAgIH0pOwogICAgICAgIHBhZ2VEb3duLm9ic2VydmUoJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmIChoYXNQYWdlRG93bigpKSB7CiAgICAgICAgICAgICAgICBjYW5jZWxSZWZyZXNoVGltZW91dCgpOwogICAgICAgICAgICAgICAgbG9hZFBhZ2UoeydvbGRlci10aGFuJzogZ2V0T2xkZXN0RW50cnlJZCgpfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyB3cmFwIGJhY2sgYXJvdW5kIHRvIHRoZSB0b3AKICAgICAgICAgICAgICAgIGxvYWRQYWdlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgdG9nZ2xlUGFnZVVwRG93bigpOwogICAgICAgIC8vbG9nUGFnZVBhcmFtcygpOwogICAgfQogICAgc2V0dXBIaXN0b3J5TmF2KCk7Cn0KCmZ1bmN0aW9uIHRvUXVlcnlTdHJpbmcocGFyYW1zKSB7CiAgICB2YXIgcXVlcnkgPSAnJzsKICAgIGlmIChwYXJhbXMpIHsKICAgICAgICBmb3IgKHZhciBwYXJhbU5hbWUgaW4gcGFyYW1zKSB7CiAgICAgICAgICAgIGlmIChwYXJhbXMuaGFzT3duUHJvcGVydHkocGFyYW1OYW1lKSkgewogICAgICAgICAgICAgICAgaWYgKHF1ZXJ5ID09PSAnJykgewogICAgICAgICAgICAgICAgICAgIHF1ZXJ5ID0gJz8nOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBxdWVyeSArPSAnJic7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBxdWVyeSArPSBwYXJhbU5hbWUgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQocGFyYW1zW3BhcmFtTmFtZV0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIHF1ZXJ5Owp9CgpmdW5jdGlvbiBnZXRFbGVtZW50T3ZlcmZsb3dQYXJhbXMoZWxlbWVudCkgewogICAgLy8gRmlyc3Qgd2UgZm9yY2UgaXQgdG8gd3JhcCBzbyB3ZSBjYW4gZ2V0IHRob3NlIGRpbWVuc2lvbi4KICAgIC8vIFRoZW4gd2UgZm9yY2UgaXQgdG8gIm5vd3JhcCIsIHNvIHdlIGNhbiBnZXQgdGhvc2UgZGltZW5zaW9uLgogICAgLy8gV2UgY2FuIHRoZW4gY29tcGFyZSB0aGUgdHdvIHNldHMsIHdoaWNoIHdpbGwgaW5kaWNhdGUgaWYKICAgIC8vIHdyYXBwaW5nIGlzIHBvdGVudGlhbGx5IGhhcHBlbmluZywgb3Igbm90LgoKICAgIC8vIEZvcmNlIGl0IHRvIHdyYXAuCiAgICBFbGVtZW50LmFkZENsYXNzTmFtZShlbGVtZW50LCAiZm9yY2Utd3JhcCIpOwogICAgdmFyIHdyYXBwZWRDbGllbnRXaWR0aCA9IGVsZW1lbnQuY2xpZW50V2lkdGg7CiAgICB2YXIgd3JhcHBlZENsaWVudEhlaWdodCA9IGVsZW1lbnQuY2xpZW50SGVpZ2h0OwogICAgRWxlbWVudC5yZW1vdmVDbGFzc05hbWUoZWxlbWVudCwgImZvcmNlLXdyYXAiKTsKCiAgICAvLyBGb3JjZSBpdCB0byBub3dyYXAuIFJldHVybiB0aGUgY29tcGFyaXNvbnMuCiAgICBFbGVtZW50LmFkZENsYXNzTmFtZShlbGVtZW50LCAiZm9yY2Utbm93cmFwIik7CiAgICB2YXIgbm93cmFwQ2xpZW50SGVpZ2h0ID0gZWxlbWVudC5jbGllbnRIZWlnaHQ7CiAgICB0cnkgewogICAgICAgIHZhciBvdmVyZmxvd1BhcmFtcyA9IHsKICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCwKICAgICAgICAgICAgY2xpZW50V2lkdGg6IHdyYXBwZWRDbGllbnRXaWR0aCwKICAgICAgICAgICAgc2Nyb2xsV2lkdGg6IGVsZW1lbnQuc2Nyb2xsV2lkdGgsCiAgICAgICAgICAgIGlzT3ZlcmZsb3dlZDogd3JhcHBlZENsaWVudEhlaWdodCA+IG5vd3JhcENsaWVudEhlaWdodAogICAgICAgIH07CiAgICAgICAgcmV0dXJuICBvdmVyZmxvd1BhcmFtczsKICAgIH0gZmluYWxseSB7CiAgICAgICAgRWxlbWVudC5yZW1vdmVDbGFzc05hbWUoZWxlbWVudCwgImZvcmNlLW5vd3JhcCIpOwogICAgfQp9Cgp2YXIgemVyb1dpZHRoU3BhY2UgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDgyMDMpOwp2YXIgRUxFTUVOVF9OT0RFID0gMTsKdmFyIFRFWFRfTk9ERSA9IDM7CmZ1bmN0aW9uIGluc2VydFplcm9XaWR0aFNwYWNlc0luVGV4dCh0ZXh0Tm9kZSwgbWF4V29yZFNpemUpIHsKICAgIGlmICh0ZXh0Tm9kZS50ZXh0Q29udGVudC5sZW5ndGggPCBtYXhXb3JkU2l6ZSkgewogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAvLyBjYXB0dXJlIHRoZSBvcmlnaW5hbCB0ZXh0CiAgICB0ZXh0Tm9kZS5wcmVaV1NUZXh0ID0gdGV4dE5vZGUudGV4dENvbnRlbnQ7CgogICAgdmFyIHdvcmRzID0gdGV4dE5vZGUudGV4dENvbnRlbnQuc3BsaXQoL1xzKy8pOwogICAgdmFyIG5ld1RleHRDb250ZW50ID0gJyc7CgogICAgdmFyIHNwbGl0UmVnZXggPSBuZXcgUmVnRXhwKCcuezEsJyArIG1heFdvcmRTaXplICsgJ30nLCAnZycpOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciB3b3JkID0gd29yZHNbaV07CiAgICAgICAgdmFyIHdvcmRUb2tlbnMgPSB3b3JkLm1hdGNoKHNwbGl0UmVnZXgpOwogICAgICAgIGlmICh3b3JkVG9rZW5zKSB7CiAgICAgICAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCB3b3JkVG9rZW5zLmxlbmd0aDsgaWkrKykgewogICAgICAgICAgICAgICAgaWYgKG5ld1RleHRDb250ZW50Lmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIG5ld1RleHRDb250ZW50ICs9IHdvcmRUb2tlbnNbaWldOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBuZXdUZXh0Q29udGVudCArPSB6ZXJvV2lkdGhTcGFjZSArIHdvcmRUb2tlbnNbaWldOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmV3VGV4dENvbnRlbnQgKz0gd29yZDsKICAgICAgICB9CiAgICAgICAgbmV3VGV4dENvbnRlbnQgKz0gJyAnOwogICAgfQoKICAgIHRleHROb2RlLnRleHRDb250ZW50ID0gbmV3VGV4dENvbnRlbnQ7Cn0KZnVuY3Rpb24gaW5zZXJ0WmVyb1dpZHRoU3BhY2VzSW5FbGVtZW50VGV4dChlbGVtZW50LCBtYXhXb3JkU2l6ZSkgewogICAgaWYgKEVsZW1lbnQuaGFzQ2xhc3NOYW1lKGVsZW1lbnQsICd6d3MtaW5zZXJ0ZWQnKSkgewogICAgICAgIC8vIGFscmVhZHkgZG9uZS4KICAgICAgICByZXR1cm47CiAgICB9CiAgICBpZiAoIWVsZW1lbnQuaGFzQ2hpbGROb2RlcygpKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBjaGlsZHJlbiA9IGVsZW1lbnQuY2hpbGROb2RlczsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTsKICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IFRFWFRfTk9ERSkgewogICAgICAgICAgICBpbnNlcnRaZXJvV2lkdGhTcGFjZXNJblRleHQoY2hpbGQsIG1heFdvcmRTaXplKTsKICAgICAgICB9IGVsc2UgaWYgKGNoaWxkLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHsKICAgICAgICAgICAgaW5zZXJ0WmVyb1dpZHRoU3BhY2VzSW5FbGVtZW50VGV4dChjaGlsZCwgbWF4V29yZFNpemUpOwogICAgICAgIH0KICAgIH0KCiAgICBFbGVtZW50LmFkZENsYXNzTmFtZShlbGVtZW50LCAnendzLWluc2VydGVkJyk7Cn0KZnVuY3Rpb24gcmVtb3ZlWmVyb1dpZHRoU3BhY2VzKGVsZW1lbnQpIHsKICAgIGlmIChlbGVtZW50KSB7CiAgICAgICAgaWYgKCFFbGVtZW50Lmhhc0NsYXNzTmFtZShlbGVtZW50LCAnendzLWluc2VydGVkJykpIHsKICAgICAgICAgICAgLy8gRG9lc24ndCBoYXZlIFpXU2VkIHRleHQuCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKCFlbGVtZW50Lmhhc0NoaWxkTm9kZXMoKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgY2hpbGRyZW4gPSBlbGVtZW50LmNoaWxkTm9kZXM7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTsKICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09PSBURVhUX05PREUgJiYgY2hpbGQucHJlWldTVGV4dCkgewogICAgICAgICAgICAgICAgY2hpbGQudGV4dENvbnRlbnQgPSBjaGlsZC5wcmVaV1NUZXh0OwogICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHsKICAgICAgICAgICAgICAgIHJlbW92ZVplcm9XaWR0aFNwYWNlcyhjaGlsZCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIEVsZW1lbnQucmVtb3ZlQ2xhc3NOYW1lKGVsZW1lbnQsICd6d3MtaW5zZXJ0ZWQnKTsKICAgIH0KfQoKLy8gZ2V0IHRoZSBjYXNjYWRlZCBjb21wdXRlZCBzdHlsZSB2YWx1ZS4gJ2EnIGlzIHRoZSBzdHlsZSBuYW1lIGxpa2UgJ2JhY2tncm91bmRDb2xvcicKZnVuY3Rpb24gZ2V0U3R5bGUoZSxhKXsKICBpZihkb2N1bWVudC5kZWZhdWx0VmlldyAmJiBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKQogICAgcmV0dXJuIGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZSxudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKGEucmVwbGFjZSgvKFtBLVpdKS9nLCAiLSQxIikpOwogIGlmKGUuY3VycmVudFN0eWxlKQogICAgcmV0dXJuIGUuY3VycmVudFN0eWxlW2FdOwogIHJldHVybiBudWxsOwp9CgpmdW5jdGlvbiBFbGVtZW50UmVzaXplVHJhY2tlcigpIHsKICAgIHRoaXMudHJhY2tlZEVsZW1lbnRzID0gW107CgogICAgaWYoaXNSdW5Bc1Rlc3QpIHsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgdmFyIHRoaXNUcmFja2VyID0gdGhpczsKICAgIGZ1bmN0aW9uIGNoZWNrRm9yUmVzaXplKCkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpc1RyYWNrZXIudHJhY2tlZEVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpc1RyYWNrZXIudHJhY2tlZEVsZW1lbnRzW2ldOwogICAgICAgICAgICB2YXIgY3VyckRpbXMgPSBFbGVtZW50LmdldERpbWVuc2lvbnMoZWxlbWVudCk7CiAgICAgICAgICAgIHZhciBsYXN0RGltcyA9IGVsZW1lbnQubGFzdERpbWVuc2lvbnM7CiAgICAgICAgICAgIGlmIChjdXJyRGltcy53aWR0aCAhPT0gbGFzdERpbXMud2lkdGggfHwgY3VyckRpbXMuaGVpZ2h0ICE9PSBsYXN0RGltcy5oZWlnaHQpIHsKICAgICAgICAgICAgICAgIEV2ZW50LmZpcmUoZWxlbWVudCwgJ2plbmtpbnM6cmVzaXplJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxlbWVudC5sYXN0RGltZW5zaW9ucyA9IGN1cnJEaW1zOwogICAgICAgIH0KICAgIH0KICAgIEV2ZW50Lm9ic2VydmUod2luZG93LCAnamVua2luczpyZXNpemVDaGVjaycsIGNoZWNrRm9yUmVzaXplKTsKCiAgICBmdW5jdGlvbiBjaGVja0ZvclJlc2l6ZUxvb3AoKSB7CiAgICAgICAgY2hlY2tGb3JSZXNpemUoKTsKICAgICAgICBzZXRUaW1lb3V0KGNoZWNrRm9yUmVzaXplTG9vcCwgMjAwKTsKICAgIH0KICAgIGNoZWNrRm9yUmVzaXplTG9vcCgpOwp9CkVsZW1lbnRSZXNpemVUcmFja2VyLnByb3RvdHlwZS5hZGRFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCkgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRyYWNrZWRFbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLnRyYWNrZWRFbGVtZW50c1tpXSA9PT0gZWxlbWVudCkgewogICAgICAgICAgICAvLyB3ZSdyZSBhbHJlYWR5IHRyYWNraW5nIGl0IHNvIG5vIG5lZWQgdG8gYWRkIGl0LgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQogICAgdGhpcy50cmFja2VkRWxlbWVudHMucHVzaChlbGVtZW50KTsKfQpFbGVtZW50UmVzaXplVHJhY2tlci5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbihlbGVtZW50LCBoYW5kbGVyKSB7CiAgICBlbGVtZW50Lmxhc3REaW1lbnNpb25zID0gRWxlbWVudC5nZXREaW1lbnNpb25zKGVsZW1lbnQpOwogICAgRXZlbnQub2JzZXJ2ZShlbGVtZW50LCAnamVua2luczpyZXNpemUnLCBoYW5kbGVyKTsKICAgIHRoaXMuYWRkRWxlbWVudChlbGVtZW50KTsKfQpFbGVtZW50UmVzaXplVHJhY2tlci5maXJlUmVzaXplQ2hlY2sgPSBmdW5jdGlvbigpIHsKICAgIEV2ZW50LmZpcmUod2luZG93LCAnamVua2luczpyZXNpemVDaGVjaycpOwp9CnZhciBlbGVtZW50UmVzaXplVHJhY2tlciA9IG5ldyBFbGVtZW50UmVzaXplVHJhY2tlcigpOwoKLyoqCiAqIE1ha2VzIHN1cmUgdGhlIGdpdmVuIGVsZW1lbnQgaXMgd2l0aGluIHRoZSB2aWV3cG9ydC4KICoKICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZQogKiAgICAgIFRoZSBlbGVtZW50IHRvIGJyaW5nIGludG8gdGhlIHZpZXdwb3J0LgogKi8KZnVuY3Rpb24gZW5zdXJlVmlzaWJsZShlKSB7CiAgICB2YXIgdmlld3BvcnQgPSBZQUhPTy51dGlsLkRvbS5nZXRDbGllbnRSZWdpb24oKTsKICAgIHZhciBwb3MgICAgICA9IFlBSE9PLnV0aWwuRG9tLmdldFJlZ2lvbihlKTsKCiAgICB2YXIgWSA9IHZpZXdwb3J0LnRvcDsKICAgIHZhciBIID0gdmlld3BvcnQuaGVpZ2h0OwoKICAgIGZ1bmN0aW9uIGhhbmRsZVN0aWNrZXJzKG5hbWUsZikgewogICAgICAgIHZhciBlID0gJChuYW1lKTsKICAgICAgICBpZiAoZSkgZihlKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5U2VsZWN0b3IoIi4iK25hbWUpLmVhY2goZik7CiAgICB9CgogICAgLy8gaWYgdGhlcmUgYXJlIGFueSBzdGlja2VycyBhcm91bmQsIHN1YnRyYWN0IHRoZW0gZnJvbSB0aGUgdmlld3BvcnQKICAgIGhhbmRsZVN0aWNrZXJzKCJ0b3Atc3RpY2tlciIsZnVuY3Rpb24gKHQpIHsKICAgICAgICB0ID0gdC5jbGllbnRIZWlnaHQ7CiAgICAgICAgWSs9dDsgSC09dDsKICAgIH0pOwoKICAgIGhhbmRsZVN0aWNrZXJzKCJib3R0b20tc3RpY2tlciIsZnVuY3Rpb24gKGIpIHsKICAgICAgICBiID0gYi5jbGllbnRIZWlnaHQ7CiAgICAgICAgSC09YjsKICAgIH0pOwoKICAgIHZhciB5ID0gcG9zLnRvcDsKICAgIHZhciBoID0gcG9zLmhlaWdodDsKCiAgICB2YXIgZCA9ICh5K2gpLShZK0gpOwogICAgaWYgKGQ+MCkgewogICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wICs9IGQ7CiAgICB9IGVsc2UgewogICAgICAgIHZhciBkID0gWS15OwogICAgICAgIGlmIChkPjApICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIC09IGQ7CiAgICB9Cn0KCi8vIHNldCB1cCBsb2dpYyBiZWhpbmQgdGhlIHNlYXJjaCBib3gKZnVuY3Rpb24gY3JlYXRlU2VhcmNoQm94KHNlYXJjaFVSTCkgewogICAgdmFyIGRzID0gbmV3IFlBSE9PLnV0aWwuWEhSRGF0YVNvdXJjZShzZWFyY2hVUkwrInN1Z2dlc3QiKTsKICAgIGRzLnJlc3BvbnNlVHlwZSA9IFlBSE9PLnV0aWwuWEhSRGF0YVNvdXJjZS5UWVBFX0pTT047CiAgICBkcy5yZXNwb25zZVNjaGVtYSA9IHsKICAgICAgICByZXN1bHRzTGlzdDogInN1Z2dlc3Rpb25zIiwKICAgICAgICBmaWVsZHM6IFsibmFtZSJdCiAgICB9OwogICAgdmFyIGFjID0gbmV3IFlBSE9PLndpZGdldC5BdXRvQ29tcGxldGUoInNlYXJjaC1ib3giLCJzZWFyY2gtYm94LWNvbXBsZXRpb24iLGRzKTsKICAgIGFjLnR5cGVBaGVhZCA9IGZhbHNlOwogICAgYWMuYXV0b0hpZ2hsaWdodCA9IGZhbHNlOwogICAgYWMuZm9ybWF0UmVzdWx0ID0gYWMuZm9ybWF0RXNjYXBlZFJlc3VsdDsKCiAgICB2YXIgYm94ICAgPSAkKCJzZWFyY2gtYm94Iik7CiAgICB2YXIgc2l6ZXIgPSAkKCJzZWFyY2gtYm94LXNpemVyIik7CiAgICB2YXIgY29tcCAgPSAkKCJzZWFyY2gtYm94LWNvbXBsZXRpb24iKTsKICAgIHZhciBtaW5XICA9ICQoInNlYXJjaC1ib3gtbWluV2lkdGgiKTsKCiAgICBCZWhhdmlvdXIuYWRkTG9hZEV2ZW50KGZ1bmN0aW9uKCl7CiAgICAgICAgLy8gbWFrZSBzdXJlIGFsbCB0aHJlZSBjb21wb25lbnRzIGhhdmUgdGhlIHNhbWUgZm9udCBzZXR0aW5ncwogICAgICAgIGZ1bmN0aW9uIGNvcHlGb250U3R5bGUocyxkKSB7CiAgICAgICAgICAgIHZhciBkcyA9IGQuc3R5bGU7CiAgICAgICAgICAgIGRzLmZvbnRGYW1pbHkgPSBnZXRTdHlsZShzLCJmb250RmFtaWx5Iik7CiAgICAgICAgICAgIGRzLmZvbnRTaXplID0gZ2V0U3R5bGUocywiZm9udFNpemUiKTsKICAgICAgICAgICAgZHMuZm9udFN0eWxlID0gZ2V0U3R5bGUocywiZm9udFN0eWxlIik7CiAgICAgICAgICAgIGRzLmZvbnRXZWlnaHQgPSBnZXRTdHlsZShzLCJmb250V2VpZ2h0Iik7CiAgICAgICAgfQoKICAgICAgICBjb3B5Rm9udFN0eWxlKGJveCxzaXplcik7CiAgICAgICAgY29weUZvbnRTdHlsZShib3gsbWluVyk7CiAgICB9KTsKCiAgICAvLyB1cGRhdGUgcG9zaXRpb25zIGFuZCBzaXplcyBvZiB0aGUgY29tcG9uZW50cyByZWxldmFudCB0byBzZWFyY2gKICAgIGZ1bmN0aW9uIHVwZGF0ZVBvcygpIHsKICAgICAgICBmdW5jdGlvbiBtYXgoYSxiKSB7IGlmKGE+YikgcmV0dXJuIGE7IGVsc2UgcmV0dXJuIGI7IH0KCiAgICAgICAgc2l6ZXIuaW5uZXJIVE1MID0gYm94LnZhbHVlLmVzY2FwZUhUTUwoKTsKICAgICAgICB2YXIgdyA9IG1heChzaXplci5vZmZzZXRXaWR0aCxtaW5XLm9mZnNldFdpZHRoKTsKICAgICAgICBib3guc3R5bGUud2lkdGggPQogICAgICAgIGNvbXAuc3R5bGUud2lkdGggPSAKICAgICAgICBjb21wLmZpcnN0Q2hpbGQuc3R5bGUud2lkdGggPSAodys2MCkrInB4IjsKCiAgICAgICAgdmFyIHBvcyA9IFlBSE9PLnV0aWwuRG9tLmdldFhZKGJveCk7CiAgICAgICAgcG9zWzFdICs9IFlBSE9PLnV0aWwuRG9tLmdldChib3gpLm9mZnNldEhlaWdodCArIDI7CiAgICAgICAgWUFIT08udXRpbC5Eb20uc2V0WFkoY29tcCwgcG9zKTsKICAgIH0KCiAgICB1cGRhdGVQb3MoKTsKICAgIGJveC5vbmtleXVwID0gdXBkYXRlUG9zOwp9CgoKLyoqCiAqIEZpbmRzIHRoZSBET00gbm9kZSBvZiB0aGUgZ2l2ZW4gRE9NIG5vZGUgdGhhdCBhY3RzIGFzIGEgcGFyZW50IGluIHRoZSBmb3JtIHN1Ym1pc3Npb24uCiAqCiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGUKICogICAgICBUaGUgbm9kZSB3aG9zZSBwYXJlbnQgd2UgYXJlIGxvb2tpbmcgZm9yLgogKiBAcGFyYW0ge0hUTUxGb3JtRWxlbWVudH0gZm9ybQogKiAgICAgIFRoZSBmb3JtIGVsZW1lbnQgdGhhdCBvd25zICdlJy4gUGFzc2VkIGluIGFzIGEgcGVyZm9ybWFuY2UgaW1wcm92ZW1lbnQuIENhbiBiZSBudWxsLgogKiBAcmV0dXJuIG51bGwKICogICAgICBpZiB0aGUgZ2l2ZW4gZWxlbWVudCBzaG91bGRuJ3QgYmUgYSBwYXJ0IG9mIHRoZSBmaW5hbCBzdWJtaXNzaW9uLgogKi8KZnVuY3Rpb24gZmluZEZvcm1QYXJlbnQoZSxmb3JtLGlzU3RhdGljKSB7CiAgICBpc1N0YXRpYyA9IGlzU3RhdGljIHx8IGZhbHNlOwoKICAgIGlmIChmb3JtPT1udWxsKSAvLyBjYWxsZXIgY2FuIHBhc3MgaW4gbnVsbCB0byBoYXZlIHRoaXMgbWV0aG9kIGNvbXB1dGUgdGhlIG93bmluZyBmb3JtCiAgICAgICAgZm9ybSA9IGZpbmRBbmNlc3RvcihlLCJGT1JNIik7CgogICAgd2hpbGUoZSE9Zm9ybSkgewogICAgICAgIC8vIHRoaXMgaXMgdXNlZCB0byBjcmVhdGUgYSBncm91cCB3aGVyZSBubyBzaW5nbGUgY29udGFpbmluZyBwYXJlbnQgbm9kZSBleGlzdHMsCiAgICAgICAgLy8gbGlrZSA8b3B0aW9uYWxCbG9jaz4KICAgICAgICB2YXIgbmFtZVJlZiA9IGUuZ2V0QXR0cmlidXRlKCJuYW1lUmVmIik7CiAgICAgICAgaWYobmFtZVJlZiE9bnVsbCkKICAgICAgICAgICAgZSA9ICQobmFtZVJlZik7CiAgICAgICAgZWxzZQogICAgICAgICAgICBlID0gZS5wYXJlbnROb2RlOwoKICAgICAgICBpZighaXNTdGF0aWMgJiYgZS5nZXRBdHRyaWJ1dGUoImZpZWxkLWRpc2FibGVkIikhPW51bGwpCiAgICAgICAgICAgIHJldHVybiBudWxsOyAgLy8gdGhpcyBmaWVsZCBzaG91bGRuJ3QgY29udHJpYnV0ZSB0byB0aGUgZmluYWwgcmVzdWx0CgogICAgICAgIHZhciBuYW1lID0gZS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsKICAgICAgICBpZihuYW1lIT1udWxsICYmIG5hbWUubGVuZ3RoPjApIHsKICAgICAgICAgICAgaWYoZS50YWdOYW1lPT0iSU5QVVQiICYmICFpc1N0YXRpYyAmJiAheG9yKGUuY2hlY2tlZCxFbGVtZW50Lmhhc0NsYXNzTmFtZShlLCJuZWdhdGl2ZSIpKSkKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyAgLy8gZmllbGQgaXMgbm90IGFjdGl2ZQoKICAgICAgICAgICAgcmV0dXJuIGU7CiAgICAgICAgfQogICAgfQoKICAgIHJldHVybiBmb3JtOwp9CgovLyBjb21wdXRlIHRoZSBmb3JtIGZpZWxkIG5hbWUgZnJvbSB0aGUgY29udHJvbCBuYW1lCmZ1bmN0aW9uIHNob3J0ZW5OYW1lKG5hbWUpIHsKICAgIC8vIFthYmMuZGVmLmdoaV0gLT4gYWJjLmRlZi5naGkKICAgIGlmKG5hbWUuc3RhcnRzV2l0aCgnWycpKQogICAgICAgIHJldHVybiBuYW1lLnN1YnN0cmluZygxLG5hbWUubGVuZ3RoLTEpOwoKICAgIC8vIGFiYy5kZWYuZ2hpIC0+IGdoaQogICAgdmFyIGlkeCA9IG5hbWUubGFzdEluZGV4T2YoJy4nKTsKICAgIGlmKGlkeD49MCkgIG5hbWUgPSBuYW1lLnN1YnN0cmluZyhpZHgrMSk7CiAgICByZXR1cm4gbmFtZTsKfQoKCgovLwovLyBzdHJ1Y3R1cmVkIGZvcm0gc3VibWlzc2lvbiBoYW5kbGluZwovLyAgIHNlZSBodHRwczovL2plbmtpbnMuaW8vcmVkaXJlY3QvZGV2ZWxvcGVyL3N0cnVjdHVyZWQtZm9ybS1zdWJtaXNzaW9uCmZ1bmN0aW9uIGJ1aWxkRm9ybVRyZWUoZm9ybSkgewogICAgdHJ5IHsKICAgICAgICAvLyBJIGluaXRpYWxseSB0cmllZCB0byB1c2UgYW4gYXNzb2NpYXRpdmUgYXJyYXkgd2l0aCBET00gZWxlbWVudHMgYXMga2V5cwogICAgICAgIC8vIGJ1dCB0aGF0IGRvZXNuJ3Qgc2VlbSB0byB3b3JrIG5laXRoZXIgb24gSUUgbm9yIEZpcmVmb3guCiAgICAgICAgLy8gc28gSSBzd2l0Y2ggYmFjayB0byBhZGRpbmcgYSBkeW5hbWljIHByb3BlcnR5IG9uIERPTS4KICAgICAgICBmb3JtLmZvcm1Eb20gPSB7fTsgLy8gcm9vdCBvYmplY3QKCiAgICAgICAgdmFyIGRvbXMgPSBbXTsgLy8gRE9NcyB0aGF0IHdlIGFkZGVkICdmb3JtRG9tJyBmb3IuCiAgICAgICAgZG9tcy5wdXNoKGZvcm0pOwoKICAgICAgICBmdW5jdGlvbiBhZGRQcm9wZXJ0eShwYXJlbnQsbmFtZSx2YWx1ZSkgewogICAgICAgICAgICBuYW1lID0gc2hvcnRlbk5hbWUobmFtZSk7CiAgICAgICAgICAgIGlmKHBhcmVudFtuYW1lXSE9bnVsbCkgewogICAgICAgICAgICAgICAgaWYocGFyZW50W25hbWVdLnB1c2g9PW51bGwpIC8vIGlzIHRoaXMgYXJyYXk/CiAgICAgICAgICAgICAgICAgICAgcGFyZW50W25hbWVdID0gWyBwYXJlbnRbbmFtZV0gXTsKICAgICAgICAgICAgICAgIHBhcmVudFtuYW1lXS5wdXNoKHZhbHVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBhcmVudFtuYW1lXSA9IHZhbHVlOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBmaW5kIHRoZSBncm91cGluZyBwYXJlbnQgbm9kZSwgd2hpY2ggd2lsbCBoYXZlIEBuYW1lLgogICAgICAgIC8vIHRoZW4gcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIG9iamVjdCBpbiB0aGUgbWFwCiAgICAgICAgZnVuY3Rpb24gZmluZFBhcmVudChlKSB7CiAgICAgICAgICAgIHZhciBwID0gZmluZEZvcm1QYXJlbnQoZSxmb3JtKTsKICAgICAgICAgICAgaWYgKHA9PW51bGwpICAgIHJldHVybiB7fTsKCiAgICAgICAgICAgIHZhciBtID0gcC5mb3JtRG9tOwogICAgICAgICAgICBpZihtPT1udWxsKSB7CiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGEgbmV3IGdyb3VwaW5nIG5vZGUKICAgICAgICAgICAgICAgIGRvbXMucHVzaChwKTsKICAgICAgICAgICAgICAgIHAuZm9ybURvbSA9IG0gPSB7fTsKICAgICAgICAgICAgICAgIGFkZFByb3BlcnR5KGZpbmRQYXJlbnQocCksIHAuZ2V0QXR0cmlidXRlKCJuYW1lIiksIG0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBtOwogICAgICAgIH0KCiAgICAgICAgdmFyIGpzb25FbGVtZW50ID0gbnVsbDsKCiAgICAgICAgZm9yKCB2YXIgaT0wOyBpPGZvcm0uZWxlbWVudHMubGVuZ3RoOyBpKysgKSB7CiAgICAgICAgICAgIHZhciBlID0gZm9ybS5lbGVtZW50c1tpXTsKICAgICAgICAgICAgaWYoZS5uYW1lPT0ianNvbiIpIHsKICAgICAgICAgICAgICAgIGpzb25FbGVtZW50ID0gZTsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKGUudGFnTmFtZT09IkZJRUxEU0VUIikKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICBpZihlLnRhZ05hbWU9PSJTRUxFQ1QiICYmIGUubXVsdGlwbGUpIHsKICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBbXTsKICAgICAgICAgICAgICAgIGZvciggdmFyIG89MDsgbzxlLm9wdGlvbnMubGVuZ3RoOyBvKysgKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG9wdCA9IGUub3B0aW9ucy5pdGVtKG8pOwogICAgICAgICAgICAgICAgICAgIGlmKG9wdC5zZWxlY3RlZCkKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnB1c2gob3B0LnZhbHVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGFkZFByb3BlcnR5KGZpbmRQYXJlbnQoZSksZS5uYW1lLHZhbHVlcyk7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIHZhciBwOwogICAgICAgICAgICB2YXIgcjsKICAgICAgICAgICAgdmFyIHR5cGUgPSBlLmdldEF0dHJpYnV0ZSgidHlwZSIpOwogICAgICAgICAgICBpZih0eXBlPT1udWxsKSAgdHlwZT0iIjsKICAgICAgICAgICAgc3dpdGNoKHR5cGUudG9Mb3dlckNhc2UoKSkgewogICAgICAgICAgICBjYXNlICJidXR0b24iOgogICAgICAgICAgICBjYXNlICJzdWJtaXQiOgogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgImNoZWNrYm94IjoKICAgICAgICAgICAgICAgIHAgPSBmaW5kUGFyZW50KGUpOwogICAgICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSB4b3IoZS5jaGVja2VkLEVsZW1lbnQuaGFzQ2xhc3NOYW1lKGUsIm5lZ2F0aXZlIikpOwogICAgICAgICAgICAgICAgaWYoIWUuZ3JvdXBpbmdOb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgdiA9IGUuZ2V0QXR0cmlidXRlKCJqc29uIik7CiAgICAgICAgICAgICAgICAgICAgaWYgKHYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHNwZWNpYWwgYXR0cmlidXRlIGlzIHByZXNlbnQsIHdlJ2xsIGVpdGhlciBzZXQgdGhlIHZhbHVlIG9yIG5vdC4gdXNlZnVsIGZvciBhbiBhcnJheSBvZiBjaGVja2JveGVzCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGNhbid0IHVzZSBAdmFsdWUgYmVjYXVzZSBJRTYgc2V0cyB0aGUgdmFsdWUgdG8gYmUgIm9uIiBpZiBpdCdzIGxlZnQgdW5zcGVjaWZpZWQuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGVja2VkKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUHJvcGVydHkocCwgZS5uYW1lLCB2KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugey8vIG90aGVyd2lzZSBpdCdsbCBiaW5kIHRvIGJvb2xlYW4KICAgICAgICAgICAgICAgICAgICAgICAgYWRkUHJvcGVydHkocCwgZS5uYW1lLCBjaGVja2VkKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmKGNoZWNrZWQpCiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFByb3BlcnR5KHAsIGUubmFtZSwgZS5mb3JtRG9tID0ge30pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgImZpbGUiOgogICAgICAgICAgICAgICAgLy8gdG8gc3VwcG9ydCBzdHJ1Y3R1cmVkIGZvcm0gc3VibWlzc2lvbiB3aXRoIGZpbGUgdXBsb2FkcywKICAgICAgICAgICAgICAgIC8vIHJlbmFtZSBmb3JtIGZpZWxkIG5hbWVzIHRvIHVuaXF1ZSBvbmVzLCBhbmQgbGVhdmUgdGhpcyBuYW1lIG1hcHBpbmcgaW5mb3JtYXRpb24KICAgICAgICAgICAgICAgIC8vIGluIEpTT04uIHRoaXMgYmVoYXZpb3IgaXMgYmFja3dhcmQgaW5jb21wYXRpYmxlLCBzbyBvbmx5IGRvCiAgICAgICAgICAgICAgICAvLyB0aGlzIHdoZW4KICAgICAgICAgICAgICAgIHAgPSBmaW5kUGFyZW50KGUpOwogICAgICAgICAgICAgICAgaWYoZS5nZXRBdHRyaWJ1dGUoImpzb25Bd2FyZSIpIT1udWxsKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG9uID0gZS5nZXRBdHRyaWJ1dGUoIm9yaWdpbmFsTmFtZSIpOwogICAgICAgICAgICAgICAgICAgIGlmKG9uIT1udWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFByb3BlcnR5KHAsb24sZS5uYW1lKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdW5pcU5hbWUgPSAiZmlsZSIrKGlvdGErKyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFByb3BlcnR5KHAsZS5uYW1lLHVuaXFOYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgZS5zZXRBdHRyaWJ1dGUoIm9yaWdpbmFsTmFtZSIsZS5uYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgZS5uYW1lID0gdW5pcU5hbWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gc3dpdGNoIHRvIG11bHRpcGFydC9mb3JtLWRhdGEgdG8gc3VwcG9ydCBmaWxlIHN1Ym1pc3Npb24KICAgICAgICAgICAgICAgIC8vIEBlbmN0eXBlIGlzIHRoZSBzdGFuZGFyZCwgYnV0IElFIG5lZWRzIEBlbmNvZGluZy4KICAgICAgICAgICAgICAgIGZvcm0uZW5jdHlwZSA9IGZvcm0uZW5jb2RpbmcgPSAibXVsdGlwYXJ0L2Zvcm0tZGF0YSI7CiAgICAgICAgICAgICAgICBjcnVtYi5hcHBlbmRUb0Zvcm0oZm9ybSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAicmFkaW8iOgogICAgICAgICAgICAgICAgaWYoIWUuY2hlY2tlZCkgIGJyZWFrOwogICAgICAgICAgICAgICAgcj0wOwogICAgICAgICAgICAgICAgd2hpbGUgKGUubmFtZS5zdWJzdHJpbmcocixyKzgpPT0ncmVtb3ZlbWUnKQogICAgICAgICAgICAgICAgICAgIHIgPSBlLm5hbWUuaW5kZXhPZignXycscis4KSsxOwogICAgICAgICAgICAgICAgcCA9IGZpbmRQYXJlbnQoZSk7CiAgICAgICAgICAgICAgICBpZihlLmdyb3VwaW5nTm9kZSkgewogICAgICAgICAgICAgICAgICAgIGFkZFByb3BlcnR5KHAsIGUubmFtZS5zdWJzdHJpbmcociksIGUuZm9ybURvbSA9IHsgdmFsdWU6IGUudmFsdWUgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGFkZFByb3BlcnR5KHAsIGUubmFtZS5zdWJzdHJpbmcociksIGUudmFsdWUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcCA9IGZpbmRQYXJlbnQoZSk7CiAgICAgICAgICAgICAgICBhZGRQcm9wZXJ0eShwLCBlLm5hbWUsIGUudmFsdWUpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGpzb25FbGVtZW50LnZhbHVlID0gT2JqZWN0LnRvSlNPTihmb3JtLmZvcm1Eb20pOwoKICAgICAgICAvLyBjbGVhbiB1cAogICAgICAgIGZvciggaT0wOyBpPGRvbXMubGVuZ3RoOyBpKysgKQogICAgICAgICAgICBkb21zW2ldLmZvcm1Eb20gPSBudWxsOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gY2F0Y2goZSkgewogICAgICAgIGFsZXJ0KGUrJ1xuKGZvcm0gbm90IHN1Ym1pdHRlZCknKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9Cn0KCi8qKgogKiBAcGFyYW0ge2Jvb2xlYW59IHRvZ2dsZQogKiAgICAgIFdoZW4gdHJ1ZSwgd2lsbCBjaGVjayBhbGwgY2hlY2tib3hlcyBpbiB0aGUgcGFnZS4gV2hlbiBmYWxzZSwgdW5jaGVja3MgdGhlbSBhbGwuCiAqLwp2YXIgdG9nZ2xlQ2hlY2tib3hlcyA9IGZ1bmN0aW9uKHRvZ2dsZSkgewogICAgdmFyIGlucHV0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpOwogICAgZm9yKHZhciBpPTA7IGk8aW5wdXRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYoaW5wdXRzW2ldLnR5cGUgPT09ICJjaGVja2JveCIpIHsKICAgICAgICAgICAgaW5wdXRzW2ldLmNoZWNrZWQgPSB0b2dnbGU7CiAgICAgICAgfQogICAgfQp9OwoKLy8gdGhpcyB1c2VkIHRvIGJlIGluIHByb3RvdHlwZS5qcyBidXQgaXQgbXVzdCBoYXZlIGJlZW4gcmVtb3ZlZCBzb21ld2hlcmUgYmV0d2VlbiAxLjQuMCB0byAxLjUuMQpTdHJpbmcucHJvdG90eXBlLnRyaW0gPSBmdW5jdGlvbigpIHsKICAgIHZhciB0ZW1wID0gdGhpczsKICAgIHZhciBvYmogPSAvXihccyopKFtcV1x3XSopKFxiXHMqJCkvOwogICAgaWYgKG9iai50ZXN0KHRlbXApKQogICAgICAgIHRlbXAgPSB0ZW1wLnJlcGxhY2Uob2JqLCAnJDInKTsKICAgIG9iaiA9IC8gIC9nOwogICAgd2hpbGUgKHRlbXAubWF0Y2gob2JqKSkKICAgICAgICB0ZW1wID0gdGVtcC5yZXBsYWNlKG9iaiwgIiAiKTsKICAgIHJldHVybiB0ZW1wOwp9CgoKCnZhciBob3Zlck5vdGlmaWNhdGlvbiA9IChmdW5jdGlvbigpIHsKICAgIHZhciBtc2dCb3g7CiAgICB2YXIgYm9keTsKCiAgICAvLyBhbmltYXRpb24gZWZmZWN0IHRoYXQgYXV0b21hdGljYWxseSBoaWRlIHRoZSBtZXNzYWdlIGJveAogICAgdmFyIGVmZmVjdCA9IGZ1bmN0aW9uKG92ZXJsYXksIGR1cikgewogICAgICAgIHZhciBvID0gWUFIT08ud2lkZ2V0LkNvbnRhaW5lckVmZmVjdC5GQURFKG92ZXJsYXksIGR1cik7CiAgICAgICAgby5hbmltYXRlSW5Db21wbGV0ZUV2ZW50LnN1YnNjcmliZShmdW5jdGlvbigpIHsKICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBtc2dCb3guaGlkZSgpCiAgICAgICAgICAgIH0sIDE1MDApOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBvOwogICAgfQoKICAgIGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgICAgaWYobXNnQm94IT1udWxsKSAgcmV0dXJuOyAgIC8vIGFscmVhZHkgaW5pdGlhbGl6ZWQKCiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTsKICAgICAgICBkaXYuaW5uZXJIVE1MID0gIjxkaXYgaWQ9aG92ZXJOb3RpZmljYXRpb24+PGRpdiBjbGFzcz1iZD48L2Rpdj48L2Rpdj4iOwogICAgICAgIGJvZHkgPSAkKCdob3Zlck5vdGlmaWNhdGlvbicpOwogICAgICAgIAogICAgICAgIG1zZ0JveCA9IG5ldyBZQUhPTy53aWRnZXQuT3ZlcmxheShib2R5LCB7CiAgICAgICAgICB2aXNpYmxlOmZhbHNlLAogICAgICAgICAgd2lkdGg6IjEwZW0iLAogICAgICAgICAgekluZGV4OjEwMDAsCiAgICAgICAgICBlZmZlY3Q6ewogICAgICAgICAgICBlZmZlY3Q6ZWZmZWN0LAogICAgICAgICAgICBkdXJhdGlvbjowLjI1CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgbXNnQm94LnJlbmRlcigpOwogICAgfQoKICAgIHJldHVybiBmdW5jdGlvbih0aXRsZSwgYW5jaG9yLCBvZmZzZXQpIHsKICAgICAgICBpZiAodHlwZW9mIG9mZnNldCA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgb2Zmc2V0ID0gNDg7CiAgICAgICAgfQogICAgICAgIGluaXQoKTsKICAgICAgICBib2R5LmlubmVySFRNTCA9IHRpdGxlOwogICAgICAgIHZhciB4eSA9IFlBSE9PLnV0aWwuRG9tLmdldFhZKGFuY2hvcik7CiAgICAgICAgeHlbMF0gKz0gb2Zmc2V0OwogICAgICAgIHh5WzFdICs9IGFuY2hvci5vZmZzZXRIZWlnaHQ7CiAgICAgICAgbXNnQm94LmNmZy5zZXRQcm9wZXJ0eSgieHkiLHh5KTsKICAgICAgICBtc2dCb3guc2hvdygpOwogICAgfTsKfSkoKTsKCi8qKgogKiBMb2FkcyB0aGUgc2NyaXB0IHNwZWNpZmllZCBieSB0aGUgVVJMLgogKgogKiBAcGFyYW0gaHJlZgogKiAgICAgIFRoZSBVUkwgb2YgdGhlIHNjcmlwdCB0byBsb2FkLgogKiBAcGFyYW0gY2FsbGJhY2sKICogICAgICBJZiBzcGVjaWZpZWQsIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIGFmdGVyIHRoZSBzY3JpcHQgaXMgbG9hZGVkLgogKiBAc2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDg0NTc2Mi9vbmxvYWQtaGFuZGxlci1mb3Itc2NyaXB0LXRhZy1pbi1pbnRlcm5ldC1leHBsb3JlcgogKi8KZnVuY3Rpb24gbG9hZFNjcmlwdChocmVmLGNhbGxiYWNrKSB7CiAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0gfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwogICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpOwogICAgc2NyaXB0LnNyYyA9IGhyZWY7CgogICAgaWYgKGNhbGxiYWNrKSB7CiAgICAgICAgLy8gSGFuZGxlIFNjcmlwdCBsb2FkaW5nCiAgICAgICAgdmFyIGRvbmUgPSBmYWxzZTsKCiAgICAgICAgLy8gQXR0YWNoIGhhbmRsZXJzIGZvciBhbGwgYnJvd3NlcnMKICAgICAgICBzY3JpcHQub25sb2FkID0gc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAoICFkb25lICYmICghdGhpcy5yZWFkeVN0YXRlIHx8CiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID09PSAibG9hZGVkIiB8fCB0aGlzLnJlYWR5U3RhdGUgPT09ICJjb21wbGV0ZSIpICkgewogICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7CiAgICAgICAgICAgICAgICBjYWxsYmFjaygpOwoKICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBtZW1vcnkgbGVhayBpbiBJRQogICAgICAgICAgICAgICAgc2NyaXB0Lm9ubG9hZCA9IHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsOwogICAgICAgICAgICAgICAgaWYgKCBoZWFkICYmIHNjcmlwdC5wYXJlbnROb2RlICkgewogICAgICAgICAgICAgICAgICAgIGhlYWQucmVtb3ZlQ2hpbGQoIHNjcmlwdCApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0KCiAgICAvLyBVc2UgaW5zZXJ0QmVmb3JlIGluc3RlYWQgb2YgYXBwZW5kQ2hpbGQgIHRvIGNpcmN1bXZlbnQgYW4gSUU2IGJ1Zy4KICAgIC8vIFRoaXMgYXJpc2VzIHdoZW4gYSBiYXNlIG5vZGUgaXMgdXNlZCAoIzI3MDkgYW5kICM0Mzc4KS4KICAgIGhlYWQuaW5zZXJ0QmVmb3JlKCBzY3JpcHQsIGhlYWQuZmlyc3RDaGlsZCApOwp9CgovKioKICogTG9hZHMgYSBkeW5hbWljYWxseSBjcmVhdGVkIGludmlzaWJsZSBJRlJBTUUuCiAqLwpmdW5jdGlvbiBjcmVhdGVJZnJhbWUoc3JjLGNhbGxiYWNrKSB7CiAgICB2YXIgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7CiAgICBpZnJhbWUuc3JjID0gc3JjOwogICAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CgogICAgdmFyIGRvbmUgPSBmYWxzZTsKICAgIGlmcmFtZS5vbmxvYWQgPSBpZnJhbWUub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKCAhZG9uZSAmJiAoIXRoaXMucmVhZHlTdGF0ZSB8fAogICAgICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID09PSAibG9hZGVkIiB8fCB0aGlzLnJlYWR5U3RhdGUgPT09ICJjb21wbGV0ZSIpICkgewogICAgICAgICAgICBkb25lID0gdHJ1ZTsKICAgICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICB9CiAgICB9OwoKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaWZyYW1lKTsKICAgIHJldHVybiBpZnJhbWU7Cn0KCnZhciBkb3dubG9hZFNlcnZpY2UgPSB7CiAgICBjb250aW51YXRpb25zOiB7fSwKCiAgICBkb3dubG9hZCA6IGZ1bmN0aW9uKGlkLHVybCxpbmZvLCBwb3N0QmFjayxjb21wbGV0aW9uSGFuZGxlcikgewogICAgICAgIHZhciB0YWcgPSB7aWQ6aWQscG9zdEJhY2s6cG9zdEJhY2ssY29tcGxldGlvbkhhbmRsZXI6Y29tcGxldGlvbkhhbmRsZXIscmVjZWl2ZWQ6ZmFsc2V9OwogICAgICAgIHRoaXMuY29udGludWF0aW9uc1tpZF0gPSB0YWc7CgogICAgICAgIC8vIHVzZSBKU09OUCB0byBkb3dubG9hZCB0aGUgZGF0YQogICAgICAgIGZ1bmN0aW9uIGZhbGxiYWNrKCkgewogICAgICAgICAgICBsb2FkU2NyaXB0KHVybCsiP2lkPSIraWQrJyYnK0hhc2gudG9RdWVyeVN0cmluZyhpbmZvKSk7CiAgICAgICAgfQoKICAgICAgICBpZiAod2luZG93LnBvc3RNZXNzYWdlKSB7CiAgICAgICAgICAgIC8vIHRyeSBkb3dubG9hZGluZyB0aGUgcG9zdE1lc3NhZ2UgdmVyc2lvbiBvZiB0aGUgZGF0YSwKICAgICAgICAgICAgLy8gaWYgd2UgZG9uJ3QgcmVjZWl2ZSBwb3N0TWVzc2FnZSAod2hpY2ggcHJvYmFibHkgbWVhbnMgdGhlIHNlcnZlciBpc24ndCByZWFkeSB3aXRoIHRoZXNlIG5ldyBkYXRhc2V0cyksCiAgICAgICAgICAgIC8vIGZhbGxiYWNrIHRvIEpTT05QCiAgICAgICAgICAgIHRhZy5pZnJhbWUgPSBjcmVhdGVJZnJhbWUodXJsKyIuaHRtbD9pZD0iK2lkKycmJytIYXNoLnRvUXVlcnlTdHJpbmcoaW5mbyksZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIXRhZy5yZWNlaXZlZCkKICAgICAgICAgICAgICAgICAgICAgICAgZmFsbGJhY2soKTsKICAgICAgICAgICAgICAgIH0sMTAwKTsgLy8gYml0IG9mIGRlbGF5IGluIGNhc2Ugb25sb2FkIG9uIG91ciBzaWRlIGZpcmVzIGZpcnN0CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIHRoaXMgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgcG9zdE1lc3NhZ2UKICAgICAgICAgICAgZmFsbGJhY2soKTsKICAgICAgICB9CgogICAgICAgIC8vIE5PVEU6CiAgICAgICAgLy8gICB0aGUgb25seSByZWFzb24gd2UgZXZlbiB0cnkgZmFsbGJhY2soKSBpcyBpbiBjYXNlIG91ciBzZXJ2ZXIgYWNjZXB0cyB0aGUgc3VibWlzc2lvbiB3aXRob3V0IGEgc2lnbmF0dXJlCiAgICAgICAgLy8gICAod2hpY2ggaXQgcmVhbGx5IHNob3VsZG4ndCkKICAgIH0sCgogICAgLyoqCiAgICAgKiBDYWxsIGJhY2sgdG8gcG9zdE1lc3NhZ2UKICAgICAqLwogICAgcmVjZWl2ZU1lc3NhZ2UgOiBmdW5jdGlvbihldikgewogICAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgICBPYmplY3QudmFsdWVzKHRoaXMuY29udGludWF0aW9ucykuZWFjaChmdW5jdGlvbih0YWcpIHsKICAgICAgICAgICAgaWYgKHRhZy5pZnJhbWUuY29udGVudFdpbmRvdz09ZXYuc291cmNlKSB7CiAgICAgICAgICAgICAgICBzZWxmLnBvc3QodGFnLmlkLEpTT04ucGFyc2UoZXYuZGF0YSkpOwogICAgICAgICAgICB9CiAgICAgICAgfSkKICAgIH0sCgogICAgcG9zdCA6IGZ1bmN0aW9uKGlkLGRhdGEpIHsKICAgICAgICBpZiAoZGF0YT09dW5kZWZpbmVkKSB7CiAgICAgICAgICAgIC8vIGRlZmF1bHQgdG8gaWQgaW4gZGF0YQogICAgICAgICAgICBkYXRhID0gaWQ7CiAgICAgICAgICAgIGlkID0gZGF0YS5pZDsKICAgICAgICB9CiAgICAgICAgdmFyIHRhZyA9IHRoaXMuY29udGludWF0aW9uc1tpZF07CiAgICAgICAgaWYgKHRhZz09dW5kZWZpbmVkKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJTdWJtaXNzaW9uIGZyb20gdXBkYXRlIGNlbnRlciB0aGF0IHdlIGRvbid0IGtub3c6ICIraWQpOwogICAgICAgICAgICBjb25zb2xlLmxvZygiTGlrZWx5IG1pc21hdGNoIGJldHdlZW4gdGhlIHJlZ2lzdGVyZWQgSUQgdnMgSUQgaW4gSlNPTiIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRhZy5yZWNlaXZlZCA9IHRydWU7CgogICAgICAgIC8vIHNlbmQgdGhlIHBheWxvYWQgYmFjayBpbiB0aGUgYm9keS4gV2UgdXNlZCB0byBzZW5kIHRoaXMgaW4gYXMgYSBmb3JtIHN1Ym1pc3Npb24sIGJ1dCB0aGF0IGhpdHMgdGhlIGZvcm0gc2l6ZSBjaGVjayBpbiBKZXR0eS4KICAgICAgICBuZXcgQWpheC5SZXF1ZXN0KHRhZy5wb3N0QmFjaywgewogICAgICAgICAgICBjb250ZW50VHlwZToiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgIGVuY29kaW5nOiJVVEYtOCIsCiAgICAgICAgICAgIHBvc3RCb2R5Ok9iamVjdC50b0pTT04oZGF0YSksCiAgICAgICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBpZih0YWcuY29tcGxldGlvbkhhbmRsZXIhPW51bGwpCiAgICAgICAgICAgICAgICAgICAgdGFnLmNvbXBsZXRpb25IYW5kbGVyKCk7CiAgICAgICAgICAgICAgICBlbHNlIGlmKGRvd25sb2FkU2VydmljZS5jb21wbGV0aW9uSGFuZGxlciE9bnVsbCkKICAgICAgICAgICAgICAgICAgICBkb3dubG9hZFNlcnZpY2UuY29tcGxldGlvbkhhbmRsZXIoKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQp9OwoKLy8gdXBkYXRlIGNlbnRlciBzZXJ2aWNlLiB0byByZW1haW4gY29tcGF0aWJsZSB3aXRoIGVhcmxpZXIgdmVyc2lvbiBvZiBKZW5raW5zLCBhbGlhc2VkLgp2YXIgdXBkYXRlQ2VudGVyID0gZG93bmxvYWRTZXJ2aWNlOwoKWUFIT08udXRpbC5FdmVudC5hZGRMaXN0ZW5lcih3aW5kb3csICJtZXNzYWdlIiwgZnVuY3Rpb24oZXYpIHsgZG93bmxvYWRTZXJ2aWNlLnJlY2VpdmVNZXNzYWdlKGV2KTsgfSkKCi8qCnJlZGlyZWN0cyB0byBhIHBhZ2Ugb25jZSB0aGUgcGFnZSBpcyByZWFkeS4KCiAgICBAcGFyYW0gdXJsCiAgICAgICAgU3BlY2lmaWVzIHRoZSBVUkwgdG8gcmVkaXJlY3QgdGhlIHVzZXIuCiovCmZ1bmN0aW9uIGFwcGx5U2FmZVJlZGlyZWN0b3IodXJsKSB7CiAgICB2YXIgaT0wOwogICAgbmV3IFBlcmlvZGljYWxFeGVjdXRlcihmdW5jdGlvbigpIHsKICAgICAgaSA9IChpKzEpJTQ7CiAgICAgIHZhciBzID0gIiI7CiAgICAgIHZhciBqPTA7CiAgICAgIGZvciggaj0wOyBqPGk7IGorKyApCiAgICAgICAgcys9Jy4nOwogICAgICAvLyBwdXQgdGhlIHJlc3Qgb2YgZG90cyBhcyBoaWRkZW4gc28gdGhhdCB0aGUgbGF5b3V0IGRvZXNuJ3QgY2hhbmdlCiAgICAgIC8vIGRlcGVuZGluZyBvbiB0aGUgIyBvZiBkb3RzLgogICAgICBzKz0iPHNwYW4gc3R5bGU9J3Zpc2liaWxpdHk6aGlkZGVuJz4iOwogICAgICBmb3IoIDsgajw0OyBqKysgKQogICAgICAgIHMrPScuJzsKICAgICAgcys9Ijwvc3Bhbj4iOwogICAgICAkKCdwcm9ncmVzcycpLmlubmVySFRNTCA9IHM7CiAgICB9LDEpOwoKICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICB2YXIgc3RhdHVzQ2hlY2tlciA9IGFyZ3VtZW50cy5jYWxsZWU7CiAgICAgICAgbmV3IEFqYXguUmVxdWVzdCh1cmwsIHsKICAgICAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICAgICAgb25GYWlsdXJlOiBmdW5jdGlvbihyc3ApIHsKICAgICAgICAgICAgICAgIGlmKHJzcC5zdGF0dXM9PTUwMyAmJiByc3AuZ2V0SGVhZGVyKCJYLUplbmtpbnMtSW50ZXJhY3RpdmUiKT09bnVsbCkgewogICAgICAgICAgICAgICAgICAvLyByZWRpcmVjdCBhcyBsb25nIGFzIHdlIGFyZSBzdGlsbCBsb2FkaW5nCiAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHN0YXR1c0NoZWNrZXIsNTAwMCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh1cmwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uKHJzcCkgewogICAgICAgICAgICAgICAgaWYocnNwLnN0YXR1cyE9MjAwKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gaWYgY29ubmVjdGlvbiBmYWlscywgc29tZWhvdyBQcm90b3R5cGUgdGhpbmtzIGl0J3MgYSBzdWNjZXNzCiAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoc3RhdHVzQ2hlY2tlciw1MDAwKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UodXJsKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwgNTAwMCk7Cn0KCi8vIGxvZ2ljIGJlaGluZCA8Zjp2YWxpZGF0ZUJ1dHRvbiAvPgpmdW5jdGlvbiB2YWxpZGF0ZUJ1dHRvbihjaGVja1VybCxwYXJhbUxpc3QsYnV0dG9uKSB7CiAgYnV0dG9uID0gYnV0dG9uLl9idXR0b247CgogIHZhciBwYXJhbWV0ZXJzID0ge307CgogIHBhcmFtTGlzdC5zcGxpdCgnLCcpLmVhY2goZnVuY3Rpb24obmFtZSkgewogICAgICB2YXIgcCA9IGZpbmRQcmV2aW91c0Zvcm1JdGVtKGJ1dHRvbixuYW1lKTsKICAgICAgaWYocCE9bnVsbCkgewogICAgICAgIGlmKHAudHlwZT09ImNoZWNrYm94IikgIHBhcmFtZXRlcnNbbmFtZV0gPSBwLmNoZWNrZWQ7CiAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyc1tuYW1lXSA9IHAudmFsdWU7CiAgICAgIH0KICB9KTsKCiAgdmFyIHNwaW5uZXIgPSAkKGJ1dHRvbikudXAoIkRJViIpLm5leHQoKTsKICB2YXIgdGFyZ2V0ID0gc3Bpbm5lci5uZXh0KCk7CiAgc3Bpbm5lci5zdHlsZS5kaXNwbGF5PSJibG9jayI7CgogIG5ldyBBamF4LlJlcXVlc3QoY2hlY2tVcmwsIHsKICAgICAgcGFyYW1ldGVyczogcGFyYW1ldGVycywKICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24ocnNwKSB7CiAgICAgICAgICBzcGlubmVyLnN0eWxlLmRpc3BsYXk9Im5vbmUiOwogICAgICAgICAgYXBwbHlFcnJvck1lc3NhZ2UodGFyZ2V0LCByc3ApOwogICAgICAgICAgbGF5b3V0VXBkYXRlQ2FsbGJhY2suY2FsbCgpOwogICAgICAgICAgdmFyIHMgPSByc3AuZ2V0UmVzcG9uc2VIZWFkZXIoInNjcmlwdCIpOwogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBnZXZhbChzKTsKICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgIHdpbmRvdy5hbGVydCgiZmFpbGVkIHRvIGV2YWx1YXRlICIrcysiXG4iK2UubWVzc2FnZSk7CiAgICAgICAgICB9CiAgICAgIH0KICB9KTsKfQoKZnVuY3Rpb24gYXBwbHlFcnJvck1lc3NhZ2UoZWx0LCByc3ApIHsKICAgIGlmIChyc3Auc3RhdHVzID09IDIwMCkgewogICAgICAgIGVsdC5pbm5lckhUTUwgPSByc3AucmVzcG9uc2VUZXh0OwogICAgfSBlbHNlIHsKICAgICAgICB2YXIgaWQgPSAndmFsZXJyJyArIChpb3RhKyspOwogICAgICAgIGVsdC5pbm5lckhUTUwgPSAnPGEgaHJlZj0iIiBvbmNsaWNrPSJkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcJycgKyBpZAogICAgICAgICsgJ1wnKS5zdHlsZS5kaXNwbGF5PVwnYmxvY2tcJztyZXR1cm4gZmFsc2UiPkVSUk9SPC9hPjxkaXYgaWQ9IicKICAgICAgICArIGlkICsgJyIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+JyArIHJzcC5yZXNwb25zZVRleHQgKyAnPC9kaXY+JzsKICAgICAgICB2YXIgZXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJyb3ItZGVzY3JpcHRpb24nKTsgLy8gY2YuIG9vcHMuamVsbHkKICAgICAgICBpZiAoZXJyb3IpIHsKICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsKICAgICAgICAgICAgd2hpbGUgKGRpdi5maXJzdENoaWxkKSB7CiAgICAgICAgICAgICAgICBkaXYucmVtb3ZlQ2hpbGQoZGl2LmZpcnN0Q2hpbGQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChlcnJvcik7CiAgICAgICAgfQogICAgfQogICAgQmVoYXZpb3VyLmFwcGx5U3VidHJlZShlbHQpOwp9CgovLyBjcmVhdGUgYSBjb21ib2JveC4KLy8gQHBhcmFtIGlkT3JGaWVsZAovLyAgICAgIElEIG9mIHRoZSA8aW5wdXQgdHlwZT10ZXh0PiBlbGVtZW50IHRoYXQgYmVjb21lcyBhIGNvbWJvYm94LCBvciB0aGUgZmllbGQgaXRzZWxmLgovLyAgICAgIFBhc3NpbmcgYW4gSUQgaXMgQGRlcHJlY2F0ZWQgc2luY2UgMS4zNTA7IHVzZSA8aW5wdXQgY2xhc3M9ImNvbWJvYm94Ii8+IGluc3RlYWQuCi8vIEBwYXJhbSB2YWx1ZUZ1bmN0aW9uCi8vICAgICAgRnVuY3Rpb24gdGhhdCByZXR1cm5zIGFsbCB0aGUgY2FuZGlkYXRlcyBhcyBhbiBhcnJheQpmdW5jdGlvbiBjcmVhdGVDb21ib0JveChpZE9yRmllbGQsdmFsdWVGdW5jdGlvbikgewogICAgdmFyIGNhbmRpZGF0ZXMgPSB2YWx1ZUZ1bmN0aW9uKCk7CiAgICB2YXIgY3JlYXRvciA9IGZ1bmN0aW9uKCkgewogICAgICAgIGlmICh0eXBlb2YgaWRPckZpZWxkID09ICJzdHJpbmciKQogICAgICAgICAgaWRPckZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRPckZpZWxkKTsKICAgICAgICBpZiAoIWlkT3JGaWVsZCkgcmV0dXJuOwogICAgICAgIG5ldyBDb21ib0JveChpZE9yRmllbGQsIGZ1bmN0aW9uKHZhbHVlIC8qLCBjb21ib0JveCovKSB7CiAgICAgICAgICB2YXIgaXRlbXMgPSBuZXcgQXJyYXkoKTsKICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwKSB7IC8vIGlmIG5vIHZhbHVlLCB3ZSdsbCBub3QgcHJvdmlkZSBhbnl0aGluZwogICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpPGNhbmRpZGF0ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBpZiAoY2FuZGlkYXRlc1tpXS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodmFsdWUpID49IDApIHsKICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goY2FuZGlkYXRlc1tpXSk7CiAgICAgICAgICAgICAgICBpZihpdGVtcy5sZW5ndGg+MjApCiAgICAgICAgICAgICAgICAgIGJyZWFrOyAvLyAyMCBpdGVtcyBpbiB0aGUgbGlzdCBzaG91bGQgYmUgZW5vdWdoCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gaXRlbXM7IC8vIGVxdWl2IHRvOiBjb21ib0JveC5zZXRJdGVtcyhpdGVtcyk7CiAgICAgICAgfSk7CiAgICB9OwogICAgLy8gSWYgYW4gSUQgZ2l2ZW4sIGNyZWF0ZSB3aGVuIHBhZ2UgaGFzIGxvYWRlZCAoYmFja3dhcmQgY29tcGF0aWJpbGl0eSk7IG90aGVyd2lzZSBub3cuCiAgICBpZiAodHlwZW9mIGlkT3JGaWVsZCA9PSAic3RyaW5nIikgQmVoYXZpb3VyLmFkZExvYWRFdmVudChjcmVhdG9yKTsgZWxzZSBjcmVhdG9yKCk7Cn0KCgovLyBFeGNlcHRpb24gaW4gY29kZSBkdXJpbmcgdGhlIEFKQVggcHJvY2Vzc2luZyBzaG91bGQgYmUgcmVwb3J0ZWQsCi8vIHNvIHRoYXQgb3VyIHVzZXJzIGNhbiBmaW5kIHRoZW0gbW9yZSBlYXNpbHkuCkFqYXguUmVxdWVzdC5wcm90b3R5cGUuZGlzcGF0Y2hFeGNlcHRpb24gPSBmdW5jdGlvbihlKSB7CiAgICB0aHJvdyBlOwp9CgovLyBldmVudCBjYWxsYmFjayB3aGVuIGxheW91dHMvdmlzaWJpbGl0eSBhcmUgdXBkYXRlZCBhbmQgZWxlbWVudHMgbWlnaHQgaGF2ZSBtb3ZlZCBhcm91bmQKdmFyIGxheW91dFVwZGF0ZUNhbGxiYWNrID0gewogICAgY2FsbGJhY2tzIDogW10sCiAgICBhZGQgOiBmdW5jdGlvbiAoZikgewogICAgICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goZik7CiAgICB9LAogICAgY2FsbCA6IGZ1bmN0aW9uKCkgewogICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSB0aGlzLmNhbGxiYWNrcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykKICAgICAgICAgICAgdGhpcy5jYWxsYmFja3NbaV0oKTsKICAgIH0KfQoKLy8gTm90aWZpY2F0aW9uIGJhcgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy8gdGhpcyBjb250cm9sIGRpc3BsYXlzIGEgc2luZ2xlIGxpbmUgbWVzc2FnZSBhdCB0aGUgdG9wIG9mIHRoZSBwYWdlLCBsaWtlIFN0YWNrT3ZlcmZsb3cgZG9lcwovLyBzZWUgdWktc2FtcGxlcyBmb3IgbW9yZSBkZXRhaWxzCnZhciBub3RpZmljYXRpb25CYXIgPSB7CiAgICBPUEFDSVRZIDogMC44LAogICAgREVMQVkgOiAzMDAwLCAgIC8vIG1pbGxpc2Vjb25kcyB0byBhdXRvLWNsb3NlIHRoZSBub3RpZmljYXRpb24KICAgIGRpdiA6IG51bGwsICAgICAvLyB0aGUgbWFpbiAnbm90aWZpY2F0aW9uLWJhcicgRElWCiAgICB0b2tlbiA6IG51bGwsICAgLy8gdGltZXIgZm9yIGNhbmNlbGxpbmcgYXV0by1jbG9zZQoKICAgIE9LIDogey8vIHN0YW5kYXJkIG9wdGlvbiB2YWx1ZXMgZm9yIHR5cGljYWwgT0sgbm90aWZpY2F0aW9uCiAgICAgICAgaWNvbjogImFjY2VwdC5wbmciLAogICAgICAgIGJhY2tncm91bmRDb2xvcjogIiM4YWUyMzQiCiAgICB9LAogICAgV0FSTklORyA6IHsvLyBsaWtld2lzZSwgZm9yIHdhcm5pbmcKICAgICAgICBpY29uOiAieWVsbG93LnBuZyIsCiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAiI2ZjZTk0ZiIKICAgIH0sCiAgICBFUlJPUiA6IHsvLyBsaWtld2lzZSwgZm9yIGVycm9yCiAgICAgICAgaWNvbjogInJlZC5wbmciLAogICAgICAgIGJhY2tncm91bmRDb2xvcjogIiNlZjI5MjkiLAogICAgICAgIHN0aWNreTogdHJ1ZQogICAgfSwKCiAgICBpbml0IDogZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKHRoaXMuZGl2PT1udWxsKSB7CiAgICAgICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgIFlBSE9PLnV0aWwuRG9tLnNldFN0eWxlKHRoaXMuZGl2LCJvcGFjaXR5IiwwKTsKICAgICAgICAgICAgdGhpcy5kaXYuaWQ9Im5vdGlmaWNhdGlvbi1iYXIiOwogICAgICAgICAgICB0aGlzLmRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiNmZmYiOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZSh0aGlzLmRpdiwgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTsKCiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgICAgICAgdGhpcy5kaXYub25jbGljayA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgc2VsZi5oaWRlKCk7CiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgfSwKICAgIC8vIGNhbmNlbCBwZW5kaW5nIGF1dG8taGlkZSB0aW1lb3V0CiAgICBjbGVhclRpbWVvdXQgOiBmdW5jdGlvbigpIHsKICAgICAgICBpZiAodGhpcy50b2tlbikKICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRva2VuKTsKICAgICAgICB0aGlzLnRva2VuID0gbnVsbDsKICAgIH0sCiAgICAvLyBoaWRlIHRoZSBjdXJyZW50IG5vdGlmaWNhdGlvbiBiYXIsIGlmIGl0J3MgZGlzcGxheWVkCiAgICBoaWRlIDogZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0KCk7CiAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgIHZhciBvdXQgPSBuZXcgWUFIT08udXRpbC5Db2xvckFuaW0odGhpcy5kaXYsIHsKICAgICAgICAgICAgb3BhY2l0eTogeyB0bzowIH0sCiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjoge3RvOiIjZmZmIn0KICAgICAgICB9LCAwLjMsIFlBSE9PLnV0aWwuRWFzaW5nLmVhc2VJbik7CiAgICAgICAgb3V0Lm9uQ29tcGxldGUuc3Vic2NyaWJlKGZ1bmN0aW9uKCkgewogICAgICAgICAgICBzZWxmLmRpdi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIH0pCiAgICAgICAgb3V0LmFuaW1hdGUoKTsKICAgIH0sCiAgICAvLyBzaG93IGEgbm90aWZpY2F0aW9uIGJhcgogICAgc2hvdyA6IGZ1bmN0aW9uICh0ZXh0LG9wdGlvbnMpIHsKICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fQoKICAgICAgICB0aGlzLmluaXQoKTsKICAgICAgICB0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLmRpdi5zdHlsZS5saW5lSGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgfHwgIjQwcHgiOwogICAgICAgIHRoaXMuZGl2LnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwoKICAgICAgICBpZiAob3B0aW9ucy5pY29uKQogICAgICAgICAgICB0ZXh0ID0gIjxpbWcgc3JjPSciK3Jvb3RVUkwrIi9pbWFnZXMvMjR4MjQvIitvcHRpb25zLmljb24rIic+ICIrdGV4dDsKICAgICAgICB0aGlzLmRpdi5pbm5lckhUTUwgPSB0ZXh0OwoKICAgICAgICBuZXcgWUFIT08udXRpbC5Db2xvckFuaW0odGhpcy5kaXYsIHsKICAgICAgICAgICAgb3BhY2l0eTogeyB0bzp0aGlzLk9QQUNJVFkgfSwKICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yIDogeyB0bzogb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgfHwgIiNmZmYiIH0KICAgICAgICB9LCAxLCBZQUhPTy51dGlsLkVhc2luZy5lYXNlT3V0KS5hbmltYXRlKCk7CgogICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0KCk7CiAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgIGlmICghb3B0aW9ucy5zdGlja3kpCiAgICAgICAgICAgIHRoaXMudG9rZW4gPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3NlbGYuaGlkZSgpO30sdGhpcy5ERUxBWSk7CiAgICB9Cn07Cg==",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 313,
          "bodySize": 144564
        },
        "cache": {},
        "timings": {
          "send": 1,
          "wait": 11,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27305"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.875-06:00",
        "time": 86,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/sortable.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 323,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:34 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "3999"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 16160,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "LyoKVGhlIE1JVCBMaWNlbmNlLCBmb3IgY29kZSBmcm9tIGtyeW9nZW5peC5vcmcKCkNvZGUgZG93bmxvYWRlZCBmcm9tIHRoZSBCcm93c2VyIEV4cGVyaW1lbnRzIHNlY3Rpb24Kb2Yga3J5b2dlbml4Lm9yZyBpcyBsaWNlbmNlZCB1bmRlciB0aGUgc28tY2FsbGVkIE1JVApsaWNlbmNlLiBUaGUgbGljZW5jZSBpcyBiZWxvdy4KCkNvcHlyaWdodCAoYykgMTk5Ny1kYXRlIFN0dWFydCBMYW5ncmlkZ2UKClBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkKcGVyc29uIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZApkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksIHRvIGRlYWwgaW4gdGhlClNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24KdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsCmRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUKU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcwpmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgoKVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YKQU5ZIEtJTkQsIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QKTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MKRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PCkVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRQpGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTgpBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UKT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLgoqLwovKgpVc2FnZQo9PT09PQoKQWRkIHRoZSAic29ydGFibGUiIENTUyBjbGFzcyB0byBhIHRhYmxlIHRvIG1ha2UgaXQgc29ydGFibGUuClRoZSBmaXJzdCByb3cgbXVzdCBiZSBhbHdheXMgdGFibGUgaGVhZGVyLCBhbmQgdGhlIHJlc3QgbXVzdCBiZSB0YWJsZSBkYXRhLgoodGhlIHNjcmlwdCBzZWVtcyB0byBzdXBwb3J0IHJvd3MgdG8gYmUgZml4ZWQgYXQgdGhlIGJvdHRvbSwgYnV0IGhhdmVuJ3QgZmlndXJlZCBvdXQgaG93IHRvIHVzZSBpdC4pCgpJZiB0aGUgdGFibGUgZGF0YSBpcyBzb3J0ZWQgdG8gYmVnaW4gd2l0aCwgeW91IGNhbiBhZGQgJ2luaXRpYWxTb3J0RGlyPSJ1cHxkb3duIicgdG8gdGhlCmNvcnJlc3BvbmRpbmcgY2VsbCBpbiB0aGUgaGVhZGVyIHJvdyB0byBkaXNwbGF5IHRoZSBkaXJlY3Rpb24gaWNvbiBmcm9tIHRoZSBiZWdpbm5pbmcuClRoaXMgaXMgcmVjb21tZW5kZWQgdG8gcHJvdmlkZSBhIHZpc3VhbCBjbHVlIHRoYXQgdGhlIHRhYmxlIGNhbiBiZSBzb3J0ZWQuCgpUaGUgc2NyaXB0IGd1ZXNzZXMgdGhlIHRhYmxlIGRhdGEsIGFuZCB0cnkgdG8gdXNlIHRoZSByaWdodCBzb3J0aW5nIGFsZ29yaXRobS4KQnV0IHlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBiZWhhdmlvciBieSBoYXZpbmcgJ2RhdGE9Ii4uLiInIGF0dHJpYnV0ZSBvbiBlYWNoIHJvdywKaW4gd2hpY2ggY2FzZSB0aGUgc29ydCB3aWxsIGJlIGRvbmUgb24gdGhhdCBmaWVsZC4KKi8KCnZhciBTb3J0YWJsZSA9IChmdW5jdGlvbigpIHsKCgogICAgZnVuY3Rpb24gU29ydGFibGUodGFibGUpIHsKICAgICAgICB0aGlzLnRhYmxlID0gdGFibGU7CiAgICAgICAgdGhpcy5hcnJvd3MgPSBbXTsKCiAgICAgICAgdmFyIGZpcnN0Um93ID0gdGhpcy5nZXRGaXJzdFJvdygpOwogICAgICAgIGlmICghZmlyc3RSb3cpIHJldHVybjsKCiAgICAgICAgLy8gV2UgaGF2ZSBhIGZpcnN0IHJvdzogYXNzdW1lIGl0J3MgdGhlIGhlYWRlciwgYW5kIG1ha2UgaXRzIGNvbnRlbnRzIGNsaWNrYWJsZSBsaW5rcwogICAgICAgIGZpcnN0Um93LmVhY2goZnVuY3Rpb24gKGNlbGwpewogICAgICAgICAgICBjZWxsLmlubmVySFRNTCA9ICc8YSBocmVmPSIjIiBjbGFzcz0ic29ydGhlYWRlciI+Jyt0aGlzLmdldElubmVyVGV4dChjZWxsKSsnPHNwYW4gY2xhc3M9InNvcnRhcnJvdyI+PC9zcGFuPjwvYT4nOwogICAgICAgICAgICB0aGlzLmFycm93cy5wdXNoKGNlbGwuZmlyc3RDaGlsZC5sYXN0Q2hpbGQpOwoKICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgICAgICBjZWxsLmZpcnN0Q2hpbGQub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHNlbGYub25DbGlja2VkKHRoaXMpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9OwogICAgICAgIH0uYmluZCh0aGlzKSk7CgogICAgICAgIC8vIGZpZ3VyZSBvdXQgdGhlIGluaXRpYWwgc29ydCBwcmVmZXJlbmNlCiAgICAgICAgdGhpcy5wcmVmID0gdGhpcy5nZXRTdG9yZWRQcmVmZXJlbmNlKCk7CiAgICAgICAgaWYgKHRoaXMucHJlZiA9PSBudWxsKSB7CiAgICAgICAgICAgIGZpcnN0Um93LmVhY2goZnVuY3Rpb24gKGNlbGwsaSl7CiAgICAgICAgICAgICAgICB2YXIgaW5pdGlhbFNvcnREaXIgPSBjZWxsLmdldEF0dHJpYnV0ZSgiaW5pdGlhbFNvcnREaXIiKTsKICAgICAgICAgICAgICAgIGlmIChpbml0aWFsU29ydERpciAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVmID0ge2NvbHVtbjppLCBkaXJlY3Rpb246YXJyb3dUYWJsZVtpbml0aWFsU29ydERpcl19OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LmJpbmQodGhpcykpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5yZWZyZXNoKCk7CiAgICB9CgogICAgU29ydGFibGUucHJvdG90eXBlID0gewogICAgICAgIC8qKgogICAgICAgICAqIFNQQU4gdGFncyB0aGF0IHdlIHVzZSB0byByZW5kZXIgZGlyZWN0aW9uYWwgYXJyb3dzLCBmb3IgZWFjaCBjb2x1bW5zLgogICAgICAgICAqLwogICAgICAgIGFycm93cyA6IG51bGwgLypBcnJheSovLAoKICAgICAgICAvKioKICAgICAgICAgKiBDdXJyZW50IHNvcnQgcHJlZmVyZW5jZS4KICAgICAgICAgKi8KICAgICAgICBwcmVmIDogbnVsbCAvKiB7IGNvbHVtbjppbnQsIGRpcmVjdGlvbjphcnJvdyB9ICovLAoKICAgICAgICBnZXRGaXJzdFJvdyA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAodGhpcy50YWJsZS5yb3dzICYmIHRoaXMudGFibGUucm93cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJEEodGhpcy50YWJsZS5yb3dzWzBdLmNlbGxzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9LAoKICAgICAgICBnZXREYXRhUm93cyA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgbmV3Um93cyA9IFtdOwogICAgICAgICAgICB2YXIgcm93cyA9IHRoaXMudGFibGUucm93czsKICAgICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCByb3dzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICBuZXdSb3dzLnB1c2goJChyb3dzW2pdKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG5ld1Jvd3M7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogSWYgdGhlcmUncyBhIHBlcnNpc3RlZCBzb3J0IGRpcmVjdGlvbiBzZXR0aW5nLCByZXRyaWV2ZSBpdAogICAgICAgICAqLwogICAgICAgIGdldFN0b3JlZFByZWZlcmVuY2UgOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIGtleSA9IHRoaXMuZ2V0U3RvcmFnZUtleSgpOwogICAgICAgICAgICBpZihzdG9yYWdlLmhhc0tleShrZXkpKXsKICAgICAgICAgICAgICAgIHZhciB2YWwgPSBzdG9yYWdlLmdldEl0ZW0oa2V5KTsKICAgICAgICAgICAgICAgIGlmKHZhbCl7CiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHMgPSB2YWwuc3BsaXQoIjoiKTsKICAgICAgICAgICAgICAgICAgICBpZih2YWxzLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7Y29sdW1uOnBhcnNlSW50KHZhbHNbMF0pLCBkaXJlY3Rpb246YXJyb3dUYWJsZVt2YWxzWzFdXX07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0sCgoKICAgICAgICBnZXRTdG9yYWdlS2V5IDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciB1cmkgPSBkb2N1bWVudC5sb2NhdGlvbjsKICAgICAgICAgICAgdmFyIHRhYmxlSW5kZXggPSB0aGlzLmdldEluZGV4T2ZTb3J0YWJsZVRhYmxlKCk7CiAgICAgICAgICAgIHJldHVybiAidHNfZGlyZWN0aW9uOjoiICsgdXJpICsgIjo6IiArIHRhYmxlSW5kZXg7CiAgICAgICAgfSwKCiAgICAgICAgc2F2ZVByZWZlcmVuY2UgOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIGtleSA9IHRoaXMuZ2V0U3RvcmFnZUtleSgpOwogICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oa2V5LCB0aGlzLnByZWYuY29sdW1uICsgIjoiICsgdGhpcy5wcmVmLmRpcmVjdGlvbi5pZCk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogRGV0ZXJtaW5lIHRoZSBzb3J0IGZ1bmN0aW9uIGZvciB0aGUgc3BlY2lmaWVkIGNvbHVtbgogICAgICAgICAqLwogICAgICAgIGdldFNvcnRlciA6IGZ1bmN0aW9uKGNvbHVtbikgewogICAgICAgICAgICB2YXIgcm93cyA9IHRoaXMudGFibGUucm93czsKICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoIDw9IDEpICAgcmV0dXJuIHNvcnRlci5mYWxsYmFjazsKCiAgICAgICAgICAgIHZhciBpdG0gPSB0aGlzLmV4dHJhY3REYXRhKHJvd3NbMV0uY2VsbHNbY29sdW1uXSkudHJpbSgpOwogICAgICAgICAgICByZXR1cm4gc29ydGVyLmRldGVybWluZShpdG0pOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIENhbGxlZCB3aGVuIHRoZSBjb2x1bW4gaGVhZGVyIGdldHMgY2xpY2tlZC4KICAgICAgICAgKi8KICAgICAgICBvbkNsaWNrZWQgOiBmdW5jdGlvbihsbmspIHsKICAgICAgICAgICAgdmFyIGFycm93ID0gbG5rLmxhc3RDaGlsZDsKICAgICAgICAgICAgdmFyIHRoID0gbG5rLnBhcmVudE5vZGU7CgogICAgICAgICAgICB2YXIgY29sdW1uID0gdGguY2VsbEluZGV4OwogICAgICAgICAgICBpZiAoY29sdW1uPT0odGhpcy5wcmVmfHx7fSkuY29sdW1uKSB7CiAgICAgICAgICAgICAgICAvLyBkaXJlY3Rpb24gY2hhbmdlIG9uIHRoZSBzYW1lIHJvdwogICAgICAgICAgICAgICAgdGhpcy5wcmVmLmRpcmVjdGlvbiA9IHRoaXMucHJlZi5kaXJlY3Rpb24ubmV4dDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMucHJlZiA9IHtjb2x1bW46Y29sdW1uLCBkaXJlY3Rpb246IGFycm93LnNvcnRkaXJ8fGFycm93VGFibGUudXB9OwogICAgICAgICAgICB9CgogICAgICAgICAgICBhcnJvdy5zb3J0ZGlyID0gdGhpcy5wcmVmLmRpcmVjdGlvbjsgLy8gcmVtZW1iZXIgdGhlIGxhc3Qgc29ydCBkaXJlY3Rpb24gb24gdGhpcyBjb2x1bW4KCiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpOwogICAgICAgICAgICB0aGlzLnNhdmVQcmVmZXJlbmNlKCk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQ2FsbCB3aGVuIGRhdGEgaGFzIGNoYW5nZWQuIFJlYXBwbHkgdGhlIGN1cnJlbnQgc29ydCBzZXR0aW5nIHRvIHRoZSBleGlzdGluZyBkYXRhIHJvd3MuCiAgICAgICAgICogQHNpbmNlIDEuNDg0CiAgICAgICAgICovCiAgICAgICAgcmVmcmVzaCA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAodGhpcy5wcmVmPT1udWxsKSAgICAgcmV0dXJuOyAvLyBub3Qgc29ydGluZwoKICAgICAgICAgICAgdmFyIGNvbHVtbiA9IHRoaXMucHJlZi5jb2x1bW47CiAgICAgICAgICAgIHZhciBkaXIgPSB0aGlzLnByZWYuZGlyZWN0aW9uOwoKICAgICAgICAgICAgdmFyIHMgPSB0aGlzLmdldFNvcnRlcihjb2x1bW4pOwogICAgICAgICAgICBpZihkaXIgPT09IGFycm93VGFibGUudXApIHsvLyBhc2NlbmRpbmcKICAgICAgICAgICAgICAgIHMgPSBzb3J0ZXIucmV2ZXJzZShzKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gd2UgYWxsb3cgc29tZSByb3dzIHRvIHN0aWNrIHRvIHRoZSB0b3AgYW5kIGJvdHRvbSwgc28gdGhhdCBpcyBvdXIgZmlyc3Qgc29ydCBjcml0ZXJpYQogICAgICAgICAgICAvLyByZWdhcmRsZXNzIG9mIHRoZSBzb3J0IGZ1bmN0aW9uCiAgICAgICAgICAgIGZ1bmN0aW9uIHJvd1BvcyhyKSB7CiAgICAgICAgICAgICAgICBpZiAoci5oYXNDbGFzc05hbWUoInNvcnR0b3AiKSkgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgICAgIGlmIChyLmhhc0NsYXNzTmFtZSgic29ydGJvdHRvbSIpKSAgIHJldHVybiAyOwogICAgICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciByb3dzID0gdGhpcy5nZXREYXRhUm93cygpOwogICAgICAgICAgICByb3dzLnNvcnQoZnVuY3Rpb24oYSxiKSB7CiAgICAgICAgICAgICAgICB2YXIgeCA9IHJvd1BvcyhhKS1yb3dQb3MoYik7CiAgICAgICAgICAgICAgICBpZiAoeCE9MCkgICByZXR1cm4geDsKCiAgICAgICAgICAgICAgICByZXR1cm4gcygKICAgICAgICAgICAgICAgICAgICB0aGlzLmV4dHJhY3REYXRhKGEuY2VsbHNbY29sdW1uXSksCiAgICAgICAgICAgICAgICAgICAgdGhpcy5leHRyYWN0RGF0YShiLmNlbGxzW2NvbHVtbl0pKTsKICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTsKCiAgICAgICAgICAgIHJvd3MuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgdGhpcy50YWJsZS50Qm9kaWVzWzBdLmFwcGVuZENoaWxkKGUpOwogICAgICAgICAgICB9LmJpbmQodGhpcykpOwoKICAgICAgICAgICAgLy8gdXBkYXRlIGFycm93IHJlbmRlcmluZwogICAgICAgICAgICB0aGlzLmFycm93cy5lYWNoKGZ1bmN0aW9uKGUsaSl7CiAgICAgICAgICAgICAgICBlLmlubmVySFRNTCA9ICgoaT09Y29sdW1uKSA/IGRpciA6IGFycm93VGFibGUubm9uZSkudGV4dDsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCiAgICAgICAgZ2V0SW5kZXhPZlNvcnRhYmxlVGFibGUgOiBmdW5jdGlvbigpewogICAgICAgICAgICByZXR1cm4gJChkb2N1bWVudC5ib2R5KS5zZWxlY3QoIlRBQkxFLnNvcnRhYmxlIikuaW5kZXhPZih0aGlzLnRhYmxlKTsKICAgICAgICB9LAoKICAgICAgICBnZXRJbm5lclRleHQgOiBmdW5jdGlvbihlbCkgewogICAgICAgIAlpZiAodHlwZW9mIGVsID09ICJzdHJpbmciKSByZXR1cm4gZWw7CiAgICAgICAgCWlmICh0eXBlb2YgZWwgPT0gInVuZGVmaW5lZCIpIHsgcmV0dXJuIGVsIH0KICAgICAgICAJaWYgKGVsLmlubmVyVGV4dCkgcmV0dXJuIGVsLmlubmVyVGV4dDsJLy9Ob3QgbmVlZGVkIGJ1dCBpdCBpcyBmYXN0ZXIKICAgICAgICAJdmFyIHN0ciA9ICIiOwoKICAgICAgICAJdmFyIGNzID0gZWwuY2hpbGROb2RlczsKICAgICAgICAJdmFyIGwgPSBjcy5sZW5ndGg7CiAgICAgICAgCWZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgCQlzd2l0Y2ggKGNzW2ldLm5vZGVUeXBlKSB7CiAgICAgICAgCQkJY2FzZSAxOiAvL0VMRU1FTlRfTk9ERQogICAgICAgIAkJCQlzdHIgKz0gdGhpcy5nZXRJbm5lclRleHQoY3NbaV0pOwogICAgICAgIAkJCQlicmVhazsKICAgICAgICAJCQljYXNlIDM6CS8vVEVYVF9OT0RFCiAgICAgICAgCQkJCXN0ciArPSBjc1tpXS5ub2RlVmFsdWU7CiAgICAgICAgCQkJCWJyZWFrOwogICAgICAgIAkJfQogICAgICAgIAl9CiAgICAgICAgCXJldHVybiBzdHI7CiAgICAgICAgfSwKCiAgICAgICAgLy8gZXh0cmFjdCBkYXRhIGZvciBzb3J0aW5nIGZyb20gYSBjZWxsCiAgICAgICAgZXh0cmFjdERhdGEgOiBmdW5jdGlvbih4KSB7CiAgICAgICAgICBpZih4PT1udWxsKSByZXR1cm4gJyc7CiAgICAgICAgICB2YXIgZGF0YSA9IHguZ2V0QXR0cmlidXRlKCJkYXRhIik7CiAgICAgICAgICBpZihkYXRhIT1udWxsKQogICAgICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgICAgIHJldHVybiB0aGlzLmdldElubmVyVGV4dCh4KTsKICAgICAgICB9CiAgICB9OwoKCiAgICB2YXIgYXJyb3dUYWJsZSA9IHsKICAgICAgICB1cDogewogICAgICAgICAgICBpZDogInVwIiwKICAgICAgICAgICAgdGV4dDogIiZuYnNwOyZuYnNwOyZ1YXJyOyIKICAgICAgICB9LAogICAgICAgIGRvd246IHsKICAgICAgICAgICAgaWQ6ICJkb3duIiwKICAgICAgICAgICAgdGV4dDogIiZuYnNwOyZuYnNwOyZkYXJyOyIKICAgICAgICB9LAogICAgICAgIG5vbmU6IHsKICAgICAgICAgICAgaWQ6ICJub25lIiwKICAgICAgICAgICAgdGV4dDogIiZuYnNwOyZuYnNwOyZuYnNwOyIKICAgICAgICB9LAogICAgICAgIGxua1JlZjogbnVsbAogICAgfTsKCiAgICBhcnJvd1RhYmxlLnVwLm5leHQgPSBhcnJvd1RhYmxlLmRvd247CiAgICBhcnJvd1RhYmxlLmRvd24ubmV4dCA9IGFycm93VGFibGUudXA7CgoKCiAgICAvLyBhdmFpbGFibGUgc29ydCBmdW5jdGlvbnMKICAgIHZhciBzb3J0ZXIgPSB7CiAgICAgICAgZGF0ZSA6IGZ1bmN0aW9uKGEsYikgewogICAgICAgICAgICBmdW5jdGlvbiB0b0R0KHgpIHsKICAgICAgICAgICAgICAvLyB5Mmsgbm90ZXM6IHR3byBkaWdpdCB5ZWFycyBsZXNzIHRoYW4gNTAgYXJlIHRyZWF0ZWQgYXMgMjBYWCwgZ3JlYXRlciB0aGFuIDUwIGFyZSB0cmVhdGVkIGFzIDE5WFgKICAgICAgICAgICAgICBpZiAoeC5sZW5ndGggPT0gMTApIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHguc3Vic3RyKDYsNCkreC5zdWJzdHIoMywyKSt4LnN1YnN0cigwLDIpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHZhciB5ciA9IHguc3Vic3RyKDYsMik7CiAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUludCh5cikgPCA1MCkgeyB5ciA9ICcyMCcreXI7IH0gZWxzZSB7IHlyID0gJzE5Jyt5cjsgfQogICAgICAgICAgICAgICAgICByZXR1cm4geXIreC5zdWJzdHIoMywyKSt4LnN1YnN0cigwLDIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIGR0MSA9IHRvRHQoYSk7CiAgICAgICAgICAgIHZhciBkdDIgPSB0b0R0KGIpOwoKICAgICAgICAgICAgaWYgKGR0MT09ZHQyKSByZXR1cm4gMDsKICAgICAgICAgICAgaWYgKGR0MTxkdDIpIHJldHVybiAtMTsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfSwKCiAgICAgICAgY3VycmVuY3kgOiBmdW5jdGlvbihhLGIpIHsKICAgICAgICAgICAgYSA9IGEucmVwbGFjZSgvW14wLTkuXS9nLCcnKTsKICAgICAgICAgICAgYiA9IGIucmVwbGFjZSgvW14wLTkuXS9nLCcnKTsKICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoYSkgLSBwYXJzZUZsb2F0KGIpOwogICAgICAgIH0sCgogICAgICAgIHBlcmNlbnQgOiBmdW5jdGlvbihhLGIpIHsKICAgICAgICAgICAgYSA9IGEucmVwbGFjZSgvW14wLTkuPD5dL2csJycpOwogICAgICAgICAgICBiID0gYi5yZXBsYWNlKC9bXjAtOS48Pl0vZywnJyk7CiAgICAgICAgICAgIGlmIChhID09ICI8MTAwIikgYSA9ICI5OS45IjsKICAgICAgICAgICAgZWxzZSBpZiAoYSA9PSAiPjAiKSBhID0gIjAuMSI7CiAgICAgICAgICAgIGlmIChiID09ICI8MTAwIikgYiA9ICI5OS45IjsKICAgICAgICAgICAgZWxzZSBpZiAoYiA9PSAiPjAiKSBiID0gIjAuMSI7CiAgICAgICAgICAgIGEgPSBhLnJlcGxhY2UoL1teMC05Ll0vZywnJyk7CiAgICAgICAgICAgIGIgPSBiLnJlcGxhY2UoL1teMC05Ll0vZywnJyk7CiAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGEpIC0gcGFyc2VGbG9hdChiKTsKICAgICAgICB9LAoKICAgICAgICBudW1lcmljIDogZnVuY3Rpb24oYSxiKSB7CiAgICAgICAgICAgIGEgPSBwYXJzZUZsb2F0KGEpOwogICAgICAgICAgICBpZiAoaXNOYU4oYSkpIGEgPSAwOwogICAgICAgICAgICBiID0gcGFyc2VGbG9hdChiKTsKICAgICAgICAgICAgaWYgKGlzTmFOKGIpKSBiID0gMDsKICAgICAgICAgICAgcmV0dXJuIGEtYjsKICAgICAgICB9LAoKICAgICAgICBjYXNlSW5zZW5zaXRpdmUgOiBmdW5jdGlvbihhLGIpIHsKICAgICAgICAgICAgcmV0dXJuIHNvcnRlci5mYWxsYmFjayhhLnRvTG93ZXJDYXNlKCksIGIudG9Mb3dlckNhc2UoKSk7CiAgICAgICAgfSwKCiAgICAgICAgZmFsbGJhY2sgOiBmdW5jdGlvbihhLGIpIHsKICAgICAgICAgICAgaWYgKGE9PWIpIHJldHVybiAwOwogICAgICAgICAgICBpZiAoYTxiKSByZXR1cm4gLTE7CiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIHJldHVybiB0aGUgc29ydGVyIHRvIGJlIHVzZWQgZm9yIHRoZSBnaXZlbiB2YWx1ZQogICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpdG0KICAgICAgICAgKiAgICAgIFRleHQKICAgICAgICAgKi8KICAgICAgICBkZXRlcm1pbmUgOiBmdW5jdGlvbihpdG0pIHsKICAgICAgICAgICAgdmFyIHNvcnRmbiA9IHRoaXMuY2FzZUluc2Vuc2l0aXZlOwogICAgICAgICAgICBpZiAoaXRtLm1hdGNoKC9eXGRcZFtcLy1dXGRcZFtcLy1dXGRcZFxkXGQkLykpIHNvcnRmbiA9IHRoaXMuZGF0ZTsKICAgICAgICAgICAgaWYgKGl0bS5tYXRjaCgvXlxkXGRbXC8tXVxkXGRbXC8tXVxkXGQkLykpIHNvcnRmbiA9IHRoaXMuZGF0ZTsKICAgICAgICAgICAgaWYgKGl0bS5tYXRjaCgvXlvvv70kXS8pKSBzb3J0Zm4gPSB0aGlzLmN1cnJlbmN5OwogICAgICAgICAgICBpZiAoaXRtLm1hdGNoKC9cJSQvKSkgc29ydGZuID0gdGhpcy5wZXJjZW50OwogICAgICAgICAgICBpZiAoaXRtLm1hdGNoKC9eLT9bXGRcLl0rJC8pKSBzb3J0Zm4gPSB0aGlzLm51bWVyaWM7CiAgICAgICAgICAgIHJldHVybiBzb3J0Zm47CiAgICAgICAgfSwKCiAgICAgICAgcmV2ZXJzZSA6IGZ1bmN0aW9uKGYpIHsKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gLWYoYSwgYikKICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICB9OwoKICAgIHZhciBzdG9yYWdlOwogICAgdHJ5IHsKICAgICAgICBzdG9yYWdlID0gWUFIT08udXRpbC5TdG9yYWdlTWFuYWdlci5nZXQoCiAgICAgICAgICAgIFlBSE9PLnV0aWwuU3RvcmFnZUVuZ2luZUhUTUw1LkVOR0lORV9OQU1FLAogICAgICAgICAgICBZQUhPTy51dGlsLlN0b3JhZ2VNYW5hZ2VyLkxPQ0FUSU9OX1NFU1NJT04sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG9yZGVyOiBbCiAgICAgICAgICAgICAgICAgICAgWUFIT08udXRpbC5TdG9yYWdlRW5naW5lR2VhcnMKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfQogICAgICAgICk7CiAgICB9IGNhdGNoKGUpIHsKICAgICAgICAvLyBubyBzdG9yYWdlIGF2YWlsYWJsZQogICAgICAgIHN0b3JhZ2UgPSB7CiAgICAgICAgICAgIHNldEl0ZW0gOiBmdW5jdGlvbigpIHt9LAogICAgICAgICAgICBnZXRJdGVtIDogZnVuY3Rpb24oKSB7IHJldHVybiBudWxsOyB9LAogICAgICAgICAgICBoYXNLZXkgOiBmdW5jdGlvbigpIHsgcmV0dXJuIGZhbHNlOyB9CiAgICAgICAgfTsKICAgIH0KCiAgICByZXR1cm4gewogICAgICAgIFNvcnRhYmxlIDogU29ydGFibGUsCiAgICAgICAgc29ydGVyIDogc29ydGVyCiAgICB9Owp9KSgpOwoKZnVuY3Rpb24gdHNfbWFrZVNvcnRhYmxlKHRhYmxlKSB7IC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkKICAgIHJldHVybiBuZXcgU29ydGFibGUuU29ydGFibGUodGFibGUpOwp9CgovKiogQ2FsbHMgdGFibGUuc29ydGFibGUucmVmcmVzaCgpIGluIGNhc2UgdGhlIHNvcnRhYmxlIGhhcyBiZWVuIGluaXRpYWxpemVkOyBvdGhlcndpc2UgZG9lcyBub3RoaW5nLiAqLwpmdW5jdGlvbiB0c19yZWZyZXNoKHRhYmxlKSB7CiAgICB2YXIgcyA9IHRhYmxlLnNvcnRhYmxlOwogICAgaWYgKHMgIT0gbnVsbCkgewogICAgICAgIHMucmVmcmVzaCgpOwogICAgfQp9Cg==",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 16160
        },
        "cache": {},
        "timings": {
          "send": 2,
          "wait": 0,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27307"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.875-06:00",
        "time": 88,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/yui/container/assets/container.css",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 346,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:35 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "2306"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 6515,
            "compression": 0,
            "mimeType": "text/css",
            "text": "/*\nCopyright (c) 2011, Yahoo! Inc. All rights reserved.\nCode licensed under the BSD License:\nhttp://developer.yahoo.com/yui/license.html\nversion: 2.9.0\n*/\n.yui-overlay,\n.yui-panel-container {\n    visibility:hidden;\n    position:absolute;\n    z-index: 2;\n}\n\n.yui-tt {\n    visibility:hidden;\n    position:absolute;\n    color:#333;\n    background-color:#FDFFB4;\n    font-family:arial,helvetica,verdana,sans-serif;\n    padding:2px;\n    border:1px solid #FCC90D;\n    font:100% sans-serif;\n    width:auto;\n}\n\n/*\n    PLEASE NOTE: The <DIV> element used for a Tooltip's shadow is appended \n    to its root element via JavaScript once it has been rendered.  The \n    code that creates the shadow lives in the Tooltip's public \"onRender\" \n    event handler that is a prototype method of YAHOO.widget.Tooltip.  \n    Implementers wishing to remove a Tooltip's shadow or add any other markup\n    required for a given skin for Tooltip should override the \"onRender\" method.\n*/\n\n.yui-tt-shadow {\n    display: none;\n}\n\n* html body.masked select {\n    visibility:hidden;\n}\n\n* html div.yui-panel-container select {\n    visibility:inherit;\n}\n\n* html div.drag select {\n    visibility:hidden;\n}\n\n* html div.hide-select select {\n    visibility:hidden;\n}\n\n.mask {\n    z-index: 1; \n    display:none;\n    position:absolute;\n    top:0;\n    left:0;\n    -moz-opacity: 0.5;\n    opacity:.50;\n    filter: alpha(opacity=50);\n    background-color:#CCC;\n}\n\n/*\n\nThere are two known issues with YAHOO.widget.Overlay (and its subclasses) that \nmanifest in Gecko-based browsers on Mac OS X:\n\n    1) Elements with scrollbars will poke through Overlay instances floating \n       above them.\n    \n    2) An Overlay's scrollbars and the scrollbars of its child nodes remain  \n       visible when the Overlay is hidden.\n\nTo fix these bugs:\n\n    1) The \"overflow\" property of an Overlay instance's root element and child \n       nodes is toggled between \"hidden\" and \"auto\" (through the application  \n       and removal of the \"hide-scrollbars\" and \"show-scrollbars\" CSS classes)\n       as its \"visibility\" configuration property is toggled between \n       \"false\" and \"true.\"\n    \n    2) The \"display\" property of <SELECT> elements that are child nodes of the \n       Overlay instance's root element is set to \"none\" when it is hidden.\n\nPLEASE NOTE:  \n  \n    1) The \"hide-scrollbars\" and \"show-scrollbars\" CSS classes classes are \n       applied only for Gecko on Mac OS X and are added/removed to/from the \n       Overlay's root HTML element (DIV) via the \"hideMacGeckoScrollbars\" and \n       \"showMacGeckoScrollbars\" methods of YAHOO.widget.Overlay.\n    \n    2) There may be instances where the CSS for a web page or application \n       contains style rules whose specificity override the rules implemented by \n       the Container CSS files to fix this bug.  In such cases, is necessary to \n       leverage the provided \"hide-scrollbars\" and \"show-scrollbars\" classes to \n       write custom style rules to guard against this bug.\n\n** For more information on this issue, see: \n   + https://bugzilla.mozilla.org/show_bug.cgi?id=187435\n   + YUILibrary bug #1723530\n\n*/\n\n.hide-scrollbars,\n.hide-scrollbars * {\n\n    overflow: hidden;\n\n}\n\n.hide-scrollbars select {\n\n    display: none;\n\n}\n\n.show-scrollbars {\n\n    overflow: auto;\n\n}\n\n.yui-panel-container.show-scrollbars {\n\n    overflow: visible;\n\n}\n\n.yui-panel-container.show-scrollbars .underlay {\n\n    overflow: auto;\n\n}\n\n.yui-panel-container.focused {\n\n}\n\n\n/* Panel underlay styles */\n\n.yui-panel-container .underlay {\n\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n\n}\n\n.yui-panel-container.matte {\n\n    padding: 3px;\n    background-color: #fff;\n\n}\n\n.yui-panel-container.shadow .underlay {\n\n    top: 3px;\n    bottom: -3px;\n    right: -3px;\n    left: 3px;\n    background-color: #000;\n    opacity: .12;\n    filter: alpha(opacity=12);  /* For IE */\n\n}\n\n/* \n   Workaround for Safari 2.x - the yui-force-redraw class is applied, and then removed when\n   the Panel's content changes, to force Safari 2.x to redraw the underlay.\n   We attempt to choose a CSS property which has no visual impact when added,\n   removed, but still causes Safari to redraw\n*/\n.yui-panel-container.shadow .underlay.yui-force-redraw {\n    padding-bottom: 1px;\n}\n\n.yui-effect-fade .underlay {\n    display:none;\n}\n\n.yui-panel {\n    visibility:hidden;\n    border-collapse:separate;\n    position:relative;\n    left:0;\n    top:0;\n    font:1em Arial;\n    background-color:#FFF;\n    border:1px solid #000;\n    z-index:1;\n    overflow:hidden;\n}\n\n.yui-panel .hd {\n    background-color:#3d77cb;\n    color:#FFF;\n    font-size:100%;\n    line-height:100%;\n    border:1px solid #FFF;\n    border-bottom:1px solid #000;\n    font-weight:bold;\n    padding:4px;\n    white-space:nowrap;\n}\n\n.yui-panel .bd {\n    overflow:hidden;\n    padding:4px;\n}\n\n.yui-panel .bd p {\n    margin:0 0 1em;\n}\n\n.yui-panel .container-close {\n    position:absolute;\n    top:5px;\n    right:4px;\n    z-index:6;\n    height:12px;\n    width:12px;\n    margin:0px;\n    padding:0px;\n    background:url(close12_1.gif) no-repeat;\n    cursor:pointer;\n    visibility:inherit;\n    text-indent:-10000em;\n    overflow:hidden;\n    text-decoration:none;\n}\n\n.yui-panel .ft {\n    padding:4px;\n    overflow:hidden;\n}\n\n.yui-simple-dialog .bd .yui-icon {\n    background-repeat:no-repeat;\n    width:16px;\n    height:16px;\n    margin-right:10px;\n    float:left;\n}\n\n.yui-simple-dialog .bd span.blckicon {\n    background: url(\"blck16_1.gif\") no-repeat;\n}\n\n.yui-simple-dialog .bd span.alrticon {\n    background: url(\"alrt16_1.gif\") no-repeat;\n}\n\n.yui-simple-dialog .bd span.hlpicon {\n    background: url(\"hlp16_1.gif\") no-repeat;\n}\n\n.yui-simple-dialog .bd span.infoicon {\n    background: url(\"info16_1.gif\") no-repeat;\n}\n\n.yui-simple-dialog .bd span.warnicon {\n    background: url(\"warn16_1.gif\") no-repeat;\n}\n\n.yui-simple-dialog .bd span.tipicon {\n    background: url(\"tip16_1.gif\") no-repeat;\n}\n\n.yui-dialog .ft, \n.yui-simple-dialog .ft {\n    padding-bottom:5px;\n    padding-right:5px;\n    text-align:right;\n}\n\n.yui-dialog form, \n.yui-simple-dialog form {\n    margin:0;\n}\n\n.button-group button {\n    font:100 76% verdana;\n    text-decoration:none;\n    background-color: #E4E4E4;\n    color: #333;\n    cursor: hand;\n    vertical-align: middle;\n    border: 2px solid #797979;\n    border-top-color:#FFF;\n    border-left-color:#FFF;\n    margin:2px;\n    padding:2px;\n}\n\n.button-group button.default {\n    font-weight:bold;\n}\n\n.yui-override-padding {\n    padding:0 !important;\n}\n",
            "encoding": "Raw"
          },
          "redirectURL": "",
          "headersSize": 298,
          "bodySize": 6515
        },
        "cache": {},
        "timings": {
          "send": 1,
          "wait": 0,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27307"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.875-06:00",
        "time": 102,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/yui/assets/skins/sam/skin.css",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 341,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:35 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "16524"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 110252,
            "compression": 0,
            "mimeType": "text/css",
            "text": "/*\nCopyright (c) 2011, Yahoo! Inc. All rights reserved.\nCode licensed under the BSD License:\nhttp://developer.yahoo.com/yui/license.html\nversion: 2.9.0\n*/\n.yui-skin-sam .yui-ac{position:relative;font-family:arial;font-size:100%}.yui-skin-sam .yui-ac-input{position:absolute;width:100%}.yui-skin-sam .yui-ac-container{position:absolute;top:1.6em;width:100%}.yui-skin-sam .yui-ac-content{position:absolute;width:100%;border:1px solid #808080;background:#fff;overflow:hidden;z-index:9050}.yui-skin-sam .yui-ac-shadow{position:absolute;margin:.3em;width:100%;background:#000;-moz-opacity:.10;opacity:.10;filter:alpha(opacity=10);z-index:9049}.yui-skin-sam .yui-ac iframe{opacity:0;filter:alpha(opacity=0);padding-right:.3em;padding-bottom:.3em}.yui-skin-sam .yui-ac-content ul{margin:0;padding:0;width:100%}.yui-skin-sam .yui-ac-content li{margin:0;padding:2px 5px;cursor:default;white-space:nowrap;list-style:none;zoom:1}.yui-skin-sam .yui-ac-content li.yui-ac-prehighlight{background:#b3d4ff}.yui-skin-sam .yui-ac-content li.yui-ac-highlight{background:#426fd9;color:#FFF}\n.yui-button{display:-moz-inline-box;display:inline-block;vertical-align:text-bottom;}.yui-button .first-child{display:block;*display:inline-block;}.yui-button button,.yui-button a{display:block;*display:inline-block;border:none;margin:0;}.yui-button button{background-color:transparent;*overflow:visible;cursor:pointer;}.yui-button a{text-decoration:none;}.yui-skin-sam .yui-button{border-width:1px 0;border-style:solid;border-color:#808080;background:url(sprite.png) repeat-x 0 0;margin:auto .25em;}.yui-skin-sam .yui-button .first-child{border-width:0 1px;border-style:solid;border-color:#808080;margin:0 -1px;_margin:0;}.yui-skin-sam .yui-button button,.yui-skin-sam .yui-button a,.yui-skin-sam .yui-button a:visited{padding:0 10px;font-size:93%;line-height:2;*line-height:1.7;min-height:2em;*min-height:auto;color:#000;}.yui-skin-sam .yui-button a{*line-height:1.875;*padding-bottom:1px;}.yui-skin-sam .yui-split-button button,.yui-skin-sam .yui-menu-button button{padding-right:20px;background-position:right center;background-repeat:no-repeat;}.yui-skin-sam .yui-menu-button button{background-image:url(menu-button-arrow.png);}.yui-skin-sam .yui-split-button button{background-image:url(split-button-arrow.png);}.yui-skin-sam .yui-button-focus{border-color:#7D98B8;background-position:0 -1300px;}.yui-skin-sam .yui-button-focus .first-child{border-color:#7D98B8;}.yui-skin-sam .yui-split-button-focus button{background-image:url(split-button-arrow-focus.png);}.yui-skin-sam .yui-button-hover{border-color:#7D98B8;background-position:0 -1300px;}.yui-skin-sam .yui-button-hover .first-child{border-color:#7D98B8;}.yui-skin-sam .yui-split-button-hover button{background-image:url(split-button-arrow-hover.png);}.yui-skin-sam .yui-button-active{border-color:#7D98B8;background-position:0 -1700px;}.yui-skin-sam .yui-button-active .first-child{border-color:#7D98B8;}.yui-skin-sam .yui-split-button-activeoption{border-color:#808080;background-position:0 0;}.yui-skin-sam .yui-split-button-activeoption .first-child{border-color:#808080;}.yui-skin-sam .yui-split-button-activeoption button{background-image:url(split-button-arrow-active.png);}.yui-skin-sam .yui-radio-button-checked,.yui-skin-sam .yui-checkbox-button-checked{border-color:#304369;background-position:0 -1400px;}.yui-skin-sam .yui-radio-button-checked .first-child,.yui-skin-sam .yui-checkbox-button-checked .first-child{border-color:#304369;}.yui-skin-sam .yui-radio-button-checked button,.yui-skin-sam .yui-checkbox-button-checked button{color:#fff;}.yui-skin-sam .yui-button-disabled{border-color:#ccc;background-position:0 -1500px;}.yui-skin-sam .yui-button-disabled .first-child{border-color:#ccc;}.yui-skin-sam .yui-button-disabled button,.yui-skin-sam .yui-button-disabled a,.yui-skin-sam .yui-button-disabled a:visited{color:#A6A6A6;cursor:default;}.yui-skin-sam .yui-menu-button-disabled button{background-image:url(menu-button-arrow-disabled.png);}.yui-skin-sam .yui-split-button-disabled button{background-image:url(split-button-arrow-disabled.png);}\n.yui-calcontainer{position:relative;float:left;_overflow:hidden}.yui-calcontainer iframe{position:absolute;border:0;margin:0;padding:0;z-index:0;width:100%;height:100%;left:0;top:0}.yui-calcontainer iframe.fixedsize{width:50em;height:50em;top:-1px;left:-1px}.yui-calcontainer.multi .groupcal{z-index:1;float:left;position:relative}.yui-calcontainer .title{position:relative;z-index:1}.yui-calcontainer .close-icon{position:absolute;z-index:1;text-indent:-10000em;overflow:hidden}.yui-calendar{position:relative}.yui-calendar .calnavleft{position:absolute;z-index:1;text-indent:-10000em;overflow:hidden}.yui-calendar .calnavright{position:absolute;z-index:1;text-indent:-10000em;overflow:hidden}.yui-calendar .calheader{position:relative;width:100%;text-align:center}.yui-calcontainer .yui-cal-nav-mask{position:absolute;z-index:2;margin:0;padding:0;width:100%;height:100%;_width:0;_height:0;left:0;top:0;display:none}.yui-calcontainer .yui-cal-nav{position:absolute;z-index:3;top:0;display:none}.yui-calcontainer .yui-cal-nav .yui-cal-nav-btn{display:-moz-inline-box;display:inline-block}.yui-calcontainer .yui-cal-nav .yui-cal-nav-btn button{display:block;*display:inline-block;*overflow:visible;border:0;background-color:transparent;cursor:pointer}.yui-calendar .calbody a:hover{background:inherit}p#clear{clear:left;padding-top:10px}.yui-skin-sam .yui-calcontainer{background-color:#f2f2f2;border:1px solid #808080;padding:10px}.yui-skin-sam .yui-calcontainer.multi{padding:0 5px 0 5px}.yui-skin-sam .yui-calcontainer.multi .groupcal{background-color:transparent;border:0;padding:10px 5px 10px 5px;margin:0}.yui-skin-sam .yui-calcontainer .title{background:url(sprite.png) repeat-x 0 0;border-bottom:1px solid #ccc;font:100% sans-serif;color:#000;font-weight:bold;height:auto;padding:.4em;margin:0 -10px 10px -10px;top:0;left:0;text-align:left}.yui-skin-sam .yui-calcontainer.multi .title{margin:0 -5px 0 -5px}.yui-skin-sam .yui-calcontainer.withtitle{padding-top:0}.yui-skin-sam .yui-calcontainer .calclose{background:url(sprite.png) no-repeat 0 -300px;width:25px;height:15px;top:.4em;right:.4em;cursor:pointer}.yui-skin-sam .yui-calendar{border-spacing:0;border-collapse:collapse;font:100% sans-serif;text-align:center;margin:0}.yui-skin-sam .yui-calendar .calhead{background:transparent;border:0;vertical-align:middle;padding:0}.yui-skin-sam .yui-calendar .calheader{background:transparent;font-weight:bold;padding:0 0 .6em 0;text-align:center}.yui-skin-sam .yui-calendar .calheader img{border:0}.yui-skin-sam .yui-calendar .calnavleft{background:url(sprite.png) no-repeat 0 -450px;width:25px;height:15px;top:0;bottom:0;left:-10px;margin-left:.4em;cursor:pointer}.yui-skin-sam .yui-calendar .calnavright{background:url(sprite.png) no-repeat 0 -500px;width:25px;height:15px;top:0;bottom:0;right:-10px;margin-right:.4em;cursor:pointer}.yui-skin-sam .yui-calendar .calweekdayrow{height:2em}.yui-skin-sam .yui-calendar .calweekdayrow th{padding:0;border:0}.yui-skin-sam .yui-calendar .calweekdaycell{color:#000;font-weight:bold;text-align:center;width:2em}.yui-skin-sam .yui-calendar .calfoot{background-color:#f2f2f2}.yui-skin-sam .yui-calendar .calrowhead,.yui-skin-sam .yui-calendar .calrowfoot{color:#a6a6a6;font-size:85%;font-style:normal;font-weight:normal;border:0}.yui-skin-sam .yui-calendar .calrowhead{text-align:right;padding:0 2px 0 0}.yui-skin-sam .yui-calendar .calrowfoot{text-align:left;padding:0 0 0 2px}.yui-skin-sam .yui-calendar td.calcell{border:1px solid #ccc;background:#fff;padding:1px;height:1.6em;line-height:1.6em;text-align:center;white-space:nowrap}.yui-skin-sam .yui-calendar td.calcell a{color:#06c;display:block;height:100%;text-decoration:none}.yui-skin-sam .yui-calendar td.calcell.today{background-color:#000}.yui-skin-sam .yui-calendar td.calcell.today a{background-color:#fff}.yui-skin-sam .yui-calendar td.calcell.oom{background-color:#ccc;color:#a6a6a6;cursor:default}.yui-skin-sam .yui-calendar td.calcell.oom a{color:#a6a6a6}.yui-skin-sam .yui-calendar td.calcell.selected{background-color:#fff;color:#000}.yui-skin-sam .yui-calendar td.calcell.selected a{background-color:#b3d4ff;color:#000}.yui-skin-sam .yui-calendar td.calcell.calcellhover{background-color:#426fd9;color:#fff;cursor:pointer}.yui-skin-sam .yui-calendar td.calcell.calcellhover a{background-color:#426fd9;color:#fff}.yui-skin-sam .yui-calendar td.calcell.previous{color:#e0e0e0}.yui-skin-sam .yui-calendar td.calcell.restricted{text-decoration:line-through}.yui-skin-sam .yui-calendar td.calcell.highlight1{background-color:#cf9}.yui-skin-sam .yui-calendar td.calcell.highlight2{background-color:#9cf}.yui-skin-sam .yui-calendar td.calcell.highlight3{background-color:#fcc}.yui-skin-sam .yui-calendar td.calcell.highlight4{background-color:#cf9}.yui-skin-sam .yui-calendar a.calnav{border:1px solid #f2f2f2;padding:0 4px;text-decoration:none;color:#000;zoom:1}.yui-skin-sam .yui-calendar a.calnav:hover{background:url(sprite.png) repeat-x 0 0;border-color:#a0a0a0;cursor:pointer}.yui-skin-sam .yui-calcontainer .yui-cal-nav-mask{background-color:#000;opacity:.25;filter:alpha(opacity=25)}.yui-skin-sam .yui-calcontainer .yui-cal-nav{font-family:arial,helvetica,clean,sans-serif;font-size:93%;border:1px solid #808080;left:50%;margin-left:-7em;width:14em;padding:0;top:2.5em;background-color:#f2f2f2}.yui-skin-sam .yui-calcontainer.withtitle .yui-cal-nav{top:4.5em}.yui-skin-sam .yui-calcontainer.multi .yui-cal-nav{width:16em;margin-left:-8em}.yui-skin-sam .yui-calcontainer .yui-cal-nav-y,.yui-skin-sam .yui-calcontainer .yui-cal-nav-m,.yui-skin-sam .yui-calcontainer .yui-cal-nav-b{padding:5px 10px 5px 10px}.yui-skin-sam .yui-calcontainer .yui-cal-nav-b{text-align:center}.yui-skin-sam .yui-calcontainer .yui-cal-nav-e{margin-top:5px;padding:5px;background-color:#edf5ff;border-top:1px solid black;display:none}.yui-skin-sam .yui-calcontainer .yui-cal-nav label{display:block;font-weight:bold}\n.yui-skin-sam .yui-calcontainer .yui-cal-nav-mc{width:100%;_width:auto}.yui-skin-sam .yui-calcontainer .yui-cal-nav-y input.yui-invalid{background-color:#ffee69;border:1px solid #000}.yui-skin-sam .yui-calcontainer .yui-cal-nav-yc{width:4em}.yui-skin-sam .yui-calcontainer .yui-cal-nav .yui-cal-nav-btn{border:1px solid #808080;background:url(sprite.png) repeat-x 0 0;background-color:#ccc;margin:auto .15em}.yui-skin-sam .yui-calcontainer .yui-cal-nav .yui-cal-nav-btn button{padding:0 8px;font-size:93%;line-height:2;*line-height:1.7;min-height:2em;*min-height:auto;color:#000}.yui-skin-sam .yui-calcontainer .yui-cal-nav .yui-cal-nav-btn.yui-default{border:1px solid #304369;background-color:#426fd9;background:url(sprite.png) repeat-x 0 -1400px}.yui-skin-sam .yui-calcontainer .yui-cal-nav .yui-cal-nav-btn.yui-default button{color:#fff}\n.yui-carousel{visibility:hidden;overflow:hidden;position:relative;text-align:left;zoom:1;}.yui-carousel.yui-carousel-visible{visibility:visible;}.yui-carousel-content{overflow:hidden;position:relative;text-align:center;}.yui-carousel-element li{border:1px solid #ccc;list-style:none;margin:1px;overflow:hidden;padding:0;position:absolute;text-align:center;}.yui-carousel-vertical .yui-carousel-element li{display:block;float:none;}.yui-log .carousel{background:#f2e886;}.yui-carousel-nav{zoom:1;}.yui-carousel-nav:after{content:\".\";display:block;height:0;clear:both;visibility:hidden;}.yui-carousel-button-focus{outline:1px dotted #000;}.yui-carousel-min-width{min-width:115px;}.yui-carousel-element{overflow:hidden;position:relative;margin:0 auto;padding:0;text-align:left;*margin:0;}.yui-carousel-horizontal .yui-carousel-element{width:320000px;}.yui-carousel-vertical .yui-carousel-element{height:320000px;}.yui-skin-sam .yui-carousel-nav select{position:static;}.yui-carousel .yui-carousel-item-selected{border:1px dashed #000;margin:1px;}.yui-skin-sam .yui-carousel,.yui-skin-sam .yui-carousel-vertical{border:1px solid #808080;}.yui-skin-sam .yui-carousel-nav{background:url(sprite.png) repeat-x 0 0;padding:3px;text-align:right;}.yui-skin-sam .yui-carousel-button{background:url(sprite.png) no-repeat 0 -600px;float:right;height:19px;margin:5px;overflow:hidden;width:40px;}.yui-skin-sam .yui-carousel-vertical .yui-carousel-button{background-position:0 -800px;}.yui-skin-sam .yui-carousel-button-disabled{background-position:0 -2000px;}.yui-skin-sam .yui-carousel-vertical .yui-carousel-button-disabled{background-position:0 -2100px;}.yui-skin-sam .yui-carousel-button input,.yui-skin-sam .yui-carousel-button button{background-color:transparent;border:0;cursor:pointer;display:block;height:44px;margin:-2px 0 0 -2px;padding:0 0 0 50px;}.yui-skin-sam span.yui-carousel-first-button{background-position:0 -550px;margin-left:-100px;margin-right:50px;*margin:5px 5px 5px -90px;}.yui-skin-sam .yui-carousel-vertical span.yui-carousel-first-button{background-position:0 -750px;}.yui-skin-sam span.yui-carousel-first-button-disabled{background-position:0 -1950px;}.yui-skin-sam .yui-carousel-vertical span.yui-carousel-first-button-disabled{background-position:0 -2050px;}.yui-skin-sam .yui-carousel-nav ul{float:right;height:19px;margin:0;margin-left:-220px;margin-right:100px;*margin-left:-160px;*margin-right:0;padding:0;}.yui-skin-sam .yui-carousel-min-width .yui-carousel-nav ul{*margin-left:-170px;}.yui-skin-sam .yui-carousel-nav select{position:relative;*right:50px;top:4px;}.yui-skin-sam .yui-carousel-vertical .yui-carousel-nav select{position:static;}.yui-skin-sam .yui-carousel-vertical .yui-carousel-nav ul,.yui-skin-sam .yui-carousel-vertical .yui-carousel-nav select{float:none;margin:0;*zoom:1;}.yui-skin-sam .yui-carousel-nav ul li{background:url(sprite.png) no-repeat 0 -650px;cursor:pointer;float:left;height:9px;list-style:none;margin:10px 0 0 5px;overflow:hidden;padding:0;width:9px;}.yui-skin-sam .yui-carousel-nav ul:after{content:\".\";display:block;height:0;clear:both;visibility:hidden;}.yui-skin-sam .yui-carousel-nav ul li a{display:block;width:100%;height:100%;text-indent:-10000px;text-align:left;overflow:hidden;}.yui-skin-sam .yui-carousel-nav ul li.yui-carousel-nav-page-focus{outline:1px dotted #000;}.yui-skin-sam .yui-carousel-nav ul li.yui-carousel-nav-page-selected{background-position:0 -700px;}.yui-skin-sam .yui-carousel-item-loading{background:url(ajax-loader.gif) no-repeat 50% 50%;position:absolute;text-indent:-150px;}\n.yui-picker-panel{background:#e3e3e3;border-color:#888}.yui-picker-panel .hd{background-color:#ccc;font-size:100%;line-height:100%;border:1px solid #e3e3e3;font-weight:bold;overflow:hidden;padding:6px;color:#000}.yui-picker-panel .bd{background:#e8e8e8;margin:1px;height:200px}.yui-picker-panel .ft{background:#e8e8e8;margin:1px;padding:1px}.yui-picker{position:relative}.yui-picker-hue-thumb{cursor:default;width:18px;height:18px;top:-8px;left:-2px;z-index:9;position:absolute}.yui-picker-hue-bg{-moz-outline:0;outline:0 none;position:absolute;left:200px;height:183px;width:14px;background:url(hue_bg.png) no-repeat;top:4px}.yui-picker-bg{-moz-outline:0;outline:0 none;position:absolute;top:4px;left:4px;height:182px;width:182px;background-color:#F00;background-image:url(picker_mask.png)}*html .yui-picker-bg{background-image:none;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='picker_mask.png',sizingMethod='scale')}.yui-picker-mask{position:absolute;z-index:1;top:0;left:0}.yui-picker-thumb{cursor:default;width:11px;height:11px;z-index:9;position:absolute;top:-4px;left:-4px}.yui-picker-swatch{position:absolute;left:240px;top:4px;height:60px;width:55px;border:1px solid #888}.yui-picker-websafe-swatch{position:absolute;left:304px;top:4px;height:24px;width:24px;border:1px solid #888}.yui-picker-controls{position:absolute;top:72px;left:226px;font:1em monospace}.yui-picker-controls .hd{background:transparent;border-width:0!important}.yui-picker-controls .bd{height:100px;border-width:0!important}.yui-picker-controls ul{float:left;padding:0 2px 0 0;margin:0}.yui-picker-controls li{padding:2px;list-style:none;margin:0}.yui-picker-controls input{font-size:.85em;width:2.4em}.yui-picker-hex-controls{clear:both;padding:2px}.yui-picker-hex-controls input{width:4.6em}.yui-picker-controls a{font:1em arial,helvetica,clean,sans-serif;display:block;*display:inline-block;padding:0;color:#000}\n.yui-overlay,.yui-panel-container{visibility:hidden;position:absolute;z-index:2}.yui-panel{position:relative}.yui-panel-container form{margin:0}.mask{z-index:1;display:none;position:absolute;top:0;left:0;right:0;bottom:0}.mask.block-scrollbars{overflow:auto}.masked select,.drag select,.hide-select select{_visibility:hidden}.yui-panel-container select{_visibility:inherit}.hide-scrollbars,.hide-scrollbars *{overflow:hidden}.hide-scrollbars select{display:none}.show-scrollbars{overflow:auto}.yui-panel-container.show-scrollbars,.yui-tt.show-scrollbars{overflow:visible}.yui-panel-container.show-scrollbars .underlay,.yui-tt.show-scrollbars .yui-tt-shadow{overflow:auto}.yui-panel-container.shadow .underlay.yui-force-redraw{padding-bottom:1px}.yui-effect-fade .underlay,.yui-effect-fade .yui-tt-shadow{display:none}.yui-tt-shadow{position:absolute}.yui-override-padding{padding:0!important}.yui-panel-container .container-close{overflow:hidden;text-indent:-10000em;text-decoration:none}.yui-overlay.yui-force-redraw,.yui-panel-container.yui-force-redraw{margin-bottom:1px}.yui-skin-sam .mask{background-color:#000;opacity:.25;filter:alpha(opacity=25)}.yui-skin-sam .yui-panel-container{padding:0 1px;*padding:2px}.yui-skin-sam .yui-panel{position:relative;left:0;top:0;border-style:solid;border-width:1px 0;border-color:#808080;z-index:1;*border-width:1px;*zoom:1;_zoom:normal}.yui-skin-sam .yui-panel .hd,.yui-skin-sam .yui-panel .bd,.yui-skin-sam .yui-panel .ft{border-style:solid;border-width:0 1px;border-color:#808080;margin:0 -1px;*margin:0;*border:0}.yui-skin-sam .yui-panel .hd{border-bottom:solid 1px #ccc}.yui-skin-sam .yui-panel .bd,.yui-skin-sam .yui-panel .ft{background-color:#f2f2f2}.yui-skin-sam .yui-panel .hd{padding:0 10px;font-size:93%;line-height:2;*line-height:1.9;font-weight:bold;color:#000;background:url(sprite.png) repeat-x 0 -200px}.yui-skin-sam .yui-panel .bd{padding:10px}.yui-skin-sam .yui-panel .ft{border-top:solid 1px #808080;padding:5px 10px;font-size:77%}.yui-skin-sam .container-close{position:absolute;top:5px;right:6px;width:25px;height:15px;background:url(sprite.png) no-repeat 0 -300px;cursor:pointer}.yui-skin-sam .yui-panel-container .underlay{right:-1px;left:-1px}.yui-skin-sam .yui-panel-container.matte{padding:9px 10px;background-color:#fff}.yui-skin-sam .yui-panel-container.shadow{_padding:2px 4px 0 2px}.yui-skin-sam .yui-panel-container.shadow .underlay{position:absolute;top:2px;left:-3px;right:-3px;bottom:-3px;*top:4px;*left:-1px;*right:-1px;*bottom:-1px;_top:0;_left:0;_right:0;_bottom:0;_margin-top:3px;_margin-left:-1px;background-color:#000;opacity:.12;filter:alpha(opacity=12)}.yui-skin-sam .yui-dialog .ft{border-top:0;padding:0 10px 10px 10px;font-size:100%}.yui-skin-sam .yui-dialog .ft .button-group{display:block;text-align:right}.yui-skin-sam .yui-dialog .ft button.default{font-weight:bold}.yui-skin-sam .yui-dialog .ft span.default{border-color:#304369;background-position:0 -1400px}.yui-skin-sam .yui-dialog .ft span.default .first-child{border-color:#304369}.yui-skin-sam .yui-dialog .ft span.default button{color:#fff}.yui-skin-sam .yui-dialog .ft span.yui-button-disabled{background-position:0 -1500px;border-color:#ccc}.yui-skin-sam .yui-dialog .ft span.yui-button-disabled .first-child{border-color:#ccc}.yui-skin-sam .yui-dialog .ft span.yui-button-disabled button{color:#a6a6a6}.yui-skin-sam .yui-simple-dialog .bd .yui-icon{background:url(sprite.png) no-repeat 0 0;width:16px;height:16px;margin-right:10px;float:left}.yui-skin-sam .yui-simple-dialog .bd span.blckicon{background-position:0 -1100px}.yui-skin-sam .yui-simple-dialog .bd span.alrticon{background-position:0 -1050px}.yui-skin-sam .yui-simple-dialog .bd span.hlpicon{background-position:0 -1150px}.yui-skin-sam .yui-simple-dialog .bd span.infoicon{background-position:0 -1200px}.yui-skin-sam .yui-simple-dialog .bd span.warnicon{background-position:0 -1900px}.yui-skin-sam .yui-simple-dialog .bd span.tipicon{background-position:0 -1250px}.yui-skin-sam .yui-tt .bd{position:relative;top:0;left:0;z-index:1;color:#000;padding:2px 5px;border-color:#d4c237 #A6982b #a6982b #A6982B;border-width:1px;border-style:solid;background-color:#ffee69}.yui-skin-sam .yui-tt.show-scrollbars .bd{overflow:auto}.yui-skin-sam .yui-tt-shadow{top:2px;right:-3px;left:-3px;bottom:-3px;background-color:#000}.yui-skin-sam .yui-tt-shadow-visible{opacity:.12;filter:alpha(opacity=12)}\n.yui-skin-sam .yui-dt-mask{position:absolute;z-index:9500}.yui-dt-tmp{position:absolute;left:-9000px}.yui-dt-scrollable .yui-dt-bd{overflow:auto}.yui-dt-scrollable .yui-dt-hd{overflow:hidden;position:relative}.yui-dt-scrollable .yui-dt-bd thead tr,.yui-dt-scrollable .yui-dt-bd thead th{position:absolute;left:-1500px}.yui-dt-scrollable tbody{-moz-outline:0}.yui-skin-sam thead .yui-dt-sortable{cursor:pointer}.yui-skin-sam thead .yui-dt-draggable{cursor:move}.yui-dt-coltarget{position:absolute;z-index:999}.yui-dt-hd{zoom:1}th.yui-dt-resizeable .yui-dt-resizerliner{position:relative}.yui-dt-resizer{position:absolute;right:0;bottom:0;height:100%;cursor:e-resize;cursor:col-resize;background-color:#CCC;opacity:0;filter:alpha(opacity=0)}.yui-dt-resizerproxy{visibility:hidden;position:absolute;z-index:9000;background-color:#CCC;opacity:0;filter:alpha(opacity=0)}th.yui-dt-hidden .yui-dt-liner,td.yui-dt-hidden .yui-dt-liner,th.yui-dt-hidden .yui-dt-resizer{display:none}.yui-dt-editor,.yui-dt-editor-shim{position:absolute;z-index:9000}.yui-skin-sam .yui-dt table{margin:0;padding:0;font-family:arial;font-size:inherit;border-collapse:separate;*border-collapse:collapse;border-spacing:0;border:1px solid #7f7f7f}.yui-skin-sam .yui-dt thead{border-spacing:0}.yui-skin-sam .yui-dt caption{color:#000;font-size:85%;font-weight:normal;font-style:italic;line-height:1;padding:1em 0;text-align:center}.yui-skin-sam .yui-dt th{background:#d8d8da url(sprite.png) repeat-x 0 0}.yui-skin-sam .yui-dt th,.yui-skin-sam .yui-dt th a{font-weight:normal;text-decoration:none;color:#000;vertical-align:bottom}.yui-skin-sam .yui-dt th{margin:0;padding:0;border:0;border-right:1px solid #cbcbcb}.yui-skin-sam .yui-dt tr.yui-dt-first td{border-top:1px solid #7f7f7f}.yui-skin-sam .yui-dt th .yui-dt-liner{white-space:nowrap}.yui-skin-sam .yui-dt-liner{margin:0;padding:0;padding:4px 10px 4px 10px}.yui-skin-sam .yui-dt-coltarget{width:5px;background-color:red}.yui-skin-sam .yui-dt td{margin:0;padding:0;border:0;border-right:1px solid #cbcbcb;text-align:left}.yui-skin-sam .yui-dt-list td{border-right:0}.yui-skin-sam .yui-dt-resizer{width:6px}.yui-skin-sam .yui-dt-mask{background-color:#000;opacity:.25;filter:alpha(opacity=25)}.yui-skin-sam .yui-dt-message{background-color:#FFF}.yui-skin-sam .yui-dt-scrollable table{border:0}.yui-skin-sam .yui-dt-scrollable .yui-dt-hd{border-left:1px solid #7f7f7f;border-top:1px solid #7f7f7f;border-right:1px solid #7f7f7f}.yui-skin-sam .yui-dt-scrollable .yui-dt-bd{border-left:1px solid #7f7f7f;border-bottom:1px solid #7f7f7f;border-right:1px solid #7f7f7f;background-color:#FFF}.yui-skin-sam .yui-dt-scrollable .yui-dt-data tr.yui-dt-last td{border-bottom:1px solid #7f7f7f}.yui-skin-sam th.yui-dt-asc,.yui-skin-sam th.yui-dt-desc{background:url(sprite.png) repeat-x 0 -100px}.yui-skin-sam th.yui-dt-sortable .yui-dt-label{margin-right:10px}.yui-skin-sam th.yui-dt-asc .yui-dt-liner{background:url(dt-arrow-up.png) no-repeat right}.yui-skin-sam th.yui-dt-desc .yui-dt-liner{background:url(dt-arrow-dn.png) no-repeat right}tbody .yui-dt-editable{cursor:pointer}.yui-dt-editor{text-align:left;background-color:#f2f2f2;border:1px solid #808080;padding:6px}.yui-dt-editor label{padding-left:4px;padding-right:6px}.yui-dt-editor .yui-dt-button{padding-top:6px;text-align:right}.yui-dt-editor .yui-dt-button button{background:url(sprite.png) repeat-x 0 0;border:1px solid #999;width:4em;height:1.8em;margin-left:6px}.yui-dt-editor .yui-dt-button button.yui-dt-default{background:url(sprite.png) repeat-x 0 -1400px;background-color:#5584e0;border:1px solid #304369;color:#FFF}.yui-dt-editor .yui-dt-button button:hover{background:url(sprite.png) repeat-x 0 -1300px;color:#000}.yui-dt-editor .yui-dt-button button:active{background:url(sprite.png) repeat-x 0 -1700px;color:#000}.yui-skin-sam tr.yui-dt-even{background-color:#FFF}.yui-skin-sam tr.yui-dt-odd{background-color:#edf5ff}.yui-skin-sam tr.yui-dt-even td.yui-dt-asc,.yui-skin-sam tr.yui-dt-even td.yui-dt-desc{background-color:#edf5ff}.yui-skin-sam tr.yui-dt-odd td.yui-dt-asc,.yui-skin-sam tr.yui-dt-odd td.yui-dt-desc{background-color:#dbeaff}.yui-skin-sam .yui-dt-list tr.yui-dt-even{background-color:#FFF}.yui-skin-sam .yui-dt-list tr.yui-dt-odd{background-color:#FFF}.yui-skin-sam .yui-dt-list tr.yui-dt-even td.yui-dt-asc,.yui-skin-sam .yui-dt-list tr.yui-dt-even td.yui-dt-desc{background-color:#edf5ff}.yui-skin-sam .yui-dt-list tr.yui-dt-odd td.yui-dt-asc,.yui-skin-sam .yui-dt-list tr.yui-dt-odd td.yui-dt-desc{background-color:#edf5ff}.yui-skin-sam th.yui-dt-highlighted,.yui-skin-sam th.yui-dt-highlighted a{background-color:#b2d2ff}.yui-skin-sam tr.yui-dt-highlighted,.yui-skin-sam tr.yui-dt-highlighted td.yui-dt-asc,.yui-skin-sam tr.yui-dt-highlighted td.yui-dt-desc,.yui-skin-sam tr.yui-dt-even td.yui-dt-highlighted,.yui-skin-sam tr.yui-dt-odd td.yui-dt-highlighted{cursor:pointer;background-color:#b2d2ff}.yui-skin-sam .yui-dt-list th.yui-dt-highlighted,.yui-skin-sam .yui-dt-list th.yui-dt-highlighted a{background-color:#b2d2ff}.yui-skin-sam .yui-dt-list tr.yui-dt-highlighted,.yui-skin-sam .yui-dt-list tr.yui-dt-highlighted td.yui-dt-asc,.yui-skin-sam .yui-dt-list tr.yui-dt-highlighted td.yui-dt-desc,.yui-skin-sam .yui-dt-list tr.yui-dt-even td.yui-dt-highlighted,.yui-skin-sam .yui-dt-list tr.yui-dt-odd td.yui-dt-highlighted{cursor:pointer;background-color:#b2d2ff}.yui-skin-sam th.yui-dt-selected,.yui-skin-sam th.yui-dt-selected a{background-color:#446cd7}.yui-skin-sam tr.yui-dt-selected td,.yui-skin-sam tr.yui-dt-selected td.yui-dt-asc,.yui-skin-sam tr.yui-dt-selected td.yui-dt-desc{background-color:#426fd9;color:#FFF}.yui-skin-sam tr.yui-dt-even td.yui-dt-selected,.yui-skin-sam tr.yui-dt-odd td.yui-dt-selected{background-color:#446cd7;color:#FFF}.yui-skin-sam .yui-dt-list th.yui-dt-selected,.yui-skin-sam .yui-dt-list th.yui-dt-selected a{background-color:#446cd7}\n.yui-skin-sam .yui-dt-list tr.yui-dt-selected td,.yui-skin-sam .yui-dt-list tr.yui-dt-selected td.yui-dt-asc,.yui-skin-sam .yui-dt-list tr.yui-dt-selected td.yui-dt-desc{background-color:#426fd9;color:#FFF}.yui-skin-sam .yui-dt-list tr.yui-dt-even td.yui-dt-selected,.yui-skin-sam .yui-dt-list tr.yui-dt-odd td.yui-dt-selected{background-color:#446cd7;color:#FFF}.yui-skin-sam .yui-dt-paginator{display:block;margin:6px 0;white-space:nowrap}.yui-skin-sam .yui-dt-paginator .yui-dt-first,.yui-skin-sam .yui-dt-paginator .yui-dt-last,.yui-skin-sam .yui-dt-paginator .yui-dt-selected{padding:2px 6px}.yui-skin-sam .yui-dt-paginator a.yui-dt-first,.yui-skin-sam .yui-dt-paginator a.yui-dt-last{text-decoration:none}.yui-skin-sam .yui-dt-paginator .yui-dt-previous,.yui-skin-sam .yui-dt-paginator .yui-dt-next{display:none}.yui-skin-sam a.yui-dt-page{border:1px solid #cbcbcb;padding:2px 6px;text-decoration:none;background-color:#fff}.yui-skin-sam .yui-dt-selected{border:1px solid #fff;background-color:#fff}\n.yui-busy{cursor:wait!important;}.yui-toolbar-container fieldset,.yui-editor-container fieldset{padding:0;margin:0;border:0;}.yui-toolbar-container legend{display:none;}.yui-skin-sam .yui-toolbar-container .yui-button button,.yui-skin-sam .yui-toolbar-container .yui-button a,.yui-skin-sam .yui-toolbar-container .yui-button a:visited{font-size:0;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-select button,.yui-skin-sam .yui-toolbar-container .yui-toolbar-select a,.yui-skin-sam .yui-toolbar-container .yui-toolbar-select a:visited,.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton button,.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton a,.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton a:visited{font-size:12px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton a.up,.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton a.down{font-size:0;line-height:0;padding:0;}.yui-toolbar-container .yui-toolbar-subcont{padding:.25em 0;zoom:1;}.yui-toolbar-container-collapsed .yui-toolbar-subcont{display:none;}.yui-toolbar-container .yui-toolbar-subcont:after{display:block;clear:both;visibility:hidden;content:'.';height:0;}.yui-toolbar-container span.yui-toolbar-draghandle{cursor:move;border-left:1px solid #999;border-right:1px solid #999;overflow:hidden;text-indent:77777px;width:2px;height:20px;display:block;clear:none;float:left;margin:0 0 0 .2em;}.yui-toolbar-container .yui-toolbar-titlebar.draggable{cursor:move;}.yui-toolbar-container .yui-toolbar-titlebar{position:relative;}.yui-toolbar-container .yui-toolbar-titlebar h2{font-weight:bold;letter-spacing:0;border:none;color:#000;margin:0;padding:.2em;}.yui-toolbar-container .yui-toolbar-titlebar h2 a{text-decoration:none;color:#000;cursor:default;}.yui-toolbar-container.yui-toolbar-grouped span.yui-toolbar-draghandle{height:40px;}.yui-toolbar-container .yui-toolbar-group{float:left;margin-right:.5em;zoom:1;}.yui-toolbar-container .yui-toolbar-group:after{display:block;clear:both;visibility:hidden;content:'.';height:0;}.yui-toolbar-container .yui-toolbar-group h3{font-size:75%;padding:0 0 0 .25em;margin:0;}.yui-toolbar-container span.yui-toolbar-separator{width:2px;padding:0;height:18px;margin:.2em 0 .2em .1em;display:none;float:left;}.yui-toolbar-container.yui-toolbar-grouped span.yui-toolbar-separator{height:45px;*height:50px;}.yui-toolbar-container.yui-toolbar-grouped .yui-toolbar-group span.yui-toolbar-separator{height:18px;display:block;}.yui-toolbar-container ul li{margin:0;padding:0;list-style-type:none;}.yui-toolbar-container .yui-toolbar-nogrouplabels h3{display:none;}.yui-toolbar-container .yui-push-button,.yui-toolbar-container .yui-color-button,.yui-toolbar-container .yui-menu-button{position:relative;cursor:pointer;}.yui-toolbar-container .yui-button .first-child,.yui-toolbar-container .yui-button .first-child a{height:100%;width:100%;overflow:hidden;font-size:0;}.yui-toolbar-container .yui-button-disabled{cursor:default;}.yui-toolbar-container .yui-button-disabled .yui-toolbar-icon{opacity:.5;filter:alpha(opacity=50);}.yui-toolbar-container .yui-button-disabled .up,.yui-toolbar-container .yui-button-disabled .down{opacity:.5;filter:alpha(opacity=50);}.yui-toolbar-container .yui-button a{overflow:hidden;}.yui-toolbar-container .yui-toolbar-select .first-child a{cursor:pointer;}.yui-toolbar-fontname-arial{font-family:Arial;}.yui-toolbar-fontname-arial-black{font-family:Arial Black;}.yui-toolbar-fontname-comic-sans-ms{font-family:Comic Sans MS;}.yui-toolbar-fontname-courier-new{font-family:Courier New;}.yui-toolbar-fontname-times-new-roman{font-family:Times New Roman;}.yui-toolbar-fontname-verdana{font-family:Verdana;}.yui-toolbar-fontname-impact{font-family:Impact;}.yui-toolbar-fontname-lucida-console{font-family:Lucida Console;}.yui-toolbar-fontname-tahoma{font-family:Tahoma;}.yui-toolbar-fontname-trebuchet-ms{font-family:Trebuchet MS;}.yui-toolbar-container .yui-toolbar-spinbutton{position:relative;}.yui-toolbar-container .yui-toolbar-spinbutton .first-child a{z-index:0;opacity:1;}.yui-toolbar-container .yui-toolbar-spinbutton a.up,.yui-toolbar-container .yui-toolbar-spinbutton a.down{position:absolute;display:block;right:0;cursor:pointer;z-index:1;padding:0;margin:0;}.yui-toolbar-container .yui-overlay{position:absolute;}.yui-toolbar-container .yui-overlay ul li{margin:0;list-style-type:none;}.yui-toolbar-container{z-index:1;}.yui-editor-container .yui-editor-editable-container{position:relative;z-index:0;width:100%;}.yui-editor-container .yui-editor-masked{background-color:#CCC;height:100%;width:100%;position:absolute;top:0;left:0;opacity:.5;filter:alpha(opacity=50);}.yui-editor-container iframe{border:0;padding:0;margin:0;zoom:1;display:block;}.yui-editor-container .yui-editor-editable{padding:0;margin:0;}.yui-editor-container .dompath{font-size:85%;}.yui-editor-panel .hd{text-align:left;position:relative;}.yui-editor-panel .hd h3{font-weight:bold;padding:.25em 0 .25em .25em;margin:0;}.yui-editor-panel .bd{width:100%;zoom:1;position:relative;}.yui-editor-panel .bd div.yui-editor-body-cont{padding:.25em .1em;zoom:1;}.yui-editor-panel .bd .gecko form{overflow:auto;}.yui-editor-panel .bd div.yui-editor-body-cont:after{display:block;clear:both;visibility:hidden;content:'.';height:0;}.yui-editor-panel .ft{text-align:right;width:99%;float:left;clear:both;}.yui-editor-panel .ft span.tip{display:block;position:relative;padding:.5em .5em .5em 23px;text-align:left;zoom:1;}.yui-editor-panel label{clear:both;float:left;padding:0;width:100%;text-align:left;zoom:1;}.yui-editor-panel .gecko label{overflow:auto;}.yui-editor-panel label strong{float:left;width:6em;}.yui-editor-panel .removeLink{width:80%;text-align:right;}.yui-editor-panel label input{margin-left:.25em;float:left;}.yui-editor-panel .yui-toolbar-group{margin-bottom:.75em;}.yui-editor-panel .height-width{float:left;}.yui-editor-panel .height-width span{font-style:italic;display:block;float:left;overflow:visible;}.yui-editor-panel .height-width span.info{font-size:70%;margin-top:3px;float:none;}\n.yui-editor-panel .yui-toolbar-bordersize,.yui-editor-panel .yui-toolbar-bordertype{font-size:75%;}.yui-editor-panel .yui-toolbar-container span.yui-toolbar-separator{border:none;}.yui-editor-panel .yui-toolbar-bordersize span a span,.yui-editor-panel .yui-toolbar-bordertype span a span{display:block;height:8px;left:4px;position:absolute;top:3px;_top:-5px;width:24px;text-indent:52px;font-size:0;}.yui-editor-panel .yui-toolbar-bordertype span a span.yui-toolbar-bordertype-solid{border-bottom:1px solid black;}.yui-editor-panel .yui-toolbar-bordertype span a span.yui-toolbar-bordertype-dotted{border-bottom:1px dotted black;}.yui-editor-panel .yui-toolbar-bordertype span a span.yui-toolbar-bordertype-dashed{border-bottom:1px dashed black;}.yui-editor-panel .yui-toolbar-bordersize span a span.yui-toolbar-bordersize-0{*top:0;text-indent:0;font-size:75%;}.yui-editor-panel .yui-toolbar-bordersize span a span.yui-toolbar-bordersize-1{border-bottom:1px solid black;}.yui-editor-panel .yui-toolbar-bordersize span a span.yui-toolbar-bordersize-2{border-bottom:2px solid black;}.yui-editor-panel .yui-toolbar-bordersize span a span.yui-toolbar-bordersize-3{top:2px;*top:-5px;border-bottom:3px solid black;}.yui-editor-panel .yui-toolbar-bordersize span a span.yui-toolbar-bordersize-4{top:1px;*top:-5px;border-bottom:4px solid black;}.yui-editor-panel .yui-toolbar-bordersize span a span.yui-toolbar-bordersize-5{top:1px;*top:-5px;border-bottom:5px solid black;}.yui-toolbar-container .yui-toolbar-bordersize-menu,.yui-toolbar-container .yui-toolbar-bordertype-menu{width:95px!important;}.yui-toolbar-bordersize-menu .yuimenuitemlabel,.yui-toolbar-bordertype-menu .yuimenuitemlabel,.yui-toolbar-bordersize-menu .yuimenuitemlabel,.yui-toolbar-bordertype-menu .yuimenuitemlabel:hover{margin:0 3px 7px 17px;}.yui-toolbar-bordersize-menu .yuimenuitemlabel .checkedindicator,.yui-toolbar-bordertype-menu .yuimenuitemlabel .checkedindicator{position:absolute;left:-12px;*top:14px;*left:0;}.yui-toolbar-bordersize-menu li.yui-toolbar-bordersize-1 a{border-bottom:1px solid black;height:14px;}.yui-toolbar-bordersize-menu li.yui-toolbar-bordersize-2 a{border-bottom:2px solid black;height:14px;}.yui-toolbar-bordersize-menu li.yui-toolbar-bordersize-3 a{border-bottom:3px solid black;height:14px;}.yui-toolbar-bordersize-menu li.yui-toolbar-bordersize-4 a{border-bottom:4px solid black;height:14px;}.yui-toolbar-bordersize-menu li.yui-toolbar-bordersize-5 a{border-bottom:5px solid black;height:14px;}.yui-toolbar-bordertype-menu li.yui-toolbar-bordertype-solid a{border-bottom:1px solid black;height:14px;}.yui-toolbar-bordertype-menu li.yui-toolbar-bordertype-dashed a{border-bottom:1px dashed black;height:14px;}.yui-toolbar-bordertype-menu li.yui-toolbar-bordertype-dotted a{border-bottom:1px dotted black;height:14px;}h2.yui-editor-skipheader,h3.yui-editor-skipheader{height:0;margin:0;padding:0;border:none;width:0;overflow:hidden;position:absolute;}.yui-toolbar-colors{width:133px;zoom:1;display:none;z-index:100;overflow:hidden;}.yui-toolbar-colors:after{display:block;clear:both;visibility:hidden;content:'.';height:0;}.yui-toolbar-colors a{height:9px;width:9px;float:left;display:block;overflow:hidden;text-indent:999px;margin:0;cursor:pointer;border:1px solid #F6F7EE;}.yui-toolbar-colors a:hover{border:1px solid black;}.yui-color-button-menu{overflow:visible;background-color:transparent;}.yui-toolbar-colors span{position:relative;display:block;padding:3px;overflow:hidden;float:left;width:100%;zoom:1;}.yui-toolbar-colors span:after{display:block;clear:both;visibility:hidden;content:'.';height:0;}.yui-toolbar-colors span em{height:35px;width:30px;float:left;display:block;overflow:hidden;text-indent:999px;margin:.75px;border:1px solid black;}.yui-toolbar-colors span strong{font-weight:normal;padding-left:3px;display:block;font-size:85%;float:left;width:65%;}.yui-toolbar-group-undoredo h3,.yui-toolbar-group-insertitem h3,.yui-toolbar-group-indentlist h3{width:68px;}.yui-toolbar-group-indentlist2 h3{width:122px;}.yui-toolbar-group-alignment h3{width:130px;}.yui-skin-sam .yui-editor-container{border:1px solid #808080;}.yui-skin-sam .yui-toolbar-container{zoom:1;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-titlebar{background:url(sprite.png) repeat-x 0 -200px;position:relative;}.yui-skin-sam .yui-editor-container .draggable .yui-toolbar-titlebar{cursor:move;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-titlebar h2{color:#000;font-weight:bold;margin:0;padding:.3em 1em;font-size:100%;text-align:left;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-group h3{color:#808080;font-size:75%;margin:1em 0 0;padding-bottom:0;padding-left:.25em;text-align:left;}.yui-toolbar-container span.yui-toolbar-separator{border:none;text-indent:33px;overflow:hidden;margin:0 .25em;}.yui-skin-sam .yui-toolbar-container{background-color:#F2F2F2;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-subcont{padding:0 1em .35em;border-bottom:1px solid #808080;}.yui-skin-sam .yui-toolbar-container-collapsed .yui-toolbar-titlebar{border-bottom:1px solid #808080;}.yui-skin-sam .yui-editor-container .visible .yui-menu-shadow,.yui-skin-sam .yui-editor-panel .visible .yui-menu-shadow{display:none;}.yui-skin-sam .yui-editor-container ul{list-style-type:none;margin:0;padding:0;}.yui-skin-sam .yui-editor-container ul li{list-style-type:none;margin:0;padding:0;}.yui-skin-sam .yui-toolbar-group ul li.yui-toolbar-groupitem{float:left;}.yui-skin-sam .yui-editor-container .dompath{background-color:#F2F2F2;border-top:1px solid #808080;color:#999;text-align:left;padding:.25em;}.yui-skin-sam .yui-toolbar-container .collapse{background:url(sprite.png) no-repeat 0 -400px;}.yui-skin-sam .yui-toolbar-container .collapsed{background:url(sprite.png) no-repeat 0 -350px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-titlebar span.collapse{cursor:pointer;position:absolute;top:4px;right:2px;display:block;overflow:hidden;height:15px;width:15px;text-indent:9999px;}\n.yui-skin-sam .yui-toolbar-container .yui-push-button,.yui-skin-sam .yui-toolbar-container .yui-color-button,.yui-skin-sam .yui-toolbar-container .yui-menu-button{background:url(sprite.png) repeat-x 0 0;position:relative;display:block;height:22px;width:30px;_font-size:0;margin:0;border-color:#808080;color:#f2f2f2;border-style:solid;border-width:1px 0;zoom:1;}.yui-skin-sam .yui-toolbar-container .yui-push-button a,.yui-skin-sam .yui-toolbar-container .yui-color-button a,.yui-skin-sam .yui-toolbar-container .yui-menu-button a{padding-left:35px;height:20px;text-decoration:none;font-size:0;line-height:2;display:block;color:#000;overflow:hidden;white-space:nowrap;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton a,.yui-skin-sam .yui-toolbar-container .yui-toolbar-select a{font-size:12px;}.yui-skin-sam .yui-toolbar-container .yui-push-button .first-child,.yui-skin-sam .yui-toolbar-container .yui-color-button .first-child,.yui-skin-sam .yui-toolbar-container .yui-menu-button .first-child{border-color:#808080;border-style:solid;border-width:0 1px;margin:0 -1px;display:block;position:relative;}.yui-skin-sam .yui-toolbar-container .yui-push-button-disabled .first-child,.yui-skin-sam .yui-toolbar-container .yui-color-button-disabled .first-child,.yui-skin-sam .yui-toolbar-container .yui-menu-button-disabled .first-child{border-color:#ccc;}.yui-skin-sam .yui-toolbar-container .yui-push-button-disabled a,.yui-skin-sam .yui-toolbar-container .yui-color-button-disabled a,.yui-skin-sam .yui-toolbar-container .yui-menu-button-disabled a{color:#A6A6A6;cursor:default;}.yui-skin-sam .yui-toolbar-container .yui-push-button-disabled,.yui-skin-sam .yui-toolbar-container .yui-color-button-disabled,.yui-skin-sam .yui-toolbar-container .yui-menu-button-disabled{border-color:#ccc;}.yui-skin-sam .yui-toolbar-container .yui-button .first-child{*left:0;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-fontname{width:135px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-heading{width:92px;}.yui-skin-sam .yui-toolbar-container .yui-button-hover{background:url(sprite.png) repeat-x 0 -1300px;border-color:#808080;}.yui-skin-sam .yui-toolbar-container .yui-button-selected{background:url(sprite.png) repeat-x 0 -1700px;border-color:#808080;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-nogrouplabels h3{display:none;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-nogrouplabels .yui-toolbar-group{margin-top:.75em;}.yui-skin-sam .yui-toolbar-container .yui-push-button span.yui-toolbar-icon,.yui-skin-sam .yui-toolbar-container .yui-color-button span.yui-toolbar-icon,.yui-skin-sam .yui-toolbar-container .yui-menu-button span.yui-toolbar-icon{display:block;position:absolute;top:2px;height:18px;width:18px;overflow:hidden;background:url(editor-sprite.gif) no-repeat 30px 30px;}.yui-skin-sam .yui-toolbar-container .yui-button-selected span.yui-toolbar-icon,.yui-skin-sam .yui-toolbar-container .yui-button-hover span.yui-toolbar-icon{background-image:url(editor-sprite-active.gif);}.yui-skin-sam .yui-toolbar-container .visible .yuimenuitemlabel{cursor:pointer;color:#000;*position:relative;}.yui-skin-sam .yui-toolbar-container .yui-button-menu{background-color:#fff;}.yui-skin-sam .yui-toolbar-container .yui-button-menu .yui-menu-body-scrolled{position:relative;}.yui-skin-sam div.yuimenu li.selected{background-color:#B3D4FF;}.yui-skin-sam div.yuimenu li.selected a.selected{color:#000;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-bold span.yui-toolbar-icon{background-position:0 0;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-strikethrough span.yui-toolbar-icon{background-position:0 -108px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-italic span.yui-toolbar-icon{background-position:0 -36px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-undo span.yui-toolbar-icon{background-position:0 -1326px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-redo span.yui-toolbar-icon{background-position:0 -1355px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-underline span.yui-toolbar-icon{background-position:0 -72px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-subscript span.yui-toolbar-icon{background-position:0 -180px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-superscript span.yui-toolbar-icon{background-position:0 -144px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-forecolor span.yui-toolbar-icon{background-position:0 -216px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-backcolor span.yui-toolbar-icon{background-position:0 -288px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-justifyleft span.yui-toolbar-icon{background-position:0 -324px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-justifycenter span.yui-toolbar-icon{background-position:0 -360px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-justifyright span.yui-toolbar-icon{background-position:0 -396px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-justifyfull span.yui-toolbar-icon{background-position:0 -432px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-indent span.yui-toolbar-icon{background-position:0 -720px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-outdent span.yui-toolbar-icon{background-position:0 -684px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-createlink span.yui-toolbar-icon{background-position:0 -792px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-insertimage span.yui-toolbar-icon{background-position:1px -756px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-left span.yui-toolbar-icon{background-position:0 -972px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-right span.yui-toolbar-icon{background-position:0 -936px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-inline span.yui-toolbar-icon{background-position:0 -900px;left:5px;}\n.yui-skin-sam .yui-toolbar-container .yui-toolbar-block span.yui-toolbar-icon{background-position:0 -864px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-bordercolor span.yui-toolbar-icon{background-position:0 -252px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-removeformat span.yui-toolbar-icon{background-position:0 -1080px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-hiddenelements span.yui-toolbar-icon{background-position:0 -1044px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-insertunorderedlist span.yui-toolbar-icon{background-position:0 -468px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-insertorderedlist span.yui-toolbar-icon{background-position:0 -504px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton,.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton .first-child{width:35px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton .first-child a{padding-left:2px;text-align:left;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton span.yui-toolbar-icon{display:none;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton a.up,.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton a.down{right:2px;background:url(editor-sprite.gif) no-repeat 0 -1222px;overflow:hidden;height:6px;width:7px;min-height:0;padding:0;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton a.up{top:2px;background-position:0 -1222px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton a.down{bottom:2px;background-position:0 -1187px;}.yui-skin-sam .yui-toolbar-container select{height:22px;border:1px solid #808080;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-select .first-child a{padding-left:5px;text-align:left;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-select span.yui-toolbar-icon{background:url(editor-sprite.gif) no-repeat 0 -1144px;overflow:hidden;right:-2px;top:0;height:20px;}.yui-skin-sam .yui-editor-panel .yui-color-button-menu .bd{background-color:transparent;border:none;width:135px;}.yui-skin-sam .yui-color-button-menu .yui-toolbar-colors{border:1px solid #808080;}.yui-skin-sam .yui-editor-panel{padding:0;margin:0;border:none;background-color:transparent;overflow:visible;position:absolute;}.yui-skin-sam .yui-editor-panel .hd{margin:10px 0 0;padding:0;border:none;}.yui-skin-sam .yui-editor-panel .hd h3{color:#000;border:1px solid #808080;background:url(sprite.png) repeat-x 0 -200px;width:99%;position:relative;margin:0;padding:3px 0 0 0;font-size:93%;text-indent:5px;height:20px;}.yui-skin-sam .yui-editor-panel .bd{background-color:#F2F2F2;border-left:1px solid #808080;border-right:1px solid #808080;width:99%;margin:0;padding:0;overflow:visible;}.yui-skin-sam .yui-editor-panel ul{list-style-type:none;margin:0;padding:0;}.yui-skin-sam .yui-editor-panel ul li{margin:0;padding:0;}.yui-skin-sam .yui-editor-panel .yui-toolbar-container .yui-toolbar-subcont{padding:0;border:none;margin-top:.35em;}.yui-skin-sam .yui-editor-panel .yui-toolbar-bordersize,.yui-skin-sam .yui-editor-panel .yui-toolbar-bordertype{width:50px;}.yui-skin-sam .yui-editor-panel label{display:block;float:none;padding:4px 0;margin-bottom:7px;}.yui-skin-sam .yui-editor-panel label strong{font-weight:normal;font-size:93%;text-align:right;padding-top:2px;}.yui-skin-sam .yui-editor-panel label input{width:75%;}.yui-skin-sam .yui-editor-panel .createlink_target,.yui-skin-sam .yui-editor-panel .insertimage_target{width:auto;margin-right:5px;}.yui-skin-sam .yui-editor-panel .removeLink{width:98%;}.yui-skin-sam .yui-editor-panel label input.warning{background-color:#FFEE69;}.yui-skin-sam .yui-editor-panel .yui-toolbar-group h3{color:#000;float:left;font-weight:normal;font-size:93%;margin:5px 0 0 0;padding:0 3px 0 0;text-align:right;}.yui-skin-sam .yui-editor-panel .height-width h3{margin:3px 0 0 10px;}.yui-skin-sam .yui-editor-panel .height-width{margin:3px 0 0 35px;*margin-left:14px;width:42%;*width:44%;}.yui-skin-sam .yui-editor-panel .yui-toolbar-group-border{width:190px;}.yui-skin-sam .yui-editor-panel .no-button .yui-toolbar-group-border{width:210px;}.yui-skin-sam .yui-editor-panel .yui-toolbar-group-padding{width:203px;_width:198px;}.yui-skin-sam .yui-editor-panel .no-button .yui-toolbar-group-padding{width:172px;}.yui-skin-sam .yui-editor-panel .yui-toolbar-group-padding h3{margin-left:25px;*margin-left:12px;}.yui-skin-sam .yui-editor-panel .yui-toolbar-group-textflow{width:182px;}.yui-skin-sam .yui-editor-panel .hd{background:none;}.yui-skin-sam .yui-editor-panel .ft{background-color:#F2F2F2;border:1px solid #808080;border-top:none;padding:0;margin:0 0 2px 0;}.yui-skin-sam .yui-editor-panel .hd span.close{background:url(sprite.png) no-repeat 0 -300px;cursor:pointer;display:block;height:16px;overflow:hidden;position:absolute;right:5px;text-indent:500px;top:2px;width:26px;}.yui-skin-sam .yui-editor-panel .ft span.tip{background-color:#EDF5FF;border-top:1px solid #808080;font-size:85%;}.yui-skin-sam .yui-editor-panel .ft span.tip strong{display:block;float:left;margin:0 2px 8px 0;}.yui-skin-sam .yui-editor-panel .ft span.tip span.icon{background:url(editor-sprite.gif) no-repeat 0 -1260px;display:block;height:20px;left:2px;position:absolute;top:8px;width:20px;}.yui-skin-sam .yui-editor-panel .ft span.tip span.icon-info{background-position:2px -1260px;}.yui-skin-sam .yui-editor-panel .ft span.tip span.icon-warn{background-position:2px -1296px;}.yui-skin-sam .yui-editor-panel .hd span.knob{position:absolute;height:10px;width:28px;top:-10px;left:25px;text-indent:9999px;overflow:hidden;background:url(editor-knob.gif) no-repeat 0 0;}.yui-skin-sam .yui-editor-panel .yui-toolbar-container{float:left;width:100%;background-image:none;border:none;}.yui-skin-sam .yui-editor-panel .yui-toolbar-container .bd{background-color:#fff;}.yui-editor-blankimage{background-image:url(blankimage.png);}.yui-skin-sam .yui-editor-container .yui-resize-handle-br{height:11px;width:11px;background-position:-20px -60px;background-color:transparent;}\n.yui-crop{position:relative;}.yui-crop .yui-crop-mask{position:absolute;top:0;left:0;height:100%;width:100%;}.yui-crop .yui-resize{position:absolute;top:10px;left:10px;border:0;}.yui-crop .yui-crop-resize-mask{position:absolute;top:0;left:0;height:100%;width:100%;background-position:-10px -10px;overflow:hidden;}.yui-skin-sam .yui-crop .yui-crop-mask{background-color:#000;opacity:.5;filter:alpha(opacity=50);}.yui-skin-sam .yui-crop .yui-resize{border:1px dashed #fff;}\n.yui-layout-loading{visibility:hidden;}body.yui-layout{overflow:hidden;position:relative;padding:0;margin:0;}.yui-layout-doc{position:relative;overflow:hidden;padding:0;margin:0;}.yui-layout-unit{height:50px;width:50px;padding:0;margin:0;float:none;z-index:0;}.yui-layout-unit-top{position:absolute;top:0;left:0;width:100%;}.yui-layout-unit-left{position:absolute;top:0;left:0;}.yui-layout-unit-right{position:absolute;top:0;right:0;}.yui-layout-unit-bottom{position:absolute;bottom:0;left:0;width:100%;}.yui-layout-unit-center{position:absolute;top:0;left:0;width:100%;}.yui-layout div.yui-layout-hd{position:absolute;top:0;left:0;zoom:1;width:100%;}.yui-layout div.yui-layout-bd{position:absolute;top:0;left:0;zoom:1;width:100%;}.yui-layout .yui-layout-noscroll div.yui-layout-bd{overflow:hidden;}.yui-layout .yui-layout-scroll div.yui-layout-bd{overflow:auto;}.yui-layout div.yui-layout-ft{position:absolute;bottom:0;left:0;width:100%;zoom:1;}.yui-layout .yui-layout-unit div.yui-layout-hd h2{text-align:left;}.yui-layout .yui-layout-unit div.yui-layout-hd .collapse{cursor:pointer;height:13px;position:absolute;right:2px;top:2px;width:17px;font-size:0;}.yui-layout .yui-layout-unit div.yui-layout-hd .close{cursor:pointer;height:13px;position:absolute;right:2px;top:2px;width:17px;font-size:0;}.yui-layout .yui-layout-unit div.yui-layout-hd .collapse-close{right:25px;}.yui-layout .yui-layout-clip{position:absolute;height:20px;background-color:#c0c0c0;display:none;}.yui-layout .yui-layout-clip .collapse{cursor:pointer;height:13px;position:absolute;right:2px;top:2px;width:17px;font-size:0;}.yui-layout .yui-layout-wrap{height:100%;width:100%;position:absolute;left:0;}.yui-skin-sam .yui-layout .yui-resize-proxy{border:none;font-size:0;margin:0;padding:0;}.yui-skin-sam .yui-layout .yui-resize-resizing .yui-resize-handle{display:none;zoom:1;}.yui-skin-sam .yui-layout .yui-resize-proxy div{position:absolute;border:1px solid #808080;background-color:#EDF5FF;}.yui-skin-sam .yui-layout .yui-resize .yui-resize-handle-active{zoom:1;}.yui-skin-sam .yui-layout .yui-resize-proxy .yui-layout-handle-l{width:5px;height:100%;top:0;left:0;zoom:1;}.yui-skin-sam .yui-layout .yui-resize-proxy .yui-layout-handle-r{width:5px;top:0;right:0;height:100%;position:absolute;zoom:1;}.yui-skin-sam .yui-layout .yui-resize-proxy .yui-layout-handle-b{width:100%;bottom:0;left:0;height:5px;}.yui-skin-sam .yui-layout .yui-resize-proxy .yui-layout-handle-t{width:100%;top:0;left:0;height:5px;}.yui-skin-sam .yui-layout .yui-layout-unit-left div.yui-layout-hd .collapse{background:transparent url(layout_sprite.png) no-repeat -20px -160px;border:1px solid #808080;}.yui-skin-sam .yui-layout .yui-layout-clip-left .collapse{background:transparent url(layout_sprite.png) no-repeat -20px -140px;border:1px solid #808080;}.yui-skin-sam .yui-layout .yui-layout-unit-right div.yui-layout-hd .collapse{background:transparent url(layout_sprite.png) no-repeat -20px -200px;border:1px solid #808080;}.yui-skin-sam .yui-layout .yui-layout-clip-right .collapse{background:transparent url(layout_sprite.png) no-repeat -20px -120px;border:1px solid #808080;}.yui-skin-sam .yui-layout .yui-layout-unit-top div.yui-layout-hd .collapse{background:transparent url(layout_sprite.png) no-repeat -20px -220px;border:1px solid #808080;}.yui-skin-sam .yui-layout .yui-layout-clip-top .collapse{background:transparent url(layout_sprite.png) no-repeat -20px -240px;border:1px solid #808080;}.yui-skin-sam .yui-layout .yui-layout-unit-bottom div.yui-layout-hd .collapse{background:transparent url(layout_sprite.png) no-repeat -20px -260px;border:1px solid #808080;}.yui-skin-sam .yui-layout .yui-layout-clip-bottom .collapse{background:transparent url(layout_sprite.png) no-repeat -20px -180px;border:1px solid #808080;}.yui-skin-sam .yui-layout .yui-layout-unit div.yui-layout-hd .close{background:transparent url(layout_sprite.png) no-repeat -20px -100px;border:1px solid #808080;}.yui-skin-sam .yui-layout .yui-layout-hd{background:url(sprite.png) repeat-x 0 -1400px;border:1px solid #808080;}.yui-skin-sam .yui-layout{background-color:#EDF5FF;}.yui-skin-sam .yui-layout .yui-layout-unit div.yui-layout-hd h2{font-weight:bold;color:#fff;padding:3px;margin:0;}.yui-skin-sam .yui-layout .yui-layout-unit div.yui-layout-bd{border:1px solid #808080;border-bottom:none;border-top:none;*border-bottom-width:0;*border-top-width:0;background-color:#f2f2f2;text-align:left;}.yui-skin-sam .yui-layout .yui-layout-unit div.yui-layout-bd-noft{border-bottom:1px solid #808080;}.yui-skin-sam .yui-layout .yui-layout-unit div.yui-layout-bd-nohd{border-top:1px solid #808080;}.yui-skin-sam .yui-layout .yui-layout-clip{position:absolute;height:20px;background-color:#EDF5FF;display:none;border:1px solid #808080;}.yui-skin-sam .yui-layout div.yui-layout-ft{border:1px solid #808080;border-top:none;*border-top-width:0;background-color:#f2f2f2;}.yui-skin-sam .yui-layout-unit .yui-resize-handle{background-color:transparent;zoom:1;}.yui-skin-sam .yui-layout-unit .yui-resize-handle-r{right:0;top:0;background-image:none;zoom:1;}.yui-skin-sam .yui-layout-unit .yui-resize-handle-l{left:0;top:0;background-image:none;zoom:1;}.yui-skin-sam .yui-layout-unit .yui-resize-handle-b{right:0;bottom:0;background-image:none;}.yui-skin-sam .yui-layout-unit .yui-resize-handle-t{right:0;top:0;background-image:none;}.yui-skin-sam .yui-layout-unit .yui-resize-handle-r .yui-layout-resize-knob,.yui-skin-sam .yui-layout-unit .yui-resize-handle-l .yui-layout-resize-knob{position:absolute;height:16px;width:6px;top:45%;left:0;display:block;background:transparent url(layout_sprite.png) no-repeat 0 -5px;}.yui-skin-sam .yui-layout-unit .yui-resize-handle-t .yui-layout-resize-knob,.yui-skin-sam .yui-layout-unit .yui-resize-handle-b .yui-layout-resize-knob{position:absolute;height:6px;width:16px;left:45%;background:transparent url(layout_sprite.png) no-repeat -20px 0;zoom:1;}\n.yui-skin-sam .yui-log{padding:1em;width:31em;background-color:#AAA;color:#000;border:1px solid black;font-family:monospace;font-size:77%;text-align:left;z-index:9000}.yui-skin-sam .yui-log-container{position:absolute;top:1em;right:1em}.yui-skin-sam .yui-log input{margin:0;padding:0;font-family:arial;font-size:100%;font-weight:normal}.yui-skin-sam .yui-log .yui-log-btns{position:relative;float:right;bottom:.25em}.yui-skin-sam .yui-log .yui-log-hd{margin-top:1em;padding:.5em;background-color:#575757}.yui-skin-sam .yui-log .yui-log-hd h4{margin:0;padding:0;font-size:108%;font-weight:bold;color:#FFF}.yui-skin-sam .yui-log .yui-log-bd{width:100%;height:20em;background-color:#FFF;border:1px solid gray;overflow:auto}.yui-skin-sam .yui-log p{margin:1px;padding:.1em}.yui-skin-sam .yui-log pre{margin:0;padding:0}.yui-skin-sam .yui-log pre.yui-log-verbose{white-space:pre-wrap;white-space:-moz-pre-wrap!important;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.yui-skin-sam .yui-log .yui-log-ft{margin-top:.5em}.yui-skin-sam .yui-log .yui-log-ft .yui-log-sourcefilters{width:100%;border-top:1px solid #575757;margin-top:.75em;padding-top:.75em}.yui-skin-sam .yui-log .yui-log-filtergrp{margin-right:.5em}.yui-skin-sam .yui-log .info{background-color:#a7cc25}.yui-skin-sam .yui-log .warn{background-color:#f58516}.yui-skin-sam .yui-log .error{background-color:#e32f0b}.yui-skin-sam .yui-log .time{background-color:#a6c9d7}.yui-skin-sam .yui-log .window{background-color:#f2e886}\n.yuimenu{top:-999em;left:-999em;}.yuimenubar{position:static;}.yuimenu .yuimenu,.yuimenubar .yuimenu{position:absolute;}.yuimenubar li,.yuimenu li{list-style-type:none;}.yuimenubar ul,.yuimenu ul,.yuimenubar li,.yuimenu li,.yuimenu h6,.yuimenubar h6{margin:0;padding:0;}.yuimenuitemlabel,.yuimenubaritemlabel{text-align:left;white-space:nowrap;}.yuimenubar ul{*zoom:1;}.yuimenubar .yuimenu ul{*zoom:normal;}.yuimenubar>.bd>ul:after{content:\".\";display:block;clear:both;visibility:hidden;height:0;line-height:0;}.yuimenubaritem{float:left;}.yuimenubaritemlabel,.yuimenuitemlabel{display:block;}.yuimenuitemlabel .helptext{font-style:normal;display:block;margin:-1em 0 0 10em;}.yui-menu-shadow{position:absolute;visibility:hidden;z-index:-1;}.yui-menu-shadow-visible{top:2px;right:-3px;left:-3px;bottom:-3px;visibility:visible;}.hide-scrollbars *{overflow:hidden;}.hide-scrollbars select{display:none;}.yuimenu.show-scrollbars,.yuimenubar.show-scrollbars{overflow:visible;}.yuimenu.hide-scrollbars .yui-menu-shadow,.yuimenubar.hide-scrollbars .yui-menu-shadow{overflow:hidden;}.yuimenu.show-scrollbars .yui-menu-shadow,.yuimenubar.show-scrollbars .yui-menu-shadow{overflow:auto;}.yui-overlay.yui-force-redraw{margin-bottom:1px;}.yui-skin-sam .yuimenubar{font-size:93%;line-height:2;*line-height:1.9;border:solid 1px #808080;background:url(sprite.png) repeat-x 0 0;}.yui-skin-sam .yuimenubarnav .yuimenubaritem{border-right:solid 1px #ccc;}.yui-skin-sam .yuimenubaritemlabel{padding:0 10px;color:#000;text-decoration:none;cursor:default;border-style:solid;border-color:#808080;border-width:1px 0;*position:relative;margin:-1px 0;}.yui-skin-sam .yuimenubaritemlabel:visited{color:#000;}.yui-skin-sam .yuimenubarnav .yuimenubaritemlabel{padding-right:20px;*display:inline-block;}.yui-skin-sam .yuimenubarnav .yuimenubaritemlabel-hassubmenu{background:url(menubaritem_submenuindicator.png) right center no-repeat;}.yui-skin-sam .yuimenubaritem-selected{background:url(sprite.png) repeat-x 0 -1700px;}.yui-skin-sam .yuimenubaritemlabel-selected{border-color:#7D98B8;}.yui-skin-sam .yuimenubarnav .yuimenubaritemlabel-selected{border-left-width:1px;margin-left:-1px;*left:-1px;}.yui-skin-sam .yuimenubaritemlabel-disabled,.yui-skin-sam .yuimenubaritemlabel-disabled:visited{cursor:default;color:#A6A6A6;}.yui-skin-sam .yuimenubarnav .yuimenubaritemlabel-hassubmenu-disabled{background-image:url(menubaritem_submenuindicator_disabled.png);}.yui-skin-sam .yuimenu{font-size:93%;line-height:1.5;*line-height:1.45;}.yui-skin-sam .yuimenubar .yuimenu,.yui-skin-sam .yuimenu .yuimenu{font-size:100%;}.yui-skin-sam .yuimenu .bd{*zoom:1;_zoom:normal;border:solid 1px #808080;background-color:#fff;}.yui-skin-sam .yuimenu .yuimenu .bd{*zoom:normal;}.yui-skin-sam .yuimenu ul{padding:3px 0;border-width:1px 0 0 0;border-color:#ccc;border-style:solid;}.yui-skin-sam .yuimenu ul.first-of-type{border-width:0;}.yui-skin-sam .yuimenu h6{font-weight:bold;border-style:solid;border-color:#ccc;border-width:1px 0 0 0;color:#a4a4a4;padding:3px 10px 0 10px;}.yui-skin-sam .yuimenu ul.hastitle,.yui-skin-sam .yuimenu h6.first-of-type{border-width:0;}.yui-skin-sam .yuimenu .yui-menu-body-scrolled{border-color:#ccc #808080;overflow:hidden;}.yui-skin-sam .yuimenu .topscrollbar,.yui-skin-sam .yuimenu .bottomscrollbar{height:16px;border:solid 1px #808080;background:#fff url(sprite.png) no-repeat 0 0;}.yui-skin-sam .yuimenu .topscrollbar{border-bottom-width:0;background-position:center -950px;}.yui-skin-sam .yuimenu .topscrollbar_disabled{background-position:center -975px;}.yui-skin-sam .yuimenu .bottomscrollbar{border-top-width:0;background-position:center -850px;}.yui-skin-sam .yuimenu .bottomscrollbar_disabled{background-position:center -875px;}.yui-skin-sam .yuimenuitem{_border-bottom:solid 1px #fff;}.yui-skin-sam .yuimenuitemlabel{padding:0 20px;color:#000;text-decoration:none;cursor:default;}.yui-skin-sam .yuimenuitemlabel:visited{color:#000;}.yui-skin-sam .yuimenuitemlabel .helptext{margin-top:-1.5em;*margin-top:-1.45em;}.yui-skin-sam .yuimenuitem-hassubmenu{background-image:url(menuitem_submenuindicator.png);background-position:right center;background-repeat:no-repeat;}.yui-skin-sam .yuimenuitem-checked{background-image:url(menuitem_checkbox.png);background-position:left center;background-repeat:no-repeat;}.yui-skin-sam .yui-menu-shadow-visible{background-color:#000;opacity:.12;filter:alpha(opacity=12);}.yui-skin-sam .yuimenuitem-selected{background-color:#B3D4FF;}.yui-skin-sam .yuimenuitemlabel-disabled,.yui-skin-sam .yuimenuitemlabel-disabled:visited{cursor:default;color:#A6A6A6;}.yui-skin-sam .yuimenuitem-hassubmenu-disabled{background-image:url(menuitem_submenuindicator_disabled.png);}.yui-skin-sam .yuimenuitem-checked-disabled{background-image:url(menuitem_checkbox_disabled.png);}\n.yui-skin-sam .yui-pg-container{display:block;margin:6px 0;white-space:nowrap}.yui-skin-sam .yui-pg-first,.yui-skin-sam .yui-pg-previous,.yui-skin-sam .yui-pg-next,.yui-skin-sam .yui-pg-last,.yui-skin-sam .yui-pg-current,.yui-skin-sam .yui-pg-pages,.yui-skin-sam .yui-pg-page{display:inline-block;font-family:arial,helvetica,clean,sans-serif;padding:3px 6px;zoom:1}.yui-skin-sam .yui-pg-pages{padding:0}.yui-skin-sam .yui-pg-current{padding:3px 0}.yui-skin-sam a.yui-pg-first:link,.yui-skin-sam a.yui-pg-first:visited,.yui-skin-sam a.yui-pg-first:active,.yui-skin-sam a.yui-pg-first:hover,.yui-skin-sam a.yui-pg-previous:link,.yui-skin-sam a.yui-pg-previous:visited,.yui-skin-sam a.yui-pg-previous:active,.yui-skin-sam a.yui-pg-previous:hover,.yui-skin-sam a.yui-pg-next:link,.yui-skin-sam a.yui-pg-next:visited,.yui-skin-sam a.yui-pg-next:active,.yui-skin-sam a.yui-pg-next:hover,.yui-skin-sam a.yui-pg-last:link,.yui-skin-sam a.yui-pg-last:visited,.yui-skin-sam a.yui-pg-last:active,.yui-skin-sam a.yui-pg-last:hover,.yui-skin-sam a.yui-pg-page:link,.yui-skin-sam a.yui-pg-page:visited,.yui-skin-sam a.yui-pg-page:active,.yui-skin-sam a.yui-pg-page:hover{color:#06c;text-decoration:underline;outline:0}.yui-skin-sam span.yui-pg-first,.yui-skin-sam span.yui-pg-previous,.yui-skin-sam span.yui-pg-next,.yui-skin-sam span.yui-pg-last{color:#a6a6a6}.yui-skin-sam .yui-pg-page{background-color:#fff;border:1px solid #cbcbcb;padding:2px 6px;text-decoration:none}.yui-skin-sam .yui-pg-current-page{background-color:transparent;border:0;font-weight:bold;padding:3px 6px}.yui-skin-sam .yui-pg-page{margin-left:1px;margin-right:1px}.yui-skin-sam .yui-pg-first,.yui-skin-sam .yui-pg-previous{padding-left:0}.yui-skin-sam .yui-pg-next,.yui-skin-sam .yui-pg-last{padding-right:0}.yui-skin-sam .yui-pg-current,.yui-skin-sam .yui-pg-rpp-options{margin-left:1em;margin-right:1em}\n.yui-skin-sam .yui-pv{background-color:#4a4a4a;font-family:arial;position:relative;width:99%;z-index:1000;margin-bottom:1em;overflow:hidden;}.yui-skin-sam .yui-pv .hd{background:url(header_background.png) repeat-x;min-height:30px;overflow:hidden;zoom:1;padding:2px 0;}.yui-skin-sam .yui-pv .hd h4{padding:8px 10px;margin:0;font:bold 14px arial;color:#fff;}.yui-skin-sam .yui-pv .hd a{background:#3f6bc3;font:bold 11px arial;color:#fff;padding:4px;margin:3px 10px 0 0;border:1px solid #3f567d;cursor:pointer;display:block;float:right;}.yui-skin-sam .yui-pv .hd span{display:none;}.yui-skin-sam .yui-pv .hd span.yui-pv-busy{height:18px;width:18px;background:url(wait.gif) no-repeat;overflow:hidden;display:block;float:right;margin:4px 10px 0 0;}.yui-skin-sam .yui-pv .hd:after,.yui-pv .bd:after,.yui-skin-sam .yui-pv-chartlegend dl:after{content:'.';visibility:hidden;clear:left;height:0;display:block;}.yui-skin-sam .yui-pv .bd{position:relative;zoom:1;overflow-x:auto;overflow-y:hidden;}.yui-skin-sam .yui-pv .yui-pv-table{padding:0 10px;margin:5px 0 10px 0;}.yui-skin-sam .yui-pv .yui-pv-table .yui-dt-bd td{color:#eeee5c;font:12px arial;}.yui-skin-sam .yui-pv .yui-pv-table tr.yui-dt-odd{background:#929292;}.yui-skin-sam .yui-pv .yui-pv-table tr.yui-dt-even{background:#58637a;}.yui-skin-sam .yui-pv .yui-pv-table tr.yui-dt-even td.yui-dt-asc,.yui-skin-sam .yui-pv .yui-pv-table tr.yui-dt-even td.yui-dt-desc{background:#384970;}.yui-skin-sam .yui-pv .yui-pv-table tr.yui-dt-odd td.yui-dt-asc,.yui-skin-sam .yui-pv .yui-pv-table tr.yui-dt-odd td.yui-dt-desc{background:#6F6E6E;}.yui-skin-sam .yui-pv .yui-pv-table .yui-dt-hd th{background-image:none;background:#2E2D2D;}.yui-skin-sam .yui-pv th.yui-dt-asc .yui-dt-liner{background:transparent url(asc.gif) no-repeat scroll right center;}.yui-skin-sam .yui-pv th.yui-dt-desc .yui-dt-liner{background:transparent url(desc.gif) no-repeat scroll right center;}.yui-skin-sam .yui-pv .yui-pv-table .yui-dt-hd th a{color:#fff;font:bold 12px arial;}.yui-skin-sam .yui-pv .yui-pv-table .yui-dt-hd th.yui-dt-asc,.yui-skin-sam .yui-pv .yui-pv-table .yui-dt-hd th.yui-dt-desc{background:#333;}.yui-skin-sam .yui-pv-chartcontainer{padding:0 10px;}.yui-skin-sam .yui-pv-chart{height:250px;clear:right;margin:5px 0 0 0;color:#fff;}.yui-skin-sam .yui-pv-chartlegend div{float:right;margin:0 0 0 10px;_width:250px;}.yui-skin-sam .yui-pv-chartlegend dl{border:1px solid #999;padding:.2em 0 .2em .5em;zoom:1;margin:5px 0;}.yui-skin-sam .yui-pv-chartlegend dt{float:left;display:block;height:.7em;width:.7em;padding:0;}.yui-skin-sam .yui-pv-chartlegend dd{float:left;display:block;color:#fff;margin:0 1em 0 .5em;padding:0;font:11px arial;}.yui-skin-sam .yui-pv-minimized{height:35px;}.yui-skin-sam .yui-pv-minimized .bd{top:-3000px;}.yui-skin-sam .yui-pv-minimized .hd a.yui-pv-refresh{display:none;}\n.yui-pb-bar,.yui-pb-mask{width:100%;height:100%}.yui-pb{position:relative;top:0;left:0;width:200px;height:20px;padding:0;border:0;margin:0;text-align:left}.yui-pb-mask{position:absolute;top:0;left:0;z-index:2}.yui-pb-mask div{width:50%;height:50%;background-repeat:no-repeat;padding:0;position:absolute}.yui-pb-tl{background-position:top left}.yui-pb-tr{background-position:top right;left:50%}.yui-pb-bl{background-position:bottom left;top:50%}.yui-pb-br{background-position:bottom right;left:50%;top:50%}.yui-pb-bar{margin:0;position:absolute;left:0;top:0;z-index:1}.yui-pb-ltr .yui-pb-bar{_position:static}.yui-pb-rtl .yui-pb-bar{background-position:right}.yui-pb-btt .yui-pb-bar{background-position:left bottom}.yui-pb-bar{background-color:blue}.yui-pb{border:thin solid #808080}.yui-skin-sam .yui-pb{background-color:transparent;border:solid #808080;border-width:1px 0}.yui-skin-sam .yui-pb-rtl,.yui-skin-sam .yui-pb-ltr{background-image:url(back-h.png);background-repeat:repeat-x}.yui-skin-sam .yui-pb-ttb,.yui-skin-sam .yui-pb-btt{background-image:url(back-v.png);background-repeat:repeat-y}.yui-skin-sam .yui-pb-bar{background-color:transparent}.yui-skin-sam .yui-pb-ltr .yui-pb-bar,.yui-skin-sam .yui-pb-rtl .yui-pb-bar{background-image:url(bar-h.png);background-repeat:repeat-x}.yui-skin-sam .yui-pb-ttb .yui-pb-bar,.yui-skin-sam .yui-pb-btt .yui-pb-bar{background-image:url(bar-v.png);background-repeat:repeat-y}.yui-skin-sam .yui-pb-mask{border:solid #808080;border-width:0 1px;margin:0 -1px}.yui-skin-sam .yui-pb-caption{color:#000;text-align:center;margin:0 auto}.yui-skin-sam .yui-pb-range{color:#a6a6a6}\n.yui-resize{position:relative;zoom:1;z-index:0;}.yui-resize-wrap{zoom:1;}.yui-draggable{cursor:move;}.yui-resize .yui-resize-handle{position:absolute;z-index:1;font-size:0;margin:0;padding:0;zoom:1;height:1px;width:1px;}.yui-resize .yui-resize-handle-br{height:5px;width:5px;bottom:0;right:0;cursor:se-resize;z-index:2;zoom:1;}.yui-resize .yui-resize-handle-bl{height:5px;width:5px;bottom:0;left:0;cursor:sw-resize;z-index:2;zoom:1;}.yui-resize .yui-resize-handle-tl{height:5px;width:5px;top:0;left:0;cursor:nw-resize;z-index:2;zoom:1;}.yui-resize .yui-resize-handle-tr{height:5px;width:5px;top:0;right:0;cursor:ne-resize;z-index:2;zoom:1;}.yui-resize .yui-resize-handle-r{width:5px;height:100%;top:0;right:0;cursor:e-resize;zoom:1;}.yui-resize .yui-resize-handle-l{height:100%;width:5px;top:0;left:0;cursor:w-resize;zoom:1;}.yui-resize .yui-resize-handle-b{width:100%;height:5px;bottom:0;right:0;cursor:s-resize;zoom:1;}.yui-resize .yui-resize-handle-t{width:100%;height:5px;top:0;right:0;cursor:n-resize;zoom:1;}.yui-resize-proxy{position:absolute;border:1px dashed #000;visibility:hidden;z-index:1000;}.yui-resize-hover .yui-resize-handle,.yui-resize-hidden .yui-resize-handle{opacity:0;filter:alpha(opacity=0);}.yui-resize-ghost{opacity:.5;filter:alpha(opacity=50);}.yui-resize-knob .yui-resize-handle{height:6px;width:6px;}.yui-resize-knob .yui-resize-handle-tr{right:-3px;top:-3px;}.yui-resize-knob .yui-resize-handle-tl{left:-3px;top:-3px;}.yui-resize-knob .yui-resize-handle-bl{left:-3px;bottom:-3px;}.yui-resize-knob .yui-resize-handle-br{right:-3px;bottom:-3px;}.yui-resize-knob .yui-resize-handle-t{left:45%;top:-3px;}.yui-resize-knob .yui-resize-handle-r{right:-3px;top:45%;}.yui-resize-knob .yui-resize-handle-l{left:-3px;top:45%;}.yui-resize-knob .yui-resize-handle-b{left:45%;bottom:-3px;}.yui-resize-status{position:absolute;top:-999px;left:-999px;padding:2px;font-size:80%;display:none;zoom:1;z-index:9999;}.yui-resize-status strong,.yui-resize-status em{font-weight:normal;font-style:normal;padding:1px;zoom:1;}.yui-skin-sam .yui-resize .yui-resize-handle{background-color:#F2F2F2;zoom:1;}.yui-skin-sam .yui-resize .yui-resize-handle-active{background-color:#7D98B8;zoom:1;}.yui-skin-sam .yui-resize .yui-resize-handle-l,.yui-skin-sam .yui-resize .yui-resize-handle-r,.yui-skin-sam .yui-resize .yui-resize-handle-l-active,.yui-skin-sam .yui-resize .yui-resize-handle-r-active{height:100%;zoom:1;}.yui-skin-sam .yui-resize-knob .yui-resize-handle{border:1px solid #808080;}.yui-skin-sam .yui-resize-hover .yui-resize-handle-active{opacity:1;filter:alpha(opacity=100);}.yui-skin-sam .yui-resize-proxy{border:1px dashed #426FD9;}.yui-skin-sam .yui-resize-status{border:1px solid #A6982B;border-top:1px solid #D4C237;background-color:#FFEE69;color:#000;}.yui-skin-sam .yui-resize-status strong,.yui-skin-sam .yui-resize-status em{float:left;display:block;clear:both;padding:1px;text-align:center;}.yui-skin-sam .yui-resize .yui-resize-handle-inner-r,.yui-skin-sam .yui-resize .yui-resize-handle-inner-l{background:transparent url(layout_sprite.png) no-repeat 0 -5px;height:16px;width:5px;position:absolute;top:45%;}.yui-skin-sam .yui-resize .yui-resize-handle-inner-t,.yui-skin-sam .yui-resize .yui-resize-handle-inner-b{background:transparent url(layout_sprite.png) no-repeat -20px 0;height:5px;width:16px;position:absolute;left:50%;}.yui-skin-sam .yui-resize .yui-resize-handle-br{background-image:url(layout_sprite.png);background-repeat:no-repeat;background-position:-22px -62px;}.yui-skin-sam .yui-resize .yui-resize-handle-tr{background-image:url(layout_sprite.png);background-repeat:no-repeat;background-position:-22px -42px;}.yui-skin-sam .yui-resize .yui-resize-handle-tl{background-image:url(layout_sprite.png);background-repeat:no-repeat;background-position:-22px -82px;}.yui-skin-sam .yui-resize .yui-resize-handle-bl{background-image:url(layout_sprite.png);background-repeat:no-repeat;background-position:-22px -23px;}.yui-skin-sam .yui-resize-knob .yui-resize-handle-t,.yui-skin-sam .yui-resize-knob .yui-resize-handle-r,.yui-skin-sam .yui-resize-knob .yui-resize-handle-b,.yui-skin-sam .yui-resize-knob .yui-resize-handle-l,.yui-skin-sam .yui-resize-knob .yui-resize-handle-tl,.yui-skin-sam .yui-resize-knob .yui-resize-handle-tr,.yui-skin-sam .yui-resize-knob .yui-resize-handle-bl,.yui-skin-sam .yui-resize-knob .yui-resize-handle-br,.yui-skin-sam .yui-resize-knob .yui-resize-handle-inner-t,.yui-skin-sam .yui-resize-knob .yui-resize-handle-inner-r,.yui-skin-sam .yui-resize-knob .yui-resize-handle-inner-b,.yui-skin-sam .yui-resize-knob .yui-resize-handle-inner-l,.yui-skin-sam .yui-resize-knob .yui-resize-handle-inner-tl,.yui-skin-sam .yui-resize-knob .yui-resize-handle-inner-tr,.yui-skin-sam .yui-resize-knob .yui-resize-handle-inner-bl,.yui-skin-sam .yui-resize-knob .yui-resize-handle-inner-br{background-image:none;}.yui-skin-sam .yui-resize-knob .yui-resize-handle-l,.yui-skin-sam .yui-resize-knob .yui-resize-handle-r,.yui-skin-sam .yui-resize-knob .yui-resize-handle-l-active,.yui-skin-sam .yui-resize-knob .yui-resize-handle-r-active{height:6px;width:6px;}.yui-skin-sam .yui-resize-textarea .yui-resize-handle-r{right:-8px;}.yui-skin-sam .yui-resize-textarea .yui-resize-handle-b{bottom:-8px;}.yui-skin-sam .yui-resize-textarea .yui-resize-handle-br{right:-8px;bottom:-8px;}\n.yui-busy{cursor:wait!important;}.yui-toolbar-container fieldset,.yui-editor-container fieldset{padding:0;margin:0;border:0;}.yui-toolbar-container legend{display:none;}.yui-skin-sam .yui-toolbar-container .yui-button button,.yui-skin-sam .yui-toolbar-container .yui-button a,.yui-skin-sam .yui-toolbar-container .yui-button a:visited{font-size:0;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-select button,.yui-skin-sam .yui-toolbar-container .yui-toolbar-select a,.yui-skin-sam .yui-toolbar-container .yui-toolbar-select a:visited,.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton button,.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton a,.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton a:visited{font-size:12px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton a.up,.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton a.down{font-size:0;line-height:0;padding:0;}.yui-toolbar-container .yui-toolbar-subcont{padding:.25em 0;zoom:1;}.yui-toolbar-container-collapsed .yui-toolbar-subcont{display:none;}.yui-toolbar-container .yui-toolbar-subcont:after{display:block;clear:both;visibility:hidden;content:'.';height:0;}.yui-toolbar-container span.yui-toolbar-draghandle{cursor:move;border-left:1px solid #999;border-right:1px solid #999;overflow:hidden;text-indent:77777px;width:2px;height:20px;display:block;clear:none;float:left;margin:0 0 0 .2em;}.yui-toolbar-container .yui-toolbar-titlebar.draggable{cursor:move;}.yui-toolbar-container .yui-toolbar-titlebar{position:relative;}.yui-toolbar-container .yui-toolbar-titlebar h2{font-weight:bold;letter-spacing:0;border:none;color:#000;margin:0;padding:.2em;}.yui-toolbar-container .yui-toolbar-titlebar h2 a{text-decoration:none;color:#000;cursor:default;}.yui-toolbar-container.yui-toolbar-grouped span.yui-toolbar-draghandle{height:40px;}.yui-toolbar-container .yui-toolbar-group{float:left;margin-right:.5em;zoom:1;}.yui-toolbar-container .yui-toolbar-group:after{display:block;clear:both;visibility:hidden;content:'.';height:0;}.yui-toolbar-container .yui-toolbar-group h3{font-size:75%;padding:0 0 0 .25em;margin:0;}.yui-toolbar-container span.yui-toolbar-separator{width:2px;padding:0;height:18px;margin:.2em 0 .2em .1em;display:none;float:left;}.yui-toolbar-container.yui-toolbar-grouped span.yui-toolbar-separator{height:45px;*height:50px;}.yui-toolbar-container.yui-toolbar-grouped .yui-toolbar-group span.yui-toolbar-separator{height:18px;display:block;}.yui-toolbar-container ul li{margin:0;padding:0;list-style-type:none;}.yui-toolbar-container .yui-toolbar-nogrouplabels h3{display:none;}.yui-toolbar-container .yui-push-button,.yui-toolbar-container .yui-color-button,.yui-toolbar-container .yui-menu-button{position:relative;cursor:pointer;}.yui-toolbar-container .yui-button .first-child,.yui-toolbar-container .yui-button .first-child a{height:100%;width:100%;overflow:hidden;font-size:0;}.yui-toolbar-container .yui-button-disabled{cursor:default;}.yui-toolbar-container .yui-button-disabled .yui-toolbar-icon{opacity:.5;filter:alpha(opacity=50);}.yui-toolbar-container .yui-button-disabled .up,.yui-toolbar-container .yui-button-disabled .down{opacity:.5;filter:alpha(opacity=50);}.yui-toolbar-container .yui-button a{overflow:hidden;}.yui-toolbar-container .yui-toolbar-select .first-child a{cursor:pointer;}.yui-toolbar-fontname-arial{font-family:Arial;}.yui-toolbar-fontname-arial-black{font-family:Arial Black;}.yui-toolbar-fontname-comic-sans-ms{font-family:Comic Sans MS;}.yui-toolbar-fontname-courier-new{font-family:Courier New;}.yui-toolbar-fontname-times-new-roman{font-family:Times New Roman;}.yui-toolbar-fontname-verdana{font-family:Verdana;}.yui-toolbar-fontname-impact{font-family:Impact;}.yui-toolbar-fontname-lucida-console{font-family:Lucida Console;}.yui-toolbar-fontname-tahoma{font-family:Tahoma;}.yui-toolbar-fontname-trebuchet-ms{font-family:Trebuchet MS;}.yui-toolbar-container .yui-toolbar-spinbutton{position:relative;}.yui-toolbar-container .yui-toolbar-spinbutton .first-child a{z-index:0;opacity:1;}.yui-toolbar-container .yui-toolbar-spinbutton a.up,.yui-toolbar-container .yui-toolbar-spinbutton a.down{position:absolute;display:block;right:0;cursor:pointer;z-index:1;padding:0;margin:0;}.yui-toolbar-container .yui-overlay{position:absolute;}.yui-toolbar-container .yui-overlay ul li{margin:0;list-style-type:none;}.yui-toolbar-container{z-index:1;}.yui-editor-container .yui-editor-editable-container{position:relative;z-index:0;width:100%;}.yui-editor-container .yui-editor-masked{background-color:#CCC;height:100%;width:100%;position:absolute;top:0;left:0;opacity:.5;filter:alpha(opacity=50);}.yui-editor-container iframe{border:0;padding:0;margin:0;zoom:1;display:block;}.yui-editor-container .yui-editor-editable{padding:0;margin:0;}.yui-editor-container .dompath{font-size:85%;}.yui-editor-panel .hd{text-align:left;position:relative;}.yui-editor-panel .hd h3{font-weight:bold;padding:.25em 0 .25em .25em;margin:0;}.yui-editor-panel .bd{width:100%;zoom:1;position:relative;}.yui-editor-panel .bd div.yui-editor-body-cont{padding:.25em .1em;zoom:1;}.yui-editor-panel .bd .gecko form{overflow:auto;}.yui-editor-panel .bd div.yui-editor-body-cont:after{display:block;clear:both;visibility:hidden;content:'.';height:0;}.yui-editor-panel .ft{text-align:right;width:99%;float:left;clear:both;}.yui-editor-panel .ft span.tip{display:block;position:relative;padding:.5em .5em .5em 23px;text-align:left;zoom:1;}.yui-editor-panel label{clear:both;float:left;padding:0;width:100%;text-align:left;zoom:1;}.yui-editor-panel .gecko label{overflow:auto;}.yui-editor-panel label strong{float:left;width:6em;}.yui-editor-panel .removeLink{width:80%;text-align:right;}.yui-editor-panel label input{margin-left:.25em;float:left;}.yui-editor-panel .yui-toolbar-group{margin-bottom:.75em;}.yui-editor-panel .height-width{float:left;}.yui-editor-panel .height-width span{font-style:italic;display:block;float:left;overflow:visible;}.yui-editor-panel .height-width span.info{font-size:70%;margin-top:3px;float:none;}\n.yui-editor-panel .yui-toolbar-bordersize,.yui-editor-panel .yui-toolbar-bordertype{font-size:75%;}.yui-editor-panel .yui-toolbar-container span.yui-toolbar-separator{border:none;}.yui-editor-panel .yui-toolbar-bordersize span a span,.yui-editor-panel .yui-toolbar-bordertype span a span{display:block;height:8px;left:4px;position:absolute;top:3px;_top:-5px;width:24px;text-indent:52px;font-size:0;}.yui-editor-panel .yui-toolbar-bordertype span a span.yui-toolbar-bordertype-solid{border-bottom:1px solid black;}.yui-editor-panel .yui-toolbar-bordertype span a span.yui-toolbar-bordertype-dotted{border-bottom:1px dotted black;}.yui-editor-panel .yui-toolbar-bordertype span a span.yui-toolbar-bordertype-dashed{border-bottom:1px dashed black;}.yui-editor-panel .yui-toolbar-bordersize span a span.yui-toolbar-bordersize-0{*top:0;text-indent:0;font-size:75%;}.yui-editor-panel .yui-toolbar-bordersize span a span.yui-toolbar-bordersize-1{border-bottom:1px solid black;}.yui-editor-panel .yui-toolbar-bordersize span a span.yui-toolbar-bordersize-2{border-bottom:2px solid black;}.yui-editor-panel .yui-toolbar-bordersize span a span.yui-toolbar-bordersize-3{top:2px;*top:-5px;border-bottom:3px solid black;}.yui-editor-panel .yui-toolbar-bordersize span a span.yui-toolbar-bordersize-4{top:1px;*top:-5px;border-bottom:4px solid black;}.yui-editor-panel .yui-toolbar-bordersize span a span.yui-toolbar-bordersize-5{top:1px;*top:-5px;border-bottom:5px solid black;}.yui-toolbar-container .yui-toolbar-bordersize-menu,.yui-toolbar-container .yui-toolbar-bordertype-menu{width:95px!important;}.yui-toolbar-bordersize-menu .yuimenuitemlabel,.yui-toolbar-bordertype-menu .yuimenuitemlabel,.yui-toolbar-bordersize-menu .yuimenuitemlabel,.yui-toolbar-bordertype-menu .yuimenuitemlabel:hover{margin:0 3px 7px 17px;}.yui-toolbar-bordersize-menu .yuimenuitemlabel .checkedindicator,.yui-toolbar-bordertype-menu .yuimenuitemlabel .checkedindicator{position:absolute;left:-12px;*top:14px;*left:0;}.yui-toolbar-bordersize-menu li.yui-toolbar-bordersize-1 a{border-bottom:1px solid black;height:14px;}.yui-toolbar-bordersize-menu li.yui-toolbar-bordersize-2 a{border-bottom:2px solid black;height:14px;}.yui-toolbar-bordersize-menu li.yui-toolbar-bordersize-3 a{border-bottom:3px solid black;height:14px;}.yui-toolbar-bordersize-menu li.yui-toolbar-bordersize-4 a{border-bottom:4px solid black;height:14px;}.yui-toolbar-bordersize-menu li.yui-toolbar-bordersize-5 a{border-bottom:5px solid black;height:14px;}.yui-toolbar-bordertype-menu li.yui-toolbar-bordertype-solid a{border-bottom:1px solid black;height:14px;}.yui-toolbar-bordertype-menu li.yui-toolbar-bordertype-dashed a{border-bottom:1px dashed black;height:14px;}.yui-toolbar-bordertype-menu li.yui-toolbar-bordertype-dotted a{border-bottom:1px dotted black;height:14px;}h2.yui-editor-skipheader,h3.yui-editor-skipheader{height:0;margin:0;padding:0;border:none;width:0;overflow:hidden;position:absolute;}.yui-toolbar-colors{width:133px;zoom:1;display:none;z-index:100;overflow:hidden;}.yui-toolbar-colors:after{display:block;clear:both;visibility:hidden;content:'.';height:0;}.yui-toolbar-colors a{height:9px;width:9px;float:left;display:block;overflow:hidden;text-indent:999px;margin:0;cursor:pointer;border:1px solid #F6F7EE;}.yui-toolbar-colors a:hover{border:1px solid black;}.yui-color-button-menu{overflow:visible;background-color:transparent;}.yui-toolbar-colors span{position:relative;display:block;padding:3px;overflow:hidden;float:left;width:100%;zoom:1;}.yui-toolbar-colors span:after{display:block;clear:both;visibility:hidden;content:'.';height:0;}.yui-toolbar-colors span em{height:35px;width:30px;float:left;display:block;overflow:hidden;text-indent:999px;margin:.75px;border:1px solid black;}.yui-toolbar-colors span strong{font-weight:normal;padding-left:3px;display:block;font-size:85%;float:left;width:65%;}.yui-toolbar-group-undoredo h3,.yui-toolbar-group-insertitem h3,.yui-toolbar-group-indentlist h3{width:68px;}.yui-toolbar-group-indentlist2 h3{width:122px;}.yui-toolbar-group-alignment h3{width:130px;}.yui-skin-sam .yui-editor-container{border:1px solid #808080;}.yui-skin-sam .yui-toolbar-container{zoom:1;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-titlebar{background:url(sprite.png) repeat-x 0 -200px;position:relative;}.yui-skin-sam .yui-editor-container .draggable .yui-toolbar-titlebar{cursor:move;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-titlebar h2{color:#000;font-weight:bold;margin:0;padding:.3em 1em;font-size:100%;text-align:left;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-group h3{color:#808080;font-size:75%;margin:1em 0 0;padding-bottom:0;padding-left:.25em;text-align:left;}.yui-toolbar-container span.yui-toolbar-separator{border:none;text-indent:33px;overflow:hidden;margin:0 .25em;}.yui-skin-sam .yui-toolbar-container{background-color:#F2F2F2;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-subcont{padding:0 1em .35em;border-bottom:1px solid #808080;}.yui-skin-sam .yui-toolbar-container-collapsed .yui-toolbar-titlebar{border-bottom:1px solid #808080;}.yui-skin-sam .yui-editor-container .visible .yui-menu-shadow,.yui-skin-sam .yui-editor-panel .visible .yui-menu-shadow{display:none;}.yui-skin-sam .yui-editor-container ul{list-style-type:none;margin:0;padding:0;}.yui-skin-sam .yui-editor-container ul li{list-style-type:none;margin:0;padding:0;}.yui-skin-sam .yui-toolbar-group ul li.yui-toolbar-groupitem{float:left;}.yui-skin-sam .yui-editor-container .dompath{background-color:#F2F2F2;border-top:1px solid #808080;color:#999;text-align:left;padding:.25em;}.yui-skin-sam .yui-toolbar-container .collapse{background:url(sprite.png) no-repeat 0 -400px;}.yui-skin-sam .yui-toolbar-container .collapsed{background:url(sprite.png) no-repeat 0 -350px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-titlebar span.collapse{cursor:pointer;position:absolute;top:4px;right:2px;display:block;overflow:hidden;height:15px;width:15px;text-indent:9999px;}\n.yui-skin-sam .yui-toolbar-container .yui-push-button,.yui-skin-sam .yui-toolbar-container .yui-color-button,.yui-skin-sam .yui-toolbar-container .yui-menu-button{background:url(sprite.png) repeat-x 0 0;position:relative;display:block;height:22px;width:30px;_font-size:0;margin:0;border-color:#808080;color:#f2f2f2;border-style:solid;border-width:1px 0;zoom:1;}.yui-skin-sam .yui-toolbar-container .yui-push-button a,.yui-skin-sam .yui-toolbar-container .yui-color-button a,.yui-skin-sam .yui-toolbar-container .yui-menu-button a{padding-left:35px;height:20px;text-decoration:none;font-size:0;line-height:2;display:block;color:#000;overflow:hidden;white-space:nowrap;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton a,.yui-skin-sam .yui-toolbar-container .yui-toolbar-select a{font-size:12px;}.yui-skin-sam .yui-toolbar-container .yui-push-button .first-child,.yui-skin-sam .yui-toolbar-container .yui-color-button .first-child,.yui-skin-sam .yui-toolbar-container .yui-menu-button .first-child{border-color:#808080;border-style:solid;border-width:0 1px;margin:0 -1px;display:block;position:relative;}.yui-skin-sam .yui-toolbar-container .yui-push-button-disabled .first-child,.yui-skin-sam .yui-toolbar-container .yui-color-button-disabled .first-child,.yui-skin-sam .yui-toolbar-container .yui-menu-button-disabled .first-child{border-color:#ccc;}.yui-skin-sam .yui-toolbar-container .yui-push-button-disabled a,.yui-skin-sam .yui-toolbar-container .yui-color-button-disabled a,.yui-skin-sam .yui-toolbar-container .yui-menu-button-disabled a{color:#A6A6A6;cursor:default;}.yui-skin-sam .yui-toolbar-container .yui-push-button-disabled,.yui-skin-sam .yui-toolbar-container .yui-color-button-disabled,.yui-skin-sam .yui-toolbar-container .yui-menu-button-disabled{border-color:#ccc;}.yui-skin-sam .yui-toolbar-container .yui-button .first-child{*left:0;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-fontname{width:135px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-heading{width:92px;}.yui-skin-sam .yui-toolbar-container .yui-button-hover{background:url(sprite.png) repeat-x 0 -1300px;border-color:#808080;}.yui-skin-sam .yui-toolbar-container .yui-button-selected{background:url(sprite.png) repeat-x 0 -1700px;border-color:#808080;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-nogrouplabels h3{display:none;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-nogrouplabels .yui-toolbar-group{margin-top:.75em;}.yui-skin-sam .yui-toolbar-container .yui-push-button span.yui-toolbar-icon,.yui-skin-sam .yui-toolbar-container .yui-color-button span.yui-toolbar-icon,.yui-skin-sam .yui-toolbar-container .yui-menu-button span.yui-toolbar-icon{display:block;position:absolute;top:2px;height:18px;width:18px;overflow:hidden;background:url(editor-sprite.gif) no-repeat 30px 30px;}.yui-skin-sam .yui-toolbar-container .yui-button-selected span.yui-toolbar-icon,.yui-skin-sam .yui-toolbar-container .yui-button-hover span.yui-toolbar-icon{background-image:url(editor-sprite-active.gif);}.yui-skin-sam .yui-toolbar-container .visible .yuimenuitemlabel{cursor:pointer;color:#000;*position:relative;}.yui-skin-sam .yui-toolbar-container .yui-button-menu{background-color:#fff;}.yui-skin-sam .yui-toolbar-container .yui-button-menu .yui-menu-body-scrolled{position:relative;}.yui-skin-sam div.yuimenu li.selected{background-color:#B3D4FF;}.yui-skin-sam div.yuimenu li.selected a.selected{color:#000;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-bold span.yui-toolbar-icon{background-position:0 0;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-strikethrough span.yui-toolbar-icon{background-position:0 -108px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-italic span.yui-toolbar-icon{background-position:0 -36px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-undo span.yui-toolbar-icon{background-position:0 -1326px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-redo span.yui-toolbar-icon{background-position:0 -1355px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-underline span.yui-toolbar-icon{background-position:0 -72px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-subscript span.yui-toolbar-icon{background-position:0 -180px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-superscript span.yui-toolbar-icon{background-position:0 -144px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-forecolor span.yui-toolbar-icon{background-position:0 -216px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-backcolor span.yui-toolbar-icon{background-position:0 -288px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-justifyleft span.yui-toolbar-icon{background-position:0 -324px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-justifycenter span.yui-toolbar-icon{background-position:0 -360px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-justifyright span.yui-toolbar-icon{background-position:0 -396px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-justifyfull span.yui-toolbar-icon{background-position:0 -432px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-indent span.yui-toolbar-icon{background-position:0 -720px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-outdent span.yui-toolbar-icon{background-position:0 -684px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-createlink span.yui-toolbar-icon{background-position:0 -792px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-insertimage span.yui-toolbar-icon{background-position:1px -756px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-left span.yui-toolbar-icon{background-position:0 -972px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-right span.yui-toolbar-icon{background-position:0 -936px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-inline span.yui-toolbar-icon{background-position:0 -900px;left:5px;}\n.yui-skin-sam .yui-toolbar-container .yui-toolbar-block span.yui-toolbar-icon{background-position:0 -864px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-bordercolor span.yui-toolbar-icon{background-position:0 -252px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-removeformat span.yui-toolbar-icon{background-position:0 -1080px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-hiddenelements span.yui-toolbar-icon{background-position:0 -1044px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-insertunorderedlist span.yui-toolbar-icon{background-position:0 -468px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-insertorderedlist span.yui-toolbar-icon{background-position:0 -504px;left:5px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton,.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton .first-child{width:35px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton .first-child a{padding-left:2px;text-align:left;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton span.yui-toolbar-icon{display:none;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton a.up,.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton a.down{right:2px;background:url(editor-sprite.gif) no-repeat 0 -1222px;overflow:hidden;height:6px;width:7px;min-height:0;padding:0;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton a.up{top:2px;background-position:0 -1222px;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-spinbutton a.down{bottom:2px;background-position:0 -1187px;}.yui-skin-sam .yui-toolbar-container select{height:22px;border:1px solid #808080;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-select .first-child a{padding-left:5px;text-align:left;}.yui-skin-sam .yui-toolbar-container .yui-toolbar-select span.yui-toolbar-icon{background:url(editor-sprite.gif) no-repeat 0 -1144px;overflow:hidden;right:-2px;top:0;height:20px;}.yui-skin-sam .yui-editor-panel .yui-color-button-menu .bd{background-color:transparent;border:none;width:135px;}.yui-skin-sam .yui-color-button-menu .yui-toolbar-colors{border:1px solid #808080;}.yui-skin-sam .yui-editor-panel{padding:0;margin:0;border:none;background-color:transparent;overflow:visible;position:absolute;}.yui-skin-sam .yui-editor-panel .hd{margin:10px 0 0;padding:0;border:none;}.yui-skin-sam .yui-editor-panel .hd h3{color:#000;border:1px solid #808080;background:url(sprite.png) repeat-x 0 -200px;width:99%;position:relative;margin:0;padding:3px 0 0 0;font-size:93%;text-indent:5px;height:20px;}.yui-skin-sam .yui-editor-panel .bd{background-color:#F2F2F2;border-left:1px solid #808080;border-right:1px solid #808080;width:99%;margin:0;padding:0;overflow:visible;}.yui-skin-sam .yui-editor-panel ul{list-style-type:none;margin:0;padding:0;}.yui-skin-sam .yui-editor-panel ul li{margin:0;padding:0;}.yui-skin-sam .yui-editor-panel .yui-toolbar-container .yui-toolbar-subcont{padding:0;border:none;margin-top:.35em;}.yui-skin-sam .yui-editor-panel .yui-toolbar-bordersize,.yui-skin-sam .yui-editor-panel .yui-toolbar-bordertype{width:50px;}.yui-skin-sam .yui-editor-panel label{display:block;float:none;padding:4px 0;margin-bottom:7px;}.yui-skin-sam .yui-editor-panel label strong{font-weight:normal;font-size:93%;text-align:right;padding-top:2px;}.yui-skin-sam .yui-editor-panel label input{width:75%;}.yui-skin-sam .yui-editor-panel .createlink_target,.yui-skin-sam .yui-editor-panel .insertimage_target{width:auto;margin-right:5px;}.yui-skin-sam .yui-editor-panel .removeLink{width:98%;}.yui-skin-sam .yui-editor-panel label input.warning{background-color:#FFEE69;}.yui-skin-sam .yui-editor-panel .yui-toolbar-group h3{color:#000;float:left;font-weight:normal;font-size:93%;margin:5px 0 0 0;padding:0 3px 0 0;text-align:right;}.yui-skin-sam .yui-editor-panel .height-width h3{margin:3px 0 0 10px;}.yui-skin-sam .yui-editor-panel .height-width{margin:3px 0 0 35px;*margin-left:14px;width:42%;*width:44%;}.yui-skin-sam .yui-editor-panel .yui-toolbar-group-border{width:190px;}.yui-skin-sam .yui-editor-panel .no-button .yui-toolbar-group-border{width:210px;}.yui-skin-sam .yui-editor-panel .yui-toolbar-group-padding{width:203px;_width:198px;}.yui-skin-sam .yui-editor-panel .no-button .yui-toolbar-group-padding{width:172px;}.yui-skin-sam .yui-editor-panel .yui-toolbar-group-padding h3{margin-left:25px;*margin-left:12px;}.yui-skin-sam .yui-editor-panel .yui-toolbar-group-textflow{width:182px;}.yui-skin-sam .yui-editor-panel .hd{background:none;}.yui-skin-sam .yui-editor-panel .ft{background-color:#F2F2F2;border:1px solid #808080;border-top:none;padding:0;margin:0 0 2px 0;}.yui-skin-sam .yui-editor-panel .hd span.close{background:url(sprite.png) no-repeat 0 -300px;cursor:pointer;display:block;height:16px;overflow:hidden;position:absolute;right:5px;text-indent:500px;top:2px;width:26px;}.yui-skin-sam .yui-editor-panel .ft span.tip{background-color:#EDF5FF;border-top:1px solid #808080;font-size:85%;}.yui-skin-sam .yui-editor-panel .ft span.tip strong{display:block;float:left;margin:0 2px 8px 0;}.yui-skin-sam .yui-editor-panel .ft span.tip span.icon{background:url(editor-sprite.gif) no-repeat 0 -1260px;display:block;height:20px;left:2px;position:absolute;top:8px;width:20px;}.yui-skin-sam .yui-editor-panel .ft span.tip span.icon-info{background-position:2px -1260px;}.yui-skin-sam .yui-editor-panel .ft span.tip span.icon-warn{background-position:2px -1296px;}.yui-skin-sam .yui-editor-panel .hd span.knob{position:absolute;height:10px;width:28px;top:-10px;left:25px;text-indent:9999px;overflow:hidden;background:url(editor-knob.gif) no-repeat 0 0;}.yui-skin-sam .yui-editor-panel .yui-toolbar-container{float:left;width:100%;background-image:none;border:none;}.yui-skin-sam .yui-editor-panel .yui-toolbar-container .bd{background-color:#fff;}.yui-editor-blankimage{background-image:url(blankimage.png);}.yui-skin-sam .yui-editor-container .yui-resize-handle-br{height:11px;width:11px;background-position:-20px -60px;background-color:transparent;}.yui-h-slider,.yui-v-slider,.yui-region-slider{position:relative;}.yui-h-slider .yui-slider-thumb,.yui-v-slider .yui-slider-thumb,.yui-region-slider .yui-slider-thumb{position:absolute;cursor:default;}.yui-skin-sam .yui-h-slider{background:url(bg-h.gif) no-repeat 5px 0;height:28px;width:228px;}.yui-skin-sam .yui-h-slider .yui-slider-thumb{top:4px;}.yui-skin-sam .yui-v-slider{background:url(bg-v.gif) no-repeat 12px 0;height:228px;width:48px;}.yui-skin-sam .yui-region-slider{height:228px;width:228px;}\n.yui-navset .yui-nav li,.yui-navset .yui-navset-top .yui-nav li,.yui-navset .yui-navset-bottom .yui-nav li{margin:0 .5em 0 0}.yui-navset-left .yui-nav li,.yui-navset-right .yui-nav li{margin:0 0 .5em}.yui-navset .yui-content .yui-hidden{border:0;height:0;width:0;padding:0;position:absolute;left:-999999px;overflow:hidden;visibility:hidden}.yui-navset .yui-navset-left .yui-nav,.yui-navset .yui-navset-right .yui-nav,.yui-navset-left .yui-nav,.yui-navset-right .yui-nav{width:6em}.yui-navset-top .yui-nav,.yui-navset-bottom .yui-nav{width:auto}.yui-navset .yui-navset-left,.yui-navset-left{padding:0 0 0 6em}.yui-navset-right{padding:0 6em 0 0}.yui-navset-top,.yui-navset-bottom{padding:auto}.yui-nav,.yui-nav li{margin:0;padding:0;list-style:none}.yui-navset li em{font-style:normal}.yui-navset{position:relative;zoom:1}.yui-navset .yui-content,.yui-navset .yui-content div{zoom:1}.yui-navset .yui-content:after{content:'';display:block;clear:both}.yui-navset .yui-nav li,.yui-navset .yui-navset-top .yui-nav li,.yui-navset .yui-navset-bottom .yui-nav li{display:inline-block;display:-moz-inline-stack;*display:inline;vertical-align:bottom;cursor:pointer;zoom:1}.yui-navset-left .yui-nav li,.yui-navset-right .yui-nav li{display:block}.yui-navset .yui-nav a{position:relative}.yui-navset .yui-nav li a,.yui-navset-top .yui-nav li a,.yui-navset-bottom .yui-nav li a{display:block;display:inline-block;vertical-align:bottom;zoom:1}.yui-navset-left .yui-nav li a,.yui-navset-right .yui-nav li a{display:block}.yui-navset-bottom .yui-nav li a{vertical-align:text-top}.yui-navset .yui-nav li a em,.yui-navset-top .yui-nav li a em,.yui-navset-bottom .yui-nav li a em{display:block}.yui-navset .yui-navset-left .yui-nav,.yui-navset .yui-navset-right .yui-nav,.yui-navset-left .yui-nav,.yui-navset-right .yui-nav{position:absolute;z-index:1}.yui-navset-top .yui-nav,.yui-navset-bottom .yui-nav{position:static}.yui-navset .yui-navset-left .yui-nav,.yui-navset-left .yui-nav{left:0;right:auto}.yui-navset .yui-navset-right .yui-nav,.yui-navset-right .yui-nav{right:0;left:auto}.yui-skin-sam .yui-navset .yui-nav,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav{border:solid #2647a0;border-width:0 0 5px;zoom:1}.yui-skin-sam .yui-navset .yui-nav li,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav li{margin:0 .16em 0 0;padding:1px 0 0;zoom:1}.yui-skin-sam .yui-navset .yui-nav .selected,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav .selected{margin:0 .16em -1px 0}.yui-skin-sam .yui-navset .yui-nav a,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav a{background:#d8d8d8 url(sprite.png) repeat-x;border:solid #a3a3a3;border-width:0 1px;color:#000;position:relative;text-decoration:none}.yui-skin-sam .yui-navset .yui-nav a em,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav a em{border:solid #a3a3a3;border-width:1px 0 0;padding:.25em .75em;left:0;right:0;bottom:0;top:-1px;position:relative}.yui-skin-sam .yui-navset .yui-nav .selected a,.yui-skin-sam .yui-navset .yui-nav .selected a:focus,.yui-skin-sam .yui-navset .yui-nav .selected a:hover{background:#2647a0 url(sprite.png) repeat-x left -1400px;color:#fff}.yui-skin-sam .yui-navset .yui-nav a:hover,.yui-skin-sam .yui-navset .yui-nav a:focus{background:#bfdaff url(sprite.png) repeat-x left -1300px;outline:0}.yui-skin-sam .yui-navset .yui-nav .selected a em{padding:.35em .75em}.yui-skin-sam .yui-navset .yui-nav .selected a,.yui-skin-sam .yui-navset .yui-nav .selected a em{border-color:#243356}.yui-skin-sam .yui-navset .yui-content{background:#edf5ff}.yui-skin-sam .yui-navset .yui-content,.yui-skin-sam .yui-navset .yui-navset-top .yui-content{border:1px solid #808080;border-top-color:#243356;padding:.25em .5em}.yui-skin-sam .yui-navset-left .yui-nav,.yui-skin-sam .yui-navset .yui-navset-left .yui-nav,.yui-skin-sam .yui-navset .yui-navset-right .yui-nav,.yui-skin-sam .yui-navset-right .yui-nav{border-width:0 5px 0 0;Xposition:absolute;top:0;bottom:0}.yui-skin-sam .yui-navset .yui-navset-right .yui-nav,.yui-skin-sam .yui-navset-right .yui-nav{border-width:0 0 0 5px}.yui-skin-sam .yui-navset-left .yui-nav li,.yui-skin-sam .yui-navset .yui-navset-left .yui-nav li,.yui-skin-sam .yui-navset-right .yui-nav li{margin:0 0 .16em;padding:0 0 0 1px}.yui-skin-sam .yui-navset-right .yui-nav li{padding:0 1px 0 0}.yui-skin-sam .yui-navset-left .yui-nav .selected,.yui-skin-sam .yui-navset .yui-navset-left .yui-nav .selected{margin:0 -1px .16em 0}.yui-skin-sam .yui-navset-right .yui-nav .selected{margin:0 0 .16em -1px}.yui-skin-sam .yui-navset-left .yui-nav a,.yui-skin-sam .yui-navset-right .yui-nav a{border-width:1px 0}.yui-skin-sam .yui-navset-left .yui-nav a em,.yui-skin-sam .yui-navset .yui-navset-left .yui-nav a em,.yui-skin-sam .yui-navset-right .yui-nav a em{border-width:0 0 0 1px;padding:.2em .75em;top:auto;left:-1px}.yui-skin-sam .yui-navset-right .yui-nav a em{border-width:0 1px 0 0;left:auto;right:-1px}.yui-skin-sam .yui-navset-left .yui-nav a,.yui-skin-sam .yui-navset-left .yui-nav .selected a,.yui-skin-sam .yui-navset-left .yui-nav a:hover,.yui-skin-sam .yui-navset-right .yui-nav a,.yui-skin-sam .yui-navset-right .yui-nav .selected a,.yui-skin-sam .yui-navset-right .yui-nav a:hover,.yui-skin-sam .yui-navset-bottom .yui-nav a,.yui-skin-sam .yui-navset-bottom .yui-nav .selected a,.yui-skin-sam .yui-navset-bottom .yui-nav a:hover{background-image:none}.yui-skin-sam .yui-navset-left .yui-content{border:1px solid #808080;border-left-color:#243356}.yui-skin-sam .yui-navset-bottom .yui-nav,.yui-skin-sam .yui-navset .yui-navset-bottom .yui-nav{border-width:5px 0 0}.yui-skin-sam .yui-navset .yui-navset-bottom .yui-nav .selected,.yui-skin-sam .yui-navset-bottom .yui-nav .selected{margin:-1px .16em 0 0}.yui-skin-sam .yui-navset .yui-navset-bottom .yui-nav li,.yui-skin-sam .yui-navset-bottom .yui-nav li{padding:0 0 1px 0;vertical-align:top}.yui-skin-sam .yui-navset .yui-navset-bottom .yui-nav a em,.yui-skin-sam .yui-navset-bottom .yui-nav a em{border-width:0 0 1px;top:auto;bottom:-1px}\n.yui-skin-sam .yui-navset-bottom .yui-content,.yui-skin-sam .yui-navset .yui-navset-bottom .yui-content{border:1px solid #808080;border-bottom-color:#243356}\ntable.ygtvtable{margin-bottom:0;border:0;border-collapse:collapse}td.ygtvcell{border:0;padding:0}a.ygtvspacer{text-decoration:none;outline-style:none;display:block}.ygtvtn{width:18px;height:22px;background:url(treeview-sprite.gif) 0 -5600px no-repeat;cursor:pointer}.ygtvtm{width:18px;height:22px;cursor:pointer;background:url(treeview-sprite.gif) 0 -4000px no-repeat}.ygtvtmh,.ygtvtmhh{width:18px;height:22px;cursor:pointer;background:url(treeview-sprite.gif) 0 -4800px no-repeat}.ygtvtp{width:18px;height:22px;cursor:pointer;background:url(treeview-sprite.gif) 0 -6400px no-repeat}.ygtvtph,.ygtvtphh{width:18px;height:22px;cursor:pointer;background:url(treeview-sprite.gif) 0 -7200px no-repeat}.ygtvln{width:18px;height:22px;background:url(treeview-sprite.gif) 0 -1600px no-repeat;cursor:pointer}.ygtvlm{width:18px;height:22px;cursor:pointer;background:url(treeview-sprite.gif) 0 0 no-repeat}.ygtvlmh,.ygtvlmhh{width:18px;height:22px;cursor:pointer;background:url(treeview-sprite.gif) 0 -800px no-repeat}.ygtvlp{width:18px;height:22px;cursor:pointer;background:url(treeview-sprite.gif) 0 -2400px no-repeat}.ygtvlph,.ygtvlphh{width:18px;height:22px;cursor:pointer;background:url(treeview-sprite.gif) 0 -3200px no-repeat;cursor:pointer}.ygtvloading{width:18px;height:22px;background:url(treeview-loading.gif) 0 0 no-repeat}.ygtvdepthcell{width:18px;height:22px;background:url(treeview-sprite.gif) 0 -8000px no-repeat}.ygtvblankdepthcell{width:18px;height:22px}* html .ygtvchildren{height:2%}.ygtvlabel,.ygtvlabel:link,.ygtvlabel:visited,.ygtvlabel:hover{margin-left:2px;text-decoration:none;background-color:white;cursor:pointer}.ygtvcontent{cursor:default}.ygtvspacer{height:22px;width:18px}.ygtvfocus{background-color:#c0e0e0;border:0}.ygtvfocus .ygtvlabel,.ygtvfocus .ygtvlabel:link,.ygtvfocus .ygtvlabel:visited,.ygtvfocus .ygtvlabel:hover{background-color:#c0e0e0}.ygtvfocus a{outline-style:none}.ygtvok{width:18px;height:22px;background:url(treeview-sprite.gif) 0 -8800px no-repeat}.ygtvok:hover{background:url(treeview-sprite.gif) 0 -8844px no-repeat}.ygtvcancel{width:18px;height:22px;background:url(treeview-sprite.gif) 0 -8822px no-repeat}.ygtvcancel:hover{background:url(treeview-sprite.gif) 0 -8866px no-repeat}.ygtv-label-editor{background-color:#f2f2f2;border:1px solid silver;position:absolute;display:none;overflow:hidden;margin:auto;z-index:9000}.ygtv-edit-TextNode{width:190px}.ygtv-edit-TextNode .ygtvcancel,.ygtv-edit-TextNode .ygtvok{border:0}.ygtv-edit-TextNode .ygtv-button-container{float:right}.ygtv-edit-TextNode .ygtv-input input{width:140px}.ygtv-edit-DateNode .ygtvcancel{border:0}.ygtv-edit-DateNode .ygtvok{display:none}.ygtv-edit-DateNode .ygtv-button-container{text-align:right;margin:auto}.ygtv-highlight .ygtv-highlight1,.ygtv-highlight .ygtv-highlight1 .ygtvlabel{background-color:blue;color:white}.ygtv-highlight .ygtv-highlight2,.ygtv-highlight .ygtv-highlight2 .ygtvlabel{background-color:silver}.ygtv-highlight .ygtv-highlight0 .ygtvfocus .ygtvlabel,.ygtv-highlight .ygtv-highlight1 .ygtvfocus .ygtvlabel,.ygtv-highlight .ygtv-highlight2 .ygtvfocus .ygtvlabel{background-color:#c0e0e0}.ygtv-highlight .ygtvcontent{padding-right:1em}.ygtv-checkbox .ygtv-highlight0 .ygtvcontent{padding-left:1em;background:url(check0.gif) no-repeat}.ygtv-checkbox .ygtv-highlight0 .ygtvfocus.ygtvcontent,.ygtv-checkbox .ygtv-highlight1 .ygtvfocus.ygtvcontent,.ygtv-checkbox .ygtv-highlight2 .ygtvfocus.ygtvcontent{background-color:#c0e0e0}.ygtv-checkbox .ygtv-highlight1 .ygtvcontent{padding-left:1em;background:url(check1.gif) no-repeat}.ygtv-checkbox .ygtv-highlight2 .ygtvcontent{padding-left:1em;background:url(check2.gif) no-repeat}\n\n",
            "encoding": "Raw"
          },
          "redirectURL": "",
          "headersSize": 299,
          "bodySize": 110252
        },
        "cache": {},
        "timings": {
          "send": 2,
          "wait": 11,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27307"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.875-06:00",
        "time": 96,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/yui/container/assets/skins/sam/container.css",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 356,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:35 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "1277"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 4644,
            "compression": 0,
            "mimeType": "text/css",
            "text": "/*\nCopyright (c) 2011, Yahoo! Inc. All rights reserved.\nCode licensed under the BSD License:\nhttp://developer.yahoo.com/yui/license.html\nversion: 2.9.0\n*/\n.yui-overlay,.yui-panel-container{visibility:hidden;position:absolute;z-index:2}.yui-panel{position:relative}.yui-panel-container form{margin:0}.mask{z-index:1;display:none;position:absolute;top:0;left:0;right:0;bottom:0}.mask.block-scrollbars{overflow:auto}.masked select,.drag select,.hide-select select{_visibility:hidden}.yui-panel-container select{_visibility:inherit}.hide-scrollbars,.hide-scrollbars *{overflow:hidden}.hide-scrollbars select{display:none}.show-scrollbars{overflow:auto}.yui-panel-container.show-scrollbars,.yui-tt.show-scrollbars{overflow:visible}.yui-panel-container.show-scrollbars .underlay,.yui-tt.show-scrollbars .yui-tt-shadow{overflow:auto}.yui-panel-container.shadow .underlay.yui-force-redraw{padding-bottom:1px}.yui-effect-fade .underlay,.yui-effect-fade .yui-tt-shadow{display:none}.yui-tt-shadow{position:absolute}.yui-override-padding{padding:0!important}.yui-panel-container .container-close{overflow:hidden;text-indent:-10000em;text-decoration:none}.yui-overlay.yui-force-redraw,.yui-panel-container.yui-force-redraw{margin-bottom:1px}.yui-skin-sam .mask{background-color:#000;opacity:.25;filter:alpha(opacity=25)}.yui-skin-sam .yui-panel-container{padding:0 1px;*padding:2px}.yui-skin-sam .yui-panel{position:relative;left:0;top:0;border-style:solid;border-width:1px 0;border-color:#808080;z-index:1;*border-width:1px;*zoom:1;_zoom:normal}.yui-skin-sam .yui-panel .hd,.yui-skin-sam .yui-panel .bd,.yui-skin-sam .yui-panel .ft{border-style:solid;border-width:0 1px;border-color:#808080;margin:0 -1px;*margin:0;*border:0}.yui-skin-sam .yui-panel .hd{border-bottom:solid 1px #ccc}.yui-skin-sam .yui-panel .bd,.yui-skin-sam .yui-panel .ft{background-color:#f2f2f2}.yui-skin-sam .yui-panel .hd{padding:0 10px;font-size:93%;line-height:2;*line-height:1.9;font-weight:bold;color:#000;background:url(../../../../assets/skins/sam/sprite.png) repeat-x 0 -200px}.yui-skin-sam .yui-panel .bd{padding:10px}.yui-skin-sam .yui-panel .ft{border-top:solid 1px #808080;padding:5px 10px;font-size:77%}.yui-skin-sam .container-close{position:absolute;top:5px;right:6px;width:25px;height:15px;background:url(../../../../assets/skins/sam/sprite.png) no-repeat 0 -300px;cursor:pointer}.yui-skin-sam .yui-panel-container .underlay{right:-1px;left:-1px}.yui-skin-sam .yui-panel-container.matte{padding:9px 10px;background-color:#fff}.yui-skin-sam .yui-panel-container.shadow{_padding:2px 4px 0 2px}.yui-skin-sam .yui-panel-container.shadow .underlay{position:absolute;top:2px;left:-3px;right:-3px;bottom:-3px;*top:4px;*left:-1px;*right:-1px;*bottom:-1px;_top:0;_left:0;_right:0;_bottom:0;_margin-top:3px;_margin-left:-1px;background-color:#000;opacity:.12;filter:alpha(opacity=12)}.yui-skin-sam .yui-dialog .ft{border-top:0;padding:0 10px 10px 10px;font-size:100%}.yui-skin-sam .yui-dialog .ft .button-group{display:block;text-align:right}.yui-skin-sam .yui-dialog .ft button.default{font-weight:bold}.yui-skin-sam .yui-dialog .ft span.default{border-color:#304369;background-position:0 -1400px}.yui-skin-sam .yui-dialog .ft span.default .first-child{border-color:#304369}.yui-skin-sam .yui-dialog .ft span.default button{color:#fff}.yui-skin-sam .yui-dialog .ft span.yui-button-disabled{background-position:0 -1500px;border-color:#ccc}.yui-skin-sam .yui-dialog .ft span.yui-button-disabled .first-child{border-color:#ccc}.yui-skin-sam .yui-dialog .ft span.yui-button-disabled button{color:#a6a6a6}.yui-skin-sam .yui-simple-dialog .bd .yui-icon{background:url(../../../../assets/skins/sam/sprite.png) no-repeat 0 0;width:16px;height:16px;margin-right:10px;float:left}.yui-skin-sam .yui-simple-dialog .bd span.blckicon{background-position:0 -1100px}.yui-skin-sam .yui-simple-dialog .bd span.alrticon{background-position:0 -1050px}.yui-skin-sam .yui-simple-dialog .bd span.hlpicon{background-position:0 -1150px}.yui-skin-sam .yui-simple-dialog .bd span.infoicon{background-position:0 -1200px}.yui-skin-sam .yui-simple-dialog .bd span.warnicon{background-position:0 -1900px}.yui-skin-sam .yui-simple-dialog .bd span.tipicon{background-position:0 -1250px}.yui-skin-sam .yui-tt .bd{position:relative;top:0;left:0;z-index:1;color:#000;padding:2px 5px;border-color:#d4c237 #A6982b #a6982b #A6982B;border-width:1px;border-style:solid;background-color:#ffee69}.yui-skin-sam .yui-tt.show-scrollbars .bd{overflow:auto}.yui-skin-sam .yui-tt-shadow{top:2px;right:-3px;left:-3px;bottom:-3px;background-color:#000}.yui-skin-sam .yui-tt-shadow-visible{opacity:.12;filter:alpha(opacity=12)}\n",
            "encoding": "Raw"
          },
          "redirectURL": "",
          "headersSize": 298,
          "bodySize": 4644
        },
        "cache": {},
        "timings": {
          "send": 3,
          "wait": 0,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27305"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.875-06:00",
        "time": 100,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/yui/button/assets/skins/sam/button.css",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 350,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:34 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "810"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 3212,
            "compression": 0,
            "mimeType": "text/css",
            "text": "/*\nCopyright (c) 2011, Yahoo! Inc. All rights reserved.\nCode licensed under the BSD License:\nhttp://developer.yahoo.com/yui/license.html\nversion: 2.9.0\n*/\n.yui-button{display:-moz-inline-box;display:inline-block;vertical-align:text-bottom;}.yui-button .first-child{display:block;*display:inline-block;}.yui-button button,.yui-button a{display:block;*display:inline-block;border:none;margin:0;}.yui-button button{background-color:transparent;*overflow:visible;cursor:pointer;}.yui-button a{text-decoration:none;}.yui-skin-sam .yui-button{border-width:1px 0;border-style:solid;border-color:#808080;background:url(../../../../assets/skins/sam/sprite.png) repeat-x 0 0;margin:auto .25em;}.yui-skin-sam .yui-button .first-child{border-width:0 1px;border-style:solid;border-color:#808080;margin:0 -1px;_margin:0;}.yui-skin-sam .yui-button button,.yui-skin-sam .yui-button a,.yui-skin-sam .yui-button a:visited{padding:0 10px;font-size:93%;line-height:2;*line-height:1.7;min-height:2em;*min-height:auto;color:#000;}.yui-skin-sam .yui-button a{*line-height:1.875;*padding-bottom:1px;}.yui-skin-sam .yui-split-button button,.yui-skin-sam .yui-menu-button button{padding-right:20px;background-position:right center;background-repeat:no-repeat;}.yui-skin-sam .yui-menu-button button{background-image:url(menu-button-arrow.png);}.yui-skin-sam .yui-split-button button{background-image:url(split-button-arrow.png);}.yui-skin-sam .yui-button-focus{border-color:#7D98B8;background-position:0 -1300px;}.yui-skin-sam .yui-button-focus .first-child{border-color:#7D98B8;}.yui-skin-sam .yui-split-button-focus button{background-image:url(split-button-arrow-focus.png);}.yui-skin-sam .yui-button-hover{border-color:#7D98B8;background-position:0 -1300px;}.yui-skin-sam .yui-button-hover .first-child{border-color:#7D98B8;}.yui-skin-sam .yui-split-button-hover button{background-image:url(split-button-arrow-hover.png);}.yui-skin-sam .yui-button-active{border-color:#7D98B8;background-position:0 -1700px;}.yui-skin-sam .yui-button-active .first-child{border-color:#7D98B8;}.yui-skin-sam .yui-split-button-activeoption{border-color:#808080;background-position:0 0;}.yui-skin-sam .yui-split-button-activeoption .first-child{border-color:#808080;}.yui-skin-sam .yui-split-button-activeoption button{background-image:url(split-button-arrow-active.png);}.yui-skin-sam .yui-radio-button-checked,.yui-skin-sam .yui-checkbox-button-checked{border-color:#304369;background-position:0 -1400px;}.yui-skin-sam .yui-radio-button-checked .first-child,.yui-skin-sam .yui-checkbox-button-checked .first-child{border-color:#304369;}.yui-skin-sam .yui-radio-button-checked button,.yui-skin-sam .yui-checkbox-button-checked button{color:#fff;}.yui-skin-sam .yui-button-disabled{border-color:#ccc;background-position:0 -1500px;}.yui-skin-sam .yui-button-disabled .first-child{border-color:#ccc;}.yui-skin-sam .yui-button-disabled button,.yui-skin-sam .yui-button-disabled a,.yui-skin-sam .yui-button-disabled a:visited{color:#A6A6A6;cursor:default;}.yui-skin-sam .yui-menu-button-disabled button{background-image:url(menu-button-arrow-disabled.png);}.yui-skin-sam .yui-split-button-disabled button{background-image:url(split-button-arrow-disabled.png);}\n",
            "encoding": "Raw"
          },
          "redirectURL": "",
          "headersSize": 297,
          "bodySize": 3212
        },
        "cache": {},
        "timings": {
          "send": 1,
          "wait": 2,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27305"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.875-06:00",
        "time": 103,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/yui/menu/assets/skins/sam/menu.css",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 346,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:35 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "1301"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 5035,
            "compression": 0,
            "mimeType": "text/css",
            "text": "/*\nCopyright (c) 2011, Yahoo! Inc. All rights reserved.\nCode licensed under the BSD License:\nhttp://developer.yahoo.com/yui/license.html\nversion: 2.9.0\n*/\n.yuimenu{top:-999em;left:-999em;}.yuimenubar{position:static;}.yuimenu .yuimenu,.yuimenubar .yuimenu{position:absolute;}.yuimenubar li,.yuimenu li{list-style-type:none;}.yuimenubar ul,.yuimenu ul,.yuimenubar li,.yuimenu li,.yuimenu h6,.yuimenubar h6{margin:0;padding:0;}.yuimenuitemlabel,.yuimenubaritemlabel{text-align:left;white-space:nowrap;}.yuimenubar ul{*zoom:1;}.yuimenubar .yuimenu ul{*zoom:normal;}.yuimenubar>.bd>ul:after{content:\".\";display:block;clear:both;visibility:hidden;height:0;line-height:0;}.yuimenubaritem{float:left;}.yuimenubaritemlabel,.yuimenuitemlabel{display:block;}.yuimenuitemlabel .helptext{font-style:normal;display:block;margin:-1em 0 0 10em;}.yui-menu-shadow{position:absolute;visibility:hidden;z-index:-1;}.yui-menu-shadow-visible{top:2px;right:-3px;left:-3px;bottom:-3px;visibility:visible;}.hide-scrollbars *{overflow:hidden;}.hide-scrollbars select{display:none;}.yuimenu.show-scrollbars,.yuimenubar.show-scrollbars{overflow:visible;}.yuimenu.hide-scrollbars .yui-menu-shadow,.yuimenubar.hide-scrollbars .yui-menu-shadow{overflow:hidden;}.yuimenu.show-scrollbars .yui-menu-shadow,.yuimenubar.show-scrollbars .yui-menu-shadow{overflow:auto;}.yui-overlay.yui-force-redraw{margin-bottom:1px;}.yui-skin-sam .yuimenubar{font-size:93%;line-height:2;*line-height:1.9;border:solid 1px #808080;background:url(../../../../assets/skins/sam/sprite.png) repeat-x 0 0;}.yui-skin-sam .yuimenubarnav .yuimenubaritem{border-right:solid 1px #ccc;}.yui-skin-sam .yuimenubaritemlabel{padding:0 10px;color:#000;text-decoration:none;cursor:default;border-style:solid;border-color:#808080;border-width:1px 0;*position:relative;margin:-1px 0;}.yui-skin-sam .yuimenubaritemlabel:visited{color:#000;}.yui-skin-sam .yuimenubarnav .yuimenubaritemlabel{padding-right:20px;*display:inline-block;}.yui-skin-sam .yuimenubarnav .yuimenubaritemlabel-hassubmenu{background:url(menubaritem_submenuindicator.png) right center no-repeat;}.yui-skin-sam .yuimenubaritem-selected{background:url(../../../../assets/skins/sam/sprite.png) repeat-x 0 -1700px;}.yui-skin-sam .yuimenubaritemlabel-selected{border-color:#7D98B8;}.yui-skin-sam .yuimenubarnav .yuimenubaritemlabel-selected{border-left-width:1px;margin-left:-1px;*left:-1px;}.yui-skin-sam .yuimenubaritemlabel-disabled,.yui-skin-sam .yuimenubaritemlabel-disabled:visited{cursor:default;color:#A6A6A6;}.yui-skin-sam .yuimenubarnav .yuimenubaritemlabel-hassubmenu-disabled{background-image:url(menubaritem_submenuindicator_disabled.png);}.yui-skin-sam .yuimenu{font-size:93%;line-height:1.5;*line-height:1.45;}.yui-skin-sam .yuimenubar .yuimenu,.yui-skin-sam .yuimenu .yuimenu{font-size:100%;}.yui-skin-sam .yuimenu .bd{*zoom:1;_zoom:normal;border:solid 1px #808080;background-color:#fff;}.yui-skin-sam .yuimenu .yuimenu .bd{*zoom:normal;}.yui-skin-sam .yuimenu ul{padding:3px 0;border-width:1px 0 0 0;border-color:#ccc;border-style:solid;}.yui-skin-sam .yuimenu ul.first-of-type{border-width:0;}.yui-skin-sam .yuimenu h6{font-weight:bold;border-style:solid;border-color:#ccc;border-width:1px 0 0 0;color:#a4a4a4;padding:3px 10px 0 10px;}.yui-skin-sam .yuimenu ul.hastitle,.yui-skin-sam .yuimenu h6.first-of-type{border-width:0;}.yui-skin-sam .yuimenu .yui-menu-body-scrolled{border-color:#ccc #808080;overflow:hidden;}.yui-skin-sam .yuimenu .topscrollbar,.yui-skin-sam .yuimenu .bottomscrollbar{height:16px;border:solid 1px #808080;background:#fff url(../../../../assets/skins/sam/sprite.png) no-repeat 0 0;}.yui-skin-sam .yuimenu .topscrollbar{border-bottom-width:0;background-position:center -950px;}.yui-skin-sam .yuimenu .topscrollbar_disabled{background-position:center -975px;}.yui-skin-sam .yuimenu .bottomscrollbar{border-top-width:0;background-position:center -850px;}.yui-skin-sam .yuimenu .bottomscrollbar_disabled{background-position:center -875px;}.yui-skin-sam .yuimenuitem{_border-bottom:solid 1px #fff;}.yui-skin-sam .yuimenuitemlabel{padding:0 20px;color:#000;text-decoration:none;cursor:default;}.yui-skin-sam .yuimenuitemlabel:visited{color:#000;}.yui-skin-sam .yuimenuitemlabel .helptext{margin-top:-1.5em;*margin-top:-1.45em;}.yui-skin-sam .yuimenuitem-hassubmenu{background-image:url(menuitem_submenuindicator.png);background-position:right center;background-repeat:no-repeat;}.yui-skin-sam .yuimenuitem-checked{background-image:url(menuitem_checkbox.png);background-position:left center;background-repeat:no-repeat;}.yui-skin-sam .yui-menu-shadow-visible{background-color:#000;opacity:.12;filter:alpha(opacity=12);}.yui-skin-sam .yuimenuitem-selected{background-color:#B3D4FF;}.yui-skin-sam .yuimenuitemlabel-disabled,.yui-skin-sam .yuimenuitemlabel-disabled:visited{cursor:default;color:#A6A6A6;}.yui-skin-sam .yuimenuitem-hassubmenu-disabled{background-image:url(menuitem_submenuindicator_disabled.png);}.yui-skin-sam .yuimenuitem-checked-disabled{background-image:url(menuitem_checkbox_disabled.png);}\n",
            "encoding": "Raw"
          },
          "redirectURL": "",
          "headersSize": 298,
          "bodySize": 5035
        },
        "cache": {},
        "timings": {
          "send": 1,
          "wait": 2,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27305"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.876-06:00",
        "time": 106,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/scripts/msie.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 319,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:34 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "1125"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 2716,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "LyoKICogVGhlIE1JVCBMaWNlbnNlCiAqCiAqIENvcHlyaWdodCAoYykgMjAwNC0yMDEwLCBTdW4gTWljcm9zeXN0ZW1zLCBJbmMuLCBLb2hzdWtlIEthd2FndWNoaSwKICogRGFuaWVsIER5ZXIsIFlhaG9vISBJbmMuLCBBbGFuIEhhcmRlciwgSW5mcmFETkEsIEluYy4KICoKICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weQogKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAogKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzCiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwKICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzCiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CiAqCiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluCiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgogKgogKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgogKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFCiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwKICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTgogKiBUSEUgU09GVFdBUkUuCiAqLwoKZnVuY3Rpb24gYXNzZXJ0RG9jdW1lbnRNb2RlT0soKSB7CiAgICBpZiAoWUFIT08uZW52LnVhLmllICYmIFlBSE9PLmVudi51YS5pZSAhPT0gZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSB7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgYWxlcnQoIldBUk5JTkc6IFlvdXIgSW50ZXJuZXQgRXhwbG9yZXIgYXBwZWFycyB0byBiZSBzZXQgdG8gYSBub24tZGVmYXVsdCAnRG9jdW1lbnQgTW9kZScgKHNlZSBEZXZlbG9wZXIgVG9vbHMgLSBwcmVzcyBGMTIpLlxuIiArCiAgICAgICAgICAgICAgICAiXG4iICsKICAgICAgICAgICAgICAgICJKZW5raW5zIG1heSBub3QgZGlzcGxheSBwcm9wZXJseSBpbiB0aGlzIGJyb3dzZXIuIik7CiAgICAgICAgfSwgMTUwMCk7CiAgICB9Cn0KCmFzc2VydERvY3VtZW50TW9kZU9LKCk7CgovLyBJRSA4IGFuZCBiZWZvcmUgdHdlYWtzLi4uLgppZiAoWUFIT08uZW52LnVhLmllICYmIFlBSE9PLmVudi51YS5pZSA8IDkpIHsKICAgIGZ1bmN0aW9uIGxvYWRSZXNwb25kSlMoKSB7CiAgICAgICAgdmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdOwogICAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKCiAgICAgICAgc2NyaXB0LnNldEF0dHJpYnV0ZSgnc3JjJywgaGVhZC5nZXRBdHRyaWJ1dGUoJ3Jlc1VSTCcpICsgJy9zY3JpcHRzL3Jlc3BvbmQuanMnKTsKICAgICAgICBoZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgICB9CgogICAgbG9hZFJlc3BvbmRKUygpOwp9Cg==",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 2716
        },
        "cache": {},
        "timings": {
          "send": 4,
          "wait": 0,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27307"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.876-06:00",
        "time": 106,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/jsbundles/page-init.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 326,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:39 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "9271"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 51372,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "KGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT0iZnVuY3Rpb24iJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrbysiJyIpO3Rocm93IGYuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT0iZnVuY3Rpb24iJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CnZhciBpbnRlcm5hbCA9IHJlcXVpcmUoIi4vaW50ZXJuYWwiKTsKdmFyIHByb21pc2UgPSByZXF1aXJlKCIuL3Byb21pc2UiKTsKdmFyIG9uUmVnaXN0ZXJUaW1lb3V0Owp2YXIgd2hvYW1pOwoKLyoqCiAqIFdoYXQncyB0aGUgdG9wIGxldmVsIG1vZHVsZS9idW5kbGUgbmFtZS4KICogQHBhcmFtIG1vZHVsZVFOYW1lIFRoZSBtb2R1bGUgUU5hbWUuCiAqIEByZXR1cm5zIFRoZSBtb2R1bGUgUU5hbWUsIG9yIHVuZGVmaW5lZCBpZiB1bmtub3duLgogKi8KZXhwb3J0cy53aG9hbWkgPSBmdW5jdGlvbihtb2R1bGVRTmFtZSkgewogICAgaWYgKG1vZHVsZVFOYW1lKSB7CiAgICAgICAgd2hvYW1pID0gbW9kdWxlUU5hbWU7CiAgICAgICAgaW50ZXJuYWwud2hvYW1pKHdob2FtaSk7CiAgICB9CiAgICByZXR1cm4gd2hvYW1pOwp9OwoKLyoqCiAqIEFzeW5jaHJvbm91c2x5IGltcG9ydC9yZXF1aXJlIGEgc2V0IG9mIG1vZHVsZXMuCiAqCiAqIDxwPgogKiBSZXNwb25zaWJsZSBmb3IgdHJpZ2dlcmluZyB0aGUgYXN5bmMgbG9hZGluZyBvZiBtb2R1bGVzIGlmIGEgZ2l2ZW4gbW9kdWxlIGlzIG5vdCBhbHJlYWR5IGxvYWRlZC4KICoKICogQHBhcmFtIG1vZHVsZVFOYW1lcy4uLiBBIGxpc3Qgb2YgbW9kdWxlICJxdWFsaWZpZWQiIG5hbWVzLCBlYWNoIGNvbnRhaW5pbmcgdGhlIG1vZHVsZSBuYW1lIHByZWZpeGVkIHdpdGggdGhlIG5hbWVzcGFjZQogKiBhbmQgc2VwYXJhdGVkIGJ5IGEgY29sb24gaS5lLiAiPG5hbWVzcGFjZT46PG1vZHVsZU5hbWU+IiBlLmcuICJqcXVlcnk6anF1ZXJ5MiIuCiAqCiAqIEByZXR1cm4gQSBQcm9taXNlLCBhbGxvd2luZyBhc3luYyBsb2FkIG9mIGFsbCBtb2R1bGVzLiBUaGUgcHJvbWlzZSBpcyBvbmx5IGZ1bGZpbGxlZCB3aGVuIGFsbCBtb2R1bGVzIGFyZSBsb2FkZWQuCiAqLwpleHBvcnRzLmltcG9ydCA9IGZ1bmN0aW9uKCkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHsKICAgICAgICByZXR1cm4gaW50ZXJuYWwuaW1wb3J0KGFyZ3VtZW50c1swXSwgb25SZWdpc3RlclRpbWVvdXQpOyAgICAgICAgCiAgICB9CiAgICAKICAgIHZhciBtb2R1bGVRTmFtZXMgPSBbXTsgICAgCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBhcmd1bWVudCA9IGFyZ3VtZW50c1tpXTsKICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50ID09PSAnc3RyaW5nJykgewogICAgICAgICAgICBtb2R1bGVRTmFtZXMucHVzaChhcmd1bWVudCk7CiAgICAgICAgfQogICAgfQogICAgCiAgICBpZiAobW9kdWxlUU5hbWVzLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgdGhyb3cgIk5vIG1vZHVsZSBuYW1lcyBzcGVjaWZpZWQuIjsKICAgIH0KICAgIAogICAgcmV0dXJuIHByb21pc2UubWFrZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgdmFyIGZ1bGZpbGxtZW50cyA9IFtdOwogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIG9uRnVsZmlsbG1lbnQoKSB7CiAgICAgICAgICAgIGlmIChmdWxmaWxsbWVudHMubGVuZ3RoID09PSBtb2R1bGVRTmFtZXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICB2YXIgbW9kdWxlcyA9IFtdOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmdWxmaWxsbWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZnVsZmlsbG1lbnRzW2ldLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZXMucHVzaChmdWxmaWxsbWVudHNbaV0udmFsdWUpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IGhhdmUgZXZlcnl0aGluZyB5ZXQgc28gY2FuJ3QgZnVsZmlsbCBhbGwuCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBtYWtlIGl0IGhlcmUsIHRoZW4gd2UgaGF2ZSBmdWxmaWxsZWQgYWxsIGluZGl2aWR1YWwgcHJvbWlzZXMsIHdoaWNoIAogICAgICAgICAgICAgICAgLy8gbWVhbnMgd2UgY2FuIG5vdyBmdWxmaWxsIHRoZSB0b3AgbGV2ZWwgaW1wb3J0IHByb21pc2UuCiAgICAgICAgICAgICAgICByZXNvbHZlKG1vZHVsZXMpOwogICAgICAgICAgICB9CiAgICAgICAgfSAgICAgICAgCiAgICAgICAgCiAgICAgICAgLy8gZG9SZXF1aXJlIGZvciBlYWNoIG1vZHVsZQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbW9kdWxlUU5hbWVzLmxlbmd0aDsgaSsrKSB7ICAgICAgICAgICAKICAgICAgICAgICAgZnVuY3Rpb24gZG9SZXF1aXJlKG1vZHVsZVFOYW1lKSB7CiAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IGludGVybmFsLmltcG9ydChtb2R1bGVRTmFtZSwgb25SZWdpc3RlclRpbWVvdXQpOwogICAgICAgICAgICAgICAgdmFyIGZ1bGZpbGxtZW50ID0gewogICAgICAgICAgICAgICAgICAgIHByb21pc2U6IHByb21pc2UsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHVuZGVmaW5lZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGZ1bGZpbGxtZW50cy5wdXNoKGZ1bGZpbGxtZW50KTsKICAgICAgICAgICAgICAgIHByb21pc2UKICAgICAgICAgICAgICAgICAgICAub25GdWxmaWxsZWQoZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZnVsZmlsbG1lbnQudmFsdWUgPSB2YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgb25GdWxmaWxsbWVudCgpOwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLm9uUmVqZWN0ZWQoZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBkb1JlcXVpcmUobW9kdWxlUU5hbWVzW2ldKTsKICAgICAgICB9CiAgICB9KS5hcHBseUFyZ3NPbkZ1bGZpbGwoKTsgICAgCn07CgovKioKICogU3luY2hyb25vdXNseSAicmVxdWlyZSIgYSBtb2R1bGUgdGhhdCBpdCBhbHJlYWR5IGxvYWRlZC9yZWdpc3RlcmVkLgogKgogKiA8cD4KICogVGhpcyBmdW5jdGlvbiB3aWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSBtb2R1bGUgaXMgbm90IGFscmVhZHkgbG9hZGVkIHZpYSBhbiBvdXRlciBjYWxsIHRvICdpbXBvcnQnCiAqIChvciAnaW1wb3J0JykuCiAqCiAqIEBwYXJhbSBtb2R1bGVRTmFtZSBUaGUgbW9kdWxlICJxdWFsaWZpZWQiIG5hbWUgY29udGFpbmluZyB0aGUgbW9kdWxlIG5hbWUgcHJlZml4ZWQgd2l0aCB0aGUgbmFtZXNwYWNlCiAqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGkuZS4gIjxuYW1lc3BhY2U+Ojxtb2R1bGVOYW1lPiIgZS5nLiAianF1ZXJ5OmpxdWVyeTIiLgogKgogKiBAcmV0dXJuIFRoZSBtb2R1bGUuCiAqLwpleHBvcnRzLnJlcXVpcmUgPSBmdW5jdGlvbihtb2R1bGVRTmFtZSkgewogICAgdmFyIHBhcnNlZE1vZHVsZU5hbWUgPSBpbnRlcm5hbC5wYXJzZVJlc291cmNlUU5hbWUobW9kdWxlUU5hbWUpOwogICAgdmFyIG1vZHVsZSA9IGludGVybmFsLmdldE1vZHVsZShwYXJzZWRNb2R1bGVOYW1lKTsgICAgCiAgICBpZiAoIW1vZHVsZSkgewogICAgICAgIHRocm93ICJVbmFibGUgdG8gcGVyZm9ybSBzeW5jaHJvbm91cyAncmVxdWlyZScgZm9yIG1vZHVsZSAnIiArIG1vZHVsZVFOYW1lICsgIicuIFRoaXMgbW9kdWxlIGlzIG5vdCBwcmUtbG9hZGVkLiAiICsKICAgICAgICAgICAgIlRoZSBtb2R1bGUgbmVlZHMgdG8gaGF2ZSBiZWVuIGFzeW5jaHJvbm91c2x5IHByZS1sb2FkZWQgdmlhIGFuIG91dGVyIGNhbGwgdG8gJ2ltcG9ydCcuIjsKICAgIH0KICAgIHJldHVybiBtb2R1bGUuZXhwb3J0czsKfQoKLyoqCiAqIEV4cG9ydCBhIG1vZHVsZS4KICogCiAqIEBwYXJhbSBuYW1lc3BhY2UgVGhlIG5hbWVzcGFjZSBpbiB3aGljaCB0aGUgbW9kdWxlIHJlc2lkZXMsIG9yICJ1bmRlZmluZWQiIGlmIHRoZSBtb2R1bGVzIGlzIGluCiAqIHRoZSAiZ2xvYmFsIiBtb2R1bGUgbmFtZXNwYWNlIGUuZy4gYSBKZW5raW5zIGNvcmUgYnVuZGxlLgogKiBAcGFyYW0gbW9kdWxlTmFtZSBUaGUgbmFtZSBvZiB0aGUgbW9kdWxlLiAKICogQHBhcmFtIG1vZHVsZSBUaGUgQ29tbW9uSlMgc3R5bGUgbW9kdWxlLCBvciAidW5kZWZpbmVkIiBpZiB3ZSBqdXN0IHdhbnQgdG8gbm90aWZ5IG90aGVyIG1vZHVsZXMgd2FpdGluZyBvbgogKiB0aGUgbG9hZGluZyBvZiB0aGlzIG1vZHVsZS4KICogQHBhcmFtIG9uRXJyb3IgT24gZXJyb3IgY2FsbGJhY2s7CiAqLwpleHBvcnRzLmV4cG9ydCA9IGZ1bmN0aW9uKG5hbWVzcGFjZSwgbW9kdWxlTmFtZSwgbW9kdWxlLCBvbkVycm9yKSB7CiAgICBpbnRlcm5hbC5vblJlYWR5KGZ1bmN0aW9uKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHZhciBtb2R1bGVTcGVjID0ge25hbWVzcGFjZTogbmFtZXNwYWNlLCBtb2R1bGVOYW1lOiBtb2R1bGVOYW1lfTsKICAgICAgICAgICAgdmFyIG1vZHVsZU5hbWVzcGFjZU9iaiA9IGludGVybmFsLmdldE1vZHVsZU5hbWVzcGFjZU9iaihtb2R1bGVTcGVjKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChtb2R1bGVOYW1lc3BhY2VPYmpbbW9kdWxlTmFtZV0pIHsKICAgICAgICAgICAgICAgIGlmIChuYW1lc3BhY2UpIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyAiSmVua2lucyBwbHVnaW4gbW9kdWxlICciICsgbmFtZXNwYWNlICsgIjoiICsgbW9kdWxlTmFtZSArICInIGFscmVhZHkgcmVnaXN0ZXJlZC4iOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyAiSmVua2lucyBnbG9iYWwgbW9kdWxlICciICsgbW9kdWxlTmFtZSArICInIGFscmVhZHkgcmVnaXN0ZXJlZC4iOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoIW1vZHVsZSkgewogICAgICAgICAgICAgICAgbW9kdWxlID0gewogICAgICAgICAgICAgICAgICAgIGV4cG9ydHM6IHt9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9IGVsc2UgaWYgKG1vZHVsZS5leHBvcnRzID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIG1vZHVsZSA9IHsKICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBtb2R1bGUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbW9kdWxlTmFtZXNwYWNlT2JqW21vZHVsZU5hbWVdID0gbW9kdWxlOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gTm90aWZ5IGFsbCB0aGF0IHRoZSBtb2R1bGUgaGFzIGJlZW4gcmVnaXN0ZXJlZC4gU2VlIGludGVybmFsLmxvYWRNb2R1bGUgYWxzby4KICAgICAgICAgICAgaW50ZXJuYWwubm90aWZ5TW9kdWxlRXhwb3J0ZWQobW9kdWxlU3BlYywgbW9kdWxlLmV4cG9ydHMpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTsKICAgICAgICAgICAgaWYgKG9uRXJyb3IpIHsKICAgICAgICAgICAgICAgIG9uRXJyb3IoZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9KTsKfTsKCi8qKgogKiBBZGQgYSBtb2R1bGUncyBDU1MgdG8gdGhlIGJyb3dzZXIgcGFnZS4KICogCiAqIDxwPgogKiBUaGUgYXNzdW1wdGlvbiBpcyB0aGF0IHRoZSBDU1MgY2FuIGJlIGFjY2Vzc2VkIGF0IGUuZy4KICoge0Bjb2RlIDxyb290VVJMPi9wbHVnaW4vPG5hbWVzcGFjZT4vanNtb2R1bGVzLzxtb2R1bGVOYW1lPi9zdHlsZS5jc3N9IGkuZS4KICogdGhlIHBsdWdpbklkIGFjdHMgYXMgdGhlIG5hbWVzcGFjZS4KICogCiAqIEBwYXJhbSBuYW1lc3BhY2UgVGhlIG5hbWVzcGFjZSBpbiB3aGljaCB0aGUgbW9kdWxlIHJlc2lkZXMuCiAqIEBwYXJhbSBtb2R1bGVOYW1lIFRoZSBuYW1lIG9mIHRoZSBtb2R1bGUuIAogKiBAcGFyYW0gb25FcnJvciBPbiBlcnJvciBjYWxsYmFjazsKICovCmV4cG9ydHMuYWRkTW9kdWxlQ1NTVG9QYWdlID0gZnVuY3Rpb24obmFtZXNwYWNlLCBtb2R1bGVOYW1lLCBvbkVycm9yKSB7CiAgICBpbnRlcm5hbC5vblJlYWR5KGZ1bmN0aW9uKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGludGVybmFsLmFkZE1vZHVsZUNTU1RvUGFnZShuYW1lc3BhY2UsIG1vZHVsZU5hbWUpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTsKICAgICAgICAgICAgaWYgKG9uRXJyb3IpIHsKICAgICAgICAgICAgICAgIG9uRXJyb3IoZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9KTsKfTsKCi8qKgogKiBBZGQgYSBwbHVnaW4gQ1NTIGZpbGUgdG8gdGhlIGJyb3dzZXIgcGFnZS4KICogCiAqIEBwYXJhbSBwbHVnaW5OYW1lIFRoZSBKZW5raW5zIHBsdWdpbiBpbiB3aGljaCB0aGUgbW9kdWxlIHJlc2lkZXMuCiAqIEBwYXJhbSBjc3NQYXRoIFRoZSBDU1MgcGF0aC4gCiAqIEBwYXJhbSBvbkVycm9yIE9uIGVycm9yIGNhbGxiYWNrOwogKi8KZXhwb3J0cy5hZGRQbHVnaW5DU1NUb1BhZ2UgPSBmdW5jdGlvbihwbHVnaW5OYW1lLCBjc3NQYXRoLCBvbkVycm9yKSB7CiAgICBpbnRlcm5hbC5vblJlYWR5KGZ1bmN0aW9uKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGludGVybmFsLmFkZFBsdWdpbkNTU1RvUGFnZShwbHVnaW5OYW1lLCBjc3NQYXRoKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7CiAgICAgICAgICAgIGlmIChvbkVycm9yKSB7CiAgICAgICAgICAgICAgICBvbkVycm9yKGUpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7Cn07CgovKioKICogQWRkIENTUyBmaWxlIHRvIHRoZSBicm93c2VyIHBhZ2UuCiAqIAogKiBAcGFyYW0gY3NzUGF0aCBUaGUgQ1NTIHBhdGguIAogKiBAcGFyYW0gb25FcnJvciBPbiBlcnJvciBjYWxsYmFjazsKICovCmV4cG9ydHMuYWRkQ1NTVG9QYWdlID0gZnVuY3Rpb24oY3NzUGF0aCwgb25FcnJvcikgewogICAgaW50ZXJuYWwub25SZWFkeShmdW5jdGlvbigpIHsKICAgICAgICB0cnkgeyAgICAgICAgICAgCiAgICAgICAgICAgIGludGVybmFsLmFkZENTU1RvUGFnZSgnZ2xvYmFsJywgaW50ZXJuYWwuZ2V0Um9vdFVSTCgpICsgJy8nICsgY3NzUGF0aCk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgICAgICAgICBpZiAob25FcnJvcikgewogICAgICAgICAgICAgICAgb25FcnJvcihlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOwp9OwoKLyoqCiAqIEFkZCBhIGphdmFzY3JpcHQgJmx0O3NjcmlwdCZndDsgZWxlbWVudCB0byB0aGUgZG9jdW1lbnQgJmx0O2hlYWQmZ3Q7LgogKiA8cC8+CiAqIE9wdGlvbnM6CiAqIDx1bD4KICogICAgIDxsaT48c3Ryb25nPnNjcmlwdElkPC9zdHJvbmc+OiBUaGUgc2NyaXB0IElkIHRvIHVzZSBmb3IgdGhlIGVsZW1lbnQuIElmIG5vdCBzcGVjaWZpZWQsIG9uZSB3aWxsIGJlIGdlbmVyYXRlZCBmcm9tIHRoZSBzY3JpcHRTcmMuPC9saT4KICogICAgIDxsaT48c3Ryb25nPmFzeW5jPC9zdHJvbmc+OiBBc3luY2hyb25vdXMgbG9hZGluZyBvZiB0aGUgc2NyaXB0LiBEZWZhdWx0IGlzICd0cnVlJy48L2xpPgogKiAgICAgPGxpPjxzdHJvbmc+c3VjY2Vzczwvc3Ryb25nPjogQW4gb3B0aW9uYWwgb25sb2FkIHN1Y2Nlc3MgZnVuY3Rpb24gZm9yIHRoZSBzY3JpcHQgZWxlbWVudC48L2xpPgogKiAgICAgPGxpPjxzdHJvbmc+ZXJyb3I8L3N0cm9uZz46IEFuIG9wdGlvbmFsIG9ubG9hZCBlcnJvciBmdW5jdGlvbiBmb3IgdGhlIHNjcmlwdCBlbGVtZW50LiBUaGlzIGlzIGNhbGxlZCBpZiB0aGUgLmpzIGZpbGUgZXhpc3RzIGJ1dCB0aGVyZSdzIGFuIGVycm9yIGV2YWx1YXRpbmcgdGhlIHNjcmlwdC4gSXQgaXMgTk9UIGNhbGxlZCBpZiB0aGUgLmpzIGZpbGUgZG9lc24ndCBleGlzdCAoYWxhIDQwNCkuPC9saT4KICogICAgIDxsaT48c3Ryb25nPnJlbW92ZUVsZW1lbnRPbkxvYWQ8L3N0cm9uZz46IFJlbW92ZSB0aGUgc2NyaXB0IGVsZW1lbnQgYWZ0ZXIgbG9hZGluZyB0aGUgc2NyaXB0LiBEZWZhdWx0IGlzICdmYWxzZScuPC9saT4KICogPC91bD4KICogCiAqIEBwYXJhbSBzY3JpcHRTcmMgVGhlIHNjcmlwdCBzcmMuCiAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbmFsIHNjcmlwdCBsb2FkIG9wdGlvbnMgb2JqZWN0LiBTZWUgYWJvdmUuCiAqLwpleHBvcnRzLmFkZFNjcmlwdCA9IGZ1bmN0aW9uKHNjcmlwdFNyYywgb3B0aW9ucykgewogICAgaW50ZXJuYWwub25SZWFkeShmdW5jdGlvbigpIHsKICAgICAgICBpbnRlcm5hbC5hZGRTY3JpcHQoc2NyaXB0U3JjLCBvcHRpb25zKTsKICAgIH0pOyAgICAKfTsKCi8qKgogKiBTZXQgdGhlIG1vZHVsZSByZWdpc3RyYXRpb24gdGltZW91dCBpLmUuIHRoZSBsZW5ndGggb2YgdGltZSB0byB3YWl0IGZvciBhIG1vZHVsZSB0byBsb2FkIGJlZm9yZSBmYWlsaW5nLgogKgogKiBAcGFyYW0gdGltZW91dCBNaWxsaXNlY29uZCBkdXJhdGlvbiBiZWZvcmUgb25SZWdpc3RlciB0aW1lcyBvdXQuIERlZmF1bHRzIHRvIDEwMDAwICgxMHMpIGlmIG5vdCBzcGVjaWZpZWQuCiAqLwpleHBvcnRzLnNldFJlZ2lzdGVyVGltZW91dCA9IGZ1bmN0aW9uKHRpbWVvdXQpIHsKICAgIG9uUmVnaXN0ZXJUaW1lb3V0ID0gdGltZW91dDsKfQoKLyoqCiAqIFNldCB0aGUgSmVua2lucyByb290L2Jhc2UgVVJMLgogKiAKICogQHBhcmFtIHJvb3RVcmwgVGhlIHJvb3QvYmFzZSBVUkwuCiAqLwpleHBvcnRzLnNldFJvb3RVUkwgPSBmdW5jdGlvbihyb290VXJsKSB7CiAgICBpbnRlcm5hbC5zZXRSb290VVJMKHJvb3RVcmwpOwp9OwoKZXhwb3J0cy5nZXRSb290VVJMID0gaW50ZXJuYWwuZ2V0Um9vdFVSTDsKZXhwb3J0cy5nZXRBZGp1bmN0VVJMID0gaW50ZXJuYWwuZ2V0QWRqdW5jdFVSTDsKCi8qKgogKiBNYW51YWxseSBpbml0aWFsaXNlIHRoZSBKZW5raW5zIEdsb2JhbC4KICogPHA+CiAqIFRoaXMgc2hvdWxkIG9ubHkgZXZlciBiZSBjYWxsZWQgZnJvbSBhIHRlc3QgZW52aXJvbm1lbnQuCiAqLwpleHBvcnRzLmluaXRKZW5raW5zR2xvYmFsID0gZnVuY3Rpb24oKSB7CiAgICBpbnRlcm5hbC5pbml0SmVua2luc0dsb2JhbCgpOwp9OwoKaW50ZXJuYWwub25KZW5raW5zR2xvYmFsSW5pdChmdW5jdGlvbihqZW5raW5zQ0lHbG9iYWwpIHsKICAgIC8vIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCB3ZSBuZWVkIHRvIG1ha2Ugc29tZSBqZW5raW5zLWpzLW1vZHVsZXMKICAgIC8vIGZ1bmN0aW9ucyBnbG9iYWxseSBhdmFpbGFibGUgZS5nLiB0byBhbGxvdyBsZWdhY3kgY29kZSB3YWl0IGZvcgogICAgLy8gY2VydGFpbiBtb2R1bGVzIHRvIGJlIGxvYWRlZCwgYXMgd2l0aCBsZWdhY3kgYWRqdW5jdHMuCiAgICBpZiAoIWplbmtpbnNDSUdsb2JhbC5faW50ZXJuYWwpIHsKICAgICAgICAvLyBQdXQgdGhlIGZ1bmN0aW9ucyBvbiBhbiBvYmplY3QgY2FsbGVkICdfaW50ZXJuYWwnIGFzIGEgd2F5CiAgICAgICAgLy8gb2YgaGludGluZyB0byBwZW9wbGUgdG8gbm90IHVzZSBpdC4KICAgICAgICBqZW5raW5zQ0lHbG9iYWwuX2ludGVybmFsID0gewogICAgICAgICAgICBpbXBvcnQ6IGV4cG9ydHMuaW1wb3J0LAogICAgICAgICAgICBhZGRTY3JpcHQ6IGludGVybmFsLmFkZFNjcmlwdAogICAgICAgIH07CiAgICB9Cn0pOwp9LHsiLi9pbnRlcm5hbCI6MiwiLi9wcm9taXNlIjozfV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CnZhciBwcm9taXNlID0gcmVxdWlyZSgiLi9wcm9taXNlIik7CnZhciB3aW5kb3dIYW5kbGUgPSByZXF1aXJlKCJ3aW5kb3ctaGFuZGxlIik7CnZhciBqZW5raW5zQ0lHbG9iYWw7CnZhciBnbG9iYWxJbml0TGlzdGVuZXJzID0gW107CnZhciB3aG9hbWk7CgpleHBvcnRzLndob2FtaSA9IGZ1bmN0aW9uKG1vZHVsZVFOYW1lKSB7CiAgICBpZiAobW9kdWxlUU5hbWUpIHsKICAgICAgICB3aG9hbWkgPSBleHBvcnRzLnBhcnNlUmVzb3VyY2VRTmFtZShtb2R1bGVRTmFtZSk7CiAgICAgICAgd2hvYW1pLm5zUHJvdmlkZXIgPSBnZXRCdW5kbGVOU1Byb3ZpZGVyRnJvbVNjcmlwdEVsZW1lbnQod2hvYW1pLm5hbWVzcGFjZSwgd2hvYW1pLm1vZHVsZU5hbWUpOwogICAgfQogICAgcmV0dXJuIHdob2FtaTsKfTsKCmV4cG9ydHMub25SZWFkeSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7CiAgICAvLyBUaGlzIGFsbG93cyB0ZXN0IGJhc2VkIGluaXRpYWxpemF0aW9uIG9mIGplbmtpbnMtanMtbW9kdWxlcyB3aGVuIHRoZXJlIG1pZ2h0IAogICAgLy8gbm90IHlldCBiZSBhIGdsb2JhbCB3aW5kb3cgb2JqZWN0LgogICAgaWYgKGplbmtpbnNDSUdsb2JhbCkgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICB9IGVsc2UgewogICAgICAgIHdpbmRvd0hhbmRsZS5nZXRXaW5kb3coZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgfSk7CiAgICB9ICAgIAp9OwoKZXhwb3J0cy5vbkplbmtpbnNHbG9iYWxJbml0ID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgIGdsb2JhbEluaXRMaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7Cn07CgpleHBvcnRzLmluaXRKZW5raW5zR2xvYmFsID0gZnVuY3Rpb24oKSB7CiAgICBqZW5raW5zQ0lHbG9iYWwgPSB7CiAgICB9OwogICAgaWYgKGdsb2JhbEluaXRMaXN0ZW5lcnMpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdsb2JhbEluaXRMaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgZ2xvYmFsSW5pdExpc3RlbmVyc1tpXShqZW5raW5zQ0lHbG9iYWwpOwogICAgICAgIH0KICAgIH0KfTsKCmV4cG9ydHMuY2xlYXJKZW5raW5zR2xvYmFsID0gZnVuY3Rpb24oKSB7ICAgIAogICAgamVua2luc0NJR2xvYmFsID0gdW5kZWZpbmVkOwogICAgd2hvYW1pID0gdW5kZWZpbmVkOwp9OwoKZXhwb3J0cy5nZXRKZW5raW5zID0gZnVuY3Rpb24oKSB7CiAgICBpZiAoamVua2luc0NJR2xvYmFsKSB7CiAgICAgICAgcmV0dXJuIGplbmtpbnNDSUdsb2JhbDsKICAgIH0KICAgIHZhciB3aW5kb3cgPSB3aW5kb3dIYW5kbGUuZ2V0V2luZG93KCk7CiAgICBpZiAod2luZG93LmplbmtpbnNDSUdsb2JhbCkgewogICAgICAgIGplbmtpbnNDSUdsb2JhbCA9IHdpbmRvdy5qZW5raW5zQ0lHbG9iYWw7CiAgICB9IGVsc2UgewogICAgICAgIGV4cG9ydHMuaW5pdEplbmtpbnNHbG9iYWwoKTsKICAgICAgICBqZW5raW5zQ0lHbG9iYWwucm9vdFVSTCA9IGdldFJvb3RVUkwoKTsKICAgICAgICB3aW5kb3cuamVua2luc0NJR2xvYmFsID0gamVua2luc0NJR2xvYmFsOwogICAgfSAgIAogICAgcmV0dXJuIGplbmtpbnNDSUdsb2JhbDsKfTsKCmV4cG9ydHMuZ2V0TW9kdWxlTmFtZXNwYWNlT2JqID0gZnVuY3Rpb24obW9kdWxlU3BlYykgewogICAgaWYgKG1vZHVsZVNwZWMubmFtZXNwYWNlKSB7CiAgICAgICAgcmV0dXJuIGV4cG9ydHMuZ2V0TmFtZXNwYWNlKG1vZHVsZVNwZWMubmFtZXNwYWNlKTsKICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGV4cG9ydHMuZ2V0R2xvYmFsTW9kdWxlcygpOwogICAgfQp9CgpleHBvcnRzLmdldE5hbWVzcGFjZSA9IGZ1bmN0aW9uKG5hbWVzcGFjZU5hbWUpIHsKICAgIHZhciBuYW1lc3BhY2VzID0gZXhwb3J0cy5nZXROYW1lc3BhY2VzKCk7CiAgICB2YXIgbmFtZXNwYWNlID0gbmFtZXNwYWNlc1tuYW1lc3BhY2VOYW1lXTsKICAgIGlmICghbmFtZXNwYWNlKSB7CiAgICAgICAgbmFtZXNwYWNlID0gewogICAgICAgICAgICBnbG9iYWxOUzogZmFsc2UgICAgICAgICAgICAKICAgICAgICB9OwogICAgICAgIG5hbWVzcGFjZXNbbmFtZXNwYWNlTmFtZV0gPSBuYW1lc3BhY2U7CiAgICB9CiAgICByZXR1cm4gbmFtZXNwYWNlOwp9OwoKZXhwb3J0cy5pbXBvcnQgPSBmdW5jdGlvbihtb2R1bGVRTmFtZSwgb25SZWdpc3RlclRpbWVvdXQpIHsKICAgIHJldHVybiBwcm9taXNlLm1ha2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIC8vIFNvbWUgZnVuY3Rpb25zIGhlcmUgbmVlZHMgdG8gYWNjZXNzIHRoZSAnd2luZG93JyBnbG9iYWwuIFdlIHdhbnQgdG8gbWFrZSBzdXJlIHRoYXQKICAgICAgICAvLyBleGlzdHMgYmVmb3JlIGF0dGVtcHRpbmcgdG8gZnVsZmlsbCB0aGUgcmVxdWlyZSBvcGVyYXRpb24uIEl0IG1heSBub3QgZXhpc3RzCiAgICAgICAgLy8gaW1tZWRpYXRlbHkgaW4gYSB0ZXN0IGVudi4KICAgICAgICBleHBvcnRzLm9uUmVhZHkoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBtb2R1bGVTcGVjID0gZXhwb3J0cy5wYXJzZVJlc291cmNlUU5hbWUobW9kdWxlUU5hbWUpOwogICAgICAgICAgICB2YXIgbW9kdWxlID0gZXhwb3J0cy5nZXRNb2R1bGUobW9kdWxlU3BlYyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAobW9kdWxlKSB7CiAgICAgICAgICAgICAgICAvLyBtb2R1bGUgYWxyZWFkeSBsb2FkZWQKICAgICAgICAgICAgICAgIHJlc29sdmUobW9kdWxlLmV4cG9ydHMpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYgKG9uUmVnaXN0ZXJUaW1lb3V0ID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZHVsZVNwZWMubmFtZXNwYWNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93ICdNb2R1bGUgJyArIG1vZHVsZVNwZWMubmFtZXNwYWNlICsgJzonICsgbW9kdWxlU3BlYy5tb2R1bGVOYW1lICsgJyByZXF1aXJlIGZhaWx1cmUuIEFzeW5jIGxvYWQgbW9kZSBkaXNhYmxlZC4nOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93ICdHbG9iYWwgbW9kdWxlICcgKyBtb2R1bGVTcGVjLm1vZHVsZU5hbWUgKyAnIHJlcXVpcmUgZmFpbHVyZS4gQXN5bmMgbG9hZCBtb2RlIGRpc2FibGVkLic7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIG1vZHVsZSBub3QgbG9hZGVkLiBMb2FkIGFzeW5jLCBmdWxmaWxsaW5nIHByb21pc2Ugb25jZSByZWdpc3RlcmVkCiAgICAgICAgICAgICAgICBleHBvcnRzLmxvYWRNb2R1bGUobW9kdWxlU3BlYywgb25SZWdpc3RlclRpbWVvdXQpCiAgICAgICAgICAgICAgICAgICAgLm9uRnVsZmlsbGVkKGZ1bmN0aW9uIChtb2R1bGVFeHBvcnRzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobW9kdWxlRXhwb3J0cyk7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAub25SZWplY3RlZChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSk7ICAgIAp9OwoKZXhwb3J0cy5sb2FkTW9kdWxlID0gZnVuY3Rpb24obW9kdWxlU3BlYywgb25SZWdpc3RlclRpbWVvdXQpIHsKICAgIHZhciBtb2R1bGVOYW1lc3BhY2VPYmogPSBleHBvcnRzLmdldE1vZHVsZU5hbWVzcGFjZU9iaihtb2R1bGVTcGVjKTsKICAgIHZhciBtb2R1bGUgPSBtb2R1bGVOYW1lc3BhY2VPYmpbbW9kdWxlU3BlYy5tb2R1bGVOYW1lXTsKICAgIAogICAgaWYgKG1vZHVsZSkgewogICAgICAgIC8vIE1vZHVsZSBhbHJlYWR5IGxvYWRlZC4gVGhpcyBwcm9iIHNob3VsZG4ndCBoYXBwZW4uCiAgICAgICAgY29uc29sZS5sb2coIlVuZXhwZWN0ZWQgY2FsbCB0byAnbG9hZE1vZHVsZScgZm9yIGEgbW9kdWxlICgiICsgbW9kdWxlU3BlYy5tb2R1bGVOYW1lICsgIikgdGhhdCdzIGFscmVhZHkgbG9hZGVkLiIpOwogICAgICAgIHJldHVybiBwcm9taXNlLm1ha2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgcmVzb2x2ZShtb2R1bGUuZXhwb3J0cyk7CiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gd2FpdEZvclJlZ2lzdHJhdGlvbihsb2FkaW5nTW9kdWxlLCBvblJlZ2lzdGVyVGltZW91dCkgewogICAgICAgIHJldHVybiBwcm9taXNlLm1ha2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICBpZiAodHlwZW9mIG9uUmVnaXN0ZXJUaW1lb3V0ICE9PSAibnVtYmVyIikgewogICAgICAgICAgICAgICAgb25SZWdpc3RlclRpbWVvdXQgPSAxMDAwMDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgdmFyIHRpbWVvdXRPYmogPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIC8vIFRpbWVkIG91dCB3YWl0aW5nIG9uIHRoZSBtb2R1bGUgdG8gbG9hZCBhbmQgcmVnaXN0ZXIgaXRzZWxmLgogICAgICAgICAgICAgICAgaWYgKCFsb2FkaW5nTW9kdWxlLmxvYWRlZCkgewogICAgICAgICAgICAgICAgICAgIHZhciBtb2R1bGVTcGVjID0gbG9hZGluZ01vZHVsZS5tb2R1bGVTcGVjOwogICAgICAgICAgICAgICAgICAgIHZhciBlcnJvckRldGFpbDsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZiAobW9kdWxlU3BlYy5uYW1lc3BhY2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JEZXRhaWwgPSAiVGltZWQgb3V0IHdhaXRpbmcgb24gbW9kdWxlICciICsgbW9kdWxlU3BlYy5uYW1lc3BhY2UgKyAiOiIgKyBtb2R1bGVTcGVjLm1vZHVsZU5hbWUgKyAiJyB0byBsb2FkLiI7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JEZXRhaWwgPSAiVGltZWQgb3V0IHdhaXRpbmcgb24gZ2xvYmFsIG1vZHVsZSAnIiArIG1vZHVsZVNwZWMubW9kdWxlTmFtZSArICInIHRvIGxvYWQuIjsKICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdNb2R1bGUgbG9hZCBmYWlsdXJlOiAnICsgZXJyb3JEZXRhaWwpOwoKICAgICAgICAgICAgICAgICAgICAvLyBDYWxsIHRoZSByZWplY3QgZnVuY3Rpb24gYW5kIHRlbGwgaXQgd2UgdGltZWQgb3V0CiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiAndGltZW91dCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbDogZXJyb3JEZXRhaWwKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgb25SZWdpc3RlclRpbWVvdXQpOwogICAgICAgICAgICAKICAgICAgICAgICAgbG9hZGluZ01vZHVsZS53YWl0TGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgIHJlc29sdmU6IHJlc29sdmUsCiAgICAgICAgICAgICAgICB0aW1lb3V0T2JqOiB0aW1lb3V0T2JqCiAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgfSk7CiAgICB9CiAgICAKICAgIHZhciBsb2FkaW5nTW9kdWxlID0gZ2V0TG9hZGluZ01vZHVsZShtb2R1bGVOYW1lc3BhY2VPYmosIG1vZHVsZVNwZWMubW9kdWxlTmFtZSk7CiAgICBpZiAoIWxvYWRpbmdNb2R1bGUud2FpdExpc3QpIHsKICAgICAgICBsb2FkaW5nTW9kdWxlLndhaXRMaXN0ID0gW107CiAgICB9CiAgICBsb2FkaW5nTW9kdWxlLm1vZHVsZVNwZWMgPSBtb2R1bGVTcGVjOyAKICAgIGxvYWRpbmdNb2R1bGUubG9hZGVkID0gZmFsc2U7CgogICAgdHJ5IHsKICAgICAgICByZXR1cm4gd2FpdEZvclJlZ2lzdHJhdGlvbihsb2FkaW5nTW9kdWxlLCBvblJlZ2lzdGVyVGltZW91dCk7CiAgICB9IGZpbmFsbHkgewogICAgICAgIC8vIFdlIGNhbiBhdXRvL2R5bmFtaWMgbG9hZCBtb2R1bGVzIGluIGEgbm9uLWdsb2JhbCBuYW1lc3BhY2UuIEdsb2JhbCBuYW1lc3BhY2UgbW9kdWxlcwogICAgICAgIC8vIG5lZWQgdG8gbWFrZSBzdXJlIHRoZXkgbG9hZCB0aGVtc2VsdmVzICh2aWEgYW4gYWRqdW5jdCwgb3Igd2hhdGV2ZXIpLgogICAgICAgIGlmIChtb2R1bGVTcGVjLm5hbWVzcGFjZSkgewogICAgICAgICAgICB2YXIgc2NyaXB0SWQgPSBleHBvcnRzLnRvTW9kdWxlSWQobW9kdWxlU3BlYy5uYW1lc3BhY2UsIG1vZHVsZVNwZWMubW9kdWxlTmFtZSkgKyAnOmpzJzsKICAgICAgICAgICAgdmFyIHNjcmlwdFNyYyA9IGV4cG9ydHMudG9Nb2R1bGVTcmMobW9kdWxlU3BlYywgJ2pzJyk7CiAgICAgICAgICAgIHZhciBzY3JpcHRFbCA9IGV4cG9ydHMuYWRkU2NyaXB0KHNjcmlwdFNyYywgewogICAgICAgICAgICAgICAgc2NyaXB0SWQ6IHNjcmlwdElkLAogICAgICAgICAgICAgICAgc2NyaXB0U3JjQmFzZTogJycKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZiAoc2NyaXB0RWwpIHsKICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgbW9kdWxlIHNwZWMgaW5mbyBvbiB0aGUgPHNjcmlwdD4gZWxlbWVudC4gVGhpcyBhbGxvd3MgdXMgdG8gcmVzb2x2ZSB0aGUKICAgICAgICAgICAgICAgIC8vIG5zUHJvdmlkZXIgZm9yIHRoYXQgYnVuZGxlIGFmdGVyICd3aG9hbWknIGlzIGNhbGxlZCBmb3IgaXQgKGFzIGl0IGxvYWRzKS4gd2hvYW1pCiAgICAgICAgICAgICAgICAvLyBpcyBub3QgY2FsbGVkIHdpdGggdGhlIG5zUHJvdmlkZXIgaW5mbyBvbiBpdCBiZWNhdXNlIGEgZ2l2ZW4gYnVuZGxlIGNhbgogICAgICAgICAgICAgICAgLy8gcG90ZW50aWFsbHkgYmUgbG9hZGVkIGZyb20gbXVsdGlwbGUgZGlmZmVyZW50IG5zIHByb3ZpZGVycywgc28gd2Ugb25seSByZXNvbGUgdGhlIHByb3ZpZGVyCiAgICAgICAgICAgICAgICAvLyBhdCBsb2FkLXRpbWUgaS5lLiBqdXN0IGFmdGVyIGEgYnVuZGxlIGlzIGxvYWRlZCBpdCBjYWxscyAnd2hvYW1pJyBmb3IgaXRzZWxmCiAgICAgICAgICAgICAgICAvLyBhbmQgdGhlbiB0aGlzIG1vZHVsZSBtYWdpY2FsbHkgd29ya3Mgb3V0IHdoZXJlIGl0IHdhcyBsb2FkZWQgZnJvbSAoaXQncyBuc1Byb3ZpZGVyKQogICAgICAgICAgICAgICAgLy8gYnkgbG9jYXRpbmcgdGhlIDxzY3JpcHQ+IGVsZW1lbnQgYW5kIHVzaW5nIHRoaXMgaW5mb3JtYXRpb24uIEZvciBhIG1vZHVsZS9idW5kbGUsIGtub3dpbmcKICAgICAgICAgICAgICAgIC8vIHdoZXJlIGl0IHdhcyBsb2FkZWQgZnJvbSBpcyBpbXBvcnRhbnQgYmVjYXVzZSBpdCBkaWN0YXRlcyB3aGVyZSB0aGF0IG1vZHVsZS9idW5kbGUKICAgICAgICAgICAgICAgIC8vIHNob3VsZCBsb2FkIGl0IGRlcGVuZGVuY2llcyBmcm9tLiBGb3IgZXhhbXBsZSwgdGhlIEJvb3RzdHJhcCBtb2R1bGUvYnVuZGxlIGRlcGVuZHMgb24gdGhlCiAgICAgICAgICAgICAgICAvLyBqUXVlcnkgYnVuZGxlLiBTbywgaWYgdGhlIGJvb3RzdHJhcCBidW5kbGUgaXMgbG9hZGVkIGZyb20gdGhlICdjb3JlLWFzc2V0cycgbmFtZXNwYWNlIHByb3ZpZGVyLAogICAgICAgICAgICAgICAgLy8gdGhlbiB0aGF0IG1lYW5zIHRoZSBqUXVlcnkgYnVuZGxlIHNob3VsZCBhbHNvIGJlIGxvYWRlZCBmcm9tIHRoZSAnY29yZS1hc3NldHMnCiAgICAgICAgICAgICAgICAvLyBuYW1lc3BhY2UgcHJvdmlkZXIuCiAgICAgICAgICAgICAgICAvLyBTZWUgZ2V0QnVuZGxlTlNQcm92aWRlckZyb21TY3JpcHRFbGVtZW50LgogICAgICAgICAgICAgICAgc2NyaXB0RWwuc2V0QXR0cmlidXRlKCdkYXRhLWplbmtpbnMtbW9kdWxlLW5zUHJvdmlkZXInLCBtb2R1bGVTcGVjLm5zUHJvdmlkZXIpOwogICAgICAgICAgICAgICAgc2NyaXB0RWwuc2V0QXR0cmlidXRlKCdkYXRhLWplbmtpbnMtbW9kdWxlLW5hbWVzcGFjZScsIG1vZHVsZVNwZWMubmFtZXNwYWNlKTsKICAgICAgICAgICAgICAgIHNjcmlwdEVsLnNldEF0dHJpYnV0ZSgnZGF0YS1qZW5raW5zLW1vZHVsZS1tb2R1bGVOYW1lJywgbW9kdWxlU3BlYy5tb2R1bGVOYW1lKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfTsKCmV4cG9ydHMuYWRkU2NyaXB0ID0gZnVuY3Rpb24oc2NyaXB0U3JjLCBvcHRpb25zKSB7CiAgICBpZiAoIXNjcmlwdFNyYykgewogICAgICAgIGNvbnNvbGUud2FybignQ2FsbCB0byBhZGRTY3JpcHQgd2l0aCB1bmRlZmluZWQgInNjcmlwdFNyYyIgYXJnLicpOwogICAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9ICAgIAogICAgCiAgICB2YXIgbm9ybWFsaXplZE9wdGlvbnM7CiAgICAKICAgIC8vIElmIHRoZXJlJ3Mgbm8gb3B0aW9ucyBvYmplY3QsIGNyZWF0ZSBpdC4KICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIHsKICAgICAgICBub3JtYWxpemVkT3B0aW9ucyA9IG9wdGlvbnM7CiAgICB9IGVsc2UgewogICAgICAgIG5vcm1hbGl6ZWRPcHRpb25zID0ge307CiAgICB9CiAgICAKICAgIC8vIE1heSB3YW50IHRvIHRyYW5zZm9ybS9tYXAgc29tZSB1cmxzLgogICAgaWYgKG5vcm1hbGl6ZWRPcHRpb25zLnNjcmlwdFNyY01hcCkgewogICAgICAgIGlmICh0eXBlb2Ygbm9ybWFsaXplZE9wdGlvbnMuc2NyaXB0U3JjTWFwID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgIHNjcmlwdFNyYyA9IG5vcm1hbGl6ZWRPcHRpb25zLnNjcmlwdFNyY01hcChzY3JpcHRTcmMpOwogICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShub3JtYWxpemVkT3B0aW9ucy5zY3JpcHRTcmNNYXApKSB7CiAgICAgICAgICAgIC8vIGl0J3MgYW4gYXJyYXkgb2Ygc3VmZml4IG1hcHBpbmdzCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9ybWFsaXplZE9wdGlvbnMuc2NyaXB0U3JjTWFwLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgbWFwcGluZyA9IG5vcm1hbGl6ZWRPcHRpb25zLnNjcmlwdFNyY01hcFtpXTsKICAgICAgICAgICAgICAgIGlmIChtYXBwaW5nLmZyb20gJiYgbWFwcGluZy50bykgewogICAgICAgICAgICAgICAgICAgIGlmIChlbmRzV2l0aChzY3JpcHRTcmMsIG1hcHBpbmcuZnJvbSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZE9wdGlvbnMub3JpZ2luYWxTY3JpcHRTcmMgPSBzY3JpcHRTcmM7CiAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdFNyYyA9IHNjcmlwdFNyYy5yZXBsYWNlKG1hcHBpbmcuZnJvbSwgbWFwcGluZy50byk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIAogICAgbm9ybWFsaXplZE9wdGlvbnMuc2NyaXB0SWQgPSBnZXRTY3JpcHRJZChzY3JpcHRTcmMsIG9wdGlvbnMpOwogICAgCiAgICAvLyBzZXQgc29tZSBkZWZhdWx0IG9wdGlvbnMKICAgIGlmIChub3JtYWxpemVkT3B0aW9ucy5hc3luYyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgbm9ybWFsaXplZE9wdGlvbnMuYXN5bmMgPSB0cnVlOwogICAgfQogICAgaWYgKG5vcm1hbGl6ZWRPcHRpb25zLnNjcmlwdFNyY0Jhc2UgPT09IHVuZGVmaW5lZCkgewogICAgICAgIG5vcm1hbGl6ZWRPcHRpb25zLnNjcmlwdFNyY0Jhc2UgPSAnQHJvb3QnOwogICAgfQogICAgCiAgICBpZiAobm9ybWFsaXplZE9wdGlvbnMuc2NyaXB0U3JjQmFzZSA9PT0gJ0Byb290JykgewogICAgICAgIG5vcm1hbGl6ZWRPcHRpb25zLnNjcmlwdFNyY0Jhc2UgPSBnZXRSb290VVJMKCkgKyAnLyc7CiAgICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWRPcHRpb25zLnNjcmlwdFNyY0Jhc2UgPT09ICdAYWRqdW5jdCcpIHsKICAgICAgICBub3JtYWxpemVkT3B0aW9ucy5zY3JpcHRTcmNCYXNlID0gZ2V0QWRqdW5jdFVSTCgpICsgJy8nOwogICAgfQoKICAgIHZhciBkb2N1bWVudCA9IHdpbmRvd0hhbmRsZS5nZXRXaW5kb3coKS5kb2N1bWVudDsKICAgIHZhciBoZWFkID0gZXhwb3J0cy5nZXRIZWFkRWxlbWVudCgpOwogICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG5vcm1hbGl6ZWRPcHRpb25zLnNjcmlwdElkKTsKCiAgICBpZiAoc2NyaXB0KSB7CiAgICAgICAgdmFyIHJlcGxhY2VhYmxlID0gc2NyaXB0LmdldEF0dHJpYnV0ZSgnZGF0YS1yZXBsYWNlYWJsZScpOwogICAgICAgIGlmIChyZXBsYWNlYWJsZSAmJiByZXBsYWNlYWJsZSA9PT0gJ3RydWUnKSB7CiAgICAgICAgICAgIC8vIFRoaXMgPHNjcmlwdD4gZWxlbWVudCBpcyByZXBsYWNlYWJsZS4gSW4gdGhpcyBjYXNlLCAKICAgICAgICAgICAgLy8gd2UgcmVtb3ZlIHRoZSBleGlzdGluZyBzY3JpcHQgZWxlbWVudCBhbmQgYWRkIGEgbmV3IG9uZSBvZiB0aGUKICAgICAgICAgICAgLy8gc2FtZSBpZCBhbmQgd2l0aCB0aGUgc3BlY2lmaWVkIHNyYyBhdHRyaWJ1dGUuCiAgICAgICAgICAgIC8vIEFkZGluZyBoYXBwZW5zIGJlbG93LgogICAgICAgICAgICBzY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgfQoKICAgIHNjcmlwdCA9IGNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwoKICAgIC8vIFBhcnRzIG9mIHRoZSBmb2xsb3dpbmcgb25sb2FkIGNvZGUgd2VyZSBpbnNwaXJlZCBieSBob3cgdGhlIEFDRSBlZGl0b3IgZG9lcyBpdCwKICAgIC8vIGFzIHdlbGwgYXMgZnJvbSB0aGUgZm9sbG93IFNPIHBvc3Q6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ4NDU4MDIvMTE2Njk4NgogICAgdmFyIG9ubG9hZCA9IGZ1bmN0aW9uIChfLCBpc0Fib3J0ZWQpIHsKICAgICAgICBzY3JpcHQuc2V0QXR0cmlidXRlKCdkYXRhLW9ubG9hZC1jb21wbGV0ZScsIHRydWUpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmIChpc0Fib3J0ZWQpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignU2NyaXB0IGxvYWQgYWJvcnRlZDogJyArIHNjcmlwdFNyYyk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXNjcmlwdC5yZWFkeVN0YXRlIHx8IHNjcmlwdC5yZWFkeVN0YXRlID09PSAibG9hZGVkIiB8fCBzY3JpcHQucmVhZHlTdGF0ZSA9PT0gImNvbXBsZXRlIikgewogICAgICAgICAgICAgICAgLy8gSWYgdGhlIG9wdGlvbnMgY29udGFpbnMgYW4gb25sb2FkIGZ1bmN0aW9uLCBjYWxsIGl0LgogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBub3JtYWxpemVkT3B0aW9ucy5zdWNjZXNzID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZE9wdGlvbnMuc3VjY2VzcyhzY3JpcHQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0eXBlb2Ygbm9ybWFsaXplZE9wdGlvbnMuZXJyb3IgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRPcHRpb25zLmVycm9yKHNjcmlwdCwgaXNBYm9ydGVkKTsKICAgICAgICAgICAgfQogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIGlmIChub3JtYWxpemVkT3B0aW9ucy5yZW1vdmVFbGVtZW50T25Mb2FkKSB7CiAgICAgICAgICAgICAgICBoZWFkLnJlbW92ZUNoaWxkKHNjcmlwdCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gSGFuZGxlIG1lbW9yeSBsZWFrIGluIElFCiAgICAgICAgICAgIHNjcmlwdCA9IHNjcmlwdC5vbmxvYWQgPSBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDsKICAgICAgICB9CiAgICB9OwogICAgc2NyaXB0Lm9ubG9hZCA9IG9ubG9hZDsgCiAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gb25sb2FkOwoKICAgIHNjcmlwdC5zZXRBdHRyaWJ1dGUoJ2lkJywgbm9ybWFsaXplZE9wdGlvbnMuc2NyaXB0SWQpOwogICAgc2NyaXB0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2phdmFzY3JpcHQnKTsKICAgIHNjcmlwdC5zZXRBdHRyaWJ1dGUoJ3NyYycsIG5vcm1hbGl6ZWRPcHRpb25zLnNjcmlwdFNyY0Jhc2UgKyBzY3JpcHRTcmMpOwogICAgaWYgKG5vcm1hbGl6ZWRPcHRpb25zLm9yaWdpbmFsU2NyaXB0U3JjKSB7CiAgICAgICAgc2NyaXB0LnNldEF0dHJpYnV0ZSgnZGF0YS1yZWZlcnJlcicsIG5vcm1hbGl6ZWRPcHRpb25zLm9yaWdpbmFsU2NyaXB0U3JjKTsgICAgICAgIAogICAgfQogICAgaWYgKG5vcm1hbGl6ZWRPcHRpb25zLmFzeW5jKSB7CiAgICAgICAgc2NyaXB0LnNldEF0dHJpYnV0ZSgnYXN5bmMnLCBub3JtYWxpemVkT3B0aW9ucy5hc3luYyk7CiAgICB9CiAgICAKICAgIGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTsKICAgIAogICAgcmV0dXJuIHNjcmlwdDsKfTsKCmV4cG9ydHMubm90aWZ5TW9kdWxlRXhwb3J0ZWQgPSBmdW5jdGlvbihtb2R1bGVTcGVjLCBtb2R1bGVFeHBvcnRzKSB7CiAgICB2YXIgbW9kdWxlTmFtZXNwYWNlT2JqID0gZXhwb3J0cy5nZXRNb2R1bGVOYW1lc3BhY2VPYmoobW9kdWxlU3BlYyk7CiAgICB2YXIgbG9hZGluZ01vZHVsZSA9IGdldExvYWRpbmdNb2R1bGUobW9kdWxlTmFtZXNwYWNlT2JqLCBtb2R1bGVTcGVjLm1vZHVsZU5hbWUpOwogICAgCiAgICBsb2FkaW5nTW9kdWxlLmxvYWRlZCA9IHRydWU7CiAgICBpZiAobG9hZGluZ01vZHVsZS53YWl0TGlzdCkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9hZGluZ01vZHVsZS53YWl0TGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgd2FpdGVyID0gbG9hZGluZ01vZHVsZS53YWl0TGlzdFtpXTsKICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHdhaXRlci50aW1lb3V0T2JqKTsKICAgICAgICAgICAgd2FpdGVyLnJlc29sdmUobW9kdWxlRXhwb3J0cyk7CiAgICAgICAgfQogICAgfSAgICAKfTsKCmV4cG9ydHMuYWRkTW9kdWxlQ1NTVG9QYWdlID0gZnVuY3Rpb24obmFtZXNwYWNlLCBtb2R1bGVOYW1lKSB7CiAgICB2YXIgbW9kdWxlU3BlYyA9IGV4cG9ydHMuZ2V0TW9kdWxlU3BlYyhuYW1lc3BhY2UgKyAnOicgKyBtb2R1bGVOYW1lKTsKICAgIHZhciBjc3NFbElkID0gZXhwb3J0cy50b01vZHVsZUlkKG5hbWVzcGFjZSwgbW9kdWxlTmFtZSkgKyAnOmNzcyc7CiAgICB2YXIgY3NzUGF0aCA9IGV4cG9ydHMudG9Nb2R1bGVTcmMobW9kdWxlU3BlYywgJ2NzcycpOwogICAgcmV0dXJuIGV4cG9ydHMuYWRkQ1NTVG9QYWdlKG5hbWVzcGFjZSwgY3NzUGF0aCwgY3NzRWxJZCk7Cn07CgpleHBvcnRzLmFkZFBsdWdpbkNTU1RvUGFnZSA9IGZ1bmN0aW9uKG5hbWVzcGFjZSwgY3NzUGF0aCwgY3NzRWxJZCkgewogICAgdmFyIGNzc1BhdGggPSBleHBvcnRzLmdldFBsdWdpblBhdGgobmFtZXNwYWNlKSArICcvJyArIGNzc1BhdGg7CiAgICByZXR1cm4gZXhwb3J0cy5hZGRDU1NUb1BhZ2UobmFtZXNwYWNlLCBjc3NQYXRoLCBjc3NFbElkKTsKfTsKCmV4cG9ydHMuYWRkQ1NTVG9QYWdlID0gZnVuY3Rpb24obmFtZXNwYWNlLCBjc3NQYXRoLCBjc3NFbElkKSB7CiAgICB2YXIgZG9jdW1lbnQgPSB3aW5kb3dIYW5kbGUuZ2V0V2luZG93KCkuZG9jdW1lbnQ7CiAgICAKICAgIGlmIChjc3NFbElkID09PSB1bmRlZmluZWQpIHsKICAgICAgICBjc3NFbElkID0gJ2plbmtpbnMtanMtbW9kdWxlOicgKyBuYW1lc3BhY2UgKyAnOmNzczonICsgY3NzUGF0aDsKICAgIH0KICAgIAogICAgdmFyIGNzc0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY3NzRWxJZCk7CiAgICAKICAgIGlmIChjc3NFbCkgewogICAgICAgIC8vIGFscmVhZHkgYWRkZWQgdG8gcGFnZQogICAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgZG9jSGVhZCA9IGV4cG9ydHMuZ2V0SGVhZEVsZW1lbnQoKTsKICAgIGNzc0VsID0gY3JlYXRlRWxlbWVudCgnbGluaycpOwogICAgY3NzRWwuc2V0QXR0cmlidXRlKCdpZCcsIGNzc0VsSWQpOwogICAgY3NzRWwuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvY3NzJyk7CiAgICBjc3NFbC5zZXRBdHRyaWJ1dGUoJ3JlbCcsICdzdHlsZXNoZWV0Jyk7CiAgICBjc3NFbC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBjc3NQYXRoKTsKICAgIGRvY0hlYWQuYXBwZW5kQ2hpbGQoY3NzRWwpOwoKICAgIHJldHVybiBjc3NFbDsKfTsKCmV4cG9ydHMuZ2V0R2xvYmFsTW9kdWxlcyA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGplbmtpbnNDSUdsb2JhbCA9IGV4cG9ydHMuZ2V0SmVua2lucygpOwogICAgaWYgKCFqZW5raW5zQ0lHbG9iYWwuZ2xvYmFscykgewogICAgICAgIGplbmtpbnNDSUdsb2JhbC5nbG9iYWxzID0gewogICAgICAgICAgICBnbG9iYWxOUzogdHJ1ZQogICAgICAgIH07CiAgICB9CiAgICByZXR1cm4gamVua2luc0NJR2xvYmFsLmdsb2JhbHM7Cn07CgpleHBvcnRzLmdldE5hbWVzcGFjZXMgPSBmdW5jdGlvbigpIHsKICAgIHZhciBqZW5raW5zQ0lHbG9iYWwgPSBleHBvcnRzLmdldEplbmtpbnMoKTsKCiAgICAvLyBUaGUgbmFtZXNwYWNlcyBhcmUgc3RvcmVkIGluIGFuIG9iamVjdCBuYW1lZCAicGx1Z2lucyIuIFRoaXMgaXMgYSBsZWdhY3kgZnJvbSB0aGUKICAgIC8vIHRpbWUgd2hlbiBhbGwgbW9kdWxlcyBsaXZlZCBpbiBwbHVnaW5zLiBCeSByaWdodCB3ZSdkIGxpa2UgdG8gcmVuYW1lIHRoaXMsIGJ1dAogICAgLy8gdGhhdCB3b3VsZCBjYXVzZSBjb21wYXRpYmlsaXR5IGlzc3Vlcy4KCiAgICBpZiAoIWplbmtpbnNDSUdsb2JhbC5wbHVnaW5zKSB7CiAgICAgICAgamVua2luc0NJR2xvYmFsLnBsdWdpbnMgPSB7CiAgICAgICAgICAgIF9fUkVBRE1FX186ICdUaGlzIG9iamVjdCBob2xkcyBuYW1lc3BhY2VkIEpTIG1vZHVsZXMvYnVuZGxlcywgd2l0aCB0aGUgcHJvcGVydHkgbmFtZXMgcmVwcmVzZW50aW5nIHRoZSBtb2R1bGUgbmFtZXNwYWNlLiBJdFwncyBuYW1lICgicGx1Z2lucyIpIGlzIGEgbGVnYWN5IHRoaW5nLiBDaGFuZ2luZyBpdCB0byBhIGJldHRlciBuYW1lIChlLmcuICJuYW1lc3BhY2VzIikgd291bGQgY2F1c2UgY29tcGF0aWJpbGl0eSBpc3N1ZXMuJwogICAgICAgIH07CiAgICB9CiAgICByZXR1cm4gamVua2luc0NJR2xvYmFsLnBsdWdpbnM7Cn07CgpleHBvcnRzLnRvTW9kdWxlSWQgPSBmdW5jdGlvbihuYW1lc3BhY2UsIG1vZHVsZU5hbWUpIHsKICAgIHJldHVybiAnamVua2lucy1qcy1tb2R1bGU6JyArIG5hbWVzcGFjZSArICc6JyArIG1vZHVsZU5hbWU7Cn07CgpleHBvcnRzLnRvTW9kdWxlU3JjID0gZnVuY3Rpb24obW9kdWxlU3BlYywgc3JjVHlwZSkgewogICAgdmFyIG5zUHJvdmlkZXIgPSBtb2R1bGVTcGVjLm5zUHJvdmlkZXI7CgogICAgLy8gSWYgYSBtb2R1bGVTcGVjIG9uIGEgbW9kdWxlL2J1bmRsZSBpbXBvcnQgZG9lc24ndCBzcGVjaWZ5IGEgbmFtZXNwYWNlIHByb3ZpZGVyCiAgICAvLyAoaS5lLiBpcyBvZiB0aGUgZm9ybSAiYTpiIiBhbmQgbm90ICJjb3JlLWFzc2V0cy9hOmIiKSwKICAgIC8vIHRoZW4gY2hlY2sgInRoaXMiIGJ1bmRsZXMgbW9kdWxlIHNwZWMgYW5kIHNlZSBpZiBpdCB3YXMgaW1wb3J0ZWQgZnJvbSBhIHNwZWNpZmljCiAgICAvLyBuYW1lc3BhY2UuIElmIGl0IHdhcyAoZS5nLiAnY29yZS1hc3NldHMnKSwgdGhlbiBpbXBvcnQgZnJvbSB0aGF0IG5hbWVzcGFjZS4KICAgIGlmIChuc1Byb3ZpZGVyID09PSB1bmRlZmluZWQpIHsKICAgICAgICBuc1Byb3ZpZGVyID0gdGhpc0J1bmRsZU5hbWVzcGFjZVByb3ZpZGVyKCk7CiAgICAgICAgaWYgKG5zUHJvdmlkZXIgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBuc1Byb3ZpZGVyID0gJ3BsdWdpbic7CiAgICAgICAgfQogICAgICAgIC8vIFN0b3JlIHRoZSBuc1Byb3ZpZGVyIGJhY2sgb250byB0aGUgbW9kdWxlU3BlYy4KICAgICAgICBtb2R1bGVTcGVjLm5zUHJvdmlkZXIgPSBuc1Byb3ZpZGVyOwogICAgfQoKICAgIHZhciBzcmNQYXRoID0gdW5kZWZpbmVkOwogICAgaWYgKHNyY1R5cGUgPT09ICdqcycpIHsKICAgICAgICBzcmNQYXRoID0gbW9kdWxlU3BlYy5tb2R1bGVOYW1lICsgJy5qcyc7CiAgICB9IGVsc2UgaWYgKHNyY1R5cGUgPT09ICdjc3MnKSB7CiAgICAgICAgc3JjUGF0aCA9IG1vZHVsZVNwZWMubW9kdWxlTmFtZSArICcvc3R5bGUuY3NzJzsKICAgIH0gZWxzZSB7CiAgICAgICAgdGhyb3cgJ1Vuc3VwcG9ydGVkIHNyY1R5cGUgIicrIHNyY1R5cGUgKyAnIi4nOwogICAgfQoKICAgIGlmIChuc1Byb3ZpZGVyID09PSAncGx1Z2luJykgewogICAgICAgIHJldHVybiBleHBvcnRzLmdldFBsdWdpbkpTTW9kdWxlc1BhdGgobW9kdWxlU3BlYy5uYW1lc3BhY2UpICsgJy8nICsgc3JjUGF0aDsKICAgIH0gaWYgKG5zUHJvdmlkZXIgPT09ICdjb3JlLWFzc2V0cycpIHsKICAgICAgICByZXR1cm4gZXhwb3J0cy5nZXRDb3JlQXNzZXRzSlNNb2R1bGVzUGF0aChtb2R1bGVTcGVjLm5hbWVzcGFjZSkgKyAnLycgKyBzcmNQYXRoOwogICAgfSBlbHNlIHsKICAgICAgICB0aHJvdyAnVW5zdXBwb3J0ZWQgbmFtZXNwYWNlIHByb3ZpZGVyOiAnICsgbnNQcm92aWRlcjsKICAgIH0KfTsKCmV4cG9ydHMuZ2V0UGx1Z2luSlNNb2R1bGVzUGF0aCA9IGZ1bmN0aW9uKHBsdWdpbklkKSB7CiAgICByZXR1cm4gZXhwb3J0cy5nZXRQbHVnaW5QYXRoKHBsdWdpbklkKSArICcvanNtb2R1bGVzJzsKfTsKCmV4cG9ydHMuZ2V0Q29yZUFzc2V0c0pTTW9kdWxlc1BhdGggPSBmdW5jdGlvbihuYW1lc3BhY2UpIHsKICAgIHJldHVybiBnZXRSb290VVJMKCkgKyAnL2Fzc2V0cy8nICsgbmFtZXNwYWNlICsgJy9qc21vZHVsZXMnOwp9OwoKZXhwb3J0cy5nZXRQbHVnaW5QYXRoID0gZnVuY3Rpb24ocGx1Z2luSWQpIHsKICAgIHJldHVybiBnZXRSb290VVJMKCkgKyAnL3BsdWdpbi8nICsgcGx1Z2luSWQ7Cn07CgpleHBvcnRzLmdldEhlYWRFbGVtZW50ID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgd2luZG93ID0gd2luZG93SGFuZGxlLmdldFdpbmRvdygpOwogICAgdmFyIGRvY0hlYWQgPSB3aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKTsKICAgIGlmICghZG9jSGVhZCB8fCBkb2NIZWFkLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgdGhyb3cgJ05vIGhlYWQgZWxlbWVudCBmb3VuZCBpbiBkb2N1bWVudC4nOwogICAgfQogICAgcmV0dXJuIGRvY0hlYWRbMF07Cn07CgpleHBvcnRzLnNldFJvb3RVUkwgPSBmdW5jdGlvbih1cmwpIHsgICAgCiAgICBpZiAoIWplbmtpbnNDSUdsb2JhbCkgewogICAgICAgIGV4cG9ydHMuaW5pdEplbmtpbnNHbG9iYWwoKTsKICAgIH0KICAgIGplbmtpbnNDSUdsb2JhbC5yb290VVJMID0gdXJsOwp9OwoKZXhwb3J0cy5wYXJzZVJlc291cmNlUU5hbWUgPSBmdW5jdGlvbihyZXNvdXJjZVFOYW1lKSB7CiAgICB2YXIgcU5hbWVUb2tlbnMgPSByZXNvdXJjZVFOYW1lLnNwbGl0KCI6Iik7CiAgICBpZiAocU5hbWVUb2tlbnMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgdmFyIG5hbWVzcGFjZSA9IHFOYW1lVG9rZW5zWzBdLnRyaW0oKTsKICAgICAgICB2YXIgbnNUb2tlbnMgPSBuYW1lc3BhY2Uuc3BsaXQoIi8iKTsKICAgICAgICB2YXIgbmFtZXNwYWNlUHJvdmlkZXIgPSB1bmRlZmluZWQ7CiAgICAgICAgaWYgKG5zVG9rZW5zLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICBuYW1lc3BhY2VQcm92aWRlciA9IG5zVG9rZW5zWzBdLnRyaW0oKTsKICAgICAgICAgICAgbmFtZXNwYWNlID0gbnNUb2tlbnNbMV0udHJpbSgpOwogICAgICAgICAgICBpZiAobmFtZXNwYWNlUHJvdmlkZXIgIT09ICdwbHVnaW4nICYmIG5hbWVzcGFjZVByb3ZpZGVyICE9PSAnY29yZS1hc3NldHMnKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbnN1cHBvcnRlZCBtb2R1bGUgbmFtZXNwYWNlIHByb3ZpZGVyICInICsgbmFtZXNwYWNlUHJvdmlkZXIgKyAnIi4gU2V0dGluZyB0byB1bmRlZmluZWQuJyk7CiAgICAgICAgICAgICAgICBuYW1lc3BhY2VQcm92aWRlciA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gewogICAgICAgICAgICBuc1Byb3ZpZGVyOiBuYW1lc3BhY2VQcm92aWRlciwKICAgICAgICAgICAgbmFtZXNwYWNlOiBuYW1lc3BhY2UsCiAgICAgICAgICAgIG1vZHVsZU5hbWU6IHFOYW1lVG9rZW5zWzFdLnRyaW0oKQogICAgICAgIH07CiAgICB9IGVsc2UgewogICAgICAgIC8vIFRoZSBtb2R1bGUvYnVuZGxlIGlzIG5vdCBpbiBhIG5hbWVzcGFjZSBhbmQgZG9lc24ndAogICAgICAgIC8vIG5lZWQgdG8gYmUgbG9hZGVkIGkuZS4gaXQgd2lsbCBsb2FkIGl0c2VsZiBhbmQgZXhwb3J0LgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG1vZHVsZU5hbWU6IHFOYW1lVG9rZW5zWzBdLnRyaW0oKQogICAgICAgIH07CiAgICB9Cn07CgpleHBvcnRzLmdldE1vZHVsZSA9IGZ1bmN0aW9uKG1vZHVsZVNwZWMpIHsKICAgIGlmIChtb2R1bGVTcGVjLm5hbWVzcGFjZSkgewogICAgICAgIHZhciBwbHVnaW4gPSBleHBvcnRzLmdldE5hbWVzcGFjZShtb2R1bGVTcGVjLm5hbWVzcGFjZSk7CiAgICAgICAgcmV0dXJuIHBsdWdpblttb2R1bGVTcGVjLm1vZHVsZU5hbWVdOwogICAgfSBlbHNlIHsKICAgICAgICB2YXIgZ2xvYmFscyA9IGV4cG9ydHMuZ2V0R2xvYmFsTW9kdWxlcygpOwogICAgICAgIHJldHVybiBnbG9iYWxzW21vZHVsZVNwZWMubW9kdWxlTmFtZV07CiAgICB9Cn07CgpleHBvcnRzLmdldE1vZHVsZVNwZWMgPSBmdW5jdGlvbihtb2R1bGVRTmFtZSkgewogICAgdmFyIG1vZHVsZVNwZWMgPSBleHBvcnRzLnBhcnNlUmVzb3VyY2VRTmFtZShtb2R1bGVRTmFtZSk7CiAgICB2YXIgbW9kdWxlTmFtZXNwYWNlT2JqID0gZXhwb3J0cy5nZXRNb2R1bGVOYW1lc3BhY2VPYmoobW9kdWxlU3BlYyk7CiAgICBpZiAobW9kdWxlTmFtZXNwYWNlT2JqKSB7CiAgICAgICAgdmFyIGxvYWRpbmcgPSBnZXRMb2FkaW5nTW9kdWxlKG1vZHVsZU5hbWVzcGFjZU9iaiwgbW9kdWxlU3BlYy5tb2R1bGVOYW1lKTsKICAgICAgICBpZiAobG9hZGluZyAmJiBsb2FkaW5nLm1vZHVsZVNwZWMpIHsKICAgICAgICAgICAgcmV0dXJuIGxvYWRpbmcubW9kdWxlU3BlYzsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gbW9kdWxlU3BlYzsKfTsKCmZ1bmN0aW9uIGdldFNjcmlwdElkKHNjcmlwdFNyYywgY29uZmlnKSB7CiAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHsKICAgICAgICByZXR1cm4gY29uZmlnOwogICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiBjb25maWcuc2NyaXB0SWQpIHsKICAgICAgICByZXR1cm4gY29uZmlnLnNjcmlwdElkOwogICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ2plbmtpbnMtc2NyaXB0OicgKyBzY3JpcHRTcmM7CiAgICB9ICAgIAp9CgpleHBvcnRzLmdldFJvb3RVUkwgPSBnZXRSb290VVJMOwpmdW5jdGlvbiBnZXRSb290VVJMKCkgewogICAgaWYgKGplbmtpbnNDSUdsb2JhbCAmJiBqZW5raW5zQ0lHbG9iYWwucm9vdFVSTCkgewogICAgICAgIHJldHVybiBqZW5raW5zQ0lHbG9iYWwucm9vdFVSTDsKICAgIH0KICAgIAogICAgdmFyIGRvY0hlYWQgPSBleHBvcnRzLmdldEhlYWRFbGVtZW50KCk7CiAgICB2YXIgcmVzVVJMID0gZ2V0QXR0cmlidXRlKGRvY0hlYWQsICJkYXRhLXJlc3VybCIpOwoKICAgIGlmICghcmVzVVJMKSB7CiAgICAgICAgdmFyIHJlc1VSTCA9IGdldEF0dHJpYnV0ZShkb2NIZWFkLCAicmVzVVJMIik7CiAgICAKICAgICAgICBpZiAoIXJlc1VSTCkgewogICAgICAgICAgICB0aHJvdyAiQXR0cmlidXRlICdkYXRhLXJlc3VybCcgbm90IGRlZmluZWQgb24gdGhlIGRvY3VtZW50IDxoZWFkPiBlbGVtZW50LiI7CiAgICAgICAgfQogICAgfQoKICAgIGlmIChqZW5raW5zQ0lHbG9iYWwpIHsKICAgICAgICBqZW5raW5zQ0lHbG9iYWwucm9vdFVSTCA9IHJlc1VSTDsKICAgIH0KICAgIAogICAgcmV0dXJuIHJlc1VSTDsKfQoKZXhwb3J0cy5nZXRBZGp1bmN0VVJMID0gZ2V0QWRqdW5jdFVSTDsKZnVuY3Rpb24gZ2V0QWRqdW5jdFVSTCgpIHsKICAgIGlmIChqZW5raW5zQ0lHbG9iYWwgJiYgamVua2luc0NJR2xvYmFsLmFkanVuY3RVUkwpIHsKICAgICAgICByZXR1cm4gamVua2luc0NJR2xvYmFsLmFkanVuY3RVUkw7CiAgICB9CiAgICAKICAgIHZhciBkb2NIZWFkID0gZXhwb3J0cy5nZXRIZWFkRWxlbWVudCgpOwogICAgdmFyIGFkanVuY3RVUkwgPSBnZXRBdHRyaWJ1dGUoZG9jSGVhZCwgImRhdGEtYWRqdW5jdHVybCIpOwoKICAgIGlmICghYWRqdW5jdFVSTCkgewogICAgICAgIHRocm93ICJBdHRyaWJ1dGUgJ2RhdGEtYWRqdW5jdHVybCcgbm90IGRlZmluZWQgb24gdGhlIGRvY3VtZW50IDxoZWFkPiBlbGVtZW50LiI7CiAgICB9CgogICAgaWYgKGplbmtpbnNDSUdsb2JhbCkgewogICAgICAgIGplbmtpbnNDSUdsb2JhbC5hZGp1bmN0VVJMID0gYWRqdW5jdFVSTDsKICAgIH0KICAgIAogICAgcmV0dXJuIGFkanVuY3RVUkw7Cn0KCmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQobmFtZSkgewogICAgdmFyIGRvY3VtZW50ID0gd2luZG93SGFuZGxlLmdldFdpbmRvdygpLmRvY3VtZW50OwogICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSk7Cn0KCmZ1bmN0aW9uIGdldEF0dHJpYnV0ZShlbGVtZW50LCBhdHRyaWJ1dGVOYW1lKSB7CiAgICB2YXIgdmFsdWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCkpOwogICAgCiAgICBpZiAodmFsdWUpIHsKICAgICAgICByZXR1cm4gdmFsdWU7CiAgICB9IGVsc2UgewogICAgICAgIC8vIHRyeSB3aXRob3V0IGxvd2VyY2FzaW5nCiAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpOwogICAgfSAgICAKfQoKZnVuY3Rpb24gZ2V0TG9hZGluZ01vZHVsZShtb2R1bGVOYW1lc3BhY2VPYmosIG1vZHVsZU5hbWUpIHsKICAgIGlmICghbW9kdWxlTmFtZXNwYWNlT2JqLmxvYWRpbmdNb2R1bGVzKSB7CiAgICAgICAgbW9kdWxlTmFtZXNwYWNlT2JqLmxvYWRpbmdNb2R1bGVzID0ge307CiAgICB9CiAgICBpZiAoIW1vZHVsZU5hbWVzcGFjZU9iai5sb2FkaW5nTW9kdWxlc1ttb2R1bGVOYW1lXSkgewogICAgICAgIG1vZHVsZU5hbWVzcGFjZU9iai5sb2FkaW5nTW9kdWxlc1ttb2R1bGVOYW1lXSA9IHt9OwogICAgfQogICAgcmV0dXJuIG1vZHVsZU5hbWVzcGFjZU9iai5sb2FkaW5nTW9kdWxlc1ttb2R1bGVOYW1lXTsKfQoKZnVuY3Rpb24gZW5kc1dpdGgoc3RyaW5nLCBzdWZmaXgpIHsKICAgIHJldHVybiAoc3RyaW5nLmluZGV4T2Yoc3VmZml4LCBzdHJpbmcubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aCkgIT09IC0xKTsKfQoKZnVuY3Rpb24gdGhpc0J1bmRsZU5hbWVzcGFjZVByb3ZpZGVyKCkgewogICAgaWYgKHdob2FtaSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIHdob2FtaS5uc1Byb3ZpZGVyOwogICAgfQogICAgcmV0dXJuIHVuZGVmaW5lZDsKfQoKZnVuY3Rpb24gZ2V0QnVuZGxlTlNQcm92aWRlckZyb21TY3JpcHRFbGVtZW50KG5hbWVzcGFjZSwgbW9kdWxlTmFtZSkgewogICAgdmFyIGRvY0hlYWQgPSBleHBvcnRzLmdldEhlYWRFbGVtZW50KCk7CiAgICB2YXIgc2NyaXB0cyA9IGRvY0hlYWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2NyaXB0cy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBzY3JpcHQgPSBzY3JpcHRzW2ldOwogICAgICAgIHZhciBlbE5hbWVzcGFjZSA9IHNjcmlwdC5nZXRBdHRyaWJ1dGUoJ2RhdGEtamVua2lucy1tb2R1bGUtbmFtZXNwYWNlJyk7CiAgICAgICAgdmFyIGVsTW9kdWxlTmFtZSA9IHNjcmlwdC5nZXRBdHRyaWJ1dGUoJ2RhdGEtamVua2lucy1tb2R1bGUtbW9kdWxlTmFtZScpOwoKICAgICAgICBpZiAoZWxOYW1lc3BhY2UgPT09IG5hbWVzcGFjZSAmJiBlbE1vZHVsZU5hbWUgPT09IG1vZHVsZU5hbWUpIHsKICAgICAgICAgICAgcmV0dXJuIHNjcmlwdC5nZXRBdHRyaWJ1dGUoJ2RhdGEtamVua2lucy1tb2R1bGUtbnNQcm92aWRlcicpOwogICAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdW5kZWZpbmVkOwp9Cgp9LHsiLi9wcm9taXNlIjozLCJ3aW5kb3ctaGFuZGxlIjo0fV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Ci8qCiAqIFZlcnkgc2ltcGxlICJQcm9taXNlIiBpbXBsLgogKiA8cD4KICogSW50ZW50aW9uYWxseSBub3QgdXNpbmcgdGhlICJwcm9taXNlIiBtb2R1bGUvcG9seWZpbGwgYmVjYXVzZSBpdCB3aWxsIGFkZCBhIGZldyBLYiBhbmQgd2UgCiAqIG9ubHkgbmVlZCBzb21ldGhpbmcgdmVyeSBzaW1wbGUgaGVyZS4gV2UgcmVhbGx5IGp1c3Qgd2FudCB0byBmb2xsb3cgdGhlIG1haW4gcGF0dGVybgogKiBhbmQgZG9uJ3QgbmVlZCBzb21lIG9mIHRoZSBmYW5jeSBzdHVmZi4KICogPHA+CiAqIEkgdGhpbmsgc28gbG9uZyBhcyB3ZSBzdGljayB0byBzYW1lIGludGVyZmFjZS9pbnRlcmFjdGlvbiBwYXR0ZXJuIGFzIG91dGxpbmVkIGluIHRoZSBsaW5rCiAqIGJlbG93LCB0aGVuIHdlIGNhbiBhbHdheXMgc3dpdGNoIHRvIHRoZSAicHJvbWlzZSIgbW9kdWxlIGxhdGVyIHdpdGhvdXQgYnJlYWtpbmcgYW55dGhpbmcuCiAqIDxwPgogKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJvbWlzZQogKi8KCmV4cG9ydHMubWFrZSA9IGZ1bmN0aW9uKGV4ZWN1dG9yKSB7CiAgICB2YXIgdGhlUHJvbWlzZSA9IG5ldyBBUHJvbWlzZSgpOwogICAgZXhlY3V0b3IuY2FsbCh0aGVQcm9taXNlLCBmdW5jdGlvbihyZXN1bHQpIHsKICAgICAgICB0aGVQcm9taXNlLnJlc29sdmUocmVzdWx0KTsKICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikgewogICAgICAgIHRoZVByb21pc2UucmVqZWN0KHJlYXNvbik7CiAgICB9KTsKICAgIHJldHVybiB0aGVQcm9taXNlOwp9OwoKZnVuY3Rpb24gQVByb21pc2UoKSB7CiAgICB0aGlzLnN0YXRlID0gJ1BFTkRJTkcnOwogICAgdGhpcy53aGVuRnVsZmlsbGVkID0gdW5kZWZpbmVkOwogICAgdGhpcy53aGVuUmVqZWN0ZWQgPSB1bmRlZmluZWQ7CiAgICB0aGlzLmFwcGx5RnVsZmlsbEFyZ3MgPSBmYWxzZTsKfQoKQVByb21pc2UucHJvdG90eXBlLmFwcGx5QXJnc09uRnVsZmlsbCA9IGZ1bmN0aW9uKCkgewogICAgdGhpcy5hcHBseUZ1bGZpbGxBcmdzID0gdHJ1ZTsKICAgIHJldHVybiB0aGlzOwp9CgpBUHJvbWlzZS5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgIHRoaXMuc3RhdGUgPSAnRlVMRklMTEVEJzsKICAgIAogICAgdmFyIHRoZVByb21pc2UgPSB0aGlzOwogICAgZnVuY3Rpb24gZG9GdWxmaWxsKHdoZW5GdWxmaWxsZWQsIHJlc3VsdCkgewogICAgICAgIGlmICh0aGVQcm9taXNlLmFwcGx5RnVsZmlsbEFyZ3MpIHsKICAgICAgICAgICAgd2hlbkZ1bGZpbGxlZC5hcHBseSh3aGVuRnVsZmlsbGVkLCByZXN1bHQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHdoZW5GdWxmaWxsZWQocmVzdWx0KTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGlmICh0aGlzLndoZW5GdWxmaWxsZWQpIHsKICAgICAgICBkb0Z1bGZpbGwodGhpcy53aGVuRnVsZmlsbGVkLCByZXN1bHQpOwogICAgfQogICAgLy8gcmVkZWZpbmUgIm9uRnVsZmlsbGVkIiB0byBjYWxsIGltbWVkaWF0ZWx5CiAgICB0aGlzLm9uRnVsZmlsbGVkID0gZnVuY3Rpb24gKHdoZW5GdWxmaWxsZWQpIHsKICAgICAgICBpZiAod2hlbkZ1bGZpbGxlZCkgewogICAgICAgICAgICBkb0Z1bGZpbGwod2hlbkZ1bGZpbGxlZCwgcmVzdWx0KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9Cn07CgpBUHJvbWlzZS5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikgewogICAgdGhpcy5zdGF0ZSA9ICdSRUpFQ1RFRCc7CiAgICBpZiAodGhpcy53aGVuUmVqZWN0ZWQpIHsKICAgICAgICB0aGlzLndoZW5SZWplY3RlZChyZWFzb24pOwogICAgfQogICAgLy8gcmVkZWZpbmUgIm9uUmVqZWN0ZWQiIHRvIGNhbGwgaW1tZWRpYXRlbHkKICAgIHRoaXMub25SZWplY3RlZCA9IGZ1bmN0aW9uKHdoZW5SZWplY3RlZCkgewogICAgICAgIGlmICh3aGVuUmVqZWN0ZWQpIHsKICAgICAgICAgICAgd2hlblJlamVjdGVkKHJlYXNvbik7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzOwogICAgfQp9OwoKQVByb21pc2UucHJvdG90eXBlLm9uRnVsZmlsbGVkID0gZnVuY3Rpb24od2hlbkZ1bGZpbGxlZCkgewogICAgaWYgKCF3aGVuRnVsZmlsbGVkKSB7CiAgICAgICAgdGhyb3cgJ011c3QgcHJvdmlkZSBhbiAid2hlbkZ1bGZpbGxlZCIgY2FsbGJhY2suJzsKICAgIH0KICAgIHRoaXMud2hlbkZ1bGZpbGxlZCA9IHdoZW5GdWxmaWxsZWQ7CiAgICByZXR1cm4gdGhpczsKfTsKCkFQcm9taXNlLnByb3RvdHlwZS5vblJlamVjdGVkID0gZnVuY3Rpb24od2hlblJlamVjdGVkKSB7ICAgICAgICAKICAgIGlmICh3aGVuUmVqZWN0ZWQpIHsKICAgICAgICB0aGlzLndoZW5SZWplY3RlZCA9IHdoZW5SZWplY3RlZDsKICAgIH0KICAgIHJldHVybiB0aGlzOwp9OwoKfSx7fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CnZhciB0aGVXaW5kb3c7CnZhciBkZWZhdWx0VGltZW91dCA9IDEwMDAwOwp2YXIgY2FsbGJhY2tzID0gW107CnZhciB3aW5kb3dTZXRUaW1lb3V0cyA9IFtdOwoKZnVuY3Rpb24gZXhlY0NhbGxiYWNrKGNhbGxiYWNrLCB0aGVXaW5kb3cpIHsKICAgIGlmIChjYWxsYmFjaykgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoY2FsbGJhY2ssIHRoZVdpbmRvdyk7ICAgICAgICAgICAgICAgIAogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIkVycm9yIGludm9raW5nIHdpbmRvdy1oYW5kbGUgY2FsbGJhY2suIik7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgIH0KICAgIH0KfQoKLyoqCiAqIEdldCB0aGUgZ2xvYmFsICJ3aW5kb3ciIG9iamVjdC4KICogQHBhcmFtIGNhbGxiYWNrIEFuIG9wdGlvbmFsIGNhbGxiYWNrIHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVjZWl2ZSB0aGUgd2luZG93IGFzeW5jaHJvbm91c2x5LiBVc2VmdWwgd2hlbgogKiBleGVjdXRpbmcgaW4gdGVzdCBlbnZpcm9ubWVudCBpLmUuIHdoZXJlIHRoZSBnbG9iYWwgd2luZG93IG9iamVjdCBtaWdodCBub3QgZXhpc3QgaW1tZWRpYXRlbHkuIAogKiBAcGFyYW0gdGltZW91dCBUaGUgdGltZW91dCBpZiB3YWl0aW5nIG9uIHRoZSBnbG9iYWwgd2luZG93IHRvIGJlIGluaXRpYWxpc2VkLgogKiBAcmV0dXJucyB7Kn0KICovCmV4cG9ydHMuZ2V0V2luZG93ID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRpbWVvdXQpIHsKICAgIAoJaWYgKHRoZVdpbmRvdykgewogICAgICAgIGV4ZWNDYWxsYmFjayhjYWxsYmFjaywgdGhlV2luZG93KTsKICAgICAgICByZXR1cm4gdGhlV2luZG93OwoJfSAKCQoJdHJ5IHsKCQlpZiAod2luZG93KSB7CiAgICAgICAgICAgIGV4ZWNDYWxsYmFjayhjYWxsYmFjaywgd2luZG93KTsKCQkJcmV0dXJuIHdpbmRvdzsKCQl9IAoJfSBjYXRjaCAoZSkgewoJCS8vIG5vIHdpbmRvdyAieWV0Ii4gVGhpcyBzaG91bGQgb25seSBldmVyIGJlIHRoZSBjYXNlIGluIGEgdGVzdCBlbnYuCgkJLy8gRmFsbCB0aHJvdWdoIGFuZCB1c2UgY2FsbGJhY2tzLCBpZiBzdXBwbGllZC4KCX0KCglpZiAoY2FsbGJhY2spIHsKICAgICAgICBmdW5jdGlvbiB3YWl0Rm9yV2luZG93KGNhbGxiYWNrKSB7CiAgICAgICAgICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTsKICAgICAgICAgICAgdmFyIHdpbmRvd1NldFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgY2FsbGJhY2suZXJyb3IgPSAiVGltZWQgb3V0IHdhaXRpbmcgb24gdGhlIHdpbmRvdyB0byBiZSBzZXQuIjsKICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoY2FsbGJhY2spOwogICAgICAgICAgICB9LCAodGltZW91dD90aW1lb3V0OmRlZmF1bHRUaW1lb3V0KSk7CiAgICAgICAgICAgIHdpbmRvd1NldFRpbWVvdXRzLnB1c2god2luZG93U2V0VGltZW91dCk7CiAgICAgICAgfQogICAgICAgIHdhaXRGb3JXaW5kb3coY2FsbGJhY2spOwoJfSBlbHNlIHsKCQl0aHJvdyAiTm8gJ3dpbmRvdycgYXZhaWxhYmxlLiBDb25zaWRlciBwcm92aWRpbmcgYSAnY2FsbGJhY2snIGFuZCByZWNlaXZpbmcgdGhlICd3aW5kb3cnIGFzeW5jIHdoZW4gYXZhaWxhYmxlLiBUeXBpY2FsbHksIHRoaXMgc2hvdWxkIG9ubHkgYmUgdGhlIGNhc2UgaW4gYSB0ZXN0IGVudmlyb25tZW50LiI7Cgl9Cn0KCi8qKgogKiBTZXQgdGhlIGdsb2JhbCB3aW5kb3cgZS5nLiBpbiBhIHRlc3QgZW52aXJvbm1lbnQuCiAqIDxwPgogKiBPbmNlIGNhbGxlZCwgYWxsIGNhbGxiYWNrcyAocmVnaXN0ZXJlZCBieSBlYXJsaWVyICdnZXRXaW5kb3cnIGNhbGxzKSB3aWxsIGJlIGludm9rZWQuCiAqIAogKiBAcGFyYW0gbmV3V2luZG93IFRoZSB3aW5kb3cuCiAqLwpleHBvcnRzLnNldFdpbmRvdyA9IGZ1bmN0aW9uKG5ld1dpbmRvdykgewoJZm9yICh2YXIgaSA9IDA7IGkgPCB3aW5kb3dTZXRUaW1lb3V0cy5sZW5ndGg7IGkrKykgewoJCWNsZWFyVGltZW91dCh3aW5kb3dTZXRUaW1lb3V0c1tpXSk7Cgl9CiAgICB3aW5kb3dTZXRUaW1lb3V0cyA9IFtdOwoJdGhlV2luZG93ID0gbmV3V2luZG93OwoJZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHsKCQlleGVjQ2FsbGJhY2soY2FsbGJhY2tzW2ldLCB0aGVXaW5kb3cpOwoJfQogICAgY2FsbGJhY2tzID0gW107Cn0KCi8qKgogKiBTZXQgdGhlIGRlZmF1bHQgdGltZSB0byB3YWl0IGZvciB0aGUgZ2xvYmFsIHdpbmRvdyB0byBiZSBzZXQuCiAqIDxwPgogKiBEZWZhdWx0IGlzIDEwIHNlY29uZHMgKDEwMDAwIG1zKS4KICogCiAqIEBwYXJhbSBtaWxsaXMgTWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIHRoZSBnbG9iYWwgd2luZG93IHRvIGJlIHNldC4KICovCmV4cG9ydHMuc2V0RGVmYXVsdFRpbWVvdXQgPSBmdW5jdGlvbihtaWxsaXMpIHsKICAgIGRlZmF1bHRUaW1lb3V0ID0gbWlsbGlzOwp9Cn0se31dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewpyZXF1aXJlKCdqZW5raW5zLWpzLW1vZHVsZXMnKS53aG9hbWkoJ3VuZGVmaW5lZDpwYWdlLWluaXQnKTsKCnJlcXVpcmUoJ2plbmtpbnMtanMtbW9kdWxlcycpCiAgICAuaW1wb3J0KCdjb3JlLWFzc2V0cy9qcXVlcnktZGV0YWNoZWQ6anF1ZXJ5MicpCiAgICAub25GdWxmaWxsZWQoZnVuY3Rpb24oKSB7CgovKgogKiBQYWdlIGluaXRpYWxpc2F0aW9uIHRhc2tzLgogKi8KCnZhciAkID0gcmVxdWlyZSgnamVua2lucy1qcy1tb2R1bGVzJykucmVxdWlyZSgnY29yZS1hc3NldHMvanF1ZXJ5LWRldGFjaGVkOmpxdWVyeTInKS5nZXRKUXVlcnkoKTsKdmFyIGpzTW9kdWxlcyA9IHJlcXVpcmUoJ2plbmtpbnMtanMtbW9kdWxlcycpOwoKJChmdW5jdGlvbigpIHsKICAgIGxvYWRTY3JpcHRzKCk7CiAgICBsb2FkQ1NTKCk7Cn0pOwoKZnVuY3Rpb24gbG9hZFNjcmlwdHMoKSB7CiAgICAkKCcuamVua2lucy1qcy1sb2FkJykuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHNjcmlwdFVybCA9ICQodGhpcykuYXR0cignZGF0YS1zcmMnKTsKICAgICAgICBpZiAoc2NyaXB0VXJsKSB7CiAgICAgICAgICAgIC8vIGpzTW9kdWxlcy5hZGRTY3JpcHQgd2lsbCBlbnN1cmUgdGhhdCB0aGUgc2NyaXB0IGlzCiAgICAgICAgICAgIC8vIGxvYWRlZCBvbmNlIGFuZCBvbmNlIG9ubHkuIFNvLCB0aGlzIGNhbiBiZSBjb25zaWRlcmVkCiAgICAgICAgICAgIC8vIGFuYWxvZ291cyB0byBhIGNsaWVudC1zaWRlIGFkanVuY3QuCiAgICAgICAgICAgIGpzTW9kdWxlcy5hZGRTY3JpcHQoc2NyaXB0VXJsKTsKICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTsKICAgICAgICB9CiAgICB9KTsKfQoKZnVuY3Rpb24gbG9hZENTUygpIHsKICAgICQoJy5qZW5raW5zLWNzcy1sb2FkJykuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGNzc1VybCA9ICQodGhpcykuYXR0cignZGF0YS1zcmMnKTsKICAgICAgICBpZiAoY3NzVXJsKSB7CiAgICAgICAgICAgIC8vIGpzTW9kdWxlcy5hZGRDU1NUb1BhZ2Ugd2lsbCBlbnN1cmUgdGhhdCB0aGUgQ1NTIGlzCiAgICAgICAgICAgIC8vIGxvYWRlZCBvbmNlIGFuZCBvbmNlIG9ubHkuIFNvLCB0aGlzIGNhbiBiZSBjb25zaWRlcmVkCiAgICAgICAgICAgIC8vIGFuYWxvZ291cyB0byBhIGNsaWVudC1zaWRlIGFkanVuY3QuCiAgICAgICAgICAgIGpzTW9kdWxlcy5hZGRDU1NUb1BhZ2UoY3NzVXJsKTsKICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTsKICAgICAgICB9CiAgICB9KTsKfQoKCQlyZXF1aXJlKCdqZW5raW5zLWpzLW1vZHVsZXMnKS5leHBvcnQodW5kZWZpbmVkLCAncGFnZS1pbml0Jywge30pOwogICAgfSk7CgoKfSx7ImplbmtpbnMtanMtbW9kdWxlcyI6MX1dfSx7fSxbNV0pOwo=",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 312,
          "bodySize": 51372
        },
        "cache": {},
        "timings": {
          "send": 1,
          "wait": 2,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27305"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.876-06:00",
        "time": 119,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/images/headshot.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 323,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:38 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "2409"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 3212,
            "compression": 0,
            "mimeType": "image/png",
            "text": "iVBORw0KGgoAAAANSUhEUgAAACUAAAAkCAYAAAAOwvOmAAAJMElEQVR42rVYC1SN6RpuZpa1zjkzzNKo1N7737fal3b33f2m29FNdHUpkcZINyqSE0PKZRJyD03OcS2SLiiEChExRorCkFzOhGHcZxb1nO/7kTaptObstd61d9/f933Pft/nfd733WpqfXt9znzNDBTo8EaIGGavmOHf1hUIX8h19V7qSySviL2UiMTPyPotIcMcEHB4kwUaGoPJvs/U/k+vz3XUdXjkojwxXwBqMl1duDrYYs70aGxavQgbl8/H7ITJ8HB2hKmBAnoCIUQ85i5nMMeZ7P/iL0WjqampJeDxKqVi3T+iIyIIGD24uzigoboYT5pP4cWtsx32/OYZPLtxGncvVeHUwTwEeA+FiOG3Ec/tIkf1+yvwfCHk8DLsrW0eZGdlYfuWLQgZNRK56zNeX95SiyfXjuPR5cN41FiO3y/uJ1amYr/Vl6F089J2pZFBu4DL7CNn/q3PaHTU1XkChmmIjpiMI+XlSE1JwbChrqg/XsQCevLLsS5BfMzOlv4IG6UJ3gD7dI5pqal9qcsXtiyaPx8Vhw8hJioGPh7uaL1YxQJ6dPlIr8F0trKtmZCIRODzeBmfDIxkVlyQnz/2FBXCf4QvnB2HtDfV7GE586jpcKeLiKdU/v64Pb1+Eg3Ey3NnRFOOtQs5HONeA+JrcVzIpmYDmRw+Xl5YuWwZfL29Wf48vlrVccnjK5XIz1mGsYHDMTHYH/fO7+kW1OLvEzDE2hwKiR6buQIud0WvAGloaHxFU9jR1g7/yclBfl4eFqYtIJ5ywrXa0neXXDqIHT8uhZO1BVKnT8KqtATcq+seVMupAvb95ukCxE4YSYDxn/aK9ISEmXI9Ccr3lyF+ajxio2NZo6Cu1xR1XHD5eD4MpFJcOZbXJ25R83J2AE9b27EXXOI/T06agR8WLuoARM3D1UU1k8pyULwxvU9gHjaUspZGPMxwuVO6zzgtrS9prFcuz1QBRC3Ef1jPFxKdOlaYpbL2oH4f/nu2SGWtviIXd84WYue6NAh4zLJuQamrqw+goKgedQZE5SByXGB7d4CoRFCpWJA8leXM23VK/qSo0E7JUYGW8+WYHBqAQ7nLIeQym3qKXj9C8pczpyciPGwCwsdPQGREJKIjozFtUkhbT1562lyDusp8xE0cw4bn7bPw0cPx60+vvdVaV4rGozswzNUBO7JSqTTk94ZT9xRSGZuypPpDrifFuLHjEBU2qtvQ5a6ZR4qwHVKmTYRMLCYhK+x4Vpi9EB5OdmwoU+InQk8ohIm+DNWFa0mx5hd0C4irxbWiYJalJrHK/fDqCaQkxsBSaY7QUQHdgmo4sgXZi2ciPTn6gwRo/bkEY/09sXr+NNaDrT8Xs++XKrZCyGN2dAtKyOXG2JqbofHkHowY6gRzIwM0niiE0sgQJgpFn1Of2q/nimFtaoyCDQs71s6QWkg6j5zuQXF4s1OTYtlCO3/GJDQdzUXUuEDUlW9S4UhfjXqTqnl1URZ7XtmWJeBzmcXdCyeHGR/s78NmyL+XzmI3Vuxc2XcgtJ0hpajz2vJ58fD3dGHPzlqUSAtzdPc1T1vbjJK7+VQhmqq2dQhdXwC1nivBxWO72HLUec3PwwXLU+LYcyPG+oHhcFx7Sr6/0547fVbsB0T9VFA3anaxod+3KYOkfhoWJE3GmBHuKCFJcJ/UyNskOz2d7Nr69+//TY+SMGjQIB0iCy9ixgexHPBxc8Sa9Nm9BnP9ZD7uEsGknoidMAr2FmZI+C6YrO8gnirGT6Q8+bgNYT8bymSne926aH+jLaedApUHFztr/H7tJAnDgY+DIc+eXj/Bfj64LRNWJMucbCzgTXp4Pw9nxIQFYQXhkqWJEatRtSTrls6ZQvk07VObz34CDifORKHP9lGPmt51mjdrd38A7Mm1aqwhOnR6bzYuVW5lNYu2NL7uzgjwdMXu7EXITJlKPLURN07tgpxMQVxNrtEnt8RcTU0jwrGXTTV7iUwc7QBAeVKxc1WX1T8yNBBbVszByeJ1+O3Cvi49u3FpMh27zvd15PoH4dednTmZeNZ8UuXyqPEBrCB+KJJFLGeoJ2j4pWIRlIYKtk2h++oPb6Yh/IOc/VXfJxoNDVMPlyGkA6hli+47IdzM8ubOe20Jtft1e3H1eB4uHNqMxsptuH2msENaQvw8qZfu0cG2z6D4OtwYOkjmblhCvFWj4q1awp/vgn2J8m/vWbfOlyAixA8SiRy6Yr12UvMadHR0eJ8EhtHWVgp4/FIKSCJTwNHaEherS4hCV6gAO1qwGoFebthJ2pC75z/Us2sndrDVwURfDrFQDPvRUXAOT4JET07aFuYWFewewQwcOPBrMmWsF/GFbXJjC7hEfA/3qYsgN1RCIhSxvxnUH9mOKyQ8v1TnISkyFH6kbNBZjvInmuhbzpJkZCTHIGiYG11vI9xqp/wyJNVCqieDW3QahsYuAP2yxGNPqAM+HqrBg72IZx5IZAbtTuOnwyM+HZ4JGaw5jEsgxBVi7apVOLB/P9avXQvfYd6YIpdhM9EfnzfEpp6dEj7yYXJM2OPctfOeLUyKfKwvELzaSbTruo0VppP/V9i6Yci3yfhnVCr0Ta3onlZ1NbUBKmDIRGFOEJeIBMJXFu6B7LegQKiHHMISYREYAaXvBJh4h8DA2hkhY0KwIWsdPFxcUWtpjhZbSzTbWuA4aXv+pa8PY6n0VYCX65/Bvu7Pg+SytjoyhrWQpLhorcR6YwNIidfpeTbBU+EQGgcxI3jMMMzAzmVFmwB6KpUbsvH2iF/MuteOeErpG85uft9MPEdDZmYDiUCE0wTUBXLZW2skADYYv/ZcjYUpvMn7XqUpLr95XmBqBKnCpOMsY/cgyq0WWnffCeQADT06Qjt/OxPucT/AalRUl0C6MoW5PWoslSqgqDcOExA2pJzsVxrBjXDtnKUZ6qzM2Oe7TQ0hNbZ6d4a9O2n0+LvfL8D9Caj7Vj4hBFR6rwG9/ZYHzE1VQFHbbmIAa3MLzEpMRNrcOTAlBHcg4PxJ7+4lEsNgiHfHGTJTGwi7GEg/E3GZarmxOcsju9D4XoMyG04GCoWBCqC5ChmMJbI/k2fMQMuNZhyrqkRVRQWU1vbPp2XvahuTOA8SEj6zEWHsGWJdWUvnX1/+B6GXy1Z/prUqAAAAAElFTkSuQmCC",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 275,
          "bodySize": 3212
        },
        "cache": {},
        "timings": {
          "send": 13,
          "wait": 0,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27307"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.876-06:00",
        "time": 108,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/images/title.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 320,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:38 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "2510"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 3348,
            "compression": 0,
            "mimeType": "image/png",
            "text": "iVBORw0KGgoAAAANSUhEUgAAARYAAABECAYAAABEfBoHAAAJlUlEQVR4Ae3cA3Bj/9fH8VOube/Ptm3btm3bXttG17Zt27a9bdPnPehMJk9y70lyk80/Pe+Z12CN5hPer+Tl5RljjKccvtMYY2xYjDE2LMYYGxZjjLFhMcbYsBhjbFiMMcaGxVyIu/A4XsGH+B7/oBk6YwDGYhaWYwvehsTZdeiMBViN/ngdKRBjw2ISxwxE0r+QOElBY/gQrMmoBDE2LCYx9EN2gg/LF3BrFFIhxoZFkIYXY6AMRMWk4wo0SsBhKQnt8D0MgRgbliKIRedDwmaaJtiw3ARtf0EgxoalMLbCq3zYjNMgYTPFkJ1Aw/IgtDWDGBsWf+XxKDriOMIpG3/jOhSFmKjMSKBhqQ5tr0GMDUsoV2IDNOXicohnTI+EGRagP9zaiPIQY8Pi5CNoWg1JajYsZbEcoTqIqyHGhsXNXdA0FpLEbFiAYvgXB5FfNvqhFsTYsHj5bsBoSLKzYQGQglNwPjIhJhHZsMSBDYsxNizGhgUwNizGhsUkNhuWDFTFBbgNd+JKnIUKkARSCVfiGpyGQjYscVUWl+AGnIVikBiqgQtxI27ABagKCaIE7sQdkBPDhqUiXkU/HIJTq9AajyIN4qIQzsYVuA2P4CW8j2/xd8ARBeMwJ8QHvkrjY8wJ8ec8glF4AiknYFgy8WeEqvmN5QW4FnfjCbyKj/ED/kMLdMUgjMdcPAIJIhVn4DLcgofwPN7F1/gTjdER/TAGM/EnJEBhvIhJ2IvAsjEV7yLTo6/L9zECuxGqfZiIb3EuBG+BKO4vdNuwlMW/OIJgHYVTy/ECxMG1iKSGEAjS8QcOQdskVIjzsBRDpF0KQUdE0rcO/8eRNAri5x3sgLaVOBMSgdJoiGxE0iqsR35lIfFhw/Is9iJYvXE10nAJmsGpnigBCeIK5EYxLNUxCZG0HKXiOCwZqItpOA5NB9AZFSFo4/GwlMbxKIalJLIQSbsjuG7tEmxBsA6hMe7GebgG7yPL5WusJiS2bFhS8RdC1RfpkABD4NRch+fYRXAteoQ5LBdhM6Kp8wl6jaUKFjo8EszCIygCCXAK3sS8qIcFyMCFaASfdlhQDfMRTTORClG4HAccBvgiSAhXYQGCdTYktmxYGiNUh1Dc4YK4HDiVBXHRGppmYj/yyIf++AqP4kMMgyYfzo7HsCjG2IcuqAVRSMcAqIdF4VNoWoENyG88fsQTeBNdoO0RiIuiWI5Q/ad846EbArscEjs2LC/Bqa4QB3Ph1h2KF3MPQdt4XAAJkILfoanuCRiWF+HfdFwBCVMp5Hg2LMB8aFuKWyFBPA9NQyEu3vTo6u1MjIF/N0Niw4blJByFUw9AHLTUPjd3MRyaOiLD5QS+tXBrTpyH5UEcQx7l4GekQyI0zeNhqQdN41Dag//Lg4q//wQ41TzMMV6D/O6DxIYNSzu4VQPi4D1oqgxx0AluTVHeGL+HW8fjOCxPIht5tB3XQ6I0wONh+RpubVQecfooNJ0GcbALTm3HGRCll5HfUxDv2bCcjhw45UMGxMHz0PSUB8PSEKLwBDSVisOwvIRc5NEC1Ib8jw7LKIjCedB0lcsjT03b8QjSlK9PrYrtIVg2LN/BrW0QFw9D0z9xHJaroKlajIflLfiQ3/WQAjAspaHpNoiDfdC2Hj/jEqS4nMB3IcpDvGfDMg1uLURZVEQV1EBtnIozcQ7egqZ2cRyWcxNgWL5BYAtRuAAMS6pHwzIbkbQJLfAAikHiw4alOHyIZ/0LyLCkoD5CVQeiYsPyHaLtEFrjYkhs2bCchng3qAAMSwa6wCmf+q1OG5bK2AOv6oJqyT4sZXEZKp+AYbkWmpbiTo9cnOTD0hRDoWk9SkNgw+LseXjZdtyUjMPyCNbBvx14EylxGpZboGkBxHtJOSy5CKdOENiwuPsEufCqvcl2rdCPcKptnIblImhaA4ENi66VGABtj8OGRecyzIVXjUFqMgzL2ciGW/dDgrgZmvpCXNSCpmNIhw2LezNRDqWwHpp2oaoNi1o6PsACeNHDyTAs7aN8W/YuaGoEcZGBQ9B0tg1L2G833wofNA2xYYnIufg1ypH5LRmGZS40TXN4bUbTFxCFEdD0MgRaNixAA2h7w4bl/1mEPPoE4qIm3sIY+KBtQDIMy2Fo6g0J4n2oTx1T+Cr6q1DVMgvgsBTBMmg6gJNtWPzx1JJoCwpDlE5FM2halAzDshOa3oEE0RZuLYMo1cAxuJWNUyERuhab8WCBGhbgcuRA0wSk2rAEvbL5XUiYXoRbYwvKU6GFSIcESMEGuPUZBFrNY/yQsTa2I7/LCtSwAH9B26ewYQGGIb/9OAsSpjlwqm0yDMt/cGqtw8PhW+HWUmRCoFUTe2P0Qtel2Iz86nvwiKWJx8NSA6LQE27953AE5wpoOopzPByWnzwelrHRD4v6ALC+8G8ZSkGg9Q+cujcZhuVShGqVw9GE6ZgLp3JxIyQC98IHTR0VnxQugvdxGPmNU7xtPRpuDfP4U8o3eHjBZg9ICDfAB02zUQjiYp5n/15AY7i1HqJQCZrehITQFYENQhGIUgeX21x6EgxLyIOVNqG6w5kUHRSj8jwkCp9B2350wXO4EifjHDyMX7AN/i1ARYiDcsprQvbhdIiLj6GpLdIUB2AfhVtbXB4BtYa23i43oJrIVj4CugPiorByqLRHOt4JTWMdzlNug2AtwSXK83LXOdxmroUky7CUwRz4tx+3QwJcjAlw6rCHJ2E9jP3wskEoCQmiJM7CS9gAbZvxBc4PeLGzGM7CmzgMbRPwPM5AKgSlcDZexRZo24xPcBEKQ/xUwG5o24ifcRfKogzOw7vYBW05aI17UCHghncKHsMcaDuAP3BFwFPvQjgFT2ILtC3GO7gAGRAIGiFUx/GtwyiVQGeHn/tsMl4rVBZjgyzofHRAFhbDrdE4FeKhM9AP0bYdL0IcLES0XQKBYCCi7RwIVkCf/oXTtxFJPXEA0TYRAkEWou05CAR/I9oeC/H6yFhsQ2AH0RXf4Q18h9YOj36X44Zkvro5Ba9gDcIpF4PjcBDwxeiBAwinNfg85OE6NiypmAX3bFh+Rh5lowaK4T1MhA/htADvIaOgnMeSgltRBxOxCzl+I7ITi9EOr6AmJI7ScQ2+R0cMxlQsxyJMQRa+wOUQjxhzPl4M8c5NVTyFJpiEJdiGzViKKWiD93Be4p8gZ4wxNizGGBsWY4wNizHG2LAYY2xYjDE2LMYYY8NijLFhMcbYsBhjjA2LMcaGxRhjw2KMMTYsxhgbFmOMDYsxxvwfmK0dbPeTgnIAAAAASUVORK5CYII=",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 275,
          "bodySize": 3348
        },
        "cache": {},
        "timings": {
          "send": 1,
          "wait": 0,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27305"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.876-06:00",
        "time": 110,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/static/e0747a62/images/16x16/help.png",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 325,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 01 Mar 2017 04:26:38 GMT"
            },
            {
              "name": "Expires",
              "value": "Sat, 03 Mar 2018 05:46:49 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "763"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 1020,
            "compression": 0,
            "mimeType": "image/png",
            "text": "iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACwklEQVR4AWxTg5JdQRRM5Udi27Zt27bWtm3btm3bNp9Ru/d1Zu4ap2o83cdLAMwZyy/qridDm4xsMniTI3vybv38/7OBS8mQ33zbWGjkns4k5zdicFTADro38khnyJuI/JGjf6dws8FZjxR8RZ19HPjHl+GNRhAOPbdhB90HJJSjq5+Dx4q+lCSLYmYTyL9QCRD1DvLwQM4H5z44IaOkBRy+GD0DXPjGleHKNze81ghG3zAfT5T8xBRDsazPW+6YCLvJx/ty3iBnfNYLA8PIUNPSj1GeCFSSC5qw/7kdPulHooco2nKHdWc9JdA2886UUbMpmI5LX11ZjTsfWeGBgh+ojI0zOPvFHac+uiI2pwFW/jkMxVKC7LSiZtZPCl533RBb7pph92NrHHxpD333DFDpG+Lj0k9vXPnlAx33TORUtGPVZf1sSsAb5gix97El1lwzmAA/scahVw74YhgN6dg4ZDIZNJzTcVshCHeVgvHZOBajJD4rLunxpgn2P7XCxlsm2EXMpppPfnBlA0bFLboMD1XD8FQzAs+1o/DHKhkcvgQrKcGUCx91QrHtvjkJlC2Ov3PGjb++yKvqQkFNN17qROGVbgzeGcbjo0kCHCPKUVTbg9VXDbKngsgEJ1Vi12MrHH7tgDOf3XFTzh+mfnmwCi7CG/1YfDJNxHfLVPyySUd+bS/cokoZ4oL2VBpFNDUfdMNZ7Re+eeKlVgSm5JtFMn4SoJxjNpxjazDMFWPbPVM2jVOFJPdKPVDUP8LHT9NYXCbRfqMbiSn5bTsBdouvBVcoxSe9CPHKy3pyC0r5tUaQuH+Yj4T8Zhh65+KHeSLk7dPhGluN4gZSVCRwP4yjxWuvGU6V8sJm2nrHVOQYWigrJMHjCiTgEY3ljX3wia9kdtw3F5HcL2ymxdp51RX9bGImj4411wyzacD+D1t2BgBCK56czj/XmwAAAABJRU5ErkJggg==",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 274,
          "bodySize": 1020
        },
        "cache": {},
        "timings": {
          "send": 1,
          "wait": 0,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27305"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.876-06:00",
        "time": 115,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/adjuncts/e0747a62/lib/layout/breadcrumbs.css",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 332,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "717"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 1843,
            "compression": 0,
            "mimeType": "text/css",
            "text": "#left-top-nav {\n  text-align: left;\n  color: #222;\n}\n\n#right-top-nav {\n    float: right;\n    margin-right: 1em;\n    height: 2em;\n    line-height: 2em;\n}\n\n#left-top-nav a {\n  color: black;\n}\n\n#top-nav .a {\n  color: white;\n}\n\n#breadcrumbs {\n    list-style-type: none;\n    padding: 0 0 0 8px;\n    margin: 0;\n    height: 2em;\n    border-bottom: 1px solid #d3d7cf;\n}\n\n#breadcrumbs LI {\n    float:left;\n    line-height:2em;\n    height: 2em;\n    color:#555753;\n}\n\n#breadcrumbs LI A {\n    display: block;\n    padding-left: 0.75em;\n    line-height: 2em;\n}\n\n#breadcrumbs LI:hover, A.breadcrumbBarAnchor.mouseIsOverMenuSelector {\n  background-color: #e0e4dc;\n}\n\n#breadcrumbs LI A:link, #breadcrumbs LI A:visited {\n    text-decoration:none;\n    color:#555753;\n}\n\n#breadcrumbs LI A:hover, #crumbs LI A:focus {\n    color:#3465a4;\n}\n\n#breadcrumbs LI.children, #breadcrumbs LI.separator {/* '>' separator between two items */\n    width: 16px;\n    background-image: url(menu_right_arrow2.png);\n    background-position: center center;\n    background-repeat: no-repeat;\n}\n\n#breadcrumbs LI.children {\n    cursor: pointer;\n}\n\n#breadcrumbs LI.children:hover {\n    background-image: url(menu_right_arrow.png);\n}\n\n#breadcrumbs LI.separator:last-child {/* separators are for in-between only */\n    display: none;\n}\n\n#menuSelector {/* used for showing 'v' on the right of the anchor */\n  background-color:transparent;\n  background-image: url(menu_down_arrow.png);\n  background-position: center center;\n  background-repeat: no-repeat;\n  width: 15px;\n  height:16px;\n  position: absolute;\n  visibility: hidden;\n  cursor: pointer;\n  z-index: 2000;\n}\n#menuSelector.inverse {\n  background-image: url(menu_down_arrow2.png);\n}\n\nA.model-link.inside, #breadcrumbs A.inside {/* additional 'inside' class allows pre-allocation of the context menu space */\n  padding-right: 16px;\n}\n",
            "encoding": "Raw"
          },
          "redirectURL": "",
          "headersSize": 211,
          "bodySize": 1843
        },
        "cache": {},
        "timings": {
          "send": 4,
          "wait": 0,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27305"
      },
      {
        "pageRef": "page_1",
        "startedDateTime": "2017-03-02T23:46:49.877-06:00",
        "time": 118,
        "request": {
          "method": "GET",
          "url": "http://localhost:8080/adjuncts/e0747a62/lib/layout/breadcrumbs.js",
          "httpVersion": "HTTP/1.1",
          "cookies": [
            {
              "name": "JSESSIONID.b56f5847",
              "value": "u40b040iqoydzynuecedm8xg"
            }
          ],
          "headers": [
            {
              "name": "Referer",
              "value": "http://localhost:8080/login?from=%2F"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "Host",
              "value": "localhost:8080"
            },
            {
              "name": "Cookie",
              "value": "JSESSIONID.b56f5847=u40b040iqoydzynuecedm8xg"
            }
          ],
          "queryString": [],
          "headersSize": 331,
          "bodySize": -1
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "cookies": [],
          "headers": [
            {
              "name": "Date",
              "value": "Fri, 03 Mar 2017 05:46:49 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "3019"
            },
            {
              "name": "Server",
              "value": "Jetty(9.2.z-SNAPSHOT)"
            }
          ],
          "content": {
            "size": 13296,
            "compression": 0,
            "mimeType": "application/javascript",
            "text": "dmFyIGJyZWFkY3J1bWJzID0gKGZ1bmN0aW9uKCkgewogICAgdmFyIERvbSA9IFlBSE9PLnV0aWwuRG9tOwoKICAgIC8qKgogICAgICogVGhpcyBjb21wb25lbnQgYWN0dWFsbHkgcmVuZGVycyB0aGUgbWVudS4KICAgICAqCiAgICAgKiBAdHlwZSB7WUFIT08ud2lkZ2V0Lk1lbnV9CiAgICAgKi8KICAgIHZhciBtZW51OwoKICAgIC8qKgogICAgICogVXNlZCBmb3IgZmV0Y2hpbmcgdGhlIGNvbnRlbnQgb2YgdGhlIG1lbnUgYXN5bmNocm9ub3VzbHkgZnJvbSB0aGUgc2VydmVyCiAgICAgKi8KICAgIHZhciB4aHI7CgogICAgLyoqCiAgICAgKiBDdXJyZW50IG1vdXNlIGN1cnNvciBwb3NpdGlvbiBpbiB0aGUgcGFnZSBjb29yZGluYXRlLgogICAgICoKICAgICAqIEB0eXBlIHtZQUhPTy51dGlsLlBvaW50fQogICAgICovCiAgICB2YXIgbW91c2U7CgogICAgdmFyIGxvZ2dlciA9IGZ1bmN0aW9uKCkge307CiAgICAvLyBsb2dnZXIgPSBmdW5jdGlvbigpIHsgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpIH07ICAvLyB1bmNvbW1lbnQgdGhpcyBsaW5lIHRvIGVuYWJsZSBsb2dnaW5nCgogICAgZnVuY3Rpb24gbWFrZU1lbnVIdG1sKGljb24sZGlzcGxheU5hbWUpIHsKICAgICAgICByZXR1cm4gKGljb24hPW51bGwgPyAiPGltZyBzcmM9JyIraWNvbisiJyB3aWR0aD0yNCBoZWlnaHQ9MjQgc3R5bGU9J21hcmdpbjogMnB4OycgYWx0PScnPiAiIDogIiIpK2Rpc3BsYXlOYW1lOwogICAgfQoKICAgIEV2ZW50Lm9ic2VydmUod2luZG93LCJsb2FkIixmdW5jdGlvbigpewogICAgICBtZW51ID0gbmV3IFlBSE9PLndpZGdldC5NZW51KCJicmVhZGNydW1iLW1lbnUiLCB7cG9zaXRpb246ImR5bmFtaWMiLCBoaWRlZGVsYXk6MTAwMCwgekluZGV4OjIwMDF9KTsKICAgIH0pOwoKCiAgICBFdmVudC5vYnNlcnZlKGRvY3VtZW50LCJtb3VzZW1vdmUiLGZ1bmN0aW9uIChldil7CiAgICAgICAgbW91c2UgPSBuZXcgWUFIT08udXRpbC5Qb2ludChldi5wYWdlWCxldi5wYWdlWSk7CiAgICB9KTsKCiAgICBmdW5jdGlvbiBjb21iaW5lUGF0aChhLGIpIHsKICAgICAgICB2YXIgcXM7CiAgICAgICAgdmFyIGkgPSBhLmluZGV4T2YoJz8nKTsKICAgICAgICBpZiAoaT49MCkgIHsgcXM9YS5zdWJzdHJpbmcoaSk7IGE9YS5zdWJzdHJpbmcoMCxpKTsgfQogICAgICAgIGVsc2UgICAgICAgIHFzPSIiOwoKICAgICAgICBpPWEuaW5kZXhPZignIycpOwogICAgICAgIGlmIChpPj0wKSAgIGE9YS5zdWJzdHJpbmcoMCxpKTsKCiAgICAgICAgaWYgKGEuZW5kc1dpdGgoJy8nKSkgICAgcmV0dXJuIGErYitxczsKICAgICAgICByZXR1cm4gYSsnLycrYitxczsKICAgIH0KCiAgICBmdW5jdGlvbiBwb3N0UmVxdWVzdChhY3Rpb24sIGV2ZW50LCB1cmwpIHsKICAgICAgICBuZXcgQWpheC5SZXF1ZXN0KHVybCk7CiAgICAgICAgaWYgKGV2ZW50Lmxlbmd0aCA9PSAxICYmIGV2ZW50WzBdLnRhcmdldCAhPSBudWxsKSB7CiAgICAgICAgICAgIGhvdmVyTm90aWZpY2F0aW9uKCdEb25lLicsIGV2ZW50WzBdLnRhcmdldCk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHJlcXVpcmVDb25maXJtYXRpb24oYWN0aW9uLCBldmVudCwgY2ZnKSB7CiAgICAgICAgaWYgKGNvbmZpcm0oY2ZnLmRpc3BsYXlOYW1lICsgJzogYXJlIHlvdSBzdXJlPycpKSB7IC8vIFRPRE8gSTE4TgogICAgICAgICAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTsKICAgICAgICAgICAgZm9ybS5zZXRBdHRyaWJ1dGUoJ21ldGhvZCcsIGNmZy5wb3N0ID8gJ1BPU1QnIDogJ0dFVCcpOwogICAgICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZSgnYWN0aW9uJywgY2ZnLnVybCk7CiAgICAgICAgICAgIGlmIChjZmcucG9zdCkgewogICAgICAgICAgICAgICAgY3J1bWIuYXBwZW5kVG9Gb3JtKGZvcm0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7CiAgICAgICAgICAgIGZvcm0uc3VibWl0KCk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogV3JhcHMgYSBkZWxheWVkIGFjdGlvbiBhbmQgaXRzIGNhbmNlbGxhdGlvbi4KICAgICAqLwogICAgZnVuY3Rpb24gRGVsYXllZChhY3Rpb24sIHRpbWVvdXQpIHsKICAgICAgICB0aGlzLnNjaGVkdWxlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLmNhbmNlbCgpOwogICAgICAgICAgICB0aGlzLnRva2VuID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdGhpcy50b2tlbiA9IG51bGw7CiAgICAgICAgICAgICAgICBhY3Rpb24oKTsKICAgICAgICAgICAgfS5iaW5kKHRoaXMpLCB0aW1lb3V0KTsKICAgICAgICAgICAgbG9nZ2VyKCJTY2hlZHVsZWQgJXMiLHRoaXMudG9rZW4pCiAgICAgICAgfTsKICAgICAgICB0aGlzLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKHRoaXMudG9rZW4gIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbG9nZ2VyKCJDYW5jZWxsaW5nICVzIix0aGlzLnRva2VuKTsKICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy50b2tlbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy50b2tlbiA9IG51bGw7CiAgICAgICAgfTsKICAgIH0KCiAgICAvKioKICAgICAqICc+JyBjb250cm9sIHVzZWQgdG8gbGF1bmNoIGNvbnRleHQgbWVudS4KICAgICAqLwogICAgdmFyIG1lbnVTZWxlY3RvciA9IChmdW5jdGlvbigpIHsKICAgICAgICB2YXIgbWVudVNlbGVjdG9yID0gJChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSk7CiAgICAgICAgdmFyIG1lbnVTZWxlY3RvclRhcmdldDsKICAgICAgICB2YXIgcGFyZW50VG9VcGRhdGU7CgogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobWVudVNlbGVjdG9yKTsKICAgICAgICBtZW51U2VsZWN0b3IuaWQgPSAnbWVudVNlbGVjdG9yJzsKCiAgICAgICAgLyoqCiAgICAgICAgICogQHBhcmFtIHRhcmdldAogICAgICAgICAqICAgICAgRE9NIG5vZGUgdG8gYXR0YWNoIHRoaXMgc2VsZWN0b3IgdG8uCiAgICAgICAgICovCiAgICAgICAgbWVudVNlbGVjdG9yLnNob3cgPSBmdW5jdGlvbih0YXJnZXQpIHsKICAgICAgICAgICAgdmFyIHh5ID0gRG9tLmdldFhZKHRhcmdldCk7CgogICAgICAgICAgICBpZiAoJCh0YXJnZXQpLmhhc0NsYXNzTmFtZSgiaW5zaWRlIikpCiAgICAgICAgICAgICAgICB4eVswXSAtPSB0aGlzLm9mZnNldFdpZHRoOyAgLy8gc2hvdyB0aGUgbWVudSBzZWxlY3RvciBpbnNpZGUgdGhlIHRleHQKCiAgICAgICAgICAgIGlmICgkKHRhcmdldCkuaGFzQ2xhc3NOYW1lKCJpbnZlcnNlIikpIHsKICAgICAgICAgICAgICAgIG1lbnVTZWxlY3Rvci5hZGRDbGFzc05hbWUoImludmVyc2UiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIG1lbnVTZWxlY3Rvci5yZW1vdmVDbGFzc05hbWUoImludmVyc2UiKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgeHlbMF0gKz0gdGFyZ2V0Lm9mZnNldFdpZHRoOwogICAgICAgICAgICB4eVsxXSArPSB0YXJnZXQub2Zmc2V0SGVpZ2h0LzIgLSB0aGlzLm9mZnNldEhlaWdodC8yOwogICAgICAgICAgICBEb20uc2V0WFkodGhpcywgeHkpOwogICAgICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDsKCiAgICAgICAgICAgIHRoaXMuc3R5bGUudmlzaWJpbGl0eSA9ICJ2aXNpYmxlIjsKCiAgICAgICAgICAgIG1lbnVTZWxlY3RvclRhcmdldCA9IHRhcmdldDsKICAgICAgICAgICAgdmFyIHVwZGF0ZVBhcmVudFNlbGVjdG9yID0gbWVudVNlbGVjdG9yVGFyZ2V0LmdldEF0dHJpYnV0ZSgndXBkYXRlLXBhcmVudC1jbGFzcycpOwogICAgICAgICAgICBpZiAodXBkYXRlUGFyZW50U2VsZWN0b3IpIHsKICAgICAgICAgICAgICAgIHBhcmVudFRvVXBkYXRlID0gJChtZW51U2VsZWN0b3JUYXJnZXQpLnVwKHVwZGF0ZVBhcmVudFNlbGVjdG9yKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgbWVudVNlbGVjdG9yLmhpZGUgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdGhpcy5zdHlsZS52aXNpYmlsaXR5ID0gImhpZGRlbiI7CiAgICAgICAgICAgIG1lbnVTZWxlY3RvclRhcmdldCA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgcGFyZW50VG9VcGRhdGUgPSB1bmRlZmluZWQ7CiAgICAgICAgfTsKICAgICAgICBtZW51U2VsZWN0b3Iub2JzZXJ2ZSgiY2xpY2siLGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaW52b2tlQ29udGV4dE1lbnUodGhpcy50YXJnZXQpOwogICAgICAgIH0pOwoKICAgICAgICAvLyBpZiB0aGUgbW91c2UgbGVhdmVzIHRoZSBzZWxlY3RvciwgaGlkZSBpdAogICAgICAgIGNhbmNlbGxlciA9IG5ldyBEZWxheWVkKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgbG9nZ2VyKCJoaWRpbmcgJ3YnIik7CiAgICAgICAgICAgIG1lbnVTZWxlY3Rvci5oaWRlKCk7CiAgICAgICAgfS5iaW5kKG1lbnVTZWxlY3RvciksIDc1MCk7CgogICAgICAgIG1lbnVTZWxlY3Rvci5vYnNlcnZlKCJtb3VzZW92ZXIiLGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKG1lbnVTZWxlY3RvclRhcmdldCkgewogICAgICAgICAgICAgICAgaWYgKHBhcmVudFRvVXBkYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgcGFyZW50VG9VcGRhdGUuYWRkQ2xhc3NOYW1lKCdtb2RlbC1saW5rLWFjdGl2ZScpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbWVudVNlbGVjdG9yVGFyZ2V0LmFkZENsYXNzTmFtZSgnbW91c2VJc092ZXJNZW51U2VsZWN0b3InKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjYW5jZWxsZXIuY2FuY2VsKCk7CiAgICAgICAgfSk7CiAgICAgICAgbWVudVNlbGVjdG9yLm9ic2VydmUoIm1vdXNlb3V0IixmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGNhbmNlbGxlci5zY2hlZHVsZSgpOwogICAgICAgICAgICBpZiAobWVudVNlbGVjdG9yVGFyZ2V0KSB7CiAgICAgICAgICAgICAgICBpZiAocGFyZW50VG9VcGRhdGUpIHsKICAgICAgICAgICAgICAgICAgICBwYXJlbnRUb1VwZGF0ZS5yZW1vdmVDbGFzc05hbWUoJ21vZGVsLWxpbmstYWN0aXZlJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBtZW51U2VsZWN0b3JUYXJnZXQucmVtb3ZlQ2xhc3NOYW1lKCdtb3VzZUlzT3Zlck1lbnVTZWxlY3RvcicpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgbWVudVNlbGVjdG9yLmNhbmNlbGxlciA9IGNhbmNlbGxlcjsKCiAgICAgICAgcmV0dXJuIG1lbnVTZWxlY3RvcjsKICAgIH0pKCk7CgogICAgLyoqCiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgdXNlciBjbGlja3MgYSBtb3VzZSB0byBzaG93IGEgY29udGV4dCBtZW51LgogICAgICoKICAgICAqIElmIHRoZSBtb3VzZSBzdGF5cyB0aGVyZSBmb3IgYSB3aGlsZSwgYSBjb250ZXh0IG1lbnUgZ2V0cyBkaXNwbGF5ZWQuCiAgICAgKgogICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZQogICAgICogICAgICBhbmNob3IgdGFnCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGV4dE1lbnVVcmwKICAgICAqICAgICAgVGhlIFVSTCB0aGF0IHJlbmRlcnMgSlNPTiBmb3IgY29udGV4dCBtZW51LiBPcHRpb25hbC4KICAgICAqLwogICAgZnVuY3Rpb24gaW52b2tlQ29udGV4dE1lbnUoZSxjb250ZXh0TWVudVVybCkgewogICAgICAgIGNvbnRleHRNZW51VXJsID0gY29udGV4dE1lbnVVcmwgfHwgImNvbnRleHRNZW51IjsKCiAgICAgICAgZnVuY3Rpb24gc2hvd01lbnUoaXRlbXMpIHsKICAgICAgICAgICAgbWVudS5oaWRlKCk7CiAgICAgICAgICAgIHZhciBwb3MgPSBbZSwgInRsIiwgImJsIl07CiAgICAgICAgICAgIGlmICgkKGUpLmhhc0NsYXNzTmFtZSgidGwtdHIiKSkgIHBvcyA9IFtlLCJ0bCIsInRyIl07CiAgICAgICAgICAgIG1lbnUuY2ZnLnNldFByb3BlcnR5KCJjb250ZXh0IiwgcG9zKTsKICAgICAgICAgICAgbWVudS5jbGVhckNvbnRlbnQoKTsKICAgICAgICAgICAgbWVudS5hZGRJdGVtcyhpdGVtcyk7CiAgICAgICAgICAgIG1lbnUucmVuZGVyKCJicmVhZGNydW1iLW1lbnUtdGFyZ2V0Iik7CiAgICAgICAgICAgIG1lbnUuc2hvdygpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHhocikKICAgICAgICAgICAgeGhyLm9wdGlvbnMub25Db21wbGV0ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgfTsgICAvLyBpZ25vcmUgdGhlIGN1cnJlbnRseSBwZW5kaW5nIGNhbGwKCiAgICAgICAgaWYgKGUuaXRlbXMpIHsvLyB1c2Ugd2hhdCdzIGFscmVhZHkgbG9hZGVkCiAgICAgICAgICAgIHNob3dNZW51KGUuaXRlbXMoKSk7CiAgICAgICAgfSBlbHNlIHsvLyBmZXRjaCBtZW51IG9uIGRlbWFuZAogICAgICAgICAgICB4aHIgPSBuZXcgQWpheC5SZXF1ZXN0KGNvbWJpbmVQYXRoKGUuZ2V0QXR0cmlidXRlKCJocmVmIiksY29udGV4dE1lbnVVcmwpLCB7CiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOmZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSB4LnJlc3BvbnNlVGV4dC5ldmFsSlNPTigpLml0ZW1zOwogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGZpbGxNZW51SXRlbShlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGUudGV4dCA9IG1ha2VNZW51SHRtbChlLmljb24sIGUuZGlzcGxheU5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5zdWJNZW51IT1udWxsKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdWJNZW51ID0ge2lkOiJzdWJtZW51IisoaW90YSsrKSwgaXRlbWRhdGE6ZS5zdWJNZW51Lml0ZW1zLmVhY2goZmlsbE1lbnVJdGVtKX07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnJlcXVpcmVzQ29uZmlybWF0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLm9uY2xpY2sgPSB7Zm46IHJlcXVpcmVDb25maXJtYXRpb24sIG9iajoge3VybDogZS51cmwsIGRpc3BsYXlOYW1lOiBlLmRpc3BsYXlOYW1lLCBwb3N0OiBlLnBvc3R9fTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBlLnVybDsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLnBvc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUub25jbGljayA9IHtmbjogcG9zdFJlcXVlc3QsIG9iajogZS51cmx9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGUudXJsOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGEuZWFjaChmaWxsTWVudUl0ZW0pOwoKICAgICAgICAgICAgICAgICAgICBlLml0ZW1zID0gZnVuY3Rpb24oKSB7IHJldHVybiBhIH07CiAgICAgICAgICAgICAgICAgICAgc2hvd01lbnUoYSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKLy8gICAgQmVoYXZpb3VyLnNwZWNpZnkoIiNicmVhZGNydW1icyBMSSIsICdicmVhZGNydW1icycsIDAsIGZ1bmN0aW9uIChlKSB7Ci8vICAgICAgICAvLyB3aGVuIHRoZSBtb3VzZSBob3ZlcnMgb3ZlciBMSSwgYWN0aXZhdGUgdGhlIG1lbnUKLy8gICAgICAgIGlmIChlLmhhc0NsYXNzTmFtZSgibm8tY29udGV4dC1tZW51IikpICByZXR1cm47Ci8vICAgICAgICBlLm9ic2VydmUoIm1vdXNlb3ZlciIsIGZ1bmN0aW9uICgpIHsgaGFuZGxlSG92ZXIoZS5maXJzdENoaWxkKSB9KTsKLy8gICAgfSk7CgogICAgQmVoYXZpb3VyLnNwZWNpZnkoIkEubW9kZWwtbGluayIsICdicmVhZGNydW1icycsIDAsIGZ1bmN0aW9uIChhKSB7CiAgICAgICAgLy8gZGl0dG8gZm9yIG1vZGVsLWxpbmssIGJ1dCBnaXZlIGl0IGEgbGFyZ2VyIGRlbGF5IHRvIGF2b2lkIHVuaW50ZW5kZWQgbWVudXMgdG8gYmUgZGlzcGxheWVkCiAgICAgICAgLy8gJChhKS5vYnNlcnZlKCJtb3VzZW92ZXIiLCBmdW5jdGlvbiAoKSB7IGhhbmRsZUhvdmVyKGEsNTAwKTsgfSk7CgogICAgICAgIGEub2JzZXJ2ZSgibW91c2VvdmVyIixmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGxvZ2dlcigibW91c2UgZW50ZXJlZCBtb2RlbC1saW5rICVzIix0aGlzLmhyZWYpOwogICAgICAgICAgICBtZW51U2VsZWN0b3IuY2FuY2VsbGVyLmNhbmNlbCgpOwogICAgICAgICAgICBtZW51U2VsZWN0b3Iuc2hvdyh0aGlzKTsKICAgICAgICB9KTsKICAgICAgICBhLm9ic2VydmUoIm1vdXNlb3V0IixmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGxvZ2dlcigibW91c2UgbGVmdCBtb2RlbC1saW5rICVzIix0aGlzLmhyZWYpOwogICAgICAgICAgICBtZW51U2VsZWN0b3IuY2FuY2VsbGVyLnNjaGVkdWxlKCk7CiAgICAgICAgfSk7CiAgICB9KTsKCiAgICBCZWhhdmlvdXIuc3BlY2lmeSgiI2JyZWFkY3J1bWJzIExJLmNoaWxkcmVuIiwgJ2JyZWFkY3J1bWJzJywgMCwgZnVuY3Rpb24gKGEpIHsKICAgICAgICBhLm9ic2VydmUoIm1vdXNlb3ZlciIsZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIG1lbnVTZWxlY3Rvci5oaWRlKCk7CiAgICAgICAgfSk7CiAgICAgICAgYS5vYnNlcnZlKCJjbGljayIsZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGludm9rZUNvbnRleHRNZW51KHRoaXMsImNoaWxkcmVuQ29udGV4dE1lbnUiKTsKICAgICAgICB9KQogICAgfSk7CgogICAgQmVoYXZpb3VyLnNwZWNpZnkoIiNicmVhZGNydW1icyBBIiwgJ2JyZWFkY3J1bWJzJywgMCwgZnVuY3Rpb24gKGEpIHsKICAgICAgICAkKGEpLmFkZENsYXNzTmFtZSgnYnJlYWRjcnVtYkJhckFuY2hvcicpOwogICAgfSk7CgogICAgLyoqCiAgICAgKiBAbmFtZXNwYWNlIGJyZWFkY3J1bWJzCiAgICAgKiBAY2xhc3MgQ29udGV4dE1lbnUKICAgICAqIEBjb25zdHJ1Y3RvcgogICAgICovCiAgICB2YXIgQ29udGV4dE1lbnUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5pdGVtcyA9IFtdOwogICAgfTsKICAgIENvbnRleHRNZW51LnByb3RvdHlwZSA9IHsKICAgICAgICAvKioKICAgICAgICAgKiBDcmVhdGVzIGEgbWVudSBpdGVtLgogICAgICAgICAqCiAgICAgICAgICogQHJldHVybiB7YnJlYWRjcnVtYnMuTWVudUl0ZW19CiAgICAgICAgICovCiAgICAgICAgImFkZCIgOiBmdW5jdGlvbiAodXJsLGljb24sZGlzcGxheU5hbWUpIHsKICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHsgdXJsOnVybCwgdGV4dDptYWtlTWVudUh0bWwoaWNvbixkaXNwbGF5TmFtZSkgfSk7CiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgICAvKioKICAgICAgICAgKiBBY3RpdmF0ZXMgdGhlIGNvbnRleHQgbWVudSBmb3IgdGhlIHNwZWNpZmllZCBicmVhZGNydW1iIGVsZW1lbnQuCiAgICAgICAgICoKICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudH0gbGkKICAgICAgICAgKiAgICAgIFRoZSBMSSB0YWcgdG8gd2hpY2ggeW91IGFzc29jaWF0ZSB0aGUgbWVudSAob3IgaXRzIElEKQogICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb258YnJlYWRjcnVtYnMuQ29udGV4dE1lbnV9IG1lbnUKICAgICAgICAgKiAgICAgIFBhc3MgaW4gdGhlIGNvbmZpZ3VyZWQgbWVudSBvYmplY3QuIElmIGEgZnVuY3Rpb24gaXMgZ2l2ZW4sIHRoaXMgZnVuY3Rpb24KICAgICAgICAgKiAgICAgIGlzIGNhbGxlZCBlYWNoIHRpbWUgYSBtZW51IG5lZWRzIHRvIGJlIGRpc3BsYXllZC4gVGhpcyBpcyBjb252ZW5pZW50IGZvciBkeW5hbWljYWxseQogICAgICAgICAqICAgICAgcG9wdWxhdGluZyB0aGUgY29udGVudC4KICAgICAgICAgKi8KICAgICAgICAiYXR0YWNoTWVudSIgOiBmdW5jdGlvbiAobGksbWVudSkgewogICAgICAgICAgICAkKGxpKS5maXJzdENoaWxkLml0ZW1zID0gICh0eXBlb2YgbWVudT09ImZ1bmN0aW9uIikgPyBtZW51IDogZnVuY3Rpb24oKSB7IHJldHVybiBtZW51Lml0ZW1zIH07CiAgICAgICAgfSwKCiAgICAgICAgIkNvbnRleHRNZW51IiA6IENvbnRleHRNZW51CiAgICB9Owp9KSgpOwo=",
            "encoding": "base64"
          },
          "redirectURL": "",
          "headersSize": 226,
          "bodySize": 13296
        },
        "cache": {},
        "timings": {
          "send": 0,
          "wait": 3,
          "receive": 0
        },
        "serverIpAddress": "127.0.0.1",
        "connection": "127.0.0.1:27305"
      }
    ],
    "actions": [
      {
        "iterationNum": 1,
        "steps": [
          {
            "stepId": "T5",
            "stepName": "web_url",
            "stepStartTime": "2017-03-02T23:46:49.797-06:00",
            "rawStartTime": 1488520009797,
            "url": "http://localhost:8080/login?from=/",
            "stepEndTime": "2017-03-02T23:46:50.109-06:00",
            "rawEndTime": 1488520010109
          }
        ],
        "transactions": [
          {
            "transactionName": "OR",
            "transactionStartTime": "2017-03-02T23:46:49.788-06:00",
            "rawStartTime": 1488520009788,
            "transactionEndTime": "2017-03-02T23:46:50.130-06:00",
            "rawEndTime": 1488520010130
          }
        ]
      }
    ]
  }
}